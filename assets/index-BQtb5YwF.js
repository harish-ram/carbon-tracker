var P$=Object.defineProperty;var I$=(t,e,r)=>e in t?P$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var kg=(t,e,r)=>I$(t,typeof e!="symbol"?e+"":e,r);function O$(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Me(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wO={exports:{}},Vp={},xO={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=Symbol.for("react.element"),C$=Symbol.for("react.portal"),k$=Symbol.for("react.fragment"),N$=Symbol.for("react.strict_mode"),R$=Symbol.for("react.profiler"),j$=Symbol.for("react.provider"),D$=Symbol.for("react.context"),M$=Symbol.for("react.forward_ref"),$$=Symbol.for("react.suspense"),L$=Symbol.for("react.memo"),V$=Symbol.for("react.lazy"),jE=Symbol.iterator;function F$(t){return t===null||typeof t!="object"?null:(t=jE&&t[jE]||t["@@iterator"],typeof t=="function"?t:null)}var EO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SO=Object.assign,TO={};function ul(t,e,r){this.props=t,this.context=e,this.refs=TO,this.updater=r||EO}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AO(){}AO.prototype=ul.prototype;function zb(t,e,r){this.props=t,this.context=e,this.refs=TO,this.updater=r||EO}var Wb=zb.prototype=new AO;Wb.constructor=zb;SO(Wb,ul.prototype);Wb.isPureReactComponent=!0;var DE=Array.isArray,PO=Object.prototype.hasOwnProperty,Hb={current:null},IO={key:!0,ref:!0,__self:!0,__source:!0};function OO(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)PO.call(e,n)&&!IO.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ef,type:t,key:a,ref:o,props:i,_owner:Hb.current}}function U$(t,e){return{$$typeof:ef,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qb(t){return typeof t=="object"&&t!==null&&t.$$typeof===ef}function B$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ME=/\/+/g;function Ng(t,e){return typeof t=="object"&&t!==null&&t.key!=null?B$(""+t.key):e.toString(36)}function Ph(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ef:case C$:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ng(o,0):n,DE(i)?(r="",t!=null&&(r=t.replace(ME,"$&/")+"/"),Ph(i,e,r,"",function(u){return u})):i!=null&&(qb(i)&&(i=U$(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ME,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",DE(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+Ng(a,s);o+=Ph(a,e,r,l,i)}else if(l=F$(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+Ng(a,s++),o+=Ph(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zf(t,e,r){if(t==null)return t;var n=[],i=0;return Ph(t,n,"","",function(a){return e.call(r,a,i++)}),n}function z$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},Ih={transition:null},W$={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:Hb};function CO(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:zf,forEach:function(t,e,r){zf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zf(t,function(){e++}),e},toArray:function(t){return zf(t,function(e){return e})||[]},only:function(t){if(!qb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=ul;be.Fragment=k$;be.Profiler=R$;be.PureComponent=zb;be.StrictMode=N$;be.Suspense=$$;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$;be.act=CO;be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=SO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Hb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)PO.call(e,l)&&!IO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:ef,type:t.type,key:i,ref:a,props:n,_owner:o}};be.createContext=function(t){return t={$$typeof:D$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:j$,_context:t},t.Consumer=t};be.createElement=OO;be.createFactory=function(t){var e=OO.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:M$,render:t}};be.isValidElement=qb;be.lazy=function(t){return{$$typeof:V$,_payload:{_status:-1,_result:t},_init:z$}};be.memo=function(t,e){return{$$typeof:L$,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Ih.transition;Ih.transition={};try{t()}finally{Ih.transition=e}};be.unstable_act=CO;be.useCallback=function(t,e){return sr.current.useCallback(t,e)};be.useContext=function(t){return sr.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};be.useEffect=function(t,e){return sr.current.useEffect(t,e)};be.useId=function(){return sr.current.useId()};be.useImperativeHandle=function(t,e,r){return sr.current.useImperativeHandle(t,e,r)};be.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return sr.current.useMemo(t,e)};be.useReducer=function(t,e,r){return sr.current.useReducer(t,e,r)};be.useRef=function(t){return sr.current.useRef(t)};be.useState=function(t){return sr.current.useState(t)};be.useSyncExternalStore=function(t,e,r){return sr.current.useSyncExternalStore(t,e,r)};be.useTransition=function(){return sr.current.useTransition()};be.version="18.3.1";xO.exports=be;var $=xO.exports;const D=Me($),H$=O$({__proto__:null,default:D},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q$=$,G$=Symbol.for("react.element"),K$=Symbol.for("react.fragment"),X$=Object.prototype.hasOwnProperty,Y$=q$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q$={key:!0,ref:!0,__self:!0,__source:!0};function kO(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)X$.call(e,n)&&!Q$.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:G$,type:t,key:a,ref:o,props:i,_owner:Y$.current}}Vp.Fragment=K$;Vp.jsx=kO;Vp.jsxs=kO;wO.exports=Vp;var m=wO.exports,Gy={},NO={exports:{}},Cr={},RO={exports:{}},jO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var X=L.length;L.push(z);e:for(;0<X;){var ee=X-1>>>1,Q=L[ee];if(0<i(Q,z))L[ee]=z,L[X]=Q,X=ee;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var z=L[0],X=L.pop();if(X!==z){L[0]=X;e:for(var ee=0,Q=L.length,oe=Q>>>1;ee<oe;){var ye=2*(ee+1)-1,Re=L[ye],ze=ye+1,Ht=L[ze];if(0>i(Re,X))ze<Q&&0>i(Ht,Re)?(L[ee]=Ht,L[ze]=X,ee=ze):(L[ee]=Re,L[ye]=X,ee=ye);else if(ze<Q&&0>i(Ht,X))L[ee]=Ht,L[ze]=X,ee=ze;else break e}}return z}function i(L,z){var X=L.sortIndex-z.sortIndex;return X!==0?X:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,_=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=L)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(u)}}function O(L){if(g=!1,x(L),!_)if(r(l)!==null)_=!0,H(T);else{var z=r(u);z!==null&&G(O,z.startTime-L)}}function T(L,z){_=!1,g&&(g=!1,w(S),S=-1),p=!0;var X=d;try{for(x(z),f=r(l);f!==null&&(!(f.expirationTime>z)||L&&!C());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,d=f.priorityLevel;var Q=ee(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(l)&&n(l),x(z)}else n(l);f=r(l)}if(f!==null)var oe=!0;else{var ye=r(u);ye!==null&&G(O,ye.startTime-z),oe=!1}return oe}finally{f=null,d=X,p=!1}}var I=!1,E=null,S=-1,P=5,k=-1;function C(){return!(t.unstable_now()-k<P)}function j(){if(E!==null){var L=t.unstable_now();k=L;var z=!0;try{z=E(!0,L)}finally{z?N():(I=!1,E=null)}}else I=!1}var N;if(typeof v=="function")N=function(){v(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=j,N=function(){U.postMessage(null)}}else N=function(){y(j,0)};function H(L){E=L,I||(I=!0,N())}function G(L,z){S=y(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,H(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var X=d;d=z;try{return L()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=d;d=L;try{return z()}finally{d=X}},t.unstable_scheduleCallback=function(L,z,X){var ee=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,L={id:c++,callback:z,priorityLevel:L,startTime:X,expirationTime:Q,sortIndex:-1},X>ee?(L.sortIndex=X,e(u,L),r(l)===null&&L===r(u)&&(g?(w(S),S=-1):g=!0,G(O,X-ee))):(L.sortIndex=Q,e(l,L),_||p||(_=!0,H(T))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var z=d;return function(){var X=d;d=z;try{return L.apply(this,arguments)}finally{d=X}}}})(jO);RO.exports=jO;var J$=RO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z$=$,Ir=J$;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DO=new Set,Wu={};function xo(t,e){Ts(t,e),Ts(t+"Capture",e)}function Ts(t,e){for(Wu[t]=e,t=0;t<e.length;t++)DO.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ky=Object.prototype.hasOwnProperty,eL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$E={},LE={};function tL(t){return Ky.call(LE,t)?!0:Ky.call($E,t)?!1:eL.test(t)?LE[t]=!0:($E[t]=!0,!1)}function rL(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nL(t,e,r,n){if(e===null||typeof e>"u"||rL(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new lr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new lr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new lr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new lr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new lr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new lr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new lr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new lr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new lr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gb=/[\-:]([a-z])/g;function Kb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gb,Kb);zt[e]=new lr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gb,Kb);zt[e]=new lr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gb,Kb);zt[e]=new lr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new lr(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new lr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xb(t,e,r,n){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nL(e,r,i,n)&&(r=null),n||i===null?tL(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var mi=Z$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wf=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Yb=Symbol.for("react.strict_mode"),Xy=Symbol.for("react.profiler"),MO=Symbol.for("react.provider"),$O=Symbol.for("react.context"),Qb=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Qy=Symbol.for("react.suspense_list"),Jb=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),LO=Symbol.for("react.offscreen"),VE=Symbol.iterator;function Xl(t){return t===null||typeof t!="object"?null:(t=VE&&t[VE]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Rg;function du(t){if(Rg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rg=e&&e[1]||""}return`
`+Rg+t}var jg=!1;function Dg(t,e){if(!t||jg)return"";jg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{jg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?du(t):""}function iL(t){switch(t.tag){case 5:return du(t.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return t=Dg(t.type,!1),t;case 11:return t=Dg(t.type.render,!1),t;case 1:return t=Dg(t.type,!0),t;default:return""}}function Jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Ko:return"Portal";case Xy:return"Profiler";case Yb:return"StrictMode";case Yy:return"Suspense";case Qy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $O:return(t.displayName||"Context")+".Consumer";case MO:return(t._context.displayName||"Context")+".Provider";case Qb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jb:return e=t.displayName||null,e!==null?e:Jy(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return Jy(t(e))}catch{}}return null}function aL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jy(e);case 8:return e===Yb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oL(t){var e=VO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hf(t){t._valueTracker||(t._valueTracker=oL(t))}function FO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=VO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zy(t,e){var r=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function FE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=sa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UO(t,e){e=e.checked,e!=null&&Xb(t,"checked",e,!1)}function ev(t,e){UO(t,e);var r=sa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tv(t,e.type,r):e.hasOwnProperty("defaultValue")&&tv(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function tv(t,e,r){(e!=="number"||Xh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var pu=Array.isArray;function cs(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+sa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function BE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(pu(r)){if(1<r.length)throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:sa(r)}}function BO(t,e){var r=sa(e.value),n=sa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qf,WO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qf=qf||document.createElement("div"),qf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sL=["Webkit","ms","Moz","O"];Object.keys(Su).forEach(function(t){sL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Su[e]=Su[t]})});function HO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Su.hasOwnProperty(t)&&Su[t]?(""+e).trim():e+"px"}function qO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=HO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var lL=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iv(t,e){if(e){if(lL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function av(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function Zb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sv=null,fs=null,hs=null;function WE(t){if(t=nf(t)){if(typeof sv!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Wp(e),sv(t.stateNode,t.type,e))}}function GO(t){fs?hs?hs.push(t):hs=[t]:fs=t}function KO(){if(fs){var t=fs,e=hs;if(hs=fs=null,WE(t),e)for(t=0;t<e.length;t++)WE(e[t])}}function XO(t,e){return t(e)}function YO(){}var Mg=!1;function QO(t,e,r){if(Mg)return t(e,r);Mg=!0;try{return XO(t,e,r)}finally{Mg=!1,(fs!==null||hs!==null)&&(YO(),KO())}}function qu(t,e){var r=t.stateNode;if(r===null)return null;var n=Wp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var lv=!1;if(ni)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){lv=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{lv=!1}function uL(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Tu=!1,Yh=null,Qh=!1,uv=null,cL={onError:function(t){Tu=!0,Yh=t}};function fL(t,e,r,n,i,a,o,s,l){Tu=!1,Yh=null,uL.apply(cL,arguments)}function hL(t,e,r,n,i,a,o,s,l){if(fL.apply(this,arguments),Tu){if(Tu){var u=Yh;Tu=!1,Yh=null}else throw Error(Y(198));Qh||(Qh=!0,uv=u)}}function Eo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function JO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HE(t){if(Eo(t)!==t)throw Error(Y(188))}function dL(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return HE(i),t;if(a===n)return HE(i),e;a=a.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function ZO(t){return t=dL(t),t!==null?eC(t):null}function eC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eC(t);if(e!==null)return e;t=t.sibling}return null}var tC=Ir.unstable_scheduleCallback,qE=Ir.unstable_cancelCallback,pL=Ir.unstable_shouldYield,mL=Ir.unstable_requestPaint,ut=Ir.unstable_now,gL=Ir.unstable_getCurrentPriorityLevel,e_=Ir.unstable_ImmediatePriority,rC=Ir.unstable_UserBlockingPriority,Jh=Ir.unstable_NormalPriority,yL=Ir.unstable_LowPriority,nC=Ir.unstable_IdlePriority,Fp=null,Pn=null;function vL(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Fp,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:wL,bL=Math.log,_L=Math.LN2;function wL(t){return t>>>=0,t===0?32:31-(bL(t)/_L|0)|0}var Gf=64,Kf=4194304;function mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=mu(s):(a&=o,a!==0&&(n=mu(a)))}else o=r&~i,o!==0?n=mu(o):a!==0&&(n=mu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-hn(e),i=1<<r,n|=t[r],e&=~i;return n}function xL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EL(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-hn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=xL(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function cv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iC(){var t=Gf;return Gf<<=1,!(Gf&4194240)&&(Gf=64),t}function $g(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=r}function SL(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-hn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function t_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-hn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ke=0;function aC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oC,r_,sC,lC,uC,fv=!1,Xf=[],Hi=null,qi=null,Gi=null,Gu=new Map,Ku=new Map,Ri=[],TL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GE(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(e.pointerId)}}function Ql(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=nf(e),e!==null&&r_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AL(t,e,r,n,i){switch(e){case"focusin":return Hi=Ql(Hi,t,e,r,n,i),!0;case"dragenter":return qi=Ql(qi,t,e,r,n,i),!0;case"mouseover":return Gi=Ql(Gi,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Gu.set(a,Ql(Gu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ku.set(a,Ql(Ku.get(a)||null,t,e,r,n,i)),!0}return!1}function cC(t){var e=za(t.target);if(e!==null){var r=Eo(e);if(r!==null){if(e=r.tag,e===13){if(e=JO(r),e!==null){t.blockedOn=e,uC(t.priority,function(){sC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ov=n,r.target.dispatchEvent(n),ov=null}else return e=nf(r),e!==null&&r_(e),t.blockedOn=r,!1;e.shift()}return!0}function KE(t,e,r){Oh(t)&&r.delete(e)}function PL(){fv=!1,Hi!==null&&Oh(Hi)&&(Hi=null),qi!==null&&Oh(qi)&&(qi=null),Gi!==null&&Oh(Gi)&&(Gi=null),Gu.forEach(KE),Ku.forEach(KE)}function Jl(t,e){t.blockedOn===e&&(t.blockedOn=null,fv||(fv=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,PL)))}function Xu(t){function e(i){return Jl(i,t)}if(0<Xf.length){Jl(Xf[0],t);for(var r=1;r<Xf.length;r++){var n=Xf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Hi!==null&&Jl(Hi,t),qi!==null&&Jl(qi,t),Gi!==null&&Jl(Gi,t),Gu.forEach(e),Ku.forEach(e),r=0;r<Ri.length;r++)n=Ri[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ri.length&&(r=Ri[0],r.blockedOn===null);)cC(r),r.blockedOn===null&&Ri.shift()}var ds=mi.ReactCurrentBatchConfig,ed=!0;function IL(t,e,r,n){var i=ke,a=ds.transition;ds.transition=null;try{ke=1,n_(t,e,r,n)}finally{ke=i,ds.transition=a}}function OL(t,e,r,n){var i=ke,a=ds.transition;ds.transition=null;try{ke=4,n_(t,e,r,n)}finally{ke=i,ds.transition=a}}function n_(t,e,r,n){if(ed){var i=hv(t,e,r,n);if(i===null)Gg(t,e,n,td,r),GE(t,n);else if(AL(i,t,e,r,n))n.stopPropagation();else if(GE(t,n),e&4&&-1<TL.indexOf(t)){for(;i!==null;){var a=nf(i);if(a!==null&&oC(a),a=hv(t,e,r,n),a===null&&Gg(t,e,n,td,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Gg(t,e,n,null,r)}}var td=null;function hv(t,e,r,n){if(td=null,t=Zb(n),t=za(t),t!==null)if(e=Eo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=JO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return td=t,null}function fC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gL()){case e_:return 1;case rC:return 4;case Jh:case yL:return 16;case nC:return 536870912;default:return 16}default:return 16}}var Fi=null,i_=null,Ch=null;function hC(){if(Ch)return Ch;var t,e=i_,r=e.length,n,i="value"in Fi?Fi.value:Fi.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Ch=i.slice(t,1<n?1-n:void 0)}function kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yf(){return!0}function XE(){return!1}function kr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yf:XE,this.isPropagationStopped=XE,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yf)},persist:function(){},isPersistent:Yf}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a_=kr(cl),rf=rt({},cl,{view:0,detail:0}),CL=kr(rf),Lg,Vg,Zl,Up=rt({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zl&&(Zl&&t.type==="mousemove"?(Lg=t.screenX-Zl.screenX,Vg=t.screenY-Zl.screenY):Vg=Lg=0,Zl=t),Lg)},movementY:function(t){return"movementY"in t?t.movementY:Vg}}),YE=kr(Up),kL=rt({},Up,{dataTransfer:0}),NL=kr(kL),RL=rt({},rf,{relatedTarget:0}),Fg=kr(RL),jL=rt({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),DL=kr(jL),ML=rt({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$L=kr(ML),LL=rt({},cl,{data:0}),QE=kr(LL),VL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UL[t])?!!e[t]:!1}function o_(){return BL}var zL=rt({},rf,{key:function(t){if(t.key){var e=VL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o_,charCode:function(t){return t.type==="keypress"?kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WL=kr(zL),HL=rt({},Up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JE=kr(HL),qL=rt({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o_}),GL=kr(qL),KL=rt({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),XL=kr(KL),YL=rt({},Up,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QL=kr(YL),JL=[9,13,27,32],s_=ni&&"CompositionEvent"in window,Au=null;ni&&"documentMode"in document&&(Au=document.documentMode);var ZL=ni&&"TextEvent"in window&&!Au,dC=ni&&(!s_||Au&&8<Au&&11>=Au),ZE=" ",e1=!1;function pC(t,e){switch(t){case"keyup":return JL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yo=!1;function e4(t,e){switch(t){case"compositionend":return mC(e);case"keypress":return e.which!==32?null:(e1=!0,ZE);case"textInput":return t=e.data,t===ZE&&e1?null:t;default:return null}}function t4(t,e){if(Yo)return t==="compositionend"||!s_&&pC(t,e)?(t=hC(),Ch=i_=Fi=null,Yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dC&&e.locale!=="ko"?null:e.data;default:return null}}var r4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r4[t.type]:e==="textarea"}function gC(t,e,r,n){GO(n),e=rd(e,"onChange"),0<e.length&&(r=new a_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pu=null,Yu=null;function n4(t){PC(t,0)}function Bp(t){var e=Zo(t);if(FO(e))return t}function i4(t,e){if(t==="change")return e}var yC=!1;if(ni){var Ug;if(ni){var Bg="oninput"in document;if(!Bg){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),Bg=typeof r1.oninput=="function"}Ug=Bg}else Ug=!1;yC=Ug&&(!document.documentMode||9<document.documentMode)}function n1(){Pu&&(Pu.detachEvent("onpropertychange",vC),Yu=Pu=null)}function vC(t){if(t.propertyName==="value"&&Bp(Yu)){var e=[];gC(e,Yu,t,Zb(t)),QO(n4,e)}}function a4(t,e,r){t==="focusin"?(n1(),Pu=e,Yu=r,Pu.attachEvent("onpropertychange",vC)):t==="focusout"&&n1()}function o4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bp(Yu)}function s4(t,e){if(t==="click")return Bp(e)}function l4(t,e){if(t==="input"||t==="change")return Bp(e)}function u4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pn=typeof Object.is=="function"?Object.is:u4;function Qu(t,e){if(pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ky.call(e,i)||!pn(t[i],e[i]))return!1}return!0}function i1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a1(t,e){var r=i1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=i1(r)}}function bC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _C(){for(var t=window,e=Xh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Xh(t.document)}return e}function l_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c4(t){var e=_C(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&bC(r.ownerDocument.documentElement,r)){if(n!==null&&l_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=a1(r,a);var o=a1(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f4=ni&&"documentMode"in document&&11>=document.documentMode,Qo=null,dv=null,Iu=null,pv=!1;function o1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pv||Qo==null||Qo!==Xh(n)||(n=Qo,"selectionStart"in n&&l_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Iu&&Qu(Iu,n)||(Iu=n,n=rd(dv,"onSelect"),0<n.length&&(e=new a_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Qo)))}function Qf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Jo={animationend:Qf("Animation","AnimationEnd"),animationiteration:Qf("Animation","AnimationIteration"),animationstart:Qf("Animation","AnimationStart"),transitionend:Qf("Transition","TransitionEnd")},zg={},wC={};ni&&(wC=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function zp(t){if(zg[t])return zg[t];if(!Jo[t])return t;var e=Jo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in wC)return zg[t]=e[r];return t}var xC=zp("animationend"),EC=zp("animationiteration"),SC=zp("animationstart"),TC=zp("transitionend"),AC=new Map,s1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(t,e){AC.set(t,e),xo(e,[t])}for(var Wg=0;Wg<s1.length;Wg++){var Hg=s1[Wg],h4=Hg.toLowerCase(),d4=Hg[0].toUpperCase()+Hg.slice(1);ma(h4,"on"+d4)}ma(xC,"onAnimationEnd");ma(EC,"onAnimationIteration");ma(SC,"onAnimationStart");ma("dblclick","onDoubleClick");ma("focusin","onFocus");ma("focusout","onBlur");ma(TC,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p4=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function l1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,hL(n,e,void 0,t),t.currentTarget=null}function PC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;l1(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;l1(i,s,u),a=l}}}if(Qh)throw t=uv,Qh=!1,uv=null,t}function qe(t,e){var r=e[bv];r===void 0&&(r=e[bv]=new Set);var n=t+"__bubble";r.has(n)||(IC(e,t,2,!1),r.add(n))}function qg(t,e,r){var n=0;e&&(n|=4),IC(r,t,n,e)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function Ju(t){if(!t[Jf]){t[Jf]=!0,DO.forEach(function(r){r!=="selectionchange"&&(p4.has(r)||qg(r,!1,t),qg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jf]||(e[Jf]=!0,qg("selectionchange",!1,e))}}function IC(t,e,r,n){switch(fC(e)){case 1:var i=IL;break;case 4:i=OL;break;default:i=n_}r=i.bind(null,e,r,t),i=void 0,!lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Gg(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=za(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}QO(function(){var u=a,c=Zb(r),f=[];e:{var d=AC.get(t);if(d!==void 0){var p=a_,_=t;switch(t){case"keypress":if(kh(r)===0)break e;case"keydown":case"keyup":p=WL;break;case"focusin":_="focus",p=Fg;break;case"focusout":_="blur",p=Fg;break;case"beforeblur":case"afterblur":p=Fg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=YE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=GL;break;case xC:case EC:case SC:p=DL;break;case TC:p=XL;break;case"scroll":p=CL;break;case"wheel":p=QL;break;case"copy":case"cut":case"paste":p=$L;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=JE}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,x;v!==null;){x=v;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,w!==null&&(O=qu(v,w),O!=null&&g.push(Zu(v,O,x)))),y)break;v=v.return}0<g.length&&(d=new p(d,_,null,r,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==ov&&(_=r.relatedTarget||r.fromElement)&&(za(_)||_[ii]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(_=r.relatedTarget||r.toElement,p=u,_=_?za(_):null,_!==null&&(y=Eo(_),_!==y||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(g=YE,O="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=JE,O="onPointerLeave",w="onPointerEnter",v="pointer"),y=p==null?d:Zo(p),x=_==null?d:Zo(_),d=new g(O,v+"leave",p,r,c),d.target=y,d.relatedTarget=x,O=null,za(c)===u&&(g=new g(w,v+"enter",_,r,c),g.target=x,g.relatedTarget=y,O=g),y=O,p&&_)t:{for(g=p,w=_,v=0,x=g;x;x=Vo(x))v++;for(x=0,O=w;O;O=Vo(O))x++;for(;0<v-x;)g=Vo(g),v--;for(;0<x-v;)w=Vo(w),x--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Vo(g),w=Vo(w)}g=null}else g=null;p!==null&&u1(f,d,p,g,!1),_!==null&&y!==null&&u1(f,y,_,g,!0)}}e:{if(d=u?Zo(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=i4;else if(t1(d))if(yC)T=l4;else{T=o4;var I=a4}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=s4);if(T&&(T=T(t,u))){gC(f,T,r,c);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&tv(d,"number",d.value)}switch(I=u?Zo(u):window,t){case"focusin":(t1(I)||I.contentEditable==="true")&&(Qo=I,dv=u,Iu=null);break;case"focusout":Iu=dv=Qo=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,o1(f,r,c);break;case"selectionchange":if(f4)break;case"keydown":case"keyup":o1(f,r,c)}var E;if(s_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Yo?pC(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(dC&&r.locale!=="ko"&&(Yo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Yo&&(E=hC()):(Fi=c,i_="value"in Fi?Fi.value:Fi.textContent,Yo=!0)),I=rd(u,S),0<I.length&&(S=new QE(S,t,null,r,c),f.push({event:S,listeners:I}),E?S.data=E:(E=mC(r),E!==null&&(S.data=E)))),(E=ZL?e4(t,r):t4(t,r))&&(u=rd(u,"onBeforeInput"),0<u.length&&(c=new QE("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=E))}PC(f,e)})}function Zu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function rd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qu(t,r),a!=null&&n.unshift(Zu(t,a,i)),a=qu(t,e),a!=null&&n.push(Zu(t,a,i))),t=t.return}return n}function Vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u1(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=qu(r,a),l!=null&&o.unshift(Zu(r,l,s))):i||(l=qu(r,a),l!=null&&o.push(Zu(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var m4=/\r\n?/g,g4=/\u0000|\uFFFD/g;function c1(t){return(typeof t=="string"?t:""+t).replace(m4,`
`).replace(g4,"")}function Zf(t,e,r){if(e=c1(e),c1(t)!==e&&r)throw Error(Y(425))}function nd(){}var mv=null,gv=null;function yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vv=typeof setTimeout=="function"?setTimeout:void 0,y4=typeof clearTimeout=="function"?clearTimeout:void 0,f1=typeof Promise=="function"?Promise:void 0,v4=typeof queueMicrotask=="function"?queueMicrotask:typeof f1<"u"?function(t){return f1.resolve(null).then(t).catch(b4)}:vv;function b4(t){setTimeout(function(){throw t})}function Kg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Xu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Xu(e)}function Ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Sn="__reactFiber$"+fl,ec="__reactProps$"+fl,ii="__reactContainer$"+fl,bv="__reactEvents$"+fl,_4="__reactListeners$"+fl,w4="__reactHandles$"+fl;function za(t){var e=t[Sn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ii]||r[Sn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=h1(t);t!==null;){if(r=t[Sn])return r;t=h1(t)}return e}t=r,r=t.parentNode}return null}function nf(t){return t=t[Sn]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Wp(t){return t[ec]||null}var _v=[],es=-1;function ga(t){return{current:t}}function Xe(t){0>es||(t.current=_v[es],_v[es]=null,es--)}function Be(t,e){es++,_v[es]=t.current,t.current=e}var la={},tr=ga(la),mr=ga(!1),no=la;function As(t,e){var r=t.type.contextTypes;if(!r)return la;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function id(){Xe(mr),Xe(tr)}function d1(t,e,r){if(tr.current!==la)throw Error(Y(168));Be(tr,e),Be(mr,r)}function OC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Y(108,aL(t)||"Unknown",i));return rt({},r,n)}function ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,no=tr.current,Be(tr,t),Be(mr,mr.current),!0}function p1(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=OC(t,e,no),n.__reactInternalMemoizedMergedChildContext=t,Xe(mr),Xe(tr),Be(tr,t)):Xe(mr),Be(mr,r)}var zn=null,Hp=!1,Xg=!1;function CC(t){zn===null?zn=[t]:zn.push(t)}function x4(t){Hp=!0,CC(t)}function ya(){if(!Xg&&zn!==null){Xg=!0;var t=0,e=ke;try{var r=zn;for(ke=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}zn=null,Hp=!1}catch(i){throw zn!==null&&(zn=zn.slice(t+1)),tC(e_,ya),i}finally{ke=e,Xg=!1}}return null}var ts=[],rs=0,od=null,sd=0,$r=[],Lr=0,io=null,Wn=1,Hn="";function $a(t,e){ts[rs++]=sd,ts[rs++]=od,od=t,sd=e}function kC(t,e,r){$r[Lr++]=Wn,$r[Lr++]=Hn,$r[Lr++]=io,io=t;var n=Wn;t=Hn;var i=32-hn(n)-1;n&=~(1<<i),r+=1;var a=32-hn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Wn=1<<32-hn(e)+i|r<<i|n,Hn=a+t}else Wn=1<<a|r<<i|n,Hn=t}function u_(t){t.return!==null&&($a(t,1),kC(t,1,0))}function c_(t){for(;t===od;)od=ts[--rs],ts[rs]=null,sd=ts[--rs],ts[rs]=null;for(;t===io;)io=$r[--Lr],$r[Lr]=null,Hn=$r[--Lr],$r[Lr]=null,Wn=$r[--Lr],$r[Lr]=null}var Pr=null,Tr=null,Ye=!1,sn=null;function NC(t,e){var r=Ur(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function m1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Tr=Ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=io!==null?{id:Wn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ur(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pr=t,Tr=null,!0):!1;default:return!1}}function wv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xv(t){if(Ye){var e=Tr;if(e){var r=e;if(!m1(t,e)){if(wv(t))throw Error(Y(418));e=Ki(r.nextSibling);var n=Pr;e&&m1(t,e)?NC(n,r):(t.flags=t.flags&-4097|2,Ye=!1,Pr=t)}}else{if(wv(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ye=!1,Pr=t}}}function g1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function eh(t){if(t!==Pr)return!1;if(!Ye)return g1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yv(t.type,t.memoizedProps)),e&&(e=Tr)){if(wv(t))throw RC(),Error(Y(418));for(;e;)NC(t,e),e=Ki(e.nextSibling)}if(g1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Tr=Ki(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Pr?Ki(t.stateNode.nextSibling):null;return!0}function RC(){for(var t=Tr;t;)t=Ki(t.nextSibling)}function Ps(){Tr=Pr=null,Ye=!1}function f_(t){sn===null?sn=[t]:sn.push(t)}var E4=mi.ReactCurrentBatchConfig;function eu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function th(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y1(t){var e=t._init;return e(t._payload)}function jC(t){function e(w,v){if(t){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function r(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Ji(w,v),w.index=0,w.sibling=null,w}function a(w,v,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,v,x,O){return v===null||v.tag!==6?(v=ry(x,w.mode,O),v.return=w,v):(v=i(v,x),v.return=w,v)}function l(w,v,x,O){var T=x.type;return T===Xo?c(w,v,x.props.children,O,x.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ci&&y1(T)===v.type)?(O=i(v,x.props),O.ref=eu(w,v,x),O.return=w,O):(O=Lh(x.type,x.key,x.props,null,w.mode,O),O.ref=eu(w,v,x),O.return=w,O)}function u(w,v,x,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=ny(x,w.mode,O),v.return=w,v):(v=i(v,x.children||[]),v.return=w,v)}function c(w,v,x,O,T){return v===null||v.tag!==7?(v=Ja(x,w.mode,O,T),v.return=w,v):(v=i(v,x),v.return=w,v)}function f(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ry(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wf:return x=Lh(v.type,v.key,v.props,null,w.mode,x),x.ref=eu(w,null,v),x.return=w,x;case Ko:return v=ny(v,w.mode,x),v.return=w,v;case Ci:var O=v._init;return f(w,O(v._payload),x)}if(pu(v)||Xl(v))return v=Ja(v,w.mode,x,null),v.return=w,v;th(w,v)}return null}function d(w,v,x,O){var T=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(w,v,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wf:return x.key===T?l(w,v,x,O):null;case Ko:return x.key===T?u(w,v,x,O):null;case Ci:return T=x._init,d(w,v,T(x._payload),O)}if(pu(x)||Xl(x))return T!==null?null:c(w,v,x,O,null);th(w,x)}return null}function p(w,v,x,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(x)||null,s(v,w,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Wf:return w=w.get(O.key===null?x:O.key)||null,l(v,w,O,T);case Ko:return w=w.get(O.key===null?x:O.key)||null,u(v,w,O,T);case Ci:var I=O._init;return p(w,v,x,I(O._payload),T)}if(pu(O)||Xl(O))return w=w.get(x)||null,c(v,w,O,T,null);th(v,O)}return null}function _(w,v,x,O){for(var T=null,I=null,E=v,S=v=0,P=null;E!==null&&S<x.length;S++){E.index>S?(P=E,E=null):P=E.sibling;var k=d(w,E,x[S],O);if(k===null){E===null&&(E=P);break}t&&E&&k.alternate===null&&e(w,E),v=a(k,v,S),I===null?T=k:I.sibling=k,I=k,E=P}if(S===x.length)return r(w,E),Ye&&$a(w,S),T;if(E===null){for(;S<x.length;S++)E=f(w,x[S],O),E!==null&&(v=a(E,v,S),I===null?T=E:I.sibling=E,I=E);return Ye&&$a(w,S),T}for(E=n(w,E);S<x.length;S++)P=p(E,w,S,x[S],O),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?S:P.key),v=a(P,v,S),I===null?T=P:I.sibling=P,I=P);return t&&E.forEach(function(C){return e(w,C)}),Ye&&$a(w,S),T}function g(w,v,x,O){var T=Xl(x);if(typeof T!="function")throw Error(Y(150));if(x=T.call(x),x==null)throw Error(Y(151));for(var I=T=null,E=v,S=v=0,P=null,k=x.next();E!==null&&!k.done;S++,k=x.next()){E.index>S?(P=E,E=null):P=E.sibling;var C=d(w,E,k.value,O);if(C===null){E===null&&(E=P);break}t&&E&&C.alternate===null&&e(w,E),v=a(C,v,S),I===null?T=C:I.sibling=C,I=C,E=P}if(k.done)return r(w,E),Ye&&$a(w,S),T;if(E===null){for(;!k.done;S++,k=x.next())k=f(w,k.value,O),k!==null&&(v=a(k,v,S),I===null?T=k:I.sibling=k,I=k);return Ye&&$a(w,S),T}for(E=n(w,E);!k.done;S++,k=x.next())k=p(E,w,S,k.value,O),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?S:k.key),v=a(k,v,S),I===null?T=k:I.sibling=k,I=k);return t&&E.forEach(function(j){return e(w,j)}),Ye&&$a(w,S),T}function y(w,v,x,O){if(typeof x=="object"&&x!==null&&x.type===Xo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Wf:e:{for(var T=x.key,I=v;I!==null;){if(I.key===T){if(T=x.type,T===Xo){if(I.tag===7){r(w,I.sibling),v=i(I,x.props.children),v.return=w,w=v;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ci&&y1(T)===I.type){r(w,I.sibling),v=i(I,x.props),v.ref=eu(w,I,x),v.return=w,w=v;break e}r(w,I);break}else e(w,I);I=I.sibling}x.type===Xo?(v=Ja(x.props.children,w.mode,O,x.key),v.return=w,w=v):(O=Lh(x.type,x.key,x.props,null,w.mode,O),O.ref=eu(w,v,x),O.return=w,w=O)}return o(w);case Ko:e:{for(I=x.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(w,v.sibling),v=i(v,x.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else e(w,v);v=v.sibling}v=ny(x,w.mode,O),v.return=w,w=v}return o(w);case Ci:return I=x._init,y(w,v,I(x._payload),O)}if(pu(x))return _(w,v,x,O);if(Xl(x))return g(w,v,x,O);th(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(w,v.sibling),v=i(v,x),v.return=w,w=v):(r(w,v),v=ry(x,w.mode,O),v.return=w,w=v),o(w)):r(w,v)}return y}var Is=jC(!0),DC=jC(!1),ld=ga(null),ud=null,ns=null,h_=null;function d_(){h_=ns=ud=null}function p_(t){var e=ld.current;Xe(ld),t._currentValue=e}function Ev(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ps(t,e){ud=t,h_=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(h_!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(ud===null)throw Error(Y(308));ns=t,ud.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var Wa=null;function m_(t){Wa===null?Wa=[t]:Wa.push(t)}function MC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,m_(e)):(r.next=i.next,i.next=r),e.interleaved=r,ai(t,n)}function ai(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ki=!1;function g_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $C(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ai(t,r)}return i=n.interleaved,i===null?(e.next=e,m_(n)):(e.next=i.next,i.next=e),n.interleaved=e,ai(t,r)}function Nh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,t_(t,r)}}function v1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function cd(t,e,r,n){var i=t.updateQueue;ki=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,p=s.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=t,g=s;switch(d=e,p=r,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(p,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,d=typeof _=="function"?_.call(p,f,d):_,d==null)break e;f=rt({},f,d);break e;case 2:ki=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=f}}function b1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var af={},In=ga(af),tc=ga(af),rc=ga(af);function Ha(t){if(t===af)throw Error(Y(174));return t}function y_(t,e){switch(Be(rc,e),Be(tc,t),Be(In,af),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nv(e,t)}Xe(In),Be(In,e)}function Os(){Xe(In),Xe(tc),Xe(rc)}function LC(t){Ha(rc.current);var e=Ha(In.current),r=nv(e,t.type);e!==r&&(Be(tc,t),Be(In,r))}function v_(t){tc.current===t&&(Xe(In),Xe(tc))}var et=ga(0);function fd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yg=[];function b_(){for(var t=0;t<Yg.length;t++)Yg[t]._workInProgressVersionPrimary=null;Yg.length=0}var Rh=mi.ReactCurrentDispatcher,Qg=mi.ReactCurrentBatchConfig,ao=0,tt=null,Et=null,jt=null,hd=!1,Ou=!1,nc=0,S4=0;function qt(){throw Error(Y(321))}function __(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pn(t[r],e[r]))return!1;return!0}function w_(t,e,r,n,i,a){if(ao=a,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rh.current=t===null||t.memoizedState===null?I4:O4,t=r(n,i),Ou){a=0;do{if(Ou=!1,nc=0,25<=a)throw Error(Y(301));a+=1,jt=Et=null,e.updateQueue=null,Rh.current=C4,t=r(n,i)}while(Ou)}if(Rh.current=dd,e=Et!==null&&Et.next!==null,ao=0,jt=Et=tt=null,hd=!1,e)throw Error(Y(300));return t}function x_(){var t=nc!==0;return nc=0,t}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?tt.memoizedState=jt=t:jt=jt.next=t,jt}function Kr(){if(Et===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=jt===null?tt.memoizedState:jt.next;if(e!==null)jt=e,Et=t;else{if(t===null)throw Error(Y(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},jt===null?tt.memoizedState=jt=t:jt=jt.next=t}return jt}function ic(t,e){return typeof e=="function"?e(t):e}function Jg(t){var e=Kr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=Et,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((ao&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,tt.lanes|=c,oo|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,pn(n,e.memoizedState)||(dr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,tt.lanes|=a,oo|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Zg(t){var e=Kr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);pn(a,e.memoizedState)||(dr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function VC(){}function FC(t,e){var r=tt,n=Kr(),i=e(),a=!pn(n.memoizedState,i);if(a&&(n.memoizedState=i,dr=!0),n=n.queue,E_(zC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,ac(9,BC.bind(null,r,n,i,e),void 0,null),Dt===null)throw Error(Y(349));ao&30||UC(r,e,i)}return i}function UC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function BC(t,e,r,n){e.value=r,e.getSnapshot=n,WC(e)&&HC(t)}function zC(t,e,r){return r(function(){WC(e)&&HC(t)})}function WC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pn(t,r)}catch{return!0}}function HC(t){var e=ai(t,1);e!==null&&dn(e,t,1,-1)}function _1(t){var e=xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=P4.bind(null,tt,t),[e.memoizedState,t]}function ac(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function qC(){return Kr().memoizedState}function jh(t,e,r,n){var i=xn();tt.flags|=t,i.memoizedState=ac(1|e,r,void 0,n===void 0?null:n)}function qp(t,e,r,n){var i=Kr();n=n===void 0?null:n;var a=void 0;if(Et!==null){var o=Et.memoizedState;if(a=o.destroy,n!==null&&__(n,o.deps)){i.memoizedState=ac(e,r,a,n);return}}tt.flags|=t,i.memoizedState=ac(1|e,r,a,n)}function w1(t,e){return jh(8390656,8,t,e)}function E_(t,e){return qp(2048,8,t,e)}function GC(t,e){return qp(4,2,t,e)}function KC(t,e){return qp(4,4,t,e)}function XC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YC(t,e,r){return r=r!=null?r.concat([t]):null,qp(4,4,XC.bind(null,e,t),r)}function S_(){}function QC(t,e){var r=Kr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&__(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function JC(t,e){var r=Kr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&__(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ZC(t,e,r){return ao&21?(pn(r,e)||(r=iC(),tt.lanes|=r,oo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=r)}function T4(t,e){var r=ke;ke=r!==0&&4>r?r:4,t(!0);var n=Qg.transition;Qg.transition={};try{t(!1),e()}finally{ke=r,Qg.transition=n}}function ek(){return Kr().memoizedState}function A4(t,e,r){var n=Qi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tk(t))rk(e,r);else if(r=MC(t,e,r,n),r!==null){var i=or();dn(r,t,n,i),nk(r,e,n)}}function P4(t,e,r){var n=Qi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tk(t))rk(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,pn(s,o)){var l=e.interleaved;l===null?(i.next=i,m_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=MC(t,e,i,n),r!==null&&(i=or(),dn(r,t,n,i),nk(r,e,n))}}function tk(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function rk(t,e){Ou=hd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function nk(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,t_(t,r)}}var dd={readContext:Gr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},I4={readContext:Gr,useCallback:function(t,e){return xn().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:w1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,jh(4194308,4,XC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return jh(4194308,4,t,e)},useInsertionEffect:function(t,e){return jh(4,2,t,e)},useMemo:function(t,e){var r=xn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=A4.bind(null,tt,t),[n.memoizedState,t]},useRef:function(t){var e=xn();return t={current:t},e.memoizedState=t},useState:_1,useDebugValue:S_,useDeferredValue:function(t){return xn().memoizedState=t},useTransition:function(){var t=_1(!1),e=t[0];return t=T4.bind(null,t[1]),xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=tt,i=xn();if(Ye){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=e(),Dt===null)throw Error(Y(349));ao&30||UC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,w1(zC.bind(null,n,a,t),[t]),n.flags|=2048,ac(9,BC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=xn(),e=Dt.identifierPrefix;if(Ye){var r=Hn,n=Wn;r=(n&~(1<<32-hn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=nc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=S4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O4={readContext:Gr,useCallback:QC,useContext:Gr,useEffect:E_,useImperativeHandle:YC,useInsertionEffect:GC,useLayoutEffect:KC,useMemo:JC,useReducer:Jg,useRef:qC,useState:function(){return Jg(ic)},useDebugValue:S_,useDeferredValue:function(t){var e=Kr();return ZC(e,Et.memoizedState,t)},useTransition:function(){var t=Jg(ic)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:VC,useSyncExternalStore:FC,useId:ek,unstable_isNewReconciler:!1},C4={readContext:Gr,useCallback:QC,useContext:Gr,useEffect:E_,useImperativeHandle:YC,useInsertionEffect:GC,useLayoutEffect:KC,useMemo:JC,useReducer:Zg,useRef:qC,useState:function(){return Zg(ic)},useDebugValue:S_,useDeferredValue:function(t){var e=Kr();return Et===null?e.memoizedState=t:ZC(e,Et.memoizedState,t)},useTransition:function(){var t=Zg(ic)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:VC,useSyncExternalStore:FC,useId:ek,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Sv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:rt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gp={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=or(),i=Qi(t),a=Qn(n,i);a.payload=e,r!=null&&(a.callback=r),e=Xi(t,a,i),e!==null&&(dn(e,t,i,n),Nh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=or(),i=Qi(t),a=Qn(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Xi(t,a,i),e!==null&&(dn(e,t,i,n),Nh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=or(),n=Qi(t),i=Qn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,n),e!==null&&(dn(e,t,n,r),Nh(e,t,n))}};function x1(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Qu(r,n)||!Qu(i,a):!0}function ik(t,e,r){var n=!1,i=la,a=e.contextType;return typeof a=="object"&&a!==null?a=Gr(a):(i=gr(e)?no:tr.current,n=e.contextTypes,a=(n=n!=null)?As(t,i):la),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function E1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gp.enqueueReplaceState(e,e.state,null)}function Tv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},g_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Gr(a):(a=gr(e)?no:tr.current,i.context=As(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Sv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gp.enqueueReplaceState(i,i.state,null),cd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,e){try{var r="",n=e;do r+=iL(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ey(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Av(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var k4=typeof WeakMap=="function"?WeakMap:Map;function ak(t,e,r){r=Qn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){md||(md=!0,Mv=n),Av(t,e)},r}function ok(t,e,r){r=Qn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Av(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Av(t,e),typeof n!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function S1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new k4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=H4.bind(null,t,e,r),e.then(t,t))}function T1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function A1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Qn(-1,1),e.tag=2,Xi(r,e,1))),r.lanes|=1),t)}var N4=mi.ReactCurrentOwner,dr=!1;function ir(t,e,r,n){e.child=t===null?DC(e,null,r,n):Is(e,t.child,r,n)}function P1(t,e,r,n,i){r=r.render;var a=e.ref;return ps(e,i),n=w_(t,e,r,n,a,i),r=x_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(Ye&&r&&u_(e),e.flags|=1,ir(t,e,n,i),e.child)}function I1(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!N_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,sk(t,e,a,n,i)):(t=Lh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Qu,r(o,n)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Ji(a,n),t.ref=e.ref,t.return=e,e.child=t}function sk(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Qu(a,n)&&t.ref===e.ref)if(dr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,oi(t,e,i)}return Pv(t,e,r,n,i)}function lk(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(as,xr),xr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(as,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Be(as,xr),xr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Be(as,xr),xr|=n;return ir(t,e,i,r),e.child}function uk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Pv(t,e,r,n,i){var a=gr(r)?no:tr.current;return a=As(e,a),ps(e,i),r=w_(t,e,r,n,a,i),n=x_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(Ye&&n&&u_(e),e.flags|=1,ir(t,e,r,i),e.child)}function O1(t,e,r,n,i){if(gr(r)){var a=!0;ad(e)}else a=!1;if(ps(e,i),e.stateNode===null)Dh(t,e),ik(e,r,n),Tv(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Gr(u):(u=gr(r)?no:tr.current,u=As(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&E1(e,o,n,u),ki=!1;var d=e.memoizedState;o.state=d,cd(e,n,o,i),l=e.memoizedState,s!==n||d!==l||mr.current||ki?(typeof c=="function"&&(Sv(e,r,c,n),l=e.memoizedState),(s=ki||x1(e,r,s,n,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,$C(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:rn(e.type,s),o.props=u,f=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gr(l):(l=gr(r)?no:tr.current,l=As(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&E1(e,o,n,l),ki=!1,d=e.memoizedState,o.state=d,cd(e,n,o,i);var _=e.memoizedState;s!==f||d!==_||mr.current||ki?(typeof p=="function"&&(Sv(e,r,p,n),_=e.memoizedState),(u=ki||x1(e,r,u,n,d,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Iv(t,e,r,n,a,i)}function Iv(t,e,r,n,i,a){uk(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&p1(e,r,!1),oi(t,e,a);n=e.stateNode,N4.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Is(e,t.child,null,a),e.child=Is(e,null,s,a)):ir(t,e,s,a),e.memoizedState=n.state,i&&p1(e,r,!0),e.child}function ck(t){var e=t.stateNode;e.pendingContext?d1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d1(t,e.context,!1),y_(t,e.containerInfo)}function C1(t,e,r,n,i){return Ps(),f_(i),e.flags|=256,ir(t,e,r,n),e.child}var Ov={dehydrated:null,treeContext:null,retryLane:0};function Cv(t){return{baseLanes:t,cachePool:null,transitions:null}}function fk(t,e,r){var n=e.pendingProps,i=et.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(et,i&1),t===null)return xv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Yp(o,n,0,null),t=Ja(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Cv(r),e.memoizedState=Ov,t):T_(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return R4(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ji(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ji(s,a):(a=Ja(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Cv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Ov,n}return a=t.child,t=a.sibling,n=Ji(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function T_(t,e){return e=Yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rh(t,e,r,n){return n!==null&&f_(n),Is(e,t.child,null,r),t=T_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R4(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=ey(Error(Y(422))),rh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Yp({mode:"visible",children:n.children},i,0,null),a=Ja(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Is(e,t.child,null,o),e.child.memoizedState=Cv(o),e.memoizedState=Ov,a);if(!(e.mode&1))return rh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(Y(419)),n=ey(a,n,void 0),rh(t,e,o,n)}if(s=(o&t.childLanes)!==0,dr||s){if(n=Dt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ai(t,i),dn(n,t,i,-1))}return k_(),n=ey(Error(Y(421))),rh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=q4.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Tr=Ki(i.nextSibling),Pr=e,Ye=!0,sn=null,t!==null&&($r[Lr++]=Wn,$r[Lr++]=Hn,$r[Lr++]=io,Wn=t.id,Hn=t.overflow,io=e),e=T_(e,n.children),e.flags|=4096,e)}function k1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ev(t.return,e,r)}function ty(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function hk(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ir(t,e,n.children,r),n=et.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k1(t,r,e);else if(t.tag===19)k1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Be(et,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&fd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ty(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ty(e,!0,r,null,a);break;case"together":ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=Ji(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ji(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function j4(t,e,r){switch(e.tag){case 3:ck(e),Ps();break;case 5:LC(e);break;case 1:gr(e.type)&&ad(e);break;case 4:y_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Be(ld,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Be(et,et.current&1),e.flags|=128,null):r&e.child.childLanes?fk(t,e,r):(Be(et,et.current&1),t=oi(t,e,r),t!==null?t.sibling:null);Be(et,et.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return hk(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(et,et.current),n)break;return null;case 22:case 23:return e.lanes=0,lk(t,e,r)}return oi(t,e,r)}var dk,kv,pk,mk;dk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kv=function(){};pk=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ha(In.current);var a=null;switch(r){case"input":i=Zy(t,i),n=Zy(t,n),a=[];break;case"select":i=rt({},i,{value:void 0}),n=rt({},n,{value:void 0}),a=[];break;case"textarea":i=rv(t,i),n=rv(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=nd)}iv(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};mk=function(t,e,r,n){r!==n&&(e.flags|=4)};function tu(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function D4(t,e,r){var n=e.pendingProps;switch(c_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return gr(e.type)&&id(),Gt(e),null;case 3:return n=e.stateNode,Os(),Xe(mr),Xe(tr),b_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(Vv(sn),sn=null))),kv(t,e),Gt(e),null;case 5:v_(e);var i=Ha(rc.current);if(r=e.type,t!==null&&e.stateNode!=null)pk(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return Gt(e),null}if(t=Ha(In.current),eh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Sn]=e,n[ec]=a,t=(e.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(i=0;i<gu.length;i++)qe(gu[i],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":FE(n,a),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},qe("invalid",n);break;case"textarea":BE(n,a),qe("invalid",n)}iv(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Zf(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Zf(n.textContent,s,t),i=["children",""+s]):Wu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&qe("scroll",n)}switch(r){case"input":Hf(n),UE(n,a,!0);break;case"textarea":Hf(n),zE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=nd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Sn]=e,t[ec]=n,dk(t,e,!1,!1),e.stateNode=t;e:{switch(o=av(r,n),r){case"dialog":qe("cancel",t),qe("close",t),i=n;break;case"iframe":case"object":case"embed":qe("load",t),i=n;break;case"video":case"audio":for(i=0;i<gu.length;i++)qe(gu[i],t);i=n;break;case"source":qe("error",t),i=n;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=n;break;case"details":qe("toggle",t),i=n;break;case"input":FE(t,n),i=Zy(t,n),qe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=rt({},n,{value:void 0}),qe("invalid",t);break;case"textarea":BE(t,n),i=rv(t,n),qe("invalid",t);break;default:i=n}iv(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?qO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&WO(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Hu(t,l):typeof l=="number"&&Hu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Wu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qe("scroll",t):l!=null&&Xb(t,a,l,o))}switch(r){case"input":Hf(t),UE(t,n,!1);break;case"textarea":Hf(t),zE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+sa(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?cs(t,!!n.multiple,a,!1):n.defaultValue!=null&&cs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)mk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));if(r=Ha(rc.current),Ha(In.current),eh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Sn]=e,(a=n.nodeValue!==r)&&(t=Pr,t!==null))switch(t.tag){case 3:Zf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zf(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Sn]=e,e.stateNode=n}return Gt(e),null;case 13:if(Xe(et),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Tr!==null&&e.mode&1&&!(e.flags&128))RC(),Ps(),e.flags|=98560,a=!1;else if(a=eh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Y(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Y(317));a[Sn]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),a=!1}else sn!==null&&(Vv(sn),sn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?St===0&&(St=3):k_())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Os(),kv(t,e),t===null&&Ju(e.stateNode.containerInfo),Gt(e),null;case 10:return p_(e.type._context),Gt(e),null;case 17:return gr(e.type)&&id(),Gt(e),null;case 19:if(Xe(et),a=e.memoizedState,a===null)return Gt(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)tu(a,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fd(t),o!==null){for(e.flags|=128,tu(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Be(et,et.current&1|2),e.child}t=t.sibling}a.tail!==null&&ut()>ks&&(e.flags|=128,n=!0,tu(a,!1),e.lanes=4194304)}else{if(!n)if(t=fd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),tu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ye)return Gt(e),null}else 2*ut()-a.renderingStartTime>ks&&r!==1073741824&&(e.flags|=128,n=!0,tu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ut(),e.sibling=null,r=et.current,Be(et,n?r&1|2:r&1),e):(Gt(e),null);case 22:case 23:return C_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?xr&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function M4(t,e){switch(c_(e),e.tag){case 1:return gr(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),Xe(mr),Xe(tr),b_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return v_(e),null;case 13:if(Xe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(et),null;case 4:return Os(),null;case 10:return p_(e.type._context),null;case 22:case 23:return C_(),null;case 24:return null;default:return null}}var nh=!1,Qt=!1,$4=typeof WeakSet=="function"?WeakSet:Set,ie=null;function is(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(t,e,n)}else r.current=null}function Nv(t,e,r){try{r()}catch(n){at(t,e,n)}}var N1=!1;function L4(t,e){if(mv=ed,t=_C(),l_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===r&&++u===i&&(s=o),d===a&&++c===n&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(gv={focusedElem:t,selectionRange:r},ed=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,y=_.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:rn(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(O){at(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return _=N1,N1=!1,_}function Cu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Nv(e,r,a)}i=i.next}while(i!==n)}}function Kp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Rv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function gk(t){var e=t.alternate;e!==null&&(t.alternate=null,gk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[ec],delete e[bv],delete e[_4],delete e[w4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yk(t){return t.tag===5||t.tag===3||t.tag===4}function R1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=nd));else if(n!==4&&(t=t.child,t!==null))for(jv(t,e,r),t=t.sibling;t!==null;)jv(t,e,r),t=t.sibling}function Dv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Dv(t,e,r),t=t.sibling;t!==null;)Dv(t,e,r),t=t.sibling}var Lt=null,nn=!1;function Ii(t,e,r){for(r=r.child;r!==null;)vk(t,e,r),r=r.sibling}function vk(t,e,r){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Fp,r)}catch{}switch(r.tag){case 5:Qt||is(r,e);case 6:var n=Lt,i=nn;Lt=null,Ii(t,e,r),Lt=n,nn=i,Lt!==null&&(nn?(t=Lt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Lt.removeChild(r.stateNode));break;case 18:Lt!==null&&(nn?(t=Lt,r=r.stateNode,t.nodeType===8?Kg(t.parentNode,r):t.nodeType===1&&Kg(t,r),Xu(t)):Kg(Lt,r.stateNode));break;case 4:n=Lt,i=nn,Lt=r.stateNode.containerInfo,nn=!0,Ii(t,e,r),Lt=n,nn=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Nv(r,e,o),i=i.next}while(i!==n)}Ii(t,e,r);break;case 1:if(!Qt&&(is(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){at(r,e,s)}Ii(t,e,r);break;case 21:Ii(t,e,r);break;case 22:r.mode&1?(Qt=(n=Qt)||r.memoizedState!==null,Ii(t,e,r),Qt=n):Ii(t,e,r);break;default:Ii(t,e,r)}}function j1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $4),e.forEach(function(n){var i=G4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Lt=s.stateNode,nn=!1;break e;case 3:Lt=s.stateNode.containerInfo,nn=!0;break e;case 4:Lt=s.stateNode.containerInfo,nn=!0;break e}s=s.return}if(Lt===null)throw Error(Y(160));vk(a,o,i),Lt=null,nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bk(e,t),e=e.sibling}function bk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),wn(t),n&4){try{Cu(3,t,t.return),Kp(3,t)}catch(g){at(t,t.return,g)}try{Cu(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:Zr(e,t),wn(t),n&512&&r!==null&&is(r,r.return);break;case 5:if(Zr(e,t),wn(t),n&512&&r!==null&&is(r,r.return),t.flags&32){var i=t.stateNode;try{Hu(i,"")}catch(g){at(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&UO(i,a),av(s,o);var u=av(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?qO(i,f):c==="dangerouslySetInnerHTML"?WO(i,f):c==="children"?Hu(i,f):Xb(i,c,f,u)}switch(s){case"input":ev(i,a);break;case"textarea":BO(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?cs(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?cs(i,!!a.multiple,a.defaultValue,!0):cs(i,!!a.multiple,a.multiple?[]:"",!1))}i[ec]=a}catch(g){at(t,t.return,g)}}break;case 6:if(Zr(e,t),wn(t),n&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){at(t,t.return,g)}}break;case 3:if(Zr(e,t),wn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xu(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:Zr(e,t),wn(t);break;case 13:Zr(e,t),wn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(I_=ut())),n&4&&j1(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||c,Zr(e,t),Qt=u):Zr(e,t),wn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ie=t,c=t.child;c!==null;){for(f=ie=c;ie!==null;){switch(d=ie,p=d.child,d.tag){case 0:case 11:case 14:case 15:Cu(4,d,d.return);break;case 1:is(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){at(n,r,g)}}break;case 5:is(d,d.return);break;case 22:if(d.memoizedState!==null){M1(f);continue}}p!==null?(p.return=d,ie=p):M1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=HO("display",o))}catch(g){at(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){at(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zr(e,t),wn(t),n&4&&j1(t);break;case 21:break;default:Zr(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(yk(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hu(i,""),n.flags&=-33);var a=R1(t);Dv(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=R1(t);jv(t,s,o);break;default:throw Error(Y(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V4(t,e,r){ie=t,_k(t)}function _k(t,e,r){for(var n=(t.mode&1)!==0;ie!==null;){var i=ie,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||nh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qt;s=nh;var u=Qt;if(nh=o,(Qt=l)&&!u)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?$1(i):l!==null?(l.return=o,ie=l):$1(i);for(;a!==null;)ie=a,_k(a),a=a.sibling;ie=i,nh=s,Qt=u}D1(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ie=a):D1(t)}}function D1(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Kp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:rn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&b1(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}b1(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Xu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Qt||e.flags&512&&Rv(e)}catch(d){at(e,e.return,d)}}if(e===t){ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,ie=r;break}ie=e.return}}function M1(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ie=r;break}ie=e.return}}function $1(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kp(4,e)}catch(l){at(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){at(e,i,l)}}var a=e.return;try{Rv(e)}catch(l){at(e,a,l)}break;case 5:var o=e.return;try{Rv(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var F4=Math.ceil,pd=mi.ReactCurrentDispatcher,A_=mi.ReactCurrentOwner,zr=mi.ReactCurrentBatchConfig,Ae=0,Dt=null,gt=null,Bt=0,xr=0,as=ga(0),St=0,oc=null,oo=0,Xp=0,P_=0,ku=null,fr=null,I_=0,ks=1/0,Bn=null,md=!1,Mv=null,Yi=null,ih=!1,Ui=null,gd=0,Nu=0,$v=null,Mh=-1,$h=0;function or(){return Ae&6?ut():Mh!==-1?Mh:Mh=ut()}function Qi(t){return t.mode&1?Ae&2&&Bt!==0?Bt&-Bt:E4.transition!==null?($h===0&&($h=iC()),$h):(t=ke,t!==0||(t=window.event,t=t===void 0?16:fC(t.type)),t):1}function dn(t,e,r,n){if(50<Nu)throw Nu=0,$v=null,Error(Y(185));tf(t,r,n),(!(Ae&2)||t!==Dt)&&(t===Dt&&(!(Ae&2)&&(Xp|=r),St===4&&ji(t,Bt)),yr(t,n),r===1&&Ae===0&&!(e.mode&1)&&(ks=ut()+500,Hp&&ya()))}function yr(t,e){var r=t.callbackNode;EL(t,e);var n=Zh(t,t===Dt?Bt:0);if(n===0)r!==null&&qE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&qE(r),e===1)t.tag===0?x4(L1.bind(null,t)):CC(L1.bind(null,t)),v4(function(){!(Ae&6)&&ya()}),r=null;else{switch(aC(n)){case 1:r=e_;break;case 4:r=rC;break;case 16:r=Jh;break;case 536870912:r=nC;break;default:r=Jh}r=Ik(r,wk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function wk(t,e){if(Mh=-1,$h=0,Ae&6)throw Error(Y(327));var r=t.callbackNode;if(ms()&&t.callbackNode!==r)return null;var n=Zh(t,t===Dt?Bt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=yd(t,n);else{e=n;var i=Ae;Ae|=2;var a=Ek();(Dt!==t||Bt!==e)&&(Bn=null,ks=ut()+500,Qa(t,e));do try{z4();break}catch(s){xk(t,s)}while(!0);d_(),pd.current=a,Ae=i,gt!==null?e=0:(Dt=null,Bt=0,e=St)}if(e!==0){if(e===2&&(i=cv(t),i!==0&&(n=i,e=Lv(t,i))),e===1)throw r=oc,Qa(t,0),ji(t,n),yr(t,ut()),r;if(e===6)ji(t,n);else{if(i=t.current.alternate,!(n&30)&&!U4(i)&&(e=yd(t,n),e===2&&(a=cv(t),a!==0&&(n=a,e=Lv(t,a))),e===1))throw r=oc,Qa(t,0),ji(t,n),yr(t,ut()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Y(345));case 2:La(t,fr,Bn);break;case 3:if(ji(t,n),(n&130023424)===n&&(e=I_+500-ut(),10<e)){if(Zh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){or(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vv(La.bind(null,t,fr,Bn),e);break}La(t,fr,Bn);break;case 4:if(ji(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-hn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*F4(n/1960))-n,10<n){t.timeoutHandle=vv(La.bind(null,t,fr,Bn),n);break}La(t,fr,Bn);break;case 5:La(t,fr,Bn);break;default:throw Error(Y(329))}}}return yr(t,ut()),t.callbackNode===r?wk.bind(null,t):null}function Lv(t,e){var r=ku;return t.current.memoizedState.isDehydrated&&(Qa(t,e).flags|=256),t=yd(t,e),t!==2&&(e=fr,fr=r,e!==null&&Vv(e)),t}function Vv(t){fr===null?fr=t:fr.push.apply(fr,t)}function U4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!pn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(t,e){for(e&=~P_,e&=~Xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-hn(e),n=1<<r;t[r]=-1,e&=~n}}function L1(t){if(Ae&6)throw Error(Y(327));ms();var e=Zh(t,0);if(!(e&1))return yr(t,ut()),null;var r=yd(t,e);if(t.tag!==0&&r===2){var n=cv(t);n!==0&&(e=n,r=Lv(t,n))}if(r===1)throw r=oc,Qa(t,0),ji(t,e),yr(t,ut()),r;if(r===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,La(t,fr,Bn),yr(t,ut()),null}function O_(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(ks=ut()+500,Hp&&ya())}}function so(t){Ui!==null&&Ui.tag===0&&!(Ae&6)&&ms();var e=Ae;Ae|=1;var r=zr.transition,n=ke;try{if(zr.transition=null,ke=1,t)return t()}finally{ke=n,zr.transition=r,Ae=e,!(Ae&6)&&ya()}}function C_(){xr=as.current,Xe(as)}function Qa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,y4(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(c_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&id();break;case 3:Os(),Xe(mr),Xe(tr),b_();break;case 5:v_(n);break;case 4:Os();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:p_(n.type._context);break;case 22:case 23:C_()}r=r.return}if(Dt=t,gt=t=Ji(t.current,null),Bt=xr=e,St=0,oc=null,P_=Xp=oo=0,fr=ku=null,Wa!==null){for(e=0;e<Wa.length;e++)if(r=Wa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Wa=null}return t}function xk(t,e){do{var r=gt;try{if(d_(),Rh.current=dd,hd){for(var n=tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hd=!1}if(ao=0,jt=Et=tt=null,Ou=!1,nc=0,A_.current=null,r===null||r.return===null){St=1,oc=e,gt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=Bt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=T1(o);if(p!==null){p.flags&=-257,A1(p,o,s,a,e),p.mode&1&&S1(a,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){S1(a,u,e),k_();break e}l=Error(Y(426))}}else if(Ye&&s.mode&1){var y=T1(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),A1(y,o,s,a,e),f_(Cs(l,s));break e}}a=l=Cs(l,s),St!==4&&(St=2),ku===null?ku=[a]:ku.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=ak(a,l,e);v1(a,w);break e;case 1:s=l;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yi===null||!Yi.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var O=ok(a,s,e);v1(a,O);break e}}a=a.return}while(a!==null)}Tk(r)}catch(T){e=T,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(!0)}function Ek(){var t=pd.current;return pd.current=dd,t===null?dd:t}function k_(){(St===0||St===3||St===2)&&(St=4),Dt===null||!(oo&268435455)&&!(Xp&268435455)||ji(Dt,Bt)}function yd(t,e){var r=Ae;Ae|=2;var n=Ek();(Dt!==t||Bt!==e)&&(Bn=null,Qa(t,e));do try{B4();break}catch(i){xk(t,i)}while(!0);if(d_(),Ae=r,pd.current=n,gt!==null)throw Error(Y(261));return Dt=null,Bt=0,St}function B4(){for(;gt!==null;)Sk(gt)}function z4(){for(;gt!==null&&!pL();)Sk(gt)}function Sk(t){var e=Pk(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?Tk(t):gt=e,A_.current=null}function Tk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=M4(r,e),r!==null){r.flags&=32767,gt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,gt=null;return}}else if(r=D4(r,e,xr),r!==null){gt=r;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);St===0&&(St=5)}function La(t,e,r){var n=ke,i=zr.transition;try{zr.transition=null,ke=1,W4(t,e,r,n)}finally{zr.transition=i,ke=n}return null}function W4(t,e,r,n){do ms();while(Ui!==null);if(Ae&6)throw Error(Y(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(SL(t,a),t===Dt&&(gt=Dt=null,Bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ih||(ih=!0,Ik(Jh,function(){return ms(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=zr.transition,zr.transition=null;var o=ke;ke=1;var s=Ae;Ae|=4,A_.current=null,L4(t,r),bk(r,t),c4(gv),ed=!!mv,gv=mv=null,t.current=r,V4(r),mL(),Ae=s,ke=o,zr.transition=a}else t.current=r;if(ih&&(ih=!1,Ui=t,gd=i),a=t.pendingLanes,a===0&&(Yi=null),vL(r.stateNode),yr(t,ut()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(md)throw md=!1,t=Mv,Mv=null,t;return gd&1&&t.tag!==0&&ms(),a=t.pendingLanes,a&1?t===$v?Nu++:(Nu=0,$v=t):Nu=0,ya(),null}function ms(){if(Ui!==null){var t=aC(gd),e=zr.transition,r=ke;try{if(zr.transition=null,ke=16>t?16:t,Ui===null)var n=!1;else{if(t=Ui,Ui=null,gd=0,Ae&6)throw Error(Y(331));var i=Ae;for(Ae|=4,ie=t.current;ie!==null;){var a=ie,o=a.child;if(ie.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ie=u;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:Cu(8,c,a)}var f=c.child;if(f!==null)f.return=c,ie=f;else for(;ie!==null;){c=ie;var d=c.sibling,p=c.return;if(gk(c),c===u){ie=null;break}if(d!==null){d.return=p,ie=d;break}ie=p}}}var _=a.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ie=o;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cu(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,ie=w;break e}ie=a.return}}var v=t.current;for(ie=v;ie!==null;){o=ie;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ie=x;else e:for(o=v;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Kp(9,s)}}catch(T){at(s,s.return,T)}if(s===o){ie=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,ie=O;break e}ie=s.return}}if(Ae=i,ya(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Fp,t)}catch{}n=!0}return n}finally{ke=r,zr.transition=e}}return!1}function V1(t,e,r){e=Cs(r,e),e=ak(t,e,1),t=Xi(t,e,1),e=or(),t!==null&&(tf(t,1,e),yr(t,e))}function at(t,e,r){if(t.tag===3)V1(t,t,r);else for(;e!==null;){if(e.tag===3){V1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yi===null||!Yi.has(n))){t=Cs(r,t),t=ok(e,t,1),e=Xi(e,t,1),t=or(),e!==null&&(tf(e,1,t),yr(e,t));break}}e=e.return}}function H4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&r,Dt===t&&(Bt&r)===r&&(St===4||St===3&&(Bt&130023424)===Bt&&500>ut()-I_?Qa(t,0):P_|=r),yr(t,e)}function Ak(t,e){e===0&&(t.mode&1?(e=Kf,Kf<<=1,!(Kf&130023424)&&(Kf=4194304)):e=1);var r=or();t=ai(t,e),t!==null&&(tf(t,e,r),yr(t,r))}function q4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ak(t,r)}function G4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(e),Ak(t,r)}var Pk;Pk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)dr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dr=!1,j4(t,e,r);dr=!!(t.flags&131072)}else dr=!1,Ye&&e.flags&1048576&&kC(e,sd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Dh(t,e),t=e.pendingProps;var i=As(e,tr.current);ps(e,r),i=w_(null,e,n,t,i,r);var a=x_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(n)?(a=!0,ad(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,g_(e),i.updater=Gp,e.stateNode=i,i._reactInternals=e,Tv(e,n,t,r),e=Iv(null,e,n,!0,a,r)):(e.tag=0,Ye&&a&&u_(e),ir(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Dh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=X4(n),t=rn(n,t),i){case 0:e=Pv(null,e,n,t,r);break e;case 1:e=O1(null,e,n,t,r);break e;case 11:e=P1(null,e,n,t,r);break e;case 14:e=I1(null,e,n,rn(n.type,t),r);break e}throw Error(Y(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rn(n,i),Pv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rn(n,i),O1(t,e,n,i,r);case 3:e:{if(ck(e),t===null)throw Error(Y(387));n=e.pendingProps,a=e.memoizedState,i=a.element,$C(t,e),cd(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Cs(Error(Y(423)),e),e=C1(t,e,n,r,i);break e}else if(n!==i){i=Cs(Error(Y(424)),e),e=C1(t,e,n,r,i);break e}else for(Tr=Ki(e.stateNode.containerInfo.firstChild),Pr=e,Ye=!0,sn=null,r=DC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ps(),n===i){e=oi(t,e,r);break e}ir(t,e,n,r)}e=e.child}return e;case 5:return LC(e),t===null&&xv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,yv(n,i)?o=null:a!==null&&yv(n,a)&&(e.flags|=32),uk(t,e),ir(t,e,o,r),e.child;case 6:return t===null&&xv(e),null;case 13:return fk(t,e,r);case 4:return y_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Is(e,null,n,r):ir(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rn(n,i),P1(t,e,n,i,r);case 7:return ir(t,e,e.pendingProps,r),e.child;case 8:return ir(t,e,e.pendingProps.children,r),e.child;case 12:return ir(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Be(ld,n._currentValue),n._currentValue=o,a!==null)if(pn(a.value,o)){if(a.children===i.children&&!mr.current){e=oi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Qn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ev(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Y(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Ev(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ir(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ps(e,r),i=Gr(i),n=n(i),e.flags|=1,ir(t,e,n,r),e.child;case 14:return n=e.type,i=rn(n,e.pendingProps),i=rn(n.type,i),I1(t,e,n,i,r);case 15:return sk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rn(n,i),Dh(t,e),e.tag=1,gr(n)?(t=!0,ad(e)):t=!1,ps(e,r),ik(e,n,i),Tv(e,n,i,r),Iv(null,e,n,!0,t,r);case 19:return hk(t,e,r);case 22:return lk(t,e,r)}throw Error(Y(156,e.tag))};function Ik(t,e){return tC(t,e)}function K4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,r,n){return new K4(t,e,r,n)}function N_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function X4(t){if(typeof t=="function")return N_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qb)return 11;if(t===Jb)return 14}return 2}function Ji(t,e){var r=t.alternate;return r===null?(r=Ur(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lh(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")N_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xo:return Ja(r.children,i,a,e);case Yb:o=8,i|=8;break;case Xy:return t=Ur(12,r,e,i|2),t.elementType=Xy,t.lanes=a,t;case Yy:return t=Ur(13,r,e,i),t.elementType=Yy,t.lanes=a,t;case Qy:return t=Ur(19,r,e,i),t.elementType=Qy,t.lanes=a,t;case LO:return Yp(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MO:o=10;break e;case $O:o=9;break e;case Qb:o=11;break e;case Jb:o=14;break e;case Ci:o=16,n=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Ur(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ja(t,e,r,n){return t=Ur(7,t,n,e),t.lanes=r,t}function Yp(t,e,r,n){return t=Ur(22,t,n,e),t.elementType=LO,t.lanes=r,t.stateNode={isHidden:!1},t}function ry(t,e,r){return t=Ur(6,t,null,e),t.lanes=r,t}function ny(t,e,r){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Y4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$g(0),this.expirationTimes=$g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function R_(t,e,r,n,i,a,o,s,l){return t=new Y4(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ur(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},g_(a),t}function Q4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ok(t){if(!t)return la;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var r=t.type;if(gr(r))return OC(t,r,e)}return e}function Ck(t,e,r,n,i,a,o,s,l){return t=R_(r,n,!0,t,i,a,o,s,l),t.context=Ok(null),r=t.current,n=or(),i=Qi(r),a=Qn(n,i),a.callback=e??null,Xi(r,a,i),t.current.lanes=i,tf(t,i,n),yr(t,n),t}function Qp(t,e,r,n){var i=e.current,a=or(),o=Qi(i);return r=Ok(r),e.context===null?e.context=r:e.pendingContext=r,e=Qn(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Xi(i,e,o),t!==null&&(dn(t,i,o,a),Nh(t,i,o)),o}function vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function j_(t,e){F1(t,e),(t=t.alternate)&&F1(t,e)}function J4(){return null}var kk=typeof reportError=="function"?reportError:function(t){console.error(t)};function D_(t){this._internalRoot=t}Jp.prototype.render=D_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Qp(t,e,null,null)};Jp.prototype.unmount=D_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;so(function(){Qp(null,t,null,null)}),e[ii]=null}};function Jp(t){this._internalRoot=t}Jp.prototype.unstable_scheduleHydration=function(t){if(t){var e=lC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ri.length&&e!==0&&e<Ri[r].priority;r++);Ri.splice(r,0,t),r===0&&cC(t)}};function M_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U1(){}function Z4(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=vd(o);a.call(u)}}var o=Ck(e,n,t,0,null,!1,!1,"",U1);return t._reactRootContainer=o,t[ii]=o.current,Ju(t.nodeType===8?t.parentNode:t),so(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=vd(l);s.call(u)}}var l=R_(t,0,!1,null,null,!1,!1,"",U1);return t._reactRootContainer=l,t[ii]=l.current,Ju(t.nodeType===8?t.parentNode:t),so(function(){Qp(e,l,r,n)}),l}function em(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=vd(o);s.call(l)}}Qp(e,o,t,i)}else o=Z4(r,e,t,i,n);return vd(o)}oC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=mu(e.pendingLanes);r!==0&&(t_(e,r|1),yr(e,ut()),!(Ae&6)&&(ks=ut()+500,ya()))}break;case 13:so(function(){var n=ai(t,1);if(n!==null){var i=or();dn(n,t,1,i)}}),j_(t,1)}};r_=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var r=or();dn(e,t,134217728,r)}j_(t,134217728)}};sC=function(t){if(t.tag===13){var e=Qi(t),r=ai(t,e);if(r!==null){var n=or();dn(r,t,e,n)}j_(t,e)}};lC=function(){return ke};uC=function(t,e){var r=ke;try{return ke=t,e()}finally{ke=r}};sv=function(t,e,r){switch(e){case"input":if(ev(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Wp(n);if(!i)throw Error(Y(90));FO(n),ev(n,i)}}}break;case"textarea":BO(t,r);break;case"select":e=r.value,e!=null&&cs(t,!!r.multiple,e,!1)}};XO=O_;YO=so;var e3={usingClientEntryPoint:!1,Events:[nf,Zo,Wp,GO,KO,O_]},ru={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t3={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZO(t),t===null?null:t.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||J4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Fp=ah.inject(t3),Pn=ah}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e3;Cr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M_(e))throw Error(Y(200));return Q4(t,e,null,r)};Cr.createRoot=function(t,e){if(!M_(t))throw Error(Y(299));var r=!1,n="",i=kk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=R_(t,1,!1,null,null,r,!1,n,i),t[ii]=e.current,Ju(t.nodeType===8?t.parentNode:t),new D_(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=ZO(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return so(t)};Cr.hydrate=function(t,e,r){if(!Zp(e))throw Error(Y(200));return em(null,t,e,!0,r)};Cr.hydrateRoot=function(t,e,r){if(!M_(t))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=kk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ck(e,null,t,1,r??null,i,!1,a,o),t[ii]=e.current,Ju(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Jp(e)};Cr.render=function(t,e,r){if(!Zp(e))throw Error(Y(200));return em(null,t,e,!1,r)};Cr.unmountComponentAtNode=function(t){if(!Zp(t))throw Error(Y(40));return t._reactRootContainer?(so(function(){em(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};Cr.unstable_batchedUpdates=O_;Cr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zp(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return em(t,e,r,!1,n)};Cr.version="18.3.1-next-f1338f8080-20240426";function Nk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nk)}catch(t){console.error(t)}}Nk(),NO.exports=Cr;var r3=NO.exports,B1=r3;Gy.createRoot=B1.createRoot,Gy.hydrateRoot=B1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sc.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const z1="popstate";function n3(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=So(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Fv("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:bd(a))}function n(i,a){tm(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return a3(e,r,n,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i3(){return Math.random().toString(36).substr(2,8)}function W1(t,e){return{usr:t.state,key:t.key,idx:e}}function Fv(t,e,r,n){return r===void 0&&(r=null),sc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?So(e):e,{state:r,key:e&&e.key||n||i3()})}function bd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function So(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function a3(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Bi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(sc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=Bi.Pop;let y=c(),w=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:w})}function d(y,w){s=Bi.Push;let v=Fv(g.location,y,w);r&&r(v,y),u=c()+1;let x=W1(v,u),O=g.createHref(v);try{o.pushState(x,"",O)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(O)}a&&l&&l({action:s,location:g.location,delta:1})}function p(y,w){s=Bi.Replace;let v=Fv(g.location,y,w);r&&r(v,y),u=c();let x=W1(v,u),O=g.createHref(v);o.replaceState(x,"",O),a&&l&&l({action:s,location:g.location,delta:0})}function _(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:bd(y);return v=v.replace(/ $/,"%20"),ht(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return s},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(z1,f),l=y,()=>{i.removeEventListener(z1,f),l=null}},createHref(y){return e(i,y)},createURL:_,encodeLocation(y){let w=_(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:p,go(y){return o.go(y)}};return g}var H1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H1||(H1={}));function o3(t,e,r){return r===void 0&&(r="/"),s3(t,e,r)}function s3(t,e,r,n){let i=typeof e=="string"?So(e):e,a=$_(i.pathname||"/",r);if(a==null)return null;let o=Rk(t);l3(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=_3(a);s=y3(o[l],u)}return s}function Rk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Zi([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Rk(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:m3(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of jk(a.path))i(a,o,l)}),e}function jk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=jk(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function l3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:g3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const u3=/^:[\w-]+$/,c3=3,f3=2,h3=1,d3=10,p3=-2,q1=t=>t==="*";function m3(t,e){let r=t.split("/"),n=r.length;return r.some(q1)&&(n+=p3),e&&(n+=f3),r.filter(i=>!q1(i)).reduce((i,a)=>i+(u3.test(a)?c3:a===""?h3:d3),n)}function g3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function y3(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=v3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Zi([a,f.pathname]),pathnameBase:T3(Zi([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=Zi([a,f.pathnameBase]))}return o}function v3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=b3(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const _=s[f];return p&&!_?u[d]=void 0:u[d]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function b3(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const w3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x3=t=>w3.test(t);function E3(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?So(t):t,a;if(r)if(x3(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),tm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=G1(r.substring(1),"/"):a=G1(r,e)}else a=e;return{pathname:a,search:A3(n),hash:P3(i)}}function G1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function iy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function L_(t,e){let r=S3(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function V_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=So(t):(i=sc({},t),ht(!i.pathname||!i.pathname.includes("?"),iy("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),iy("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),iy("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=E3(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),T3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dk=["post","put","patch","delete"];new Set(Dk);const O3=["get",...Dk];new Set(O3);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}const F_=$.createContext(null),C3=$.createContext(null),va=$.createContext(null),rm=$.createContext(null),ba=$.createContext({outlet:null,matches:[],isDataRoute:!1}),Mk=$.createContext(null);function k3(t,e){let{relative:r}=e===void 0?{}:e;hl()||ht(!1);let{basename:n,navigator:i}=$.useContext(va),{hash:a,pathname:o,search:s}=Lk(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Zi([n,o])),i.createHref({pathname:l,search:s,hash:a})}function hl(){return $.useContext(rm)!=null}function To(){return hl()||ht(!1),$.useContext(rm).location}function $k(t){$.useContext(va).static||$.useLayoutEffect(t)}function of(){let{isDataRoute:t}=$.useContext(ba);return t?W3():N3()}function N3(){hl()||ht(!1);let t=$.useContext(F_),{basename:e,future:r,navigator:n}=$.useContext(va),{matches:i}=$.useContext(ba),{pathname:a}=To(),o=JSON.stringify(L_(i,r.v7_relativeSplatPath)),s=$.useRef(!1);return $k(()=>{s.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=V_(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Zi([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,o,a,t])}function Lk(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=$.useContext(va),{matches:i}=$.useContext(ba),{pathname:a}=To(),o=JSON.stringify(L_(i,n.v7_relativeSplatPath));return $.useMemo(()=>V_(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function R3(t,e){return j3(t,e)}function j3(t,e,r,n){hl()||ht(!1);let{navigator:i}=$.useContext(va),{matches:a}=$.useContext(ba),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=To(),c;if(e){var f;let y=typeof e=="string"?So(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||ht(!1),c=y}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=o3(t,{pathname:p}),g=V3(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Zi([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Zi([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return e&&g?$.createElement(rm.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bi.Pop}},g):g}function D3(){let t=z3(),e=I3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:i},r):null,null)}const M3=$.createElement(D3,null);class $3 extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?$.createElement(ba.Provider,{value:this.props.routeContext},$.createElement(Mk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L3(t){let{routeContext:e,match:r,children:n}=t,i=$.useContext(F_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(ba.Provider,{value:e},n)}function V3(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||ht(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=r,_=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let p,_=!1,g=null,y=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||M3,l&&(u<0&&d===0?(H3("route-fallback"),_=!0,y=null):u===d&&(_=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,d+1)),v=()=>{let x;return p?x=g:_?x=y:f.route.Component?x=$.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=c,$.createElement(L3,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?$.createElement($3,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Vk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vk||{}),Fk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fk||{});function F3(t){let e=$.useContext(F_);return e||ht(!1),e}function U3(t){let e=$.useContext(C3);return e||ht(!1),e}function B3(t){let e=$.useContext(ba);return e||ht(!1),e}function Uk(t){let e=B3(),r=e.matches[e.matches.length-1];return r.route.id||ht(!1),r.route.id}function z3(){var t;let e=$.useContext(Mk),r=U3(),n=Uk();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function W3(){let{router:t}=F3(Vk.UseNavigateStable),e=Uk(Fk.UseNavigateStable),r=$.useRef(!1);return $k(()=>{r.current=!0}),$.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lc({fromRouteId:e},a)))},[t,e])}const K1={};function H3(t,e,r){K1[t]||(K1[t]=!0)}function q3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bk(t){let{to:e,replace:r,state:n,relative:i}=t;hl()||ht(!1);let{future:a,static:o}=$.useContext(va),{matches:s}=$.useContext(ba),{pathname:l}=To(),u=of(),c=V_(e,L_(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return $.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function tn(t){ht(!1)}function G3(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Bi.Pop,navigator:a,static:o=!1,future:s}=t;hl()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:a,static:o,future:lc({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=So(n));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:_="default"}=n,g=$.useMemo(()=>{let y=$_(c,l);return y==null?null:{location:{pathname:y,search:f,hash:d,state:p,key:_},navigationType:i}},[l,c,f,d,p,_,i]);return g==null?null:$.createElement(va.Provider,{value:u},$.createElement(rm.Provider,{children:r,value:g}))}function K3(t){let{children:e,location:r}=t;return R3(Uv(e),r)}new Promise(()=>{});function Uv(t,e){e===void 0&&(e=[]);let r=[];return $.Children.forEach(t,(n,i)=>{if(!$.isValidElement(n))return;let a=[...e,i];if(n.type===$.Fragment){r.push.apply(r,Uv(n.props.children,a));return}n.type!==tn&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Uv(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bv.apply(this,arguments)}function X3(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Y3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q3(t,e){return t.button===0&&(!e||e==="_self")&&!Y3(t)}const J3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Z3="6";try{window.__reactRouterVersion=Z3}catch{}const eV="startTransition",X1=H$[eV];function tV(t){let{basename:e,children:r,future:n,window:i}=t,a=$.useRef();a.current==null&&(a.current=n3({window:i,v5Compat:!0}));let o=a.current,[s,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=$.useCallback(f=>{u&&X1?X1(()=>l(f)):l(f)},[l,u]);return $.useLayoutEffect(()=>o.listen(c),[o,c]),$.useEffect(()=>q3(n),[n]),$.createElement(G3,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const rV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ay=$.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=X3(e,J3),{basename:p}=$.useContext(va),_,g=!1;if(typeof u=="string"&&nV.test(u)&&(_=u,rV))try{let x=new URL(window.location.href),O=u.startsWith("//")?new URL(x.protocol+u):new URL(u),T=$_(O.pathname,p);O.origin===x.origin&&T!=null?u=T+O.search+O.hash:g=!0}catch{}let y=k3(u,{relative:i}),w=iV(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function v(x){n&&n(x),x.defaultPrevented||w(x)}return $.createElement("a",Bv({},d,{href:_||y,onClick:g||a?n:v,ref:r,target:l}))});var Y1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y1||(Y1={}));var Q1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Q1||(Q1={}));function iV(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=of(),u=To(),c=Lk(t,{relative:o});return $.useCallback(f=>{if(Q3(f,r)){f.preventDefault();let d=n!==void 0?n:bd(u)===bd(c);l(t,{replace:d,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,n,i,r,t,a,o,s])}const aV={},J1=t=>{let e;const r=new Set,n=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const p=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(_=>_(e,p))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(aV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,i,l);return l},oV=t=>t?J1(t):J1;var zk={exports:{}},Wk={},Hk={exports:{}},qk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=$;function sV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lV=typeof Object.is=="function"?Object.is:sV,uV=Ns.useState,cV=Ns.useEffect,fV=Ns.useLayoutEffect,hV=Ns.useDebugValue;function dV(t,e){var r=e(),n=uV({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return fV(function(){i.value=r,i.getSnapshot=e,oy(i)&&a({inst:i})},[t,r,e]),cV(function(){return oy(i)&&a({inst:i}),t(function(){oy(i)&&a({inst:i})})},[t]),hV(r),r}function oy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lV(t,r)}catch{return!0}}function pV(t,e){return e()}var mV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pV:dV;qk.useSyncExternalStore=Ns.useSyncExternalStore!==void 0?Ns.useSyncExternalStore:mV;Hk.exports=qk;var gV=Hk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=$,yV=gV;function vV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bV=typeof Object.is=="function"?Object.is:vV,_V=yV.useSyncExternalStore,wV=nm.useRef,xV=nm.useEffect,EV=nm.useMemo,SV=nm.useDebugValue;Wk.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=wV(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=EV(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),i!==void 0&&o.hasValue){var _=o.value;if(i(_,p))return f=_}return f=p}if(_=f,bV(c,p))return _;var g=n(p);return i!==void 0&&i(_,g)?(c=p,_):(c=p,f=g)}var u=!1,c,f,d=r===void 0?null:r;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,r,n,i]);var s=_V(t,a[0],a[1]);return xV(function(){o.hasValue=!0,o.value=s},[s]),SV(s),s};zk.exports=Wk;var TV=zk.exports;const AV=Me(TV),Gk={},{useDebugValue:PV}=D,{useSyncExternalStoreWithSelector:IV}=AV;let Z1=!1;const OV=t=>t;function CV(t,e=OV,r){(Gk?"production":void 0)!=="production"&&r&&!Z1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Z1=!0);const n=IV(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return PV(n),n}const kV=t=>{(Gk?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?oV(t):t,r=(n,i)=>CV(e,n,i);return Object.assign(r,e),r},NV=t=>kV,RV={};function jV(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=r.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const uc=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return uc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return uc(n)(r)}}}},DV=(t,e)=>(r,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...e},o=!1;const s=new Set,l=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...y)},n,i);const c=uc(a.serialize),f=()=>{const y=a.partialize({...n()});let w;const v=c({state:y,version:a.version}).then(x=>u.setItem(a.name,x)).catch(x=>{w=x});if(w)throw w;return v},d=i.setState;i.setState=(y,w)=>{d(y,w),f()};const p=t((...y)=>{r(...y),f()},n,i);let _;const g=()=>{var y;if(!u)return;o=!1,s.forEach(v=>v(n()));const w=((y=a.onRehydrateStorage)==null?void 0:y.call(a,n()))||void 0;return uc(u.getItem.bind(u))(a.name).then(v=>{if(v)return a.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return a.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var x;return _=a.merge(v,(x=n())!=null?x:p),r(_,!0),f()}).then(()=>{w==null||w(_,void 0),o=!0,l.forEach(v=>v(_))}).catch(v=>{w==null||w(void 0,v)})};return i.persist={setOptions:y=>{a={...a,...y},y.getStorage&&(u=y.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(s.add(y),()=>{s.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},g(),_||p},MV=(t,e)=>(r,n,i)=>{let a={storage:jV(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},o=!1;const s=new Set,l=new Set;let u=a.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...g)},n,i);const c=()=>{const g=a.partialize({...n()});return u.setItem(a.name,{state:g,version:a.version})},f=i.setState;i.setState=(g,y)=>{f(g,y),c()};const d=t((...g)=>{r(...g),c()},n,i);i.getInitialState=()=>d;let p;const _=()=>{var g,y;if(!u)return;o=!1,s.forEach(v=>{var x;return v((x=n())!=null?x:d)});const w=((y=a.onRehydrateStorage)==null?void 0:y.call(a,(g=n())!=null?g:d))||void 0;return uc(u.getItem.bind(u))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return[!0,a.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var x;const[O,T]=v;if(p=a.merge(T,(x=n())!=null?x:d),r(p,!0),O)return c()}).then(()=>{w==null||w(p,void 0),p=n(),o=!0,l.forEach(v=>v(p))}).catch(v=>{w==null||w(void 0,v)})};return i.persist={setOptions:g=>{a={...a,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:g=>(s.add(g),()=>{s.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},a.skipHydration||_(),p||d},$V=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((RV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),DV(t,e)):MV(t,e),LV=$V,VV=()=>{};var eS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},FV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Xk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),n.push(r[c],r[f],r[d],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new UV;const d=a<<2|s>>4;if(n.push(d),u!==64){const p=s<<4&240|u>>2;if(n.push(p),f!==64){const _=u<<6&192|f;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BV=function(t){const e=Kk(t);return Xk.encodeByteArray(e,!0)},_d=function(t){return BV(t).replace(/\./g,"")},Yk=function(t){try{return Xk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=()=>zV().__FIREBASE_DEFAULTS__,HV=()=>{if(typeof process>"u"||typeof eS>"u")return;const t=eS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yk(t[1]);return e&&JSON.parse(e)},im=()=>{try{return VV()||WV()||HV()||qV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qk=t=>{var e,r;return(r=(e=im())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},GV=t=>{const e=Qk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Jk=()=>{var t;return(t=im())==null?void 0:t.config},Zk=t=>{var e;return(e=im())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_d(JSON.stringify(r)),_d(JSON.stringify(o)),""].join(".")}const Ru={};function YV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?t.emulator.push(e):t.prod.push(e);return t}function QV(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let tS=!1;function t2(t,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Ru[t]===e||Ru[t]||tS)return;Ru[t]=e;function r(d){return`__firebase__banner__${d}`}const n="__firebase__banner",a=YV().prod.length>0;function o(){const d=document.getElementById(n);d&&d.remove()}function s(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{tS=!0,o()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=QV(n),p=r("text"),_=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),y=document.getElementById(g)||document.createElement("a"),w=r("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const x=d.element;s(x),c(y,g);const O=u();l(v,w),x.append(v,_,y,O),document.body.appendChild(x)}a?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function ZV(){var e;const t=(e=im())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nF(){const t=rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iF(){return!ZV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aF(){try{return typeof indexedDB=="object"}catch{return!1}}function oF(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="FirebaseError";class gi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=sF,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sf.prototype.create)}}class sf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?lF(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new gi(i,s,n)}}function lF(t,e){return t.replace(uF,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const uF=/\{\$([^}]+)}/g;function cF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lo(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(rS(a)&&rS(o)){if(!lo(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function rS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function yu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function vu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function fF(t,e){const r=new hF(t,e);return r.subscribe.bind(r)}class hF{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");dF(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=sy),i.error===void 0&&(i.error=sy),i.complete===void 0&&(i.complete=sy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dF(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function sy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new KV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gF(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mF(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mF(t){return t===Va?void 0:t}function gF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new pF(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const vF={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},bF=we.INFO,_F={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},wF=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=_F[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U_{constructor(e){this.name=e,this._logLevel=bF,this._logHandler=wF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const xF=(t,e)=>e.some(r=>t instanceof r);let nS,iS;function EF(){return nS||(nS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SF(){return iS||(iS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r2=new WeakMap,zv=new WeakMap,n2=new WeakMap,ly=new WeakMap,B_=new WeakMap;function TF(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(ea(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&r2.set(r,t)}).catch(()=>{}),B_.set(e,t),e}function AF(t){if(zv.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});zv.set(t,e)}let Wv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return zv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ea(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PF(t){Wv=t(Wv)}function IF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(uy(this),e,...r);return n2.set(n,e.sort?e.sort():[e]),ea(n)}:SF().includes(t)?function(...e){return t.apply(uy(this),e),ea(r2.get(this))}:function(...e){return ea(t.apply(uy(this),e))}}function OF(t){return typeof t=="function"?IF(t):(t instanceof IDBTransaction&&AF(t),xF(t,EF())?new Proxy(t,Wv):t)}function ea(t){if(t instanceof IDBRequest)return TF(t);if(ly.has(t))return ly.get(t);const e=OF(t);return e!==t&&(ly.set(t,e),B_.set(e,t)),e}const uy=t=>B_.get(t);function CF(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=ea(o);return n&&o.addEventListener("upgradeneeded",l=>{n(ea(o.result),l.oldVersion,l.newVersion,ea(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const kF=["get","getKey","getAll","getAllKeys","count"],NF=["put","add","delete","clear"],cy=new Map;function aS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=NF.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||kF.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return cy.set(e,a),a}PF(t=>({...t,get:(e,r,n)=>aS(e,r)||t.get(e,r,n),has:(e,r)=>!!aS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(jF(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function jF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hv="@firebase/app",oS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new U_("@firebase/app"),DF="@firebase/app-compat",MF="@firebase/analytics-compat",$F="@firebase/analytics",LF="@firebase/app-check-compat",VF="@firebase/app-check",FF="@firebase/auth",UF="@firebase/auth-compat",BF="@firebase/database",zF="@firebase/data-connect",WF="@firebase/database-compat",HF="@firebase/functions",qF="@firebase/functions-compat",GF="@firebase/installations",KF="@firebase/installations-compat",XF="@firebase/messaging",YF="@firebase/messaging-compat",QF="@firebase/performance",JF="@firebase/performance-compat",ZF="@firebase/remote-config",e6="@firebase/remote-config-compat",t6="@firebase/storage",r6="@firebase/storage-compat",n6="@firebase/firestore",i6="@firebase/ai",a6="@firebase/firestore-compat",o6="firebase",s6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="[DEFAULT]",l6={[Hv]:"fire-core",[DF]:"fire-core-compat",[$F]:"fire-analytics",[MF]:"fire-analytics-compat",[VF]:"fire-app-check",[LF]:"fire-app-check-compat",[FF]:"fire-auth",[UF]:"fire-auth-compat",[BF]:"fire-rtdb",[zF]:"fire-data-connect",[WF]:"fire-rtdb-compat",[HF]:"fire-fn",[qF]:"fire-fn-compat",[GF]:"fire-iid",[KF]:"fire-iid-compat",[XF]:"fire-fcm",[YF]:"fire-fcm-compat",[QF]:"fire-perf",[JF]:"fire-perf-compat",[ZF]:"fire-rc",[e6]:"fire-rc-compat",[t6]:"fire-gcs",[r6]:"fire-gcs-compat",[n6]:"fire-fst",[a6]:"fire-fst-compat",[i6]:"fire-vertex","fire-js":"fire-js",[o6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map,u6=new Map,Gv=new Map;function sS(t,e){try{t.container.addComponent(e)}catch(r){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Rs(t){const e=t.name;if(Gv.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Gv.set(e,t);for(const r of wd.values())sS(r,t);for(const r of u6.values())sS(r,t);return!0}function z_(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Vr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new sf("app","Firebase",c6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=s6;function i2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:qv,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw ta.create("bad-app-name",{appName:String(i)});if(r||(r=Jk()),!r)throw ta.create("no-options");const a=wd.get(i);if(a){if(lo(r,a.options)&&lo(n,a.config))return a;throw ta.create("duplicate-app",{appName:i})}const o=new yF(i);for(const l of Gv.values())o.addComponent(l);const s=new f6(r,n,o);return wd.set(i,s),s}function a2(t=qv){const e=wd.get(t);if(!e&&t===qv&&Jk())return i2();if(!e)throw ta.create("no-app",{appName:t});return e}function ra(t,e,r){let n=l6[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(o.join(" "));return}Rs(new uo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="firebase-heartbeat-database",d6=1,cc="firebase-heartbeat-store";let fy=null;function o2(){return fy||(fy=CF(h6,d6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cc)}catch(r){console.warn(r)}}}}).catch(t=>{throw ta.create("idb-open",{originalErrorMessage:t.message})})),fy}async function p6(t){try{const r=(await o2()).transaction(cc),n=await r.objectStore(cc).get(s2(t));return await r.done,n}catch(e){if(e instanceof gi)si.warn(e.message);else{const r=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(r.message)}}}async function lS(t,e){try{const n=(await o2()).transaction(cc,"readwrite");await n.objectStore(cc).put(e,s2(t)),await n.done}catch(r){if(r instanceof gi)si.warn(r.message);else{const n=ta.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});si.warn(n.message)}}}function s2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=1024,g6=30;class y6{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new b6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>g6){const o=_6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){si.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=uS(),{heartbeatsToSend:n,unsentEntries:i}=v6(this._heartbeatsCache.heartbeats),a=_d(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return si.warn(r),""}}}function uS(){return new Date().toISOString().substring(0,10)}function v6(t,e=m6){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),cS(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),cS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class b6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aF()?oF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await p6(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return lS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return lS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function cS(t){return _d(JSON.stringify({version:2,heartbeats:t})).length}function _6(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){Rs(new uo("platform-logger",e=>new RF(e),"PRIVATE")),Rs(new uo("heartbeat",e=>new y6(e),"PRIVATE")),ra(Hv,oS,t),ra(Hv,oS,"esm2020"),ra("fire-js","")}w6("");var fS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,l2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function P(){}P.prototype=S.prototype,E.F=S.prototype,E.prototype=new P,E.prototype.constructor=E,E.D=function(k,C,j){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return S.prototype[C].apply(k,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,P){P||(P=0);const k=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)k[C]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(C=0;C<16;++C)k[C]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=E.g[0],P=E.g[1],C=E.g[2];let j=E.g[3],N;N=S+(j^P&(C^j))+k[0]+3614090360&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[2]+606105819&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[3]+3250441966&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[4]+4118548399&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[6]+2821735955&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[7]+4249261313&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[8]+1770035416&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[10]+4294925233&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[11]+2304563134&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[12]+1804603682&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[14]+2792965006&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[15]+1236535329&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(C^j&(P^C))+k[1]+4129170786&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[11]+643717713&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[0]+3921069994&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[5]+3593408605&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[15]+3634488961&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[4]+3889429448&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[9]+568446438&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[3]+4107603335&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[8]+1163531501&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[13]+2850285829&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[7]+1735328473&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[12]+2368359562&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(P^C^j)+k[5]+4294588738&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[11]+1839030562&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[14]+4259657740&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[1]+2763975236&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[7]+4139469664&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[10]+3200236656&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[13]+681279174&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[3]+3572445317&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[6]+76029189&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[9]+3654602809&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[15]+530742520&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[2]+3299628645&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(C^(P|~j))+k[0]+4096336452&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[14]+2878612391&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[5]+4237533241&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[12]+1700485571&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[10]+4293915773&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[1]+2240044497&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[8]+1873313359&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[6]+2734768916&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[13]+1309151649&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[4]+4149444226&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[2]+718787259&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+j&4294967295}n.prototype.v=function(E,S){S===void 0&&(S=E.length);const P=S-this.blockSize,k=this.C;let C=this.h,j=0;for(;j<S;){if(C==0)for(;j<=P;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<S;)if(k[C++]=E.charCodeAt(j++),C==this.blockSize){i(this,k),C=0;break}}else for(;j<S;)if(k[C++]=E[j++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=S},n.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;S=this.o*8;for(var P=E.length-8;P<E.length;++P)E[P]=S&255,S/=256;for(this.v(E),E=Array(16),S=0,P=0;P<4;++P)for(let k=0;k<32;k+=8)E[S++]=this.g[P]>>>k&255;return E};function a(E,S){var P=s;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=S(E)}function o(E,S){this.h=S;const P=[];let k=!0;for(let C=E.length-1;C>=0;C--){const j=E[C]|0;k&&j==S||(P[C]=j,k=!1)}this.g=P}var s={};function l(E){return-128<=E&&E<128?a(E,function(S){return new o([S|0],S<0?-1:0)}):new o([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return y(u(-E));const S=[];let P=1;for(let k=0;E>=P;k++)S[k]=E/P|0,P*=4294967296;return new o(S,0)}function c(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return y(c(E.substring(1),S));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(S,8));let k=f;for(let j=0;j<E.length;j+=8){var C=Math.min(8,E.length-j);const N=parseInt(E.substring(j,j+C),S);C<8?(C=u(Math.pow(S,C)),k=k.j(C).add(u(N))):(k=k.j(P),k=k.add(u(N)))}return k}var f=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();let E=0,S=1;for(let P=0;P<this.g.length;P++){const k=this.i(P);E+=(k>=0?k:4294967296+k)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(_(this))return"0";if(g(this))return"-"+y(this).toString(E);const S=u(Math.pow(E,6));var P=this;let k="";for(;;){const C=O(P,S).g;P=w(P,C.j(S));let j=((P.g.length>0?P.g[0]:P.h)>>>0).toString(E);if(P=C,_(P))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function _(E){if(E.h!=0)return!1;for(let S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=w(this,E),g(E)?-1:_(E)?0:1};function y(E){const S=E.g.length,P=[];for(let k=0;k<S;k++)P[k]=~E.g[k];return new o(P,~E.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(E){const S=Math.max(this.g.length,E.g.length),P=[];let k=0;for(let C=0;C<=S;C++){let j=k+(this.i(C)&65535)+(E.i(C)&65535),N=(j>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);k=N>>>16,j&=65535,N&=65535,P[C]=N<<16|j}return new o(P,P[P.length-1]&-2147483648?-1:0)};function w(E,S){return E.add(y(S))}t.j=function(E){if(_(this)||_(E))return f;if(g(this))return g(E)?y(this).j(y(E)):y(y(this).j(E));if(g(E))return y(this.j(y(E)));if(this.l(p)<0&&E.l(p)<0)return u(this.m()*E.m());const S=this.g.length+E.g.length,P=[];for(var k=0;k<2*S;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(let C=0;C<E.g.length;C++){const j=this.i(k)>>>16,N=this.i(k)&65535,F=E.i(C)>>>16,U=E.i(C)&65535;P[2*k+2*C]+=N*U,v(P,2*k+2*C),P[2*k+2*C+1]+=j*U,v(P,2*k+2*C+1),P[2*k+2*C+1]+=N*F,v(P,2*k+2*C+1),P[2*k+2*C+2]+=j*F,v(P,2*k+2*C+2)}for(E=0;E<S;E++)P[E]=P[2*E+1]<<16|P[2*E];for(E=S;E<2*S;E++)P[E]=0;return new o(P,0)};function v(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function x(E,S){this.g=E,this.h=S}function O(E,S){if(_(S))throw Error("division by zero");if(_(E))return new x(f,f);if(g(E))return S=O(y(E),S),new x(y(S.g),y(S.h));if(g(S))return S=O(E,y(S)),new x(y(S.g),S.h);if(E.g.length>30){if(g(E)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var P=d,k=S;k.l(E)<=0;)P=T(P),k=T(k);var C=I(P,1),j=I(k,1);for(k=I(k,2),P=I(P,2);!_(k);){var N=j.add(k);N.l(E)<=0&&(C=C.add(P),j=N),k=I(k,1),P=I(P,1)}return S=w(E,C.j(S)),new x(C,S)}for(C=f;E.l(S)>=0;){for(P=Math.max(1,Math.floor(E.m()/S.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=u(P),N=j.j(S);g(N)||N.l(E)>0;)P-=k,j=u(P),N=j.j(S);_(j)&&(j=d),C=C.add(j),E=w(E,N)}return new x(C,E)}t.B=function(E){return O(this,E).h},t.and=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)&E.i(k);return new o(P,this.h&E.h)},t.or=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)|E.i(k);return new o(P,this.h|E.h)},t.xor=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)^E.i(k);return new o(P,this.h^E.h)};function T(E){const S=E.g.length+1,P=[];for(let k=0;k<S;k++)P[k]=E.i(k)<<1|E.i(k-1)>>>31;return new o(P,E.h)}function I(E,S){const P=S>>5;S%=32;const k=E.g.length-P,C=[];for(let j=0;j<k;j++)C[j]=S>0?E.i(j+P)>>>S|E.i(j+P+1)<<32-S:E.i(j+P);return new o(C,E.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,l2=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,na=o}).apply(typeof fS<"u"?fS:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u2,bu,c2,Vh,Kv,f2,h2,d2;(function(){var t,e=Object.defineProperty;function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var b=0;b<h.length;++b){var A=h[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(h,b){if(b)e:{var A=n;h=h.split(".");for(var R=0;R<h.length-1;R++){var M=h[R];if(!(M in A))break e;A=A[M]}h=h[h.length-1],R=A[h],b=b(R),b!=R&&b!=null&&e(A,h,{configurable:!0,writable:!0,value:b})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(b){var A=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&A.push([R,b[R]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function l(h,b,A){return h.call.apply(h.bind,arguments)}function u(h,b,A){return u=l,u.apply(null,arguments)}function c(h,b){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function f(h,b){function A(){}A.prototype=b.prototype,h.Z=b.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(R,M,V){for(var J=Array(arguments.length-2),me=2;me<arguments.length;me++)J[me-2]=arguments[me];return b.prototype[M].apply(R,J)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const b=h.length;if(b>0){const A=Array(b);for(let R=0;R<b;R++)A[R]=h[R];return A}return[]}function _(h,b){for(let R=1;R<arguments.length;R++){const M=arguments[R];var A=typeof M;if(A=A!="object"?A:M?Array.isArray(M)?"array":A:"null",A=="array"||A=="object"&&typeof M.length=="number"){A=h.length||0;const V=M.length||0;h.length=A+V;for(let J=0;J<V;J++)h[A+J]=M[J]}else h.push(M)}}class g{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function y(h){o.setTimeout(()=>{throw h},0)}function w(){var h=E;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class v{constructor(){this.h=this.g=null}add(b,A){const R=x.get();R.set(b,A),this.h?this.h.next=R:this.g=R,this.h=R}}var x=new g(()=>new O,h=>h.reset());class O{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,E=new v,S=()=>{const h=Promise.resolve(void 0);T=()=>{h.then(P)}};function P(){for(var h;h=w();){try{h.h.call(h.g)}catch(A){y(A)}var b=x;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}I=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};o.addEventListener("test",A,b),o.removeEventListener("test",A,b)}catch{}return h}();function N(h){return/^[\s\xa0]*$/.test(h)}function F(h,b){C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}f(F,C),F.prototype.init=function(h,b){const A=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(A=="mouseover"?b=h.fromElement:A=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var U="closure_listenable_"+(Math.random()*1e6|0),H=0;function G(h,b,A,R,M){this.listener=h,this.proxy=null,this.src=b,this.type=A,this.capture=!!R,this.ha=M,this.key=++H,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h,b,A){for(const R in h)b.call(A,h[R],R,h)}function X(h,b){for(const A in h)b.call(void 0,h[A],A,h)}function ee(h){const b={};for(const A in h)b[A]=h[A];return b}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,b){let A,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(A in R)h[A]=R[A];for(let V=0;V<Q.length;V++)A=Q[V],Object.prototype.hasOwnProperty.call(R,A)&&(h[A]=R[A])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,b,A,R,M){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const J=ze(h,b,R,M);return J>-1?(b=h[J],A||(b.fa=!1)):(b=new G(b,this.src,V,!!R,M),b.fa=A,h.push(b)),b};function Re(h,b){const A=b.type;if(A in h.g){var R=h.g[A],M=Array.prototype.indexOf.call(R,b,void 0),V;(V=M>=0)&&Array.prototype.splice.call(R,M,1),V&&(L(b),h.g[A].length==0&&(delete h.g[A],h.h--))}}function ze(h,b,A,R){for(let M=0;M<h.length;++M){const V=h[M];if(!V.da&&V.listener==b&&V.capture==!!A&&V.ha==R)return M}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Ot={};function te(h,b,A,R,M){if(Array.isArray(b)){for(let V=0;V<b.length;V++)te(h,b[V],A,R,M);return null}return A=Jr(A),h&&h[U]?h.J(b,A,s(R)?!!R.capture:!1,M):de(h,b,A,!1,R,M)}function de(h,b,A,R,M,V){if(!b)throw Error("Invalid event type");const J=s(M)?!!M.capture:!!M;let me=Je(h);if(me||(h[Ht]=me=new ye(h)),A=me.add(b,A,R,J,V),A.proxy)return A;if(R=pe(),A.proxy=R,R.src=h,R.listener=A,h.addEventListener)j||(M=J),M===void 0&&(M=!1),h.addEventListener(b.toString(),R,M);else if(h.attachEvent)h.attachEvent(_e(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function pe(){function h(A){return b.call(h.src,h.listener,A)}const b=st;return h}function K(h,b,A,R,M){if(Array.isArray(b))for(var V=0;V<b.length;V++)K(h,b[V],A,R,M);else R=s(R)?!!R.capture:!!R,A=Jr(A),h&&h[U]?(h=h.i,V=String(b).toString(),V in h.g&&(b=h.g[V],A=ze(b,A,R,M),A>-1&&(L(b[A]),Array.prototype.splice.call(b,A,1),b.length==0&&(delete h.g[V],h.h--)))):h&&(h=Je(h))&&(b=h.g[b.toString()],h=-1,b&&(h=ze(b,A,R,M)),(A=h>-1?b[h]:null)&&Ve(A))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[U])Re(b.i,h);else{var A=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(A,R,h.capture):b.detachEvent?b.detachEvent(_e(A),R):b.addListener&&b.removeListener&&b.removeListener(R),(A=Je(b))?(Re(A,h),A.h==0&&(A.src=null,b[Ht]=null)):L(h)}}}function _e(h){return h in Ot?Ot[h]:Ot[h]="on"+h}function st(h,b){if(h.da)h=!0;else{b=new F(b,this);const A=h.listener,R=h.ha||h.src;h.fa&&Ve(h),h=A.call(R,b)}return h}function Je(h){return h=h[Ht],h instanceof ye?h:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jr(h){return typeof h=="function"?h:(h[Ct]||(h[Ct]=function(b){return h.handleEvent(b)}),h[Ct])}function Ze(){k.call(this),this.i=new ye(this),this.M=this,this.G=null}f(Ze,k),Ze.prototype[U]=!0,Ze.prototype.removeEventListener=function(h,b,A,R){K(this,h,b,A,R)};function dt(h,b){var A,R=h.G;if(R)for(A=[];R;R=R.G)A.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new C(b,h);else if(b instanceof C)b.target=b.target||h;else{var M=b;b=new C(R,h),oe(b,M)}M=!0;let V,J;if(A)for(J=A.length-1;J>=0;J--)V=b.g=A[J],M=Nr(V,R,!0,b)&&M;if(V=b.g=h,M=Nr(V,R,!0,b)&&M,M=Nr(V,R,!1,b)&&M,A)for(J=0;J<A.length;J++)V=b.g=A[J],M=Nr(V,R,!1,b)&&M}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const A=h.g[b];for(let R=0;R<A.length;R++)L(A[R]);delete h.g[b],h.h--}}this.G=null},Ze.prototype.J=function(h,b,A,R){return this.i.add(String(h),b,!1,A,R)},Ze.prototype.K=function(h,b,A,R){return this.i.add(String(h),b,!0,A,R)};function Nr(h,b,A,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let M=!0;for(let V=0;V<b.length;++V){const J=b[V];if(J&&!J.da&&J.capture==A){const me=J.listener,_t=J.ha||J.src;J.fa&&Re(h.i,J),M=me.call(_t,R)!==!1&&M}}return M&&!R.defaultPrevented}function Fn(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(h,b||0)}function Do(h){h.g=Fn(()=>{h.g=null,h.i&&(h.i=!1,Do(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Cf extends k{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(h){k.call(this),this.h=h,this.g={}}f(wi,k);var Ux=[];function Bx(h){z(h.g,function(b,A){this.g.hasOwnProperty(A)&&Ve(b)},h),h.g={}}wi.prototype.N=function(){wi.Z.N.call(this),Bx(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pg=o.JSON.stringify,n$=o.JSON.parse,i$=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function zx(){}function Wx(){}var jl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mg(){C.call(this,"d")}f(mg,C);function gg(){C.call(this,"c")}f(gg,C);var Ca={},Hx=null;function kf(){return Hx=Hx||new Ze}Ca.Ia="serverreachability";function qx(h){C.call(this,Ca.Ia,h)}f(qx,C);function Dl(h){const b=kf();dt(b,new qx(b))}Ca.STAT_EVENT="statevent";function Gx(h,b){C.call(this,Ca.STAT_EVENT,h),this.stat=b}f(Gx,C);function nr(h){const b=kf();dt(b,new Gx(b,h))}Ca.Ja="timingevent";function Kx(h,b){C.call(this,Ca.Ja,h),this.size=b}f(Kx,C);function Ml(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},b)}function $l(){this.g=!0}$l.prototype.ua=function(){this.g=!1};function a$(h,b,A,R,M,V){h.info(function(){if(h.g)if(V){var J="",me=V.split("&");for(let $e=0;$e<me.length;$e++){var _t=me[$e].split("=");if(_t.length>1){const kt=_t[0];_t=_t[1];const _n=kt.split("_");J=_n.length>=2&&_n[1]=="type"?J+(kt+"="+_t+"&"):J+(kt+"=redacted&")}}}else J=null;else J=V;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+b+`
`+A+`
`+J})}function o$(h,b,A,R,M,V,J){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+b+`
`+A+`
`+V+" "+J})}function Mo(h,b,A,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+l$(h,A)+(R?" "+R:"")})}function s$(h,b){h.info(function(){return"TIMEOUT: "+b})}$l.prototype.info=function(){};function l$(h,b){if(!h.g)return b;if(!b)return null;try{const V=JSON.parse(b);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var A=V[h];if(!(A.length<2)){var R=A[1];if(Array.isArray(R)&&!(R.length<1)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(let J=1;J<R.length;J++)R[J]=""}}}}return pg(V)}catch{return b}}var Nf={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yx;function yg(){}f(yg,zx),yg.prototype.g=function(){return new XMLHttpRequest},Yx=new yg;function Ll(h){return encodeURIComponent(String(h))}function u$(h){var b=1;h=h.split(":");const A=[];for(;b>0&&h.length;)A.push(h.shift()),b--;return h.length&&A.push(h.join(":")),A}function xi(h,b,A,R){this.j=h,this.i=b,this.l=A,this.S=R||1,this.V=new wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qx}function Qx(){this.i=null,this.g="",this.h=!1}var Jx={},vg={};function bg(h,b,A){h.M=1,h.A=jf(bn(b)),h.u=A,h.R=!0,Zx(h,null)}function Zx(h,b){h.F=Date.now(),Rf(h),h.B=bn(h.A);var A=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),hE(A.i,"t",R),h.C=0,A=h.j.L,h.h=new Qx,h.g=CE(h.j,A?b:null,!h.u),h.P>0&&(h.O=new Cf(u(h.Y,h,h.g),h.P)),b=h.V,A=h.g,R=h.ba;var M="readystatechange";Array.isArray(M)||(M&&(Ux[0]=M.toString()),M=Ux);for(let V=0;V<M.length;V++){const J=te(A,M[V],R||b.handleEvent,!1,b.h||b);if(!J)break;b.g[J.key]=J}b=h.J?ee(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Dl(),a$(h.i,h.v,h.B,h.l,h.S,h.u)}xi.prototype.ba=function(h){h=h.target;const b=this.O;b&&Ti(h)==3?b.j():this.Y(h)},xi.prototype.Y=function(h){try{if(h==this.g)e:{const me=Ti(this.g),_t=this.g.ya(),$e=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||bE(this.g)))){this.K||me!=4||_t==7||(_t==8||$e<=0?Dl(3):Dl(2)),_g(this);var b=this.g.ca();this.X=b;var A=c$(this);if(this.o=b==200,o$(this.i,this.v,this.B,this.l,this.S,me,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,M=this.g;if((R=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var V=R;break t}}V=null}if(h=V)Mo(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wg(this,h);else{this.o=!1,this.m=3,nr(12),ka(this),Vl(this);break e}}if(this.R){h=!0;let kt;for(;!this.K&&this.C<A.length;)if(kt=f$(this,A),kt==vg){me==4&&(this.m=4,nr(14),h=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Jx){this.m=4,nr(15),Mo(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else Mo(this.i,this.l,kt,null),wg(this,kt);if(eE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||A.length!=0||this.h.h||(this.m=1,nr(16),h=!1),this.o=this.o&&h,!h)Mo(this.i,this.l,A,"[Invalid Chunked Response]"),ka(this),Vl(this);else if(A.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Og(J),J.P=!0,nr(11))}}else Mo(this.i,this.l,A,null),wg(this,A);me==4&&ka(this),this.o&&!this.K&&(me==4?AE(this.j,this):(this.o=!1,Rf(this)))}else T$(this.g),b==400&&A.indexOf("Unknown SID")>0?(this.m=3,nr(12)):(this.m=0,nr(13)),ka(this),Vl(this)}}}catch{}finally{}};function c$(h){if(!eE(h))return h.g.la();const b=bE(h.g);if(b==="")return"";let A="";const R=b.length,M=Ti(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ka(h),Vl(h),"";h.h.i=new o.TextDecoder}for(let V=0;V<R;V++)h.h.h=!0,A+=h.h.i.decode(b[V],{stream:!(M&&V==R-1)});return b.length=0,h.h.g+=A,h.C=0,h.h.g}function eE(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function f$(h,b){var A=h.C,R=b.indexOf(`
`,A);return R==-1?vg:(A=Number(b.substring(A,R)),isNaN(A)?Jx:(R+=1,R+A>b.length?vg:(b=b.slice(R,R+A),h.C=R+A,b)))}xi.prototype.cancel=function(){this.K=!0,ka(this)};function Rf(h){h.T=Date.now()+h.H,tE(h,h.H)}function tE(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ml(u(h.aa,h),b)}function _g(h){h.D&&(o.clearTimeout(h.D),h.D=null)}xi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(s$(this.i,this.B),this.M!=2&&(Dl(),nr(17)),ka(this),this.m=2,Vl(this)):tE(this,this.T-h)};function Vl(h){h.j.I==0||h.K||AE(h.j,h)}function ka(h){_g(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Bx(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function wg(h,b){try{var A=h.j;if(A.I!=0&&(A.g==h||xg(A.h,h))){if(!h.L&&xg(A.h,h)&&A.I==3){try{var R=A.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)Vf(A),$f(A);else break e;Ig(A),nr(18)}}else A.xa=M[1],0<A.xa-A.K&&M[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Ml(u(A.Va,A),6e3));iE(A.h)<=1&&A.ta&&(A.ta=void 0)}else Ra(A,11)}else if((h.L||A.g==h)&&Vf(A),!N(b))for(M=A.Ba.g.parse(b),b=0;b<M.length;b++){let $e=M[b];const kt=$e[0];if(!(kt<=A.K))if(A.K=kt,$e=$e[1],A.I==2)if($e[0]=="c"){A.M=$e[1],A.ba=$e[2];const _n=$e[3];_n!=null&&(A.ka=_n,A.j.info("VER="+A.ka));const ja=$e[4];ja!=null&&(A.za=ja,A.j.info("SVER="+A.za));const Ai=$e[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(R=1.5*Ai,A.O=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const Pi=h.g;if(Pi){const Uf=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uf){var V=R.h;V.g||Uf.indexOf("spdy")==-1&&Uf.indexOf("quic")==-1&&Uf.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Eg(V,V.h),V.h=null))}if(R.G){const Cg=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Cg&&(R.wa=Cg,We(R.J,R.G,Cg))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),R=A;var J=h;if(R.na=OE(R,R.L?R.ba:null,R.W),J.L){aE(R.h,J);var me=J,_t=R.O;_t&&(me.H=_t),me.D&&(_g(me),Rf(me)),R.g=J}else SE(R);A.i.length>0&&Lf(A)}else $e[0]!="stop"&&$e[0]!="close"||Ra(A,7);else A.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ra(A,7):Pg(A):$e[0]!="noop"&&A.l&&A.l.qa($e),A.A=0)}}Dl(4)}catch{}}var h$=class{constructor(h,b){this.g=h,this.map=b}};function rE(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function iE(h){return h.h?1:h.g?h.g.size:0}function xg(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Eg(h,b){h.g?h.g.add(b):h.h=b}function aE(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}rE.prototype.cancel=function(){if(this.i=oE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function oE(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const A of h.g.values())b=b.concat(A.G);return b}return p(h.i)}var sE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d$(h,b){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const R=h[A].indexOf("=");let M,V=null;R>=0?(M=h[A].substring(0,R),V=h[A].substring(R+1)):M=h[A],b(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ei(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Ei?(this.l=h.l,Fl(this,h.j),this.o=h.o,this.g=h.g,Ul(this,h.u),this.h=h.h,Sg(this,dE(h.i)),this.m=h.m):h&&(b=String(h).match(sE))?(this.l=!1,Fl(this,b[1]||"",!0),this.o=Bl(b[2]||""),this.g=Bl(b[3]||"",!0),Ul(this,b[4]),this.h=Bl(b[5]||"",!0),Sg(this,b[6]||"",!0),this.m=Bl(b[7]||"")):(this.l=!1,this.i=new Wl(null,this.l))}Ei.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(zl(b,lE,!0),":");var A=this.g;return(A||b=="file")&&(h.push("//"),(b=this.o)&&h.push(zl(b,lE,!0),"@"),h.push(Ll(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(zl(A,A.charAt(0)=="/"?g$:m$,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",zl(A,v$)),h.join("")},Ei.prototype.resolve=function(h){const b=bn(this);let A=!!h.j;A?Fl(b,h.j):A=!!h.o,A?b.o=h.o:A=!!h.g,A?b.g=h.g:A=h.u!=null;var R=h.h;if(A)Ul(b,h.u);else if(A=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var M=b.h.lastIndexOf("/");M!=-1&&(R=b.h.slice(0,M+1)+R)}if(M=R,M==".."||M==".")R="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){R=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let J=0;J<M.length;){const me=M[J++];me=="."?R&&J==M.length&&V.push(""):me==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),R&&J==M.length&&V.push("")):(V.push(me),R=!0)}R=V.join("/")}else R=M}return A?b.h=R:A=h.i.toString()!=="",A?Sg(b,dE(h.i)):A=!!h.m,A&&(b.m=h.m),b};function bn(h){return new Ei(h)}function Fl(h,b,A){h.j=A?Bl(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Ul(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Sg(h,b,A){b instanceof Wl?(h.i=b,b$(h.i,h.l)):(A||(b=zl(b,y$)),h.i=new Wl(b,h.l))}function We(h,b,A){h.i.set(b,A)}function jf(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bl(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zl(h,b,A){return typeof h=="string"?(h=encodeURI(h).replace(b,p$),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function p$(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var lE=/[#\/\?@]/g,m$=/[#\?:]/g,g$=/[#\?]/g,y$=/[#\?@]/g,v$=/#/g;function Wl(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Na(h){h.g||(h.g=new Map,h.h=0,h.i&&d$(h.i,function(b,A){h.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=Wl.prototype,t.add=function(h,b){Na(this),this.i=null,h=$o(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(b),this.h+=1,this};function uE(h,b){Na(h),b=$o(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function cE(h,b){return Na(h),b=$o(h,b),h.g.has(b)}t.forEach=function(h,b){Na(this),this.g.forEach(function(A,R){A.forEach(function(M){h.call(b,M,R,this)},this)},this)};function fE(h,b){Na(h);let A=[];if(typeof b=="string")cE(h,b)&&(A=A.concat(h.g.get($o(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)A=A.concat(h[b]);return A}t.set=function(h,b){return Na(this),this.i=null,h=$o(this,h),cE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=fE(this,h),h.length>0?String(h[0]):b):b};function hE(h,b,A){uE(h,b),A.length>0&&(h.i=null,h.g.set($o(h,b),p(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var A=b[R];const M=Ll(A);A=fE(this,A);for(let V=0;V<A.length;V++){let J=M;A[V]!==""&&(J+="="+Ll(A[V])),h.push(J)}}return this.i=h.join("&")};function dE(h){const b=new Wl;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function $o(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function b$(h,b){b&&!h.j&&(Na(h),h.i=null,h.g.forEach(function(A,R){const M=R.toLowerCase();R!=M&&(uE(this,R),hE(this,M,A))},h)),h.j=b}function _$(h,b){const A=new $l;if(o.Image){const R=new Image;R.onload=c(Si,A,"TestLoadImage: loaded",!0,b,R),R.onerror=c(Si,A,"TestLoadImage: error",!1,b,R),R.onabort=c(Si,A,"TestLoadImage: abort",!1,b,R),R.ontimeout=c(Si,A,"TestLoadImage: timeout",!1,b,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function w$(h,b){const A=new $l,R=new AbortController,M=setTimeout(()=>{R.abort(),Si(A,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(V=>{clearTimeout(M),V.ok?Si(A,"TestPingServer: ok",!0,b):Si(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(M),Si(A,"TestPingServer: error",!1,b)})}function Si(h,b,A,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(A)}catch{}}function x$(){this.g=new i$}function Tg(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Tg,zx),Tg.prototype.g=function(){return new Df(this.i,this.h)};function Df(h,b){Ze.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Df,Ze),t=Df.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,ql(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hl(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pE(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function pE(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Hl(this):ql(this),this.readyState==3&&pE(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Hl(this))},t.Na=function(h){this.g&&(this.response=h,Hl(this))},t.ga=function(){this.g&&Hl(this)};function Hl(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ql(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=b.next();return h.join(`\r
`)};function ql(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function mE(h){let b="";return z(h,function(A,R){b+=R,b+=":",b+=A,b+=`\r
`}),b}function Ag(h,b,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=mE(A),typeof h=="string"?A!=null&&Ll(A):We(h,b,A))}function it(h){Ze.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(it,Ze);var E$=/^https?$/i,S$=["POST","PUT"];t=it.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yx.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(V){gE(this,V);return}if(h=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)A.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const V of R.keys())A.set(V,R.get(V));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(V=>V.toLowerCase()=="content-type"),M=o.FormData&&h instanceof o.FormData,!(Array.prototype.indexOf.call(S$,b,void 0)>=0)||R||M||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,J]of A)this.g.setRequestHeader(V,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){gE(this,V)}};function gE(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,yE(h),Mf(h)}function yE(h){h.A||(h.A=!0,dt(h,"complete"),dt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,dt(this,"complete"),dt(this,"abort"),Mf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mf(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vE(this):this.Xa())},t.Xa=function(){vE(this)};function vE(h){if(h.h&&typeof a<"u"){if(h.v&&Ti(h)==4)setTimeout(h.Ca.bind(h),0);else if(dt(h,"readystatechange"),Ti(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var R;if(R=V===0){let J=String(h.D).match(sE)[1]||null;!J&&o.self&&o.self.location&&(J=o.self.location.protocol.slice(0,-1)),R=!E$.test(J?J.toLowerCase():"")}A=R}if(A)dt(h,"complete"),dt(h,"success");else{h.o=6;try{var M=Ti(h)>2?h.g.statusText:""}catch{M=""}h.l=M+" ["+h.ca()+"]",yE(h)}}finally{Mf(h)}}}}function Mf(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,b||dt(h,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ti(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),n$(b)}};function bE(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function T$(h){const b={};h=(h.g&&Ti(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(N(h[R]))continue;var A=u$(h[R]);const M=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const V=b[M]||[];b[M]=V,V.push(A)}X(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gl(h,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||b}function _E(h){this.za=0,this.i=[],this.j=new $l,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gl("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gl("baseRetryDelayMs",5e3,h),this.Za=Gl("retryDelaySeedMs",1e4,h),this.Ta=Gl("forwardChannelMaxRetries",2,h),this.va=Gl("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new rE(h&&h.concurrentRequestLimit),this.Ba=new x$,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_E.prototype,t.ka=8,t.I=1,t.connect=function(h,b,A,R){nr(0),this.W=h,this.H=b||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.J=OE(this,null,this.W),Lf(this)};function Pg(h){if(wE(h),h.I==3){var b=h.V++,A=bn(h.J);if(We(A,"SID",h.M),We(A,"RID",b),We(A,"TYPE","terminate"),Kl(h,A),b=new xi(h,h.j,b),b.M=2,b.A=jf(bn(A)),A=!1,o.navigator&&o.navigator.sendBeacon)try{A=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!A&&o.Image&&(new Image().src=b.A,A=!0),A||(b.g=CE(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Rf(b)}IE(h)}function $f(h){h.g&&(Og(h),h.g.cancel(),h.g=null)}function wE(h){$f(h),h.v&&(o.clearTimeout(h.v),h.v=null),Vf(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&o.clearTimeout(h.m),h.m=null)}function Lf(h){if(!nE(h.h)&&!h.m){h.m=!0;var b=h.Ea;T||S(),I||(T(),I=!0),E.add(b,h),h.D=0}}function A$(h,b){return iE(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ml(u(h.Ea,h,b),PE(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const M=new xi(this,this.j,h);let V=this.o;if(this.U&&(V?(V=ee(V),oe(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=EE(this,M,b),A=bn(this.J),We(A,"RID",h),We(A,"CVER",22),this.G&&We(A,"X-HTTP-Session-Id",this.G),Kl(this,A),V&&(this.R?b="headers="+Ll(mE(V))+"&"+b:this.u&&Ag(A,this.u,V)),Eg(this.h,M),this.Ra&&We(A,"TYPE","init"),this.S?(We(A,"$req",b),We(A,"SID","null"),M.U=!0,bg(M,A,null)):bg(M,A,b),this.I=2}}else this.I==3&&(h?xE(this,h):this.i.length==0||nE(this.h)||xE(this))};function xE(h,b){var A;b?A=b.l:A=h.V++;const R=bn(h.J);We(R,"SID",h.M),We(R,"RID",A),We(R,"AID",h.K),Kl(h,R),h.u&&h.o&&Ag(R,h.u,h.o),A=new xi(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),b&&(h.i=b.G.concat(h.i)),b=EE(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Eg(h.h,A),bg(A,R,b)}function Kl(h,b){h.H&&z(h.H,function(A,R){We(b,R,A)}),h.l&&z({},function(A,R){We(b,R,A)})}function EE(h,b,A){A=Math.min(h.i.length,A);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var M=h.i;let me=-1;for(;;){const _t=["count="+A];me==-1?A>0?(me=M[0].g,_t.push("ofs="+me)):me=0:_t.push("ofs="+me);let $e=!0;for(let kt=0;kt<A;kt++){var V=M[kt].g;const _n=M[kt].map;if(V-=me,V<0)me=Math.max(0,M[kt].g-100),$e=!1;else try{V="req"+V+"_"||"";try{var J=_n instanceof Map?_n:Object.entries(_n);for(const[ja,Ai]of J){let Pi=Ai;s(Ai)&&(Pi=pg(Ai)),_t.push(V+ja+"="+encodeURIComponent(Pi))}}catch(ja){throw _t.push(V+"type="+encodeURIComponent("_badmap")),ja}}catch{R&&R(_n)}}if($e){J=_t.join("&");break e}}J=void 0}return h=h.i.splice(0,A),b.G=h,J}function SE(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;T||S(),I||(T(),I=!0),E.add(b,h),h.A=0}}function Ig(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ml(u(h.Da,h),PE(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,TE(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ml(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nr(10),$f(this),TE(this))};function Og(h){h.B!=null&&(o.clearTimeout(h.B),h.B=null)}function TE(h){h.g=new xi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=bn(h.na);We(b,"RID","rpc"),We(b,"SID",h.M),We(b,"AID",h.K),We(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(b,"TO",h.ia),We(b,"TYPE","xmlhttp"),Kl(h,b),h.u&&h.o&&Ag(b,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=jf(bn(b)),A.u=null,A.R=!0,Zx(A,h)}t.Va=function(){this.C!=null&&(this.C=null,$f(this),Ig(this),nr(19))};function Vf(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function AE(h,b){var A=null;if(h.g==b){Vf(h),Og(h),h.g=null;var R=2}else if(xg(h.h,b))A=b.G,aE(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){A=b.u?b.u.length:0,b=Date.now()-b.F;var M=h.D;R=kf(),dt(R,new Kx(R,A)),Lf(h)}else SE(h);else if(M=b.m,M==3||M==0&&b.X>0||!(R==1&&A$(h,b)||R==2&&Ig(h)))switch(A&&A.length>0&&(b=h.h,b.i=b.i.concat(A)),M){case 1:Ra(h,5);break;case 4:Ra(h,10);break;case 3:Ra(h,6);break;default:Ra(h,2)}}}function PE(h,b){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*b}function Ra(h,b){if(h.j.info("Error code "+b),b==2){var A=u(h.bb,h),R=h.Ua;const M=!R;R=new Ei(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Fl(R,"https"),jf(R),M?_$(R.toString(),A):w$(R.toString(),A)}else nr(2);h.I=0,h.l&&h.l.pa(b),IE(h),wE(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),nr(2)):(this.j.info("Failed to ping google.com"),nr(1))};function IE(h){if(h.I=0,h.ja=[],h.l){const b=oE(h.h);(b.length!=0||h.i.length!=0)&&(_(h.ja,b),_(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function OE(h,b,A){var R=A instanceof Ei?bn(A):new Ei(A);if(R.g!="")b&&(R.g=b+"."+R.g),Ul(R,R.u);else{var M=o.location;R=M.protocol,b=b?b+"."+M.hostname:M.hostname,M=+M.port;const V=new Ei(null);R&&Fl(V,R),b&&(V.g=b),M&&Ul(V,M),A&&(V.h=A),R=V}return A=h.G,b=h.wa,A&&b&&We(R,A,b),We(R,"VER",h.ka),Kl(h,R),R}function CE(h,b,A){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new it(new Tg({ab:A})):new it(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kE(){}t=kE.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ff(){}Ff.prototype.g=function(h,b){return new br(h,b)};function br(h,b){Ze.call(this),this.g=new _E(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!N(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Lo(this)}f(br,Ze),br.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){Pg(this.g)},br.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=pg(h),h=A);b.i.push(new h$(b.Ya++,h)),b.I==3&&Lf(b)},br.prototype.N=function(){this.g.l=null,delete this.j,Pg(this.g),delete this.g,br.Z.N.call(this)};function NE(h){mg.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const A in b){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}f(NE,mg);function RE(){gg.call(this),this.status=1}f(RE,gg);function Lo(h){this.g=h}f(Lo,kE),Lo.prototype.ra=function(){dt(this.g,"a")},Lo.prototype.qa=function(h){dt(this.g,new NE(h))},Lo.prototype.pa=function(h){dt(this.g,new RE)},Lo.prototype.oa=function(){dt(this.g,"b")},Ff.prototype.createWebChannel=Ff.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,d2=function(){return new Ff},h2=function(){return kf()},f2=Ca,Kv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,Vh=Nf,Xx.COMPLETE="complete",c2=Xx,Wx.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,bu=Wx,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,u2=it}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const hS="@firebase/firestore",dS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new U_("@firebase/firestore");function Wo(){return co.logLevel}function ne(t,...e){if(co.logLevel<=we.DEBUG){const r=e.map(W_);co.debug(`Firestore (${ml}): ${t}`,...r)}}function li(t,...e){if(co.logLevel<=we.ERROR){const r=e.map(W_);co.error(`Firestore (${ml}): ${t}`,...r)}}function js(t,...e){if(co.logLevel<=we.WARN){const r=e.map(W_);co.warn(`Firestore (${ml}): ${t}`,...r)}}function W_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,p2(t,n,r)}function p2(t,e,r){let n=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw li(n),new Error(n)}function Ce(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||p2(e,i,n)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends gi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yt.UNAUTHENTICATED))}shutdown(){}}class E6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class S6{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ce(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jn)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ce(typeof n.accessToken=="string",31837,{l:n}),new m2(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class T6{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A6{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new T6(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P6{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ce(this.o===void 0,3512);const n=a=>{a.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ce(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new pS(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=I6(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function xe(t,e){return t<e?-1:t>e?1:0}function Xv(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return hy(i)===hy(a)?xe(i,a):hy(i)?1:-1}return xe(t.length,e.length)}const O6=55296,C6=57343;function hy(t){const e=t.charCodeAt(0);return e>=O6&&e<=C6}function Ds(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="__name__";class En{constructor(e,r,n){r===void 0?r=0:r>e.length&&ce(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ce(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return En.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof En?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=En.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return xe(e.length,r.length)}static compareSegments(e,r){const n=En.isNumericId(e),i=En.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?En.extractNumericId(e).compare(En.extractNumericId(r)):Xv(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class Ue extends En{construct(e,r,n){return new Ue(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new re(W.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ue(r)}static emptyPath(){return new Ue([])}}const k6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends En{construct(e,r,n){return new Ft(e,r,n)}static isValidIdentifier(e){return k6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mS}static keyField(){return new Ft([mS])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new re(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new re(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new re(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(r)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ue.fromString(e))}static fromName(e){return new se(Ue.fromString(e).popFirst(5))}static empty(){return new se(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ue.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e,r){if(!r)throw new re(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N6(t,e,r,n){if(e===!0&&n===!0)throw new re(W.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function gS(t){if(!se.isDocumentKey(t))throw new re(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yS(t){if(se.isDocumentKey(t))throw new re(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function am(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=am(t);throw new re(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){const r={typeString:t};return e&&(r.value=e),r}function uf(t,e){if(!y2(t))throw new re(W.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new re(W.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=-62135596800,bS=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*bS);return new De(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new re(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new re(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<vS)throw new re(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bS}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uf(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:vt("string",De._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new De(0,0))}static max(){return new fe(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function R6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(n===1e9?new De(r+1,0):new De(r,n));return new ua(i,se.empty(),e)}function j6(t){return new ua(t.readTime,t.key,fc)}class ua{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ua(fe.min(),se.empty(),fc)}static max(){return new ua(fe.max(),se.empty(),fc)}}function D6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=se.comparator(t.documentKey,e.documentKey),r!==0?r:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==M6)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new q((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof q?r:q.resolve(r)}catch(r){return q.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):q.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):q.reject(r)}static resolve(e){return new q((r,n)=>{r(e)})}static reject(e){return new q((r,n)=>{n(e)})}static waitFor(e){return new q((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=q.resolve(!1);for(const n of e)r=r.next(i=>i?q.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new q((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(e,r){return new q((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function L6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}om.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-1;function sm(t){return t==null}function xd(t){return t===0&&1/t==-1/0}function V6(t){return typeof t=="number"&&Number.isInteger(t)&&!xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="";function F6(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=_S(e)),e=U6(t.get(r),e);return _S(e)}function U6(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case v2:r+="";break;default:r+=a}}return r}function _S(t){return t+v2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function _a(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function b2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,r){this.comparator=e,this.root=r||Vt.EMPTY}insert(e,r){return new nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Vt.RED,this.left=i??Vt.EMPTY,this.right=a??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Vt(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Vt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new xS(this.data.getIterator())}getIteratorFrom(e){return new xS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new At(this.comparator);return r.data=e,r}}class xS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Ar([])}unionWith(e){let r=new At(Ft.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ar(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _2("Invalid base64 string: "+a):a}}(e);return new Wt(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Wt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const B6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const r=B6.exec(t);if(Ce(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fa(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="server_timestamp",x2="__type__",E2="__previous_value__",S2="__local_write_time__";function G_(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[x2])==null?void 0:n.stringValue)===w2}function lm(t){const e=t.mapValue.fields[E2];return G_(e)?lm(e):e}function hc(t){const e=ca(t.mapValue.fields[S2].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,r,n,i,a,o,s,l,u,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Ed="(default)";class dc{constructor(e,r){this.projectId=e,this.database=r||Ed}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===Ed}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="__type__",W6="__max__",lh={mapValue:{}},A2="__vector__",Sd="value";function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G_(t)?4:q6(t)?9007199254740991:H6(t)?10:11:ce(28295,{value:t})}function $n(t,e){if(t===e)return!0;const r=ha(t);if(r!==ha(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ca(i.timestampValue),s=ca(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return fa(i.bytesValue).isEqual(fa(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return lt(i.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return lt(i.integerValue)===lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=lt(i.doubleValue),s=lt(a.doubleValue);return o===s?xd(o)===xd(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ds(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(wS(o)!==wS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!$n(o[l],s[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function pc(t,e){return(t.values||[]).find(r=>$n(r,e))!==void 0}function Ms(t,e){if(t===e)return 0;const r=ha(t),n=ha(e);if(r!==n)return xe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=lt(a.integerValue||a.doubleValue),l=lt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return ES(t.timestampValue,e.timestampValue);case 4:return ES(hc(t),hc(e));case 5:return Xv(t.stringValue,e.stringValue);case 6:return function(a,o){const s=fa(a),l=fa(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=xe(s[u],l[u]);if(c!==0)return c}return xe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=xe(lt(a.latitude),lt(o.latitude));return s!==0?s:xe(lt(a.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var d,p,_,g;const s=a.fields||{},l=o.fields||{},u=(d=s[Sd])==null?void 0:d.arrayValue,c=(p=l[Sd])==null?void 0:p.arrayValue,f=xe(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((g=c==null?void 0:c.values)==null?void 0:g.length)||0);return f!==0?f:SS(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===lh.mapValue&&o===lh.mapValue)return 0;if(a===lh.mapValue)return 1;if(o===lh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Xv(l[f],c[f]);if(d!==0)return d;const p=Ms(s[l[f]],u[c[f]]);if(p!==0)return p}return xe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:r})}}function ES(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const r=ca(t),n=ca(e),i=xe(r.seconds,n.seconds);return i!==0?i:xe(r.nanos,n.nanos)}function SS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ms(r[i],n[i]);if(a)return a}return xe(r.length,n.length)}function $s(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ca(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return fa(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return se.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Yv(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Yv(r.fields[o])}`;return i+"}"}(t.mapValue):ce(61005,{value:t})}function Fh(t){switch(ha(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lm(t);return e?16+Fh(e):16;case 5:return 2*t.stringValue.length;case 6:return fa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Fh(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return _a(n.fields,(a,o)=>{i+=a.length+Fh(o)}),i}(t.mapValue);default:throw ce(13486,{value:t})}}function TS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qv(t){return!!t&&"integerValue"in t}function K_(t){return!!t&&"arrayValue"in t}function AS(t){return!!t&&"nullValue"in t}function PS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uh(t){return!!t&&"mapValue"in t}function H6(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[T2])==null?void 0:n.stringValue)===A2}function ju(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _a(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=ju(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ju(t.arrayValue.values[r]);return e}return{...t}}function q6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===W6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Uh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(r)}setAll(e){let r=Ft.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=ju(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Uh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){_a(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new hr(ju(this.value))}}function P2(t){const e=[];return _a(t.fields,(r,n)=>{const i=new Ft([r]);if(Uh(n)){const a=P2(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Jt(e,0,fe.min(),fe.min(),fe.min(),hr.empty(),0)}static newFoundDocument(e,r,n,i){return new Jt(e,1,r,fe.min(),n,i,0)}static newNoDocument(e,r){return new Jt(e,2,r,fe.min(),fe.min(),hr.empty(),0)}static newUnknownDocument(e,r){return new Jt(e,3,r,fe.min(),fe.min(),hr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,r){this.position=e,this.inclusive=r}}function IS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=se.comparator(se.fromName(o.referenceValue),r.key):n=Ms(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function OS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!$n(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r="asc"){this.field=e,this.dir=r}}function G6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{}class yt extends I2{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new X6(e,r,n):r==="array-contains"?new J6(e,n):r==="in"?new Z6(e,n):r==="not-in"?new eU(e,n):r==="array-contains-any"?new tU(e,n):new yt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Y6(e,n):new Q6(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ms(r,this.value)):r!==null&&ha(this.value)===ha(r)&&this.matchesComparison(Ms(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends I2{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new gn(e,r)}matches(e){return O2(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function O2(t){return t.op==="and"}function C2(t){return K6(t)&&O2(t)}function K6(t){for(const e of t.filters)if(e instanceof gn)return!1;return!0}function Jv(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(C2(t))return t.filters.map(e=>Jv(e)).join(",");{const e=t.filters.map(r=>Jv(r)).join(",");return`${t.op}(${e})`}}function k2(t,e){return t instanceof yt?function(n,i){return i instanceof yt&&n.op===i.op&&n.field.isEqual(i.field)&&$n(n.value,i.value)}(t,e):t instanceof gn?function(n,i){return i instanceof gn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&k2(o,i.filters[s]),!0):!1}(t,e):void ce(19439)}function N2(t){return t instanceof yt?function(r){return`${r.field.canonicalString()} ${r.op} ${$s(r.value)}`}(t):t instanceof gn?function(r){return r.op.toString()+" {"+r.getFilters().map(N2).join(" ,")+"}"}(t):"Filter"}class X6 extends yt{constructor(e,r,n){super(e,r,n),this.key=se.fromName(n.referenceValue)}matches(e){const r=se.comparator(e.key,this.key);return this.matchesComparison(r)}}class Y6 extends yt{constructor(e,r){super(e,"in",r),this.keys=R2("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Q6 extends yt{constructor(e,r){super(e,"not-in",r),this.keys=R2("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function R2(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>se.fromName(n.referenceValue))}class J6 extends yt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return K_(r)&&pc(r.arrayValue,this.value)}}class Z6 extends yt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&pc(this.value.arrayValue,r)}}class eU extends yt{constructor(e,r){super(e,"not-in",r)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!pc(this.value.arrayValue,r)}}class tU extends yt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!K_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>pc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function CS(t,e=null,r=[],n=[],i=null,a=null,o=null){return new rU(t,e,r,n,i,a,o)}function X_(t){const e=he(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Jv(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),sm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>$s(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>$s(n)).join(",")),e.Te=r}return e.Te}function Y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!G6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!k2(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OS(t.startAt,e.startAt)&&OS(t.endAt,e.endAt)}function Zv(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nU(t,e,r,n,i,a,o,s){return new vl(t,e,r,n,i,a,o,s)}function Q_(t){return new vl(t)}function kS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j2(t){return t.collectionGroup!==null}function Du(t){const e=he(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new At(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new mc(a,n))}),r.has(Ft.keyField().canonicalString())||e.Ie.push(new mc(Ft.keyField(),n))}return e.Ie}function On(t){const e=he(t);return e.Ee||(e.Ee=iU(e,Du(t))),e.Ee}function iU(t,e){if(t.limitType==="F")return CS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new mc(i.field,a)});const r=t.endAt?new Td(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Td(t.startAt.position,t.startAt.inclusive):null;return CS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function e0(t,e){const r=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function t0(t,e,r){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function um(t,e){return Y_(On(t),On(e))&&t.limitType===e.limitType}function D2(t){return`${X_(On(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>N2(i)).join(", ")}]`),sm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>$s(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>$s(i)).join(",")),`Target(${n})`}(On(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):se.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Du(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=IS(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Du(n),i)||n.endAt&&!function(o,s,l){const u=IS(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Du(n),i))}(t,e)}function aU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function M2(t){return(e,r)=>{let n=!1;for(const i of Du(t)){const a=oU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function oU(t,e,r){const n=t.field.isKeyField()?se.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Ms(l,u):ce(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return b2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new nt(se.comparator);function ui(){return sU}const $2=new nt(se.comparator);function _u(...t){let e=$2;for(const r of t)e=e.insert(r.key,r);return e}function L2(t){let e=$2;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function qa(){return Mu()}function V2(){return Mu()}function Mu(){return new Ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const lU=new nt(se.comparator),uU=new At(se.comparator);function Ee(...t){let e=uU;for(const r of t)e=e.add(r);return e}const cU=new At(xe);function fU(){return cU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function F2(t){return{integerValue:""+t}}function hU(t,e){return V6(e)?F2(e):J_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this._=void 0}}function dU(t,e,r){return t instanceof Ad?function(i,a){const o={fields:{[x2]:{stringValue:w2},[S2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&G_(a)&&(a=lm(a)),a&&(o.fields[E2]=a),{mapValue:o}}(r,e):t instanceof gc?B2(t,e):t instanceof yc?z2(t,e):function(i,a){const o=U2(i,a),s=NS(o)+NS(i.Ae);return Qv(o)&&Qv(i.Ae)?F2(s):J_(i.serializer,s)}(t,e)}function pU(t,e,r){return t instanceof gc?B2(t,e):t instanceof yc?z2(t,e):r}function U2(t,e){return t instanceof Pd?function(n){return Qv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Ad extends fm{}class gc extends fm{constructor(e){super(),this.elements=e}}function B2(t,e){const r=W2(e);for(const n of t.elements)r.some(i=>$n(i,n))||r.push(n);return{arrayValue:{values:r}}}class yc extends fm{constructor(e){super(),this.elements=e}}function z2(t,e){let r=W2(e);for(const n of t.elements)r=r.filter(i=>!$n(i,n));return{arrayValue:{values:r}}}class Pd extends fm{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function NS(t){return lt(t.integerValue||t.doubleValue)}function W2(t){return K_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mU(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof gc&&i instanceof gc||n instanceof yc&&i instanceof yc?Ds(n.elements,i.elements,$n):n instanceof Pd&&i instanceof Pd?$n(n.Ae,i.Ae):n instanceof Ad&&i instanceof Ad}(t.transform,e.transform)}class gU{constructor(e,r){this.version=e,this.transformResults=r}}class Wr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hm{}function H2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Z_(t.key,Wr.none()):new cf(t.key,t.data,Wr.none());{const r=t.data,n=hr.empty();let i=new At(Ft.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new wa(t.key,n,new Ar(i.toArray()),Wr.none())}}function yU(t,e,r){t instanceof cf?function(i,a,o){const s=i.value.clone(),l=jS(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof wa?function(i,a,o){if(!Bh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=jS(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(q2(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function $u(t,e,r,n){return t instanceof cf?function(a,o,s,l){if(!Bh(a.precondition,o))return s;const u=a.value.clone(),c=DS(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof wa?function(a,o,s,l){if(!Bh(a.precondition,o))return s;const u=DS(a.fieldTransforms,l,o),c=o.data;return c.setAll(q2(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return Bh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function vU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=U2(n.transform,i||null);a!=null&&(r===null&&(r=hr.empty()),r.set(n.field,a))}return r||null}function RS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ds(n,i,(a,o)=>mU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cf extends hm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wa extends hm{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function q2(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function jS(t,e,r){const n=new Map;Ce(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,pU(o,s,r[i]))}return n}function DS(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,dU(a,o,e))}return n}class Z_ extends hm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bU extends hm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&yU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=$u(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=$u(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=V2();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=H2(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(r,n)=>RS(r,n))&&Ds(this.baseMutations,e.baseMutations,(r,n)=>RS(r,n))}}class ew{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ce(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return lU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new ew(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Te;function EU(t){switch(t){case W.OK:return ce(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function G2(t){if(t===void 0)return li("GRPC error has no .code"),W.UNKNOWN;switch(t){case pt.OK:return W.OK;case pt.CANCELLED:return W.CANCELLED;case pt.UNKNOWN:return W.UNKNOWN;case pt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pt.INTERNAL:return W.INTERNAL;case pt.UNAVAILABLE:return W.UNAVAILABLE;case pt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pt.NOT_FOUND:return W.NOT_FOUND;case pt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pt.ABORTED:return W.ABORTED;case pt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pt.DATA_LOSS:return W.DATA_LOSS;default:return ce(39323,{code:t})}}(Te=pt||(pt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new na([4294967295,4294967295],0);function MS(t){const e=SU().encode(t),r=new l2;return r.update(e),new Uint8Array(r.digest())}function $S(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new na([r,n],0),new na([i,a],0)]}class tw{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new wu(`Invalid padding: ${r}`);if(n<0)throw new wu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new wu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=na.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(na.fromNumber(n)));return i.compare(TU)===1&&(i=new na([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=MS(e),[n,i]=$S(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new tw(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const r=MS(e),[n,i]=$S(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,ff.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new dm(fe.min(),i,new nt(xe),ui(),Ee())}}class ff{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new ff(n,r,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class K2{constructor(e,r){this.targetId=e,this.Ce=r}}class X2{constructor(e,r,n=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class LS{constructor(){this.ve=0,this.Fe=VS(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),r=Ee(),n=Ee();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ce(38017,{changeType:a})}}),new ff(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=VS()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AU{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=uh(),this.He=uh(),this.Ye=new nt(xe)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Zv(a))if(n===0){const o=new se(a.path);this.et(r,o,Jt.newNoDocument(o,fe.min()))}else Ce(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=fa(n).toUint8Array()}catch(l){if(l instanceof _2)return js("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new tw(o,i,a)}catch(l){return js(l instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&Zv(s.target)){const l=new se(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Jt.newNoDocument(l,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=Ee();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new dm(e,r,this.Ye,this.je,n);return this.je=ui(),this.Je=uh(),this.He=uh(),this.Ye=new nt(xe),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new LS,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new At(xe),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new At(xe),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ne("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new LS),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function uh(){return new nt(se.comparator)}function VS(){return new nt(se.comparator)}const PU={asc:"ASCENDING",desc:"DESCENDING"},IU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OU={and:"AND",or:"OR"};class CU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function r0(t,e){return t.useProto3Json||sm(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kU(t,e){return Id(t,e.toTimestamp())}function Cn(t){return Ce(!!t,49232),fe.fromTimestamp(function(r){const n=ca(r);return new De(n.seconds,n.nanos)}(t))}function rw(t,e){return n0(t,e).canonicalString()}function n0(t,e){const r=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Q2(t){const e=Ue.fromString(t);return Ce(rN(e),10190,{key:e.toString()}),e}function i0(t,e){return rw(t.databaseId,e.path)}function dy(t,e){const r=Q2(e);if(r.get(1)!==t.databaseId.projectId)throw new re(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new re(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new se(Z2(r))}function J2(t,e){return rw(t.databaseId,e)}function NU(t){const e=Q2(t);return e.length===4?Ue.emptyPath():Z2(e)}function a0(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z2(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FS(t,e,r){return{name:i0(t,e),fields:r.value.mapValue.fields}}function RU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string",58123),Wt.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Wt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?W.UNKNOWN:G2(u.code);return new re(c,u.message||"")}(o);r=new X2(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=dy(t,n.document.name),a=Cn(n.document.updateTime),o=n.document.createTime?Cn(n.document.createTime):fe.min(),s=new hr({mapValue:{fields:n.document.fields}}),l=Jt.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new zh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=dy(t,n.document),a=n.readTime?Cn(n.readTime):fe.min(),o=Jt.newNoDocument(i,a),s=n.removedTargetIds||[];r=new zh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=dy(t,n.document),a=n.removedTargetIds||[];r=new zh([],a,i,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new xU(i,a),s=n.targetId;r=new K2(s,o)}}return r}function jU(t,e){let r;if(e instanceof cf)r={update:FS(t,e.key,e.value)};else if(e instanceof Z_)r={delete:i0(t,e.key)};else if(e instanceof wa)r={update:FS(t,e.key,e.data),updateMask:zU(e.fieldMask)};else{if(!(e instanceof bU))return ce(16599,{Vt:e.type});r={verify:i0(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof Ad)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof gc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof yc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Pd)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw ce(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:kU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ce(27497)}(t,e.precondition)),r}function DU(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?Cn(i.updateTime):Cn(a);return o.isEqual(fe.min())&&(o=Cn(a)),new gU(o,i.transformResults||[])}(r,e))):[]}function MU(t,e){return{documents:[J2(t,e.path)]}}function $U(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=J2(t,i);const a=function(u){if(u.length!==0)return tN(gn.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:qo(d.field),direction:FU(d.dir)}}(c))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=r0(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function LU(t){let e=NU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ce(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];r.where&&(a=function(f){const d=eN(f);return d instanceof gn&&C2(d)?d.getFilters():[d]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(d=>function(_){return new mc(Go(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(r.orderBy));let s=null;r.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,sm(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Td(p,d)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Td(p,d)}(r.endAt)),nU(e,i,o,a,s,"F",l,u)}function VU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function eN(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Go(r.unaryFilter.field);return yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Go(r.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Go(r.unaryFilter.field);return yt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Go(r.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(r){return yt.create(Go(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return gn.create(r.compositeFilter.filters.map(n=>eN(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(r.compositeFilter.op))}(t):ce(30097,{filter:t})}function FU(t){return PU[t]}function UU(t){return IU[t]}function BU(t){return OU[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Go(t){return Ft.fromServerFormat(t.fieldPath)}function tN(t){return t instanceof yt?function(r){if(r.op==="=="){if(PS(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NAN"}};if(AS(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(PS(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NAN"}};if(AS(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(r.field),op:UU(r.op),value:r.value}}}(t):t instanceof gn?function(r){const n=r.getFilters().map(i=>tN(i));return n.length===1?n[0]:{compositeFilter:{op:BU(r.op),filters:n}}}(t):ce(54877,{filter:t})}function zU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function rN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,r,n,i,a=fe.min(),o=fe.min(),s=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.yt=e}}function HU(t){const e=LU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?t0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.Cn=new GU}addToCollectionParentIndex(e,r){return this.Cn.add(r),q.resolve()}getCollectionParents(e,r){return q.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return q.resolve()}deleteFieldIndex(e,r){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,r){return q.resolve()}getDocumentsMatchingTarget(e,r){return q.resolve(null)}getIndexType(e,r){return q.resolve(0)}getFieldIndexes(e,r){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,r){return q.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,r){return q.resolve(ua.min())}updateCollectionGroup(e,r,n){return q.resolve()}updateIndexEntries(e,r){return q.resolve()}}class GU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new At(Ue.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new At(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nN=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(nN,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ls(0)}static cr(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="LruGarbageCollector",KU=1048576;function zS([t,e],[r,n]){const i=xe(t,r);return i===0?xe(e,n):i}class XU{constructor(e){this.Ir=e,this.buffer=new At(zS),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();zS(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class YU{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(BS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){yl(r)?ne(BS,"Ignoring IndexedDB error during garbage collection: ",r):await gl(r)}await this.Vr(3e5)})}}class QU{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return q.resolve(om.ce);const n=new XU(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(US)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),US):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,s=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),Wo()<=we.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function JU(t,e){return new QU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.changes=new Ao(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?q.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&$u(n.mutation,i,Ar.empty(),De.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ee()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ee()){const i=qa();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=_u();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=qa();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ee()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=ui();const o=Mu(),s=function(){return Mu()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof wa)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),$u(c.mutation,u,c.mutation.getFieldMask(),De.now())):o.set(u.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>s.set(u,new eB(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(e,r){const n=Mu();let i=new nt((o,s)=>o-s),a=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Ar.empty();c=s.applyToLocalView(u,c),n.set(l,c);const f=(i.get(s.batchId)||Ee()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=V2();c.forEach(d=>{if(!a.has(d)){const p=H2(r.get(d),n.get(d));p!==null&&f.set(d,p),a=a.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return q.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):j2(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):q.resolve(qa());let s=fc,l=a;return o.next(u=>q.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?q.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Ee())).next(c=>({batchId:s,changes:L2(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new se(r)).next(n=>{let i=_u();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=_u();return this.indexManager.getCollectionParents(e,a).next(s=>q.forEach(s,l=>{const u=function(f,d){return new vl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Jt.newInvalidDocument(c)))});let s=_u();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&$u(c.mutation,u,Ar.empty(),De.now()),cm(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return q.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Cn(i.createTime)}}(r)),q.resolve()}getNamedQuery(e,r){return q.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:HU(i.bundledQuery),readTime:Cn(i.readTime)}}(r)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(){this.overlays=new nt(se.comparator),this.qr=new Map}getOverlay(e,r){return q.resolve(this.overlays.get(r))}getOverlays(e,r){const n=qa();return q.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),q.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),q.resolve()}getOverlaysForCollection(e,r,n){const i=qa(),a=r.length+1,o=new se(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new nt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=qa(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=qa(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return q.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new wU(r,n));let a=this.qr.get(r);a===void 0&&(a=Ee(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.Qr=new At(Nt.$r),this.Ur=new At(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Nt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Nt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new se(new Ue([])),n=new Nt(r,e),i=new Nt(r,e+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new se(new Ue([])),n=new Nt(r,e),i=new Nt(r,e+1);let a=Ee();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Nt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Nt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return se.comparator(e.key,r.key)||xe(e.Yr,r.Yr)}static Kr(e,r){return xe(e.Yr,r.Yr)||se.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new At(Nt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _U(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Nt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,r){return q.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?q_:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Nt(r,0),i=new Nt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new At(xe);return r.forEach(i=>{const a=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{n=n.add(s.Yr)})}),q.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;se.isDocumentKey(a)||(a=a.child(""));const o=new Nt(new se(a),0);let s=new At(xe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),q.resolve(this.ti(s))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ce(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return q.forEach(r.mutations,i=>{const a=new Nt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Nt(r,0),i=this.Zr.firstAfterOrEqual(n);return q.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.ri=e,this.docs=function(){return new nt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return q.resolve(n?n.document.mutableCopy():Jt.newInvalidDocument(r))}getEntries(e,r){let n=ui();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Jt.newInvalidDocument(i))}),q.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ui();const o=r.path,s=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||D6(j6(c),n)<=0||(i.has(c.key)||cm(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return q.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ce(9500)}ii(e,r){return q.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new sB(this)}getSize(e){return q.resolve(this.size)}}class sB extends ZU{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),q.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.persistence=e,this.si=new Ao(r=>X_(r),Y_),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new nw,this.targetCount=0,this.ai=Ls.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),q.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ls(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,q.resolve()}updateTargetData(e,r){return this.Pr(r),q.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),q.waitFor(a).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return q.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),q.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),q.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return q.resolve(n)}containsKey(e,r){return q.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,r){this.ui={},this.overlays={},this.ci=new om(0),this.li=!1,this.li=!0,this.hi=new iB,this.referenceDelegate=e(this),this.Pi=new lB(this),this.indexManager=new qU,this.remoteDocumentCache=function(i){return new oB(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new WU(r),this.Ii=new rB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new nB,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new aB(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ne("MemoryPersistence","Starting transaction:",e);const i=new uB(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return q.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class uB extends $6{constructor(e){super(),this.currentSequenceNumber=e}}class iw{constructor(e){this.persistence=e,this.Ri=new nw,this.Vi=null}static mi(e){return new iw(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),q.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),q.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),q.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,n=>{const i=se.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,fe.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return q.or([()=>q.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Od{constructor(e,r){this.persistence=e,this.pi=new Ao(n=>F6(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=JU(this,r)}static mi(e,r){return new Od(e,r)}Ei(){}di(e){return q.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return q.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?q.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(s=>{s||(n++,a.removeEntry(o,fe.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Fh(e.data.value)),r}br(e,r,n){return q.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return q.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ee(),i=Ee();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new aw(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return iF()?8:L6(rr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new cB;return this.Ss(e,r,o).next(s=>{if(a.result=s,this.Vs)return this.bs(e,r,o,s.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Wo()<=we.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Ho(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Wo()<=we.DEBUG&&ne("QueryEngine","Query:",Ho(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Wo()<=we.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Ho(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(r))):q.resolve())}ys(e,r){if(kS(r))return q.resolve(null);let n=On(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=t0(r,null,"F"),n=On(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Ee(...a);return this.ps.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(r,s);return this.Cs(r,u,o,l.readTime)?this.ys(e,t0(r,null,"F")):this.vs(e,u,r,l)}))})))}ws(e,r,n,i){return kS(r)||i.isEqual(fe.min())?q.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?q.resolve(null):(Wo()<=we.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(r)),this.vs(e,o,r,R6(i,fc)).next(s=>s))})}Ds(e,r){let n=new At(M2(e));return r.forEach((i,a)=>{cm(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Wo()<=we.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ho(r)),this.ps.getDocumentsMatchingQuery(e,r,ua.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="LocalStore",hB=3e8;class dB{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new nt(xe),this.xs=new Ao(a=>X_(a),Y_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function pB(t,e,r,n){return new dB(t,e,r,n)}async function aN(t,e){const r=he(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Ee();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function mB(t,e){const r=he(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let p=q.resolve();return d.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(g=>{const y=u.docVersions.get(_);Ce(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Ee();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function oN(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function gB(t,e){const r=he(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(r.Pi.removeMatchingKeys(a,c.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,c.addedDocuments,f)));let p=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Wt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(f,p),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=hB?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,p,c)&&s.push(r.Pi.updateTargetData(a,p))});let l=ui(),u=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(yB(a,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(fe.min())){const c=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return q.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function yB(t,e,r){let n=Ee(),i=Ee();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ui();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ne(ow,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function vB(t,e){const r=he(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=q_),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function bB(t,e){const r=he(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,q.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new zi(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function o0(t,e,r){const n=he(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yl(o))throw o;ne(ow,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function WS(t,e,r){const n=he(t);let i=fe.min(),a=Ee();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=he(l),d=f.xs.get(c);return d!==void 0?q.resolve(f.Ms.get(d)):f.Pi.getTargetData(u,c)}(n,o,On(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:fe.min(),r?a:Ee())).next(s=>(_B(n,aU(e),s),{documents:s,Qs:a})))}function _B(t,e,r){let n=t.Os.get(e)||fe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class HS{constructor(){this.activeTargetIds=fU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wB{constructor(){this.Mo=new HS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HS,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="ConnectivityMonitor";class GS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(qS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(qS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function s0(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="RestConnection",EB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Ed?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=s0(),s=this.zo(e,r.toUriEncodedString());ne(py,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),c=dl(u);return this.Jo(e,s,l,n,c).then(f=>(ne(py,`Received RPC '${e}' ${o}: `,f),f),f=>{throw js(py,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",n),f})}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=EB[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class AB extends SB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=s0();return new Promise((s,l)=>{const u=new u2;u.setWithCredentials(!0),u.listenOnce(c2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vh.NO_ERROR:const f=u.getResponseJson();ne(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Vh.TIMEOUT:ne(Kt,`RPC '${e}' ${o} timed out`),l(new re(W.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const d=u.getStatus();if(ne(Kt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(_.status);l(new re(g,_.message))}else l(new re(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new re(W.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(Kt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ne(Kt,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(e,r,n){const i=s0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d2(),s=h2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");ne(Kt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);this.I_(f);let d=!1,p=!1;const _=new TB({Yo:y=>{p?ne(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(ne(Kt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ne(Kt,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,w,v)=>{y.listen(w,x=>{try{v(x)}catch(O){setTimeout(()=>{throw O},0)}})};return g(f,bu.EventType.OPEN,()=>{p||(ne(Kt,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),g(f,bu.EventType.CLOSE,()=>{p||(p=!0,ne(Kt,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))}),g(f,bu.EventType.ERROR,y=>{p||(p=!0,js(Kt,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),_.a_(new re(W.UNAVAILABLE,"The operation could not be completed")))}),g(f,bu.EventType.MESSAGE,y=>{var w;if(!p){const v=y.data[0];Ce(!!v,16349);const x=v,O=(x==null?void 0:x.error)||((w=x[0])==null?void 0:w.error);if(O){ne(Kt,`RPC '${e}' stream ${i} received error:`,O);const T=O.status;let I=function(P){const k=pt[P];if(k!==void 0)return G2(k)}(T),E=O.message;I===void 0&&(I=W.INTERNAL,E="Unknown error status: "+T+" with message "+O.message),p=!0,_.a_(new re(I,E)),f.close()}else ne(Kt,`RPC '${e}' stream ${i} received:`,v),_.u_(v)}}),g(s,f2.STAT_EVENT,y=>{y.stat===Kv.PROXY?ne(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Kv.NOPROXY&&ne(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function my(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){return new CU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="PersistentStream";class lN{constructor(e,r,n,i,a,o,s,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sN(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===W.RESOURCE_EXHAUSTED?(li(r.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new re(W.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(KS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ne(KS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PB extends lN{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=RU(this.serializer,e),n=function(a){if(!("targetChange"in a))return fe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Cn(o.readTime):fe.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=a0(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Zv(l)?{documents:MU(a,l)}:{query:$U(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Y2(a,o.resumeToken);const u=r0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){s.readTime=Id(a,o.snapshotVersion.toTimestamp());const u=r0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=VU(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=a0(this.serializer),r.removeTarget=e,this.q_(r)}}class IB extends lN{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=DU(e.writeResults,e.commitTime),n=Cn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=a0(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>jU(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{}class CB extends OB{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new re(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,n0(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(W.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(e,n0(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kB{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(r),this.aa=!1):ne("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="RemoteStore";class NB{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Po(this)&&(ne(fo,"Restarting streams for network reachability change."),await async function(l){const u=he(l);u.Ea.add(4),await hf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await mm(u)}(this))})}),this.Ra=new kB(n,i)}}async function mm(t){if(Po(t))for(const e of t.da)await e(!0)}async function hf(t){for(const e of t.da)await e(!1)}function uN(t,e){const r=he(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),cw(r)?uw(r):bl(r).O_()&&lw(r,e))}function sw(t,e){const r=he(t),n=bl(r);r.Ia.delete(e),n.O_()&&cN(r,e),r.Ia.size===0&&(n.O_()?n.L_():Po(r)&&r.Ra.set("Unknown"))}function lw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}bl(t).Y_(e)}function cN(t,e){t.Va.Ue(e),bl(t).Z_(e)}function uw(t){t.Va=new AU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.Ra.ua()}function cw(t){return Po(t)&&!bl(t).x_()&&t.Ia.size>0}function Po(t){return he(t).Ea.size===0}function fN(t){t.Va=void 0}async function RB(t){t.Ra.set("Online")}async function jB(t){t.Ia.forEach((e,r)=>{lw(t,e)})}async function DB(t,e){fN(t),cw(t)?(t.Ra.ha(e),uw(t)):t.Ra.set("Unknown")}async function MB(t,e,r){if(t.Ra.set("Online"),e instanceof X2&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(n){ne(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Cd(t,n)}else if(e instanceof zh?t.Va.Ze(e):e instanceof K2?t.Va.st(e):t.Va.tt(e),!r.isEqual(fe.min()))try{const n=await oN(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(Wt.EMPTY_BYTE_STRING,c.snapshotVersion)),cN(a,l);const f=new zi(c.target,l,u,c.sequenceNumber);lw(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ne(fo,"Failed to raise snapshot:",n),await Cd(t,n)}}async function Cd(t,e,r){if(!yl(e))throw e;t.Ea.add(1),await hf(t),t.Ra.set("Offline"),r||(r=()=>oN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(fo,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await mm(t)})}function hN(t,e){return e().catch(r=>Cd(t,r,e))}async function gm(t){const e=he(t),r=da(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:q_;for(;$B(e);)try{const i=await vB(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,LB(e,i)}catch(i){await Cd(e,i)}dN(e)&&pN(e)}function $B(t){return Po(t)&&t.Ta.length<10}function LB(t,e){t.Ta.push(e);const r=da(t);r.O_()&&r.X_&&r.ea(e.mutations)}function dN(t){return Po(t)&&!da(t).x_()&&t.Ta.length>0}function pN(t){da(t).start()}async function VB(t){da(t).ra()}async function FB(t){const e=da(t);for(const r of t.Ta)e.ea(r.mutations)}async function UB(t,e,r){const n=t.Ta.shift(),i=ew.from(n,e,r);await hN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gm(t)}async function BB(t,e){e&&da(t).X_&&await async function(n,i){if(function(o){return EU(o)&&o!==W.ABORTED}(i.code)){const a=n.Ta.shift();da(n).B_(),await hN(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await gm(n)}}(t,e),dN(t)&&pN(t)}async function XS(t,e){const r=he(t);r.asyncQueue.verifyOperationInProgress(),ne(fo,"RemoteStore received new credentials");const n=Po(r);r.Ea.add(3),await hf(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await mm(r)}async function zB(t,e){const r=he(t);e?(r.Ea.delete(2),await mm(r)):e||(r.Ea.add(2),await hf(r),r.Ra.set("Unknown"))}function bl(t){return t.ma||(t.ma=function(r,n,i){const a=he(r);return a.sa(),new PB(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:RB.bind(null,t),t_:jB.bind(null,t),r_:DB.bind(null,t),H_:MB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),cw(t)?uw(t):t.Ra.set("Unknown")):(await t.ma.stop(),fN(t))})),t.ma}function da(t){return t.fa||(t.fa=function(r,n,i){const a=he(r);return a.sa(),new IB(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:VB.bind(null,t),r_:BB.bind(null,t),ta:FB.bind(null,t),na:UB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await gm(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(fo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new fw(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hw(t,e){if(li("AsyncQueue",`${e}: ${t}`),yl(t))return new re(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||se.comparator(r.key,n.key):(r,n)=>se.comparator(r.key,n.key),this.keyedMap=_u(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new gs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.ga=new nt(se.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Vs{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Vs(e,r,gs.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HB{constructor(){this.queries=QS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=he(r),a=i.queries;i.queries=QS(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(n)})})(this,new re(W.ABORTED,"Firestore shutting down"))}}function QS(){return new Ao(t=>D2(t),um)}async function mN(t,e){const r=he(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new WB,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=hw(o,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&dw(r)}async function gN(t,e){const r=he(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function qB(t,e){const r=he(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(n=!0);o.wa=i}}n&&dw(r)}function GB(t,e,r){const n=he(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function dw(t){t.Ca.forEach(e=>{e.next()})}var l0,JS;(JS=l0||(l0={})).Ma="default",JS.Cache="cache";class yN{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Vs(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==l0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.key=e}}class bN{constructor(e){this.key=e}}class KB{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=M2(e),this.tu=new gs(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new YS,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=cm(this.query,f)?f:null,_=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?_!==g&&(n.track({type:3,doc:p}),y=!0):this.su(d,p)||(n.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(s=!0)):!d&&p?(n.track({type:0,doc:p}),y=!0):d&&!p&&(n.track({type:1,doc:d}),y=!0,(l||u)&&(s=!0)),y&&(p?(o=o.add(p),a=g?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{tu:o,iu:n,Cs:s,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,f)=>function(p,_){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:y})}};return g(p)-g(_)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Vs(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new bN(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new vN(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ee();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Vs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pw="SyncEngine";class XB{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class YB{constructor(e){this.key=e,this.hu=!1}}class QB{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ao(s=>D2(s),um),this.Iu=new Map,this.Eu=new Set,this.du=new nt(se.comparator),this.Au=new Map,this.Ru=new nw,this.Vu={},this.mu=new Map,this.fu=Ls.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JB(t,e,r=!0){const n=TN(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await _N(n,e,r,!0),i}async function ZB(t,e){const r=TN(t);await _N(r,e,!0,!1)}async function _N(t,e,r,n){const i=await bB(t.localStore,On(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await e5(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&uN(t.remoteStore,i),s}async function e5(t,e,r,n,i){t.pu=(f,d,p)=>async function(g,y,w,v){let x=y.view.ru(w);x.Cs&&(x=await WS(g.localStore,y.query,!1).then(({documents:E})=>y.view.ru(E,x)));const O=v&&v.targetChanges.get(y.targetId),T=v&&v.targetMismatches.get(y.targetId)!=null,I=y.view.applyChanges(x,g.isPrimaryClient,O,T);return eT(g,y.targetId,I.au),I.snapshot}(t,f,d,p);const a=await WS(t.localStore,e,!0),o=new KB(e,a.Qs),s=o.ru(a.documents),l=ff.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);eT(t,r,u.au);const c=new XB(e,r,o);return t.Tu.set(e,c),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function t5(t,e,r){const n=he(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!um(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await o0(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&sw(n.remoteStore,i.targetId),u0(n,i.targetId)}).catch(gl)):(u0(n,i.targetId),await o0(n.localStore,i.targetId,!0))}async function r5(t,e){const r=he(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),sw(r.remoteStore,n.targetId))}async function n5(t,e,r){const n=c5(t);try{const i=await function(o,s){const l=he(o),u=De.now(),c=s.reduce((p,_)=>p.add(_.key),Ee());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=ui(),g=Ee();return l.Ns.getEntries(p,c).next(y=>{_=y,_.forEach((w,v)=>{v.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(y=>{f=y;const w=[];for(const v of s){const x=vU(v,f.get(v.key).overlayedDocument);x!=null&&w.push(new wa(v.key,x,P2(x.value.mapValue),Wr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(y=>{d=y;const w=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:d.batchId,changes:L2(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new nt(xe)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await df(n,i.changes),await gm(n.remoteStore)}catch(i){const a=hw(i,"Failed to persist write");r.reject(a)}}async function wN(t,e){const r=he(t);try{const n=await gB(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ce(o.hu,14607):i.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))}),await df(r,n,e)}catch(n){await gl(n)}}function ZS(t,e,r){const n=he(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=he(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Sa)d.va(s)&&(u=!0)}),u&&dw(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function i5(t,e,r){const n=he(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new nt(se.comparator);o=o.insert(a,Jt.newNoDocument(a,fe.min()));const s=Ee().add(a),l=new dm(fe.min(),new Map,new nt(xe),o,s);await wN(n,l),n.du=n.du.remove(a),n.Au.delete(e),mw(n)}else await o0(n.localStore,e,!1).then(()=>u0(n,e,r)).catch(gl)}async function a5(t,e){const r=he(t),n=e.batch.batchId;try{const i=await mB(r.localStore,e);EN(r,n,null),xN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await df(r,i)}catch(i){await gl(i)}}async function o5(t,e,r){const n=he(t);try{const i=await function(o,s){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ce(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);EN(n,e,r),xN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await df(n,i)}catch(i){await gl(i)}}function xN(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function EN(t,e,r){const n=he(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function u0(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||SN(t,n)})}function SN(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(sw(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),mw(t))}function eT(t,e,r){for(const n of r)n instanceof vN?(t.Ru.addReference(n.key,e),s5(t,n)):n instanceof bN?(ne(pw,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||SN(t,n.key)):ce(19791,{wu:n})}function s5(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ne(pw,"New document in limbo: "+r),t.Eu.add(n),mw(t))}function mw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new se(Ue.fromString(e)),n=t.fu.next();t.Au.set(n,new YB(r)),t.du=t.du.insert(r,n),uN(t.remoteStore,new zi(On(Q_(r.path)),n,"TargetPurposeLimboResolution",om.ce))}}async function df(t,e,r){const n=he(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((s,l)=>{o.push(n.pu(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=aw.As(l.targetId,u);a.push(f)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(l,u){const c=he(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(u,d=>q.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>q.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!yl(f))throw f;ne(ow,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.Ms.get(d),_=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(_);c.Ms=c.Ms.insert(d,g)}}}(n.localStore,a))}async function l5(t,e){const r=he(t);if(!r.currentUser.isEqual(e)){ne(pw,"User change. New user:",e.toKey());const n=await aN(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new re(W.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await df(r,n.Ls)}}function u5(t,e){const r=he(t),n=r.Au.get(e);if(n&&n.hu)return Ee().add(n.key);{let i=Ee();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const s=r.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function TN(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i5.bind(null,e),e.Pu.H_=qB.bind(null,e.eventManager),e.Pu.yu=GB.bind(null,e.eventManager),e}function c5(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o5.bind(null,e),e}class kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return pB(this.persistence,new fB,e.initialUser,this.serializer)}Cu(e){return new iN(iw.mi,this.serializer)}Du(e){return new wB}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kd.provider={build:()=>new kd};class f5 extends kd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ce(this.persistence.referenceDelegate instanceof Od,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new YU(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new iN(n=>Od.mi(n,r),this.serializer)}}class c0{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ZS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=l5.bind(null,this.syncEngine),await zB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HB}()}createDatastore(e){const r=pm(e.databaseInfo.databaseId),n=function(a){return new AB(a)}(e.databaseInfo);return function(a,o,s,l){return new CB(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new NB(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>ZS(this.syncEngine,r,0),function(){return GS.v()?new GS:new xB}())}createSyncEngine(e,r){return function(i,a,o,s,l,u,c){const f=new QB(i,a,o,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=he(i);ne(fo,"RemoteStore shutting down."),a.Ea.add(5),await hf(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}c0.provider={build:()=>new c0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class h5{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=H_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ne(pa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ne(pa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=hw(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gy(t,e){t.asyncQueue.verifyOperationInProgress(),ne(pa,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await aN(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await d5(t);ne(pa,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>XS(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>XS(e.remoteStore,i)),t._onlineComponents=e}async function d5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(pa,"Using user provided OfflineComponentProvider");try{await gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;js("Error using user provided cache. Falling back to memory cache: "+r),await gy(t,new kd)}}else ne(pa,"Using default OfflineComponentProvider"),await gy(t,new f5(void 0));return t._offlineComponents}async function PN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(pa,"Using user provided OnlineComponentProvider"),await tT(t,t._uninitializedComponentsProvider._online)):(ne(pa,"Using default OnlineComponentProvider"),await tT(t,new c0))),t._onlineComponents}function p5(t){return PN(t).then(e=>e.syncEngine)}async function IN(t){const e=await PN(t),r=e.eventManager;return r.onListen=JB.bind(null,e.syncEngine),r.onUnlisten=t5.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ZB.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=r5.bind(null,e.syncEngine),r}function m5(t,e,r={}){const n=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new AN({next:d=>{c.Nu(),o.enqueueAndForget(()=>gN(a,f));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new re(W.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new re(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new yN(Q_(s.path),c,{includeMetadataChanges:!0,qa:!0});return mN(a,f)}(await IN(t),t.asyncQueue,e,r,n)),n.promise}function g5(t,e,r={}){const n=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new AN({next:d=>{c.Nu(),o.enqueueAndForget(()=>gN(a,f)),d.fromCache&&l.source==="server"?u.reject(new re(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new yN(s,c,{includeMetadataChanges:!0,qa:!0});return mN(a,f)}(await IN(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firestore.googleapis.com",nT=!0;class iT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CN,this.ssl=nT}else this.host=e.host,this.ssl=e.ssl??nT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KU)throw new re(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ON(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new re(W.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new re(W.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new re(W.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ym{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new x6;switch(n.type){case"firstParty":return new A6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new re(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=rT.get(r);n&&(ne("ComponentProvider","Removing Datastore"),rT.delete(r),n.terminate())}(this),Promise.resolve()}}function y5(t,e,r,n={}){var u;t=mn(t,ym);const i=dl(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${r}`;i&&(e2(`https://${s}`),t2("Firestore",!0)),a.host!==CN&&a.host!==s&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:n};if(!lo(l,o)&&(t._setSettings(l),n.mockUserToken)){let c,f;if(typeof n.mockUserToken=="string")c=n.mockUserToken,f=Yt.MOCK_USER;else{c=XV(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new re(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Yt(d)}t._authCredentials=new E6(new m2(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class ft{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(uf(r,ft._jsonSchema))return new ft(e,n||null,new se(Ue.fromString(r.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:vt("string",ft._jsonSchemaVersion),referencePath:vt("string")};class ia extends Io{constructor(e,r,n){super(e,r,Q_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new se(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function kN(t,e,...r){if(t=Pt(t),g2("collection","path",e),t instanceof ym){const n=Ue.fromString(e,...r);return yS(n),new ia(t,null,n)}{if(!(t instanceof ft||t instanceof ia))throw new re(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ue.fromString(e,...r));return yS(n),new ia(t.firestore,null,n)}}function vm(t,e,...r){if(t=Pt(t),arguments.length===1&&(e=H_.newId()),g2("doc","path",e),t instanceof ym){const n=Ue.fromString(e,...r);return gS(n),new ft(t,null,new se(n))}{if(!(t instanceof ft||t instanceof ia))throw new re(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ue.fromString(e,...r));return gS(n),new ft(t.firestore,t instanceof ia?t.converter:null,new se(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="AsyncQueue";class oT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sN(this,"async_queue_retry"),this._c=()=>{const n=my();n&&ne(aT,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=my();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=my();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Jn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;ne(aT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",sT(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=fw.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ce(47125,{Pc:sT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function sT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Oo extends ym{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new oT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oT(e),this._firestoreClient=void 0,await e}}}function v5(t,e){const r=typeof t=="object"?t:a2(),n=typeof t=="string"?t:Ed,i=z_(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=GV("firestore");a&&y5(i,...a)}return i}function gw(t){if(t._terminated)throw new re(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b5(t),t._firestoreClient}function b5(t){var n,i,a;const e=t._freezeSettings(),r=function(s,l,u,c){return new z6(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ON(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new h5(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fr(Wt.fromBase64String(e))}catch(r){throw new re(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Fr(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uf(e,Fr._jsonSchema))return Fr.fromBase64String(e.bytes)}}Fr._jsonSchemaVersion="firestore/bytes/1.0",Fr._jsonSchema={type:vt("string",Fr._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new re(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new re(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new re(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kn._jsonSchemaVersion}}static fromJSON(e){if(uf(e,kn._jsonSchema))return new kn(e.latitude,e.longitude)}}kn._jsonSchemaVersion="firestore/geoPoint/1.0",kn._jsonSchema={type:vt("string",kn._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uf(e,Nn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Nn(e.vectorValues);throw new re(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nn._jsonSchemaVersion="firestore/vectorValue/1.0",Nn._jsonSchema={type:vt("string",Nn._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=/^__.*__$/;class w5{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,r,this.fieldTransforms):new cf(e,this.data,r,this.fieldTransforms)}}class NN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new wa(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function RN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class vw{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RN(this.Ac)&&_5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class x5{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||pm(e)}Cc(e,r,n,i=!1){return new vw({Ac:e,methodName:r,Dc:n,path:Ft.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(t){const e=t._freezeSettings(),r=pm(t._databaseId);return new x5(t._databaseId,!!e.ignoreUndefinedProperties,r)}function jN(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);bw("Data must be an object, but it was:",o,n);const s=DN(n,o);let l,u;if(a.merge)l=new Ar(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const d=f0(e,f,r);if(!o.contains(d))throw new re(W.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);$N(c,d)||c.push(d)}l=new Ar(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new w5(new hr(s),l,u)}class wm extends yw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}function E5(t,e,r,n){const i=t.Cc(1,e,r);bw("Data must be an object, but it was:",i,n);const a=[],o=hr.empty();_a(n,(l,u)=>{const c=_w(e,l,r);u=Pt(u);const f=i.yc(c);if(u instanceof wm)a.push(c);else{const d=pf(u,f);d!=null&&(a.push(c),o.set(c,d))}});const s=new Ar(a);return new NN(o,s,i.fieldTransforms)}function S5(t,e,r,n,i,a){const o=t.Cc(1,e,r),s=[f0(e,n,r)],l=[i];if(a.length%2!=0)throw new re(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)s.push(f0(e,a[d])),l.push(a[d+1]);const u=[],c=hr.empty();for(let d=s.length-1;d>=0;--d)if(!$N(u,s[d])){const p=s[d];let _=l[d];_=Pt(_);const g=o.yc(p);if(_ instanceof wm)u.push(p);else{const y=pf(_,g);y!=null&&(u.push(p),c.set(p,y))}}const f=new Ar(u);return new NN(c,f,o.fieldTransforms)}function T5(t,e,r,n=!1){return pf(r,t.Cc(n?4:3,e))}function pf(t,e){if(MN(t=Pt(t)))return bw("Unsupported field value:",e,t),DN(t,e);if(t instanceof yw)return function(n,i){if(!RN(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=pf(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=De.fromDate(n);return{timestampValue:Id(i.serializer,a)}}if(n instanceof De){const a=new De(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Id(i.serializer,a)}}if(n instanceof kn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fr)return{bytesValue:Y2(i.serializer,n._byteString)};if(n instanceof ft){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Nn)return function(o,s){return{mapValue:{fields:{[T2]:{stringValue:A2},[Sd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return J_(s.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${am(n)}`)}(t,e)}function DN(t,e){const r={};return b2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(t,(n,i)=>{const a=pf(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function MN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof kn||t instanceof Fr||t instanceof ft||t instanceof yw||t instanceof Nn)}function bw(t,e,r){if(!MN(r)||!y2(r)){const n=am(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function f0(t,e,r){if((e=Pt(e))instanceof bm)return e._internalPath;if(typeof e=="string")return _w(t,e);throw Nd("Field path arguments must be of type string or ",t,!1,void 0,r)}const A5=new RegExp("[~\\*/\\[\\]]");function _w(t,e,r){if(e.search(A5)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new bm(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Nd(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new re(W.INVALID_ARGUMENT,s+t+l)}function $N(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ww("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class P5 extends LN{data(){return super.data()}}function ww(t,e){return typeof e=="string"?_w(t,e):e instanceof bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xw{}class VN extends xw{}function O5(t,e,...r){let n=[];e instanceof xw&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof Sw).length,s=a.filter(l=>l instanceof Ew).length;if(o>1||o>0&&s>0)throw new re(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Ew extends VN{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ew(e,r,n)}_apply(e){const r=this._parse(e);return FN(e._query,r),new Io(e.firestore,e.converter,e0(e._query,r))}_parse(e){const r=_m(e.firestore);return function(a,o,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new re(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){uT(f,c);const _=[];for(const g of f)_.push(lT(l,a,g));d={arrayValue:{values:_}}}else d=lT(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||uT(f,c),d=T5(s,o,f,c==="in"||c==="not-in");return yt.create(u,c,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class Sw extends xw{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Sw(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:gn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)FN(o,l),o=e0(o,l)}(e._query,r),new Io(e.firestore,e.converter,e0(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tw extends VN{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Tw(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new re(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(a,o)}(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new vl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function C5(t,e="asc"){const r=e,n=ww("orderBy",t);return Tw._create(n,r)}function lT(t,e,r){if(typeof(r=Pt(r))=="string"){if(r==="")throw new re(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j2(e)&&r.indexOf("/")!==-1)throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ue.fromString(r));if(!se.isDocumentKey(n))throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return TS(t,new se(n))}if(r instanceof ft)return TS(t,r._key);throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(r)}.`)}function uT(t,e){if(!Array.isArray(t)||t.length===0)throw new re(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FN(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new re(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class k5{convertValue(e,r="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return _a(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Sd].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>lt(o.doubleValue));return new Nn(r)}convertGeoPoint(e){return new kn(lt(e.latitude),lt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=lm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const r=ca(e);return new De(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ue.fromString(e);Ce(rN(n),9688,{name:e});const i=new dc(n.get(1),n.get(3)),a=new se(n.popFirst(5));return i.isEqual(r)||li(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends LN{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(ww("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Za._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:vt("string",Za._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Wh extends Za{data(e={}){return super.data(e)}}class ys{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Wh(this._firestore,this._userDataWriter,n.key,n,new xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new re(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Wh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Wh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new xu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:N5(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ys._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function N5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){t=mn(t,ft);const e=mn(t.firestore,Oo);return m5(gw(e),t._key).then(r=>V5(e,t,r))}ys._jsonSchemaVersion="firestore/querySnapshot/1.0",ys._jsonSchema={type:vt("string",ys._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class BN extends k5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,r)}}function j5(t){t=mn(t,Io);const e=mn(t.firestore,Oo),r=gw(e),n=new BN(e);return I5(t._query),g5(r,t._query).then(i=>new ys(e,n,t,i))}function D5(t,e,r){t=mn(t,ft);const n=mn(t.firestore,Oo),i=UN(t.converter,e);return xm(n,[jN(_m(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Wr.none())])}function M5(t,e,r,...n){t=mn(t,ft);const i=mn(t.firestore,Oo),a=_m(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof bm?S5(a,"updateDoc",t._key,e,r,n):E5(a,"updateDoc",t._key,e),xm(i,[o.toMutation(t._key,Wr.exists(!0))])}function $5(t){return xm(mn(t.firestore,Oo),[new Z_(t._key,Wr.none())])}function L5(t,e){const r=mn(t.firestore,Oo),n=vm(t),i=UN(t.converter,e);return xm(r,[jN(_m(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Wr.exists(!1))]).then(()=>n)}function xm(t,e){return function(n,i){const a=new Jn;return n.asyncQueue.enqueueAndForget(async()=>n5(await p5(n),i,a)),a.promise}(gw(t),e)}function V5(t,e,r){const n=r.docs.get(e._key),i=new BN(t);return new Za(t,i,e._key,n,new xu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){ml=i})(pl),Rs(new uo("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Oo(new S6(n.getProvider("auth-internal")),new P6(o,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(u.options.projectId,c)}(o,i),o);return a={useFetchStreams:r,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),ra(hS,dS,e),ra(hS,dS,"esm2020")})();var F5="firebase",U5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ra(F5,U5,"app");function zN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B5=zN,WN=new sf("auth","Firebase",zN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new U_("@firebase/auth");function z5(t,...e){Rd.logLevel<=we.WARN&&Rd.warn(`Auth (${pl}): ${t}`,...e)}function Hh(t,...e){Rd.logLevel<=we.ERROR&&Rd.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw Aw(t,...e)}function Rn(t,...e){return Aw(t,...e)}function HN(t,e,r){const n={...B5(),[e]:r};return new sf("auth","Firebase",n).create(e,{appName:t.name})}function Zn(t){return HN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Aw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return WN.create(t,...e)}function ue(t,e,...r){if(!t)throw Aw(e,...r)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hh(e),new Error(e)}function ci(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function W5(){return cT()==="http:"||cT()==="https:"}function cT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W5()||tF()||"connection"in navigator)?navigator.onLine:!0}function q5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,r){this.shortDelay=e,this.longDelay=r,ci(r>e,"Short delay should be less than long delay!"),this.isMobile=JV()||rF()}get(){return H5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e){ci(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X5=new mf(3e4,6e4);function xa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yi(t,e,r,n,i={}){return GN(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=lf({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return eF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&dl(t.emulatorConfig.host)&&(u.credentials="include"),qN.fetch()(await KN(t,t.config.apiHost,r,s),u)})}async function GN(t,e,r){t._canInitEmulator=!1;const n={...G5,...e};try{const i=new Q5(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw fh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fh(t,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HN(t,c,u);yn(t,c)}}catch(i){if(i instanceof gi)throw i;yn(t,"network-request-failed",{message:String(i)})}}async function gf(t,e,r,n,i={}){const a=await yi(t,e,r,n,i);return"mfaPendingCredential"in a&&yn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function KN(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?Pw(t.config,i):`${t.config.apiScheme}://${i}`;return K5.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Y5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Rn(this.auth,"network-request-failed")),X5.get())})}}function fh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Rn(t,e,n);return i.customData._tokenResponse=r,i}function fT(t){return t!==void 0&&t.enterprise!==void 0}class J5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Y5(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z5(t,e){return yi(t,"GET","/v2/recaptchaConfig",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(t,e){return yi(t,"POST","/v1/accounts:delete",e)}async function jd(t,e){return yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t9(t,e=!1){const r=Pt(t),n=await r.getIdToken(e),i=Iw(n);ue(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Lu(yy(i.auth_time)),issuedAtTime:Lu(yy(i.iat)),expirationTime:Lu(yy(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yy(t){return Number(t)*1e3}function Iw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yk(r);return i?JSON.parse(i):(Hh("Failed to decode base64 JWT payload"),null)}catch(i){return Hh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hT(t){const e=Iw(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof gi&&r9(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function r9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t){var f;const e=t.auth,r=await t.getIdToken(),n=await Fs(t,jd(e,{idToken:r}));ue(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?XN(i.providerUserInfo):[],o=a9(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new d0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function i9(t){const e=Pt(t);await Dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a9(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function XN(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e){const r=await GN(t,{},async()=>{const n=lf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await KN(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return t.emulatorConfig&&dl(t.emulatorConfig.host)&&(l.credentials="include"),qN.fetch()(o,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function s9(t,e){return yi(t,"POST","/v2/accounts:revokeToken",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const r=hT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await o9(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new vs;return n&&(ue(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ue(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vs,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cn{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new n9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new d0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Fs(this,this.stsTokenManager.getToken(this.auth,e));return ue(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return t9(this,e)}reload(){return i9(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Dd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await Fs(this,e9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,s=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,c=r.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:_,stsTokenManager:g}=r;ue(f&&g,e,"internal-error");const y=vs.fromJSON(this.name,g);ue(typeof f=="string",e,"internal-error"),Oi(n,e.name),Oi(i,e.name),ue(typeof d=="boolean",e,"internal-error"),ue(typeof p=="boolean",e,"internal-error"),Oi(a,e.name),Oi(o,e.name),Oi(s,e.name),Oi(l,e.name),Oi(u,e.name),Oi(c,e.name);const w=new cn({uid:f,auth:e,email:i,emailVerified:d,displayName:n,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:y,createdAt:u,lastLoginAt:c});return _&&Array.isArray(_)&&(w.providerData=_.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,r,n=!1){const i=new vs;i.updateFromServerResponse(r);const a=new cn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Dd(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?XN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new vs;s.updateFromIdToken(n);const l=new cn({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new d0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;function Gn(t){ci(t instanceof Function,"Expected a class definition");let e=dT.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}YN.type="NONE";const pT=YN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t,e,r){return`firebase:${t}:${e}:${r}`}class bs{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=qh(this.userKey,i.apiKey,a),this.fullPersistenceKey=qh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await jd(this.auth,{idToken:e}).catch(()=>{});return r?cn._fromGetAccountInfoResponse(this.auth,r,e):null}return cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new bs(Gn(pT),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Gn(pT);const o=qh(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const c=await u._get(o);if(c){let f;if(typeof c=="string"){const d=await jd(e,{idToken:c}).catch(()=>{});if(!d)break;f=await cn._fromGetAccountInfoResponse(e,d,c)}else f=cn._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new bs(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new bs(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rR(e))return"Blackberry";if(nR(e))return"Webos";if(JN(e))return"Safari";if((e.includes("chrome/")||ZN(e))&&!e.includes("edge/"))return"Chrome";if(tR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function QN(t=rr()){return/firefox\//i.test(t)}function JN(t=rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZN(t=rr()){return/crios\//i.test(t)}function eR(t=rr()){return/iemobile/i.test(t)}function tR(t=rr()){return/android/i.test(t)}function rR(t=rr()){return/blackberry/i.test(t)}function nR(t=rr()){return/webos/i.test(t)}function Ow(t=rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l9(t=rr()){var e;return Ow(t)&&!!((e=window.navigator)!=null&&e.standalone)}function u9(){return nF()&&document.documentMode===10}function iR(t=rr()){return Ow(t)||tR(t)||nR(t)||rR(t)||/windows phone/i.test(t)||eR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e=[]){let r;switch(t){case"Browser":r=mT(rr());break;case"Worker":r=`${mT(rr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${pl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e={}){return yi(t,"GET","/v2/passwordPolicy",xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=6;class d9{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??h9,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gT(this),this.idTokenSubscription=new gT(this),this.beforeStateQueue=new c9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Gn(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await bs.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await jd(this,{idToken:e}),n=await cn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Vr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Dd(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(Zn(this));const r=e?Pt(e):null;return r&&ue(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f9(this),r=new d9(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await s9(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Gn(e)||this._popupRedirectResolver;ue(r,this,"argument-error"),this.redirectPersistenceManager=await bs.create(this,[Gn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&z5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Co(t){return Pt(t)}class gT{constructor(e){this.auth=e,this.observer=null,this.addObserver=fF(r=>this.observer=r)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m9(t){Em=t}function oR(t){return Em.loadJS(t)}function g9(){return Em.recaptchaEnterpriseScript}function y9(){return Em.gapiScript}function v9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class b9{constructor(){this.enterprise=new _9}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class _9{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const w9="recaptcha-enterprise",sR="NO_RECAPTCHA";class x9{constructor(e){this.type=w9,this.auth=Co(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{Z5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new J5(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;fT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(sR)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b9().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&fT(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=g9();l.length!==0&&(l+=s),oR(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function yT(t,e,r,n=!1,i=!1){const a=new x9(t);let o;if(i)o=sR;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const s={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function p0(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await yT(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await yT(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t,e){const r=z_(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(lo(a,e??{}))return i;yn(i,"already-initialized")}return r.initialize({options:e})}function S9(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function T9(t,e,r){const n=Co(t);ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=lR(e),{host:o,port:s}=A9(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ue(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ue(lo(u,n.config.emulator)&&lo(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,dl(o)?(e2(`${a}//${o}${l}`),t2("Auth",!0)):P9()}function lR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A9(t){const e=lR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:vT(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:vT(o)}}}function vT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P9(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,r){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function I9(t,e){return yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}async function k9(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Cw{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new vc(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new vc(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p0(e,r,"signInWithPassword",O9);case"emailLink":return C9(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p0(e,n,"signUpPassword",I9);case"emailLink":return k9(e,{idToken:r,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="http://localhost";class ho extends Cw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):yn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new ho(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return _s(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,_s(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,_s(e,r)}buildRequest(){const e={requestUri:N9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=lf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j9(t){const e=yu(vu(t)).link,r=e?yu(vu(e)).deep_link_id:null,n=yu(vu(t)).deep_link_id;return(n?yu(vu(n)).link:null)||n||r||e||t}class kw{constructor(e){const r=yu(vu(e)),n=r.apiKey??null,i=r.oobCode??null,a=R9(r.mode??null);ue(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=j9(e);try{return new kw(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,r){return vc._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=kw.parseLink(r);return ue(n,"argument-error"),vc._fromEmailAndCode(e,n.code,n.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends uR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends yf{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ho._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Mi.credential(r,n)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends yf{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends yf{constructor(){super("twitter.com")}static credential(e,r){return ho._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Li.credential(r,n)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e){return gf(t,"POST","/v1/accounts:signUp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await cn._fromIdTokenResponse(e,n,i),o=bT(n);return new po({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=bT(n);return new po({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function bT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends gi{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Md(e,r,n,i)}}function cR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Md._fromErrorAndOperation(t,a,e,n):a})}async function M9(t,e,r=!1){const n=await Fs(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return po._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e,r=!1){const{auth:n}=t;if(Vr(n.app))return Promise.reject(Zn(n));const i="reauthenticate";try{const a=await Fs(t,cR(n,i,e,t),r);ue(a.idToken,n,"internal-error");const o=Iw(a.idToken);ue(o,n,"internal-error");const{sub:s}=o;return ue(t.uid===s,n,"user-mismatch"),po._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&yn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e,r=!1){if(Vr(t.app))return Promise.reject(Zn(t));const n="signIn",i=await cR(t,n,e),a=await po._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function L9(t,e){return fR(Co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t){const e=Co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V9(t,e,r){if(Vr(t.app))return Promise.reject(Zn(t));const n=Co(t),o=await p0(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hR(t),l}),s=await po._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function F9(t,e,r){return Vr(t.app)?Promise.reject(Zn(t)):L9(Pt(t),_l.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&hR(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e){return yi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Pt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Fs(n,U9(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function z9(t,e,r,n){return Pt(t).onIdTokenChanged(e,r,n)}function W9(t,e,r){return Pt(t).beforeAuthStateChanged(e,r)}function H9(t,e,r,n){return Pt(t).onAuthStateChanged(e,r,n)}function q9(t){return Pt(t).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=1e3,K9=10;class pR extends dR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);u9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,K9):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},G9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}pR.type="LOCAL";const X9=pR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends dR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}mR.type="SESSION";const gR=mR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Sm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await Y9(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=Nw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(d.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function J9(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function Z9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function t8(){return yR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebaseLocalStorageDb",r8=1,Ld="firebaseLocalStorage",bR="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Tm(t,e){return t.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function n8(){const t=indexedDB.deleteDatabase(vR);return new vf(t).toPromise()}function m0(){const t=indexedDB.open(vR,r8);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ld,{keyPath:bR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ld)?e(n):(n.close(),await n8(),e(await m0()))})})}async function _T(t,e,r){const n=Tm(t,!0).put({[bR]:e,value:r});return new vf(n).toPromise()}async function i8(t,e){const r=Tm(t,!1).get(e),n=await new vf(r).toPromise();return n===void 0?null:n.value}function wT(t,e){const r=Tm(t,!0).delete(e);return new vf(r).toPromise()}const a8=800,o8=3;class _R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await m0(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>o8)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sm._getInstance(t8()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Z9(),!this.activeServiceWorker)return;this.sender=new Q9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await m0();return await _T(e,$d,"1"),await wT(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>_T(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>i8(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>wT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Tm(i,!1).getAll();return new vf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_R.type="LOCAL";const s8=_R;new mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t,e){return e?Gn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Cw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _s(e,this._buildIdpRequest())}_linkToIdToken(e,r){return _s(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return _s(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function u8(t){return fR(t.auth,new Rw(t),t.bypassAuthState)}function c8(t){const{auth:e,user:r}=t;return ue(r,e,"internal-error"),$9(r,new Rw(t),t.bypassAuthState)}async function f8(t){const{auth:e,user:r}=t;return ue(r,e,"internal-error"),M9(r,new Rw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u8;case"linkViaPopup":case"linkViaRedirect":return f8;case"reauthViaPopup":case"reauthViaRedirect":return c8;default:yn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=new mf(2e3,1e4);class os extends wR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h8.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="pendingRedirect",Gh=new Map;class p8 extends wR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const n=await m8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m8(t,e){const r=v8(e),n=y8(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function g8(t,e){Gh.set(t._key(),e)}function y8(t){return Gn(t._redirectPersistence)}function v8(t){return qh(d8,t.config.apiKey,t.name)}async function b8(t,e,r=!1){if(Vr(t.app))return Promise.reject(Zn(t));const n=Co(t),i=l8(n,e),o=await new p8(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=10*60*1e3;class w8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x8(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!xR(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Rn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_8&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(e))}saveEventToCache(e){this.cachedEventUids.add(xT(e)),this.lastProcessedEventTime=Date.now()}}function xT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(t,e={}){return yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T8=/^https?/;async function A8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E8(t);for(const r of e)try{if(P8(r))return}catch{}yn(t,"unauthorized-domain")}function P8(t){const e=h0(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!T8.test(r))return!1;if(S8.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=new mf(3e4,6e4);function ET(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function O8(t){return new Promise((e,r)=>{var i,a,o;function n(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),r(Rn(t,"network-request-failed"))},timeout:I8.get()})}if((a=(i=jn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=jn().gapi)!=null&&o.load)n();else{const s=v9("iframefcb");return jn()[s]=()=>{gapi.load?n():r(Rn(t,"network-request-failed"))},oR(`${y9()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function C8(t){return Kh=Kh||O8(t),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=new mf(5e3,15e3),N8="__/auth/iframe",R8="emulator/auth/iframe",j8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M8(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Pw(e,R8):`https://${t.config.authDomain}/${N8}`,n={apiKey:e.apiKey,appName:t.name,v:pl},i=D8.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${lf(n).slice(1)}`}async function $8(t){const e=await C8(t),r=jn().gapi;return ue(r,t,"internal-error"),e.open({where:document.body,url:M8(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j8,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Rn(t,"network-request-failed"),s=jn().setTimeout(()=>{a(o)},k8.get());function l(){jn().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V8=500,F8=600,U8="_blank",B8="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z8(t,e,r,n=V8,i=F8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l={...L8,width:n.toString(),height:i.toString(),top:a,left:o},u=rr().toLowerCase();r&&(s=ZN(u)?U8:r),QN(u)&&(e=e||B8,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,_])=>`${d}${p}=${_},`,"");if(l9(u)&&s!=="_self")return W8(e||"",s),new ST(null);const f=window.open(e||"",s,c);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new ST(f)}function W8(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8="__/auth/handler",q8="emulator/auth/handler",G8=encodeURIComponent("fac");async function TT(t,e,r,n,i,a){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:pl,eventId:i};if(e instanceof uR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof yf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${G8}=${encodeURIComponent(l)}`:"";return`${K8(t)}?${lf(s).slice(1)}${u}`}function K8({config:t}){return t.emulator?Pw(t,q8):`https://${t.authDomain}/${H8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="webStorageSupport";class X8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gR,this._completeRedirectFn=b8,this._overrideRedirectResult=g8}async _openPopup(e,r,n,i){var o;ci((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await TT(e,r,n,h0(),i);return z8(e,a,Nw())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await TT(e,r,n,h0(),i);return J9(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(ci(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await $8(e),n=new w8(e);return r.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(vy,{type:vy},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[vy];a!==void 0&&r(!!a),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=A8(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return iR()||JN()||Ow()}}const Y8=X8;var AT="@firebase/auth",PT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z8(t){Rs(new uo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aR(t)},u=new p9(n,i,a,l);return S9(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Rs(new uo("auth-internal",e=>{const r=Co(e.getProvider("auth").getImmediate());return(n=>new Q8(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ra(AT,PT,J8(t)),ra(AT,PT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=5*60,tz=Zk("authIdTokenMaxAge")||ez;let IT=null;const rz=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>tz)return;const i=r==null?void 0:r.token;IT!==i&&(IT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nz(t=a2()){const e=z_(t,"auth");if(e.isInitialized())return e.getImmediate();const r=E9(t,{popupRedirectResolver:Y8,persistence:[s8,X9,gR]}),n=Zk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=rz(a.toString());W9(r,o,()=>o(r.currentUser)),z9(r,s=>o(s))}}const i=Qk("auth");return i&&T9(r,`http://${i}`),r}function iz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}m9({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Rn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",iz().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z8("Browser");const az={apiKey:"AIzaSyBlQs46HmEjGDFtnC6aEb2FkW4x2KJAn28",authDomain:"smart-carbon-tracker.firebaseapp.com",projectId:"smart-carbon-tracker",storageBucket:"smart-carbon-tracker.firebasestorage.app",messagingSenderId:"463600178918",appId:"1:463600178918:web:36fecbe3408eb90b078d27"},ER=i2(az),Am=nz(ER),bf=v5(ER),oz=async(t,e)=>{try{const r=kN(bf,"users",t,"records");return(await L5(r,{...e,timestamp:De.now()})).id}catch(r){throw new Error(r.message||"Failed to add record")}},sz=async(t,e,r)=>{try{const n=vm(bf,"users",t,"records",e);await M5(n,r)}catch(n){throw new Error(n.message||"Failed to update record")}},lz=async(t,e)=>{try{const r=vm(bf,"users",t,"records",e);await $5(r)}catch(r){throw new Error(r.message||"Failed to delete record")}},uz=async t=>{try{const e=kN(bf,"users",t,"records"),r=O5(e,C5("timestamp","desc"));return(await j5(r)).docs.map(i=>{var a;return{id:i.id,...i.data(),timestamp:((a=i.data().timestamp)==null?void 0:a.toDate().toISOString())||new Date().toISOString()}})}catch(e){throw new Error(e.message||"Failed to fetch records")}},Ea=NV()(LV((t,e)=>({user:null,setUser:r=>t({user:r}),theme:"light",setTheme:r=>t({theme:r}),company:null,setCompany:r=>t({company:r}),records:[],loadRecords:async()=>{const{user:r}=e();if(!r){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{const n=await uz(r.uid);t({records:n,isLoading:!1,lastSyncTime:new Date().toISOString()})}catch(n){console.error("Error loading records:",n),t({error:n.message||"Failed to load records",isLoading:!1})}},addRecord:async r=>{const{user:n}=e();if(!n){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{const i=await oz(n.uid,r),a={...r,id:i,timestamp:new Date().toISOString()};t(o=>({records:[a,...o.records],isLoading:!1,success:"Record added successfully",lastSyncTime:new Date().toISOString()}))}catch(i){console.error("Error adding record:",i),t({error:i.message||"Failed to add record",isLoading:!1})}},updateRecord:async(r,n)=>{const{user:i}=e();if(!i){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{await sz(i.uid,r,n),t(a=>({records:a.records.map(o=>o.id===r?{...o,...n}:o),isLoading:!1,success:"Record updated successfully",lastSyncTime:new Date().toISOString()}))}catch(a){console.error("Error updating record:",a),t({error:a.message||"Failed to update record",isLoading:!1})}},deleteRecord:async r=>{const{user:n}=e();if(!n){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{await lz(n.uid,r),t(i=>({records:i.records.filter(a=>a.id!==r),isLoading:!1,success:"Record deleted successfully",lastSyncTime:new Date().toISOString()}))}catch(i){console.error("Error deleting record:",i),t({error:i.message||"Failed to delete record",isLoading:!1})}},recommendations:[],setRecommendations:r=>t({recommendations:r}),isLoading:!1,setIsLoading:r=>t({isLoading:r}),error:null,setError:r=>t({error:r}),success:null,setSuccess:r=>t({success:r}),lastSyncTime:null,setLastSyncTime:r=>t({lastSyncTime:r})}),{name:"carbon-tracker-store",partialize:t=>({theme:t.theme,company:t.company})})),cz=async t=>{const e=vm(bf,"users",t.uid);(await R5(e)).exists()||await D5(e,{email:t.email,displayName:t.displayName||"",createdAt:De.now(),updatedAt:De.now()})},fz=async(t,e,r)=>{try{const n=await V9(Am,t,e);return r&&n.user&&await B9(n.user,{displayName:r}),await cz(n.user),n.user}catch(n){throw new Error(n.message||"Failed to create account")}},hz=async(t,e)=>{try{return(await F9(Am,t,e)).user}catch(r){throw new Error(r.message||"Failed to sign in")}},dz=async()=>{try{await q9(Am)}catch(t){throw new Error(t.message||"Failed to sign out")}},pz=t=>H9(Am,t),g0=({checked:t=!1,onChange:e,label:r,disabled:n=!1})=>m.jsxs("div",{className:"flex items-center gap-3",children:[r&&m.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:r}),m.jsx("button",{onClick:()=>e==null?void 0:e(!t),disabled:n,className:`
          relative inline-flex h-7 w-12 items-center rounded-full
          transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
          dark:focus:ring-offset-neutral-800
          ${t?"bg-primary-500":"bg-neutral-300 dark:bg-neutral-600"}
          ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,children:m.jsx("span",{className:`
            inline-block h-5 w-5 transform rounded-full bg-white
            transition-transform duration-200 shadow-md
            ${t?"translate-x-6":"translate-x-1"}
          `})})]}),mz=()=>{const t=To(),e=of(),{theme:r,setTheme:n,user:i,setUser:a}=Ea(),[o,s]=D.useState(!1),l=async()=>{try{await dz(),a(null),e("/login")}catch(d){console.error("Logout error:",d)}},u=[{label:"Dashboard",href:"/"},{label:"Data Entry",href:"/data-entry"},{label:"Calculator",href:"/calculator"},{label:"Benchmarks",href:"/benchmarks"},{label:"Recommendations",href:"/recommendations"},{label:"Reports",href:"/reports"},{label:"Learn",href:"/learn"},{label:"Settings",href:"/settings"}],c=d=>t.pathname===d,f=t.pathname==="/login";return m.jsx("nav",{className:"bg-white dark:bg-neutral-900 shadow-soft sticky top-0 z-50",children:m.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs(ay,{to:"/",className:"flex items-center gap-2 font-heading font-bold text-xl text-primary-600 dark:text-primary-400 hover:text-primary-700 transition-colors flex-shrink-0",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"hidden sm:inline",children:"Carbon Tracker"})]}),!f&&m.jsx("div",{className:"hidden lg:flex items-center gap-0.5 flex-1 justify-center mx-4",children:u.map(d=>m.jsx(ay,{to:d.href,className:`
                    px-2.5 py-2 rounded-lg text-xs xl:text-sm font-medium transition-all duration-200 whitespace-nowrap
                    ${c(d.href)?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"}
                  `,children:d.label},d.href))}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i&&!f&&m.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[m.jsx("span",{className:"text-xs xl:text-sm text-neutral-600 dark:text-neutral-400 max-w-[150px] truncate",children:i.displayName||i.email}),m.jsx("button",{onClick:l,className:"px-3 py-1.5 text-xs xl:text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:"Logout"})]}),m.jsx(g0,{checked:r==="dark",onChange:d=>n(d?"dark":"light"),label:"Dark"}),!f&&m.jsx("button",{onClick:()=>s(!o),className:"lg:hidden p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),o&&!f&&m.jsxs("div",{className:"lg:hidden pb-4 border-t border-neutral-200 dark:border-neutral-700 pt-2",children:[i&&m.jsxs("div",{className:"px-3 py-2 mb-2 text-sm text-neutral-600 dark:text-neutral-400 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsx("div",{className:"font-medium",children:i.displayName||i.email}),m.jsx("button",{onClick:l,className:"mt-2 w-full px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors",children:"Logout"})]}),u.map(d=>m.jsx(ay,{to:d.href,onClick:()=>s(!1),className:`
                  block px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200
                  ${c(d.href)?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"}
                `,children:d.label},d.href))]})]})})},gz=()=>{const t=new Date().getFullYear(),r=To().pathname==="/login";return m.jsx("footer",{className:"bg-neutral-900 dark:bg-black text-neutral-300 dark:text-neutral-400 py-8 mt-16",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[!r&&m.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"About"}),m.jsx("p",{className:"text-sm",children:"Smart Carbon Footprint & Sustainability Tracker helps businesses measure, monitor, and reduce emissions."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Quick Links"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"/dashboard",className:"hover:text-primary-400 transition",children:"Dashboard"})}),m.jsx("li",{children:m.jsx("a",{href:"/calculator",className:"hover:text-primary-400 transition",children:"Calculator"})}),m.jsx("li",{children:m.jsx("a",{href:"/benchmarks",className:"hover:text-primary-400 transition",children:"Benchmarks"})}),m.jsx("li",{children:m.jsx("a",{href:"/reports",className:"hover:text-primary-400 transition",children:"Reports"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Resources"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Documentation"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"API Reference"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Support"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Blog"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Contact"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:"Email: info@carbontracker.com"}),m.jsx("li",{children:"Phone: +1 (555) 123-4567"}),m.jsxs("li",{className:"flex gap-3 mt-4",children:[m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Twitter"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"LinkedIn"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"GitHub"})]})]})]})]}),m.jsxs("div",{className:"border-t border-neutral-700 pt-6 flex flex-col md:flex-row justify-between items-center",children:[m.jsxs("p",{className:"text-sm text-neutral-500",children:[" ",t," Smart Carbon Footprint. All rights reserved."]}),m.jsxs("div",{className:"flex gap-6 text-sm mt-4 md:mt-0",children:[m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Privacy Policy"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Terms of Service"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Cookie Policy"})]})]})]})})},Da=({children:t})=>{const{user:e}=Ea();return e?m.jsx(m.Fragment,{children:t}):m.jsx(Bk,{to:"/login",replace:!0})},cr=(t,e=2,r="")=>t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e})+r,yz=(t,e=1)=>t>=1e9?(t/1e9).toFixed(e)+"B":t>=1e6?(t/1e6).toFixed(e)+"M":t>=1e3?(t/1e3).toFixed(e)+"K":t.toFixed(e),hh=t=>{const{title:e,value:r,unit:n="kg COe",icon:i,trend:a,trendDirection:o,className:s="",onClick:l}=t,u=o==="down"&&a!==void 0&&a>0;return m.jsxs("div",{onClick:l,className:`
        bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft
        hover:shadow-lg hover:scale-102 transition-all duration-200 ease-smooth
        border border-transparent hover:border-primary-300 dark:hover:border-primary-700
        cursor-pointer group
        ${s}
      `,children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{children:m.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:e})}),i&&m.jsx("div",{className:"text-primary-500 dark:text-primary-400 group-hover:scale-110 transition-transform",children:i})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white font-heading",children:yz(r,2)}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:n})]}),a!==void 0&&m.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${u?"text-primary-600 dark:text-primary-400":"text-error"}`,children:[m.jsx("span",{children:u?"":""}),m.jsxs("span",{children:[Math.abs(a).toFixed(1),"%"]}),m.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"vs last month"})]})]})},SR=t=>t.reduce((e,r)=>e+(r.co2e||0),0),TR=t=>{const e={scope1:0,scope2:0,scope3:0};return t.forEach(r=>{const n=r.co2e||0;switch(r.category){case"fuel":e.scope1+=n;break;case"electricity":e.scope2+=n;break;case"travel":case"waste":case"water":e.scope3+=n;break}}),e},vz=t=>{const e={electricity:0,fuel:0,travel:0,waste:0,water:0};return t.forEach(r=>{e[r.category]=(e[r.category]||0)+(r.co2e||0)}),e},AR=t=>{const e={};return t.forEach(r=>{const n=`${r.year}-${String(r.month).padStart(2,"0")}`;e[n]||(e[n]={total:0,scope1:0,scope2:0,scope3:0});const i=r.co2e||0;e[n].total+=i,r.category==="fuel"?e[n].scope1+=i:r.category==="electricity"?e[n].scope2+=i:e[n].scope3+=i}),Object.entries(e).sort(([r],[n])=>r.localeCompare(n)).map(([r,n])=>({month:new Date(`${r}-01`).toLocaleString("en-US",{month:"short",year:"2-digit"}),...n}))},bz=t=>{if(t.length===0)return{total:0,average:0,minimum:0,maximum:0,trend:0};const e=t.map(s=>s.co2e||0),r=e.reduce((s,l)=>s+l,0),n=r/e.length,i=Math.min(...e),a=Math.max(...e);let o=0;if(t.length>=2){const s=t.slice(-2),l=s[1].co2e||0,u=s[0].co2e||0;o=(l-u)/u*100||0}return{total:r,average:n,minimum:i,maximum:a,trend:o}};function PR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=PR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Pe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=PR(t))&&(n&&(n+=" "),n+=e);return n}var _z=Array.isArray,vr=_z,wz=typeof Bf=="object"&&Bf&&Bf.Object===Object&&Bf,IR=wz,xz=IR,Ez=typeof self=="object"&&self&&self.Object===Object&&self,Sz=xz||Ez||Function("return this")(),Vn=Sz,Tz=Vn,Az=Tz.Symbol,_f=Az,OT=_f,OR=Object.prototype,Pz=OR.hasOwnProperty,Iz=OR.toString,nu=OT?OT.toStringTag:void 0;function Oz(t){var e=Pz.call(t,nu),r=t[nu];try{t[nu]=void 0;var n=!0}catch{}var i=Iz.call(t);return n&&(e?t[nu]=r:delete t[nu]),i}var Cz=Oz,kz=Object.prototype,Nz=kz.toString;function Rz(t){return Nz.call(t)}var jz=Rz,CT=_f,Dz=Cz,Mz=jz,$z="[object Null]",Lz="[object Undefined]",kT=CT?CT.toStringTag:void 0;function Vz(t){return t==null?t===void 0?Lz:$z:kT&&kT in Object(t)?Dz(t):Mz(t)}var vi=Vz;function Fz(t){return t!=null&&typeof t=="object"}var bi=Fz,Uz=vi,Bz=bi,zz="[object Symbol]";function Wz(t){return typeof t=="symbol"||Bz(t)&&Uz(t)==zz}var wl=Wz,Hz=vr,qz=wl,Gz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kz=/^\w*$/;function Xz(t,e){if(Hz(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||qz(t)?!0:Kz.test(t)||!Gz.test(t)||e!=null&&t in Object(e)}var jw=Xz;function Yz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Sa=Yz;const xl=Me(Sa);var Qz=vi,Jz=Sa,Zz="[object AsyncFunction]",e7="[object Function]",t7="[object GeneratorFunction]",r7="[object Proxy]";function n7(t){if(!Jz(t))return!1;var e=Qz(t);return e==e7||e==t7||e==Zz||e==r7}var Dw=n7;const ge=Me(Dw);var i7=Vn,a7=i7["__core-js_shared__"],o7=a7,by=o7,NT=function(){var t=/[^.]+$/.exec(by&&by.keys&&by.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s7(t){return!!NT&&NT in t}var l7=s7,u7=Function.prototype,c7=u7.toString;function f7(t){if(t!=null){try{return c7.call(t)}catch{}try{return t+""}catch{}}return""}var CR=f7,h7=Dw,d7=l7,p7=Sa,m7=CR,g7=/[\\^$.*+?()[\]{}|]/g,y7=/^\[object .+?Constructor\]$/,v7=Function.prototype,b7=Object.prototype,_7=v7.toString,w7=b7.hasOwnProperty,x7=RegExp("^"+_7.call(w7).replace(g7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E7(t){if(!p7(t)||d7(t))return!1;var e=h7(t)?x7:y7;return e.test(m7(t))}var S7=E7;function T7(t,e){return t==null?void 0:t[e]}var A7=T7,P7=S7,I7=A7;function O7(t,e){var r=I7(t,e);return P7(r)?r:void 0}var ko=O7,C7=ko,k7=C7(Object,"create"),Pm=k7,RT=Pm;function N7(){this.__data__=RT?RT(null):{},this.size=0}var R7=N7;function j7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var D7=j7,M7=Pm,$7="__lodash_hash_undefined__",L7=Object.prototype,V7=L7.hasOwnProperty;function F7(t){var e=this.__data__;if(M7){var r=e[t];return r===$7?void 0:r}return V7.call(e,t)?e[t]:void 0}var U7=F7,B7=Pm,z7=Object.prototype,W7=z7.hasOwnProperty;function H7(t){var e=this.__data__;return B7?e[t]!==void 0:W7.call(e,t)}var q7=H7,G7=Pm,K7="__lodash_hash_undefined__";function X7(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=G7&&e===void 0?K7:e,this}var Y7=X7,Q7=R7,J7=D7,Z7=U7,eW=q7,tW=Y7;function El(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}El.prototype.clear=Q7;El.prototype.delete=J7;El.prototype.get=Z7;El.prototype.has=eW;El.prototype.set=tW;var rW=El;function nW(){this.__data__=[],this.size=0}var iW=nW;function aW(t,e){return t===e||t!==t&&e!==e}var Mw=aW,oW=Mw;function sW(t,e){for(var r=t.length;r--;)if(oW(t[r][0],e))return r;return-1}var Im=sW,lW=Im,uW=Array.prototype,cW=uW.splice;function fW(t){var e=this.__data__,r=lW(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():cW.call(e,r,1),--this.size,!0}var hW=fW,dW=Im;function pW(t){var e=this.__data__,r=dW(e,t);return r<0?void 0:e[r][1]}var mW=pW,gW=Im;function yW(t){return gW(this.__data__,t)>-1}var vW=yW,bW=Im;function _W(t,e){var r=this.__data__,n=bW(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var wW=_W,xW=iW,EW=hW,SW=mW,TW=vW,AW=wW;function Sl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sl.prototype.clear=xW;Sl.prototype.delete=EW;Sl.prototype.get=SW;Sl.prototype.has=TW;Sl.prototype.set=AW;var Om=Sl,PW=ko,IW=Vn,OW=PW(IW,"Map"),$w=OW,jT=rW,CW=Om,kW=$w;function NW(){this.size=0,this.__data__={hash:new jT,map:new(kW||CW),string:new jT}}var RW=NW;function jW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var DW=jW,MW=DW;function $W(t,e){var r=t.__data__;return MW(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Cm=$W,LW=Cm;function VW(t){var e=LW(this,t).delete(t);return this.size-=e?1:0,e}var FW=VW,UW=Cm;function BW(t){return UW(this,t).get(t)}var zW=BW,WW=Cm;function HW(t){return WW(this,t).has(t)}var qW=HW,GW=Cm;function KW(t,e){var r=GW(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var XW=KW,YW=RW,QW=FW,JW=zW,ZW=qW,eH=XW;function Tl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Tl.prototype.clear=YW;Tl.prototype.delete=QW;Tl.prototype.get=JW;Tl.prototype.has=ZW;Tl.prototype.set=eH;var Lw=Tl,kR=Lw,tH="Expected a function";function Vw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tH);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Vw.Cache||kR),r}Vw.Cache=kR;var NR=Vw;const rH=Me(NR);var nH=NR,iH=500;function aH(t){var e=nH(t,function(n){return r.size===iH&&r.clear(),n}),r=e.cache;return e}var oH=aH,sH=oH,lH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uH=/\\(\\)?/g,cH=sH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lH,function(r,n,i,a){e.push(i?a.replace(uH,"$1"):n||r)}),e}),fH=cH;function hH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Fw=hH,DT=_f,dH=Fw,pH=vr,mH=wl,MT=DT?DT.prototype:void 0,$T=MT?MT.toString:void 0;function RR(t){if(typeof t=="string")return t;if(pH(t))return dH(t,RR)+"";if(mH(t))return $T?$T.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gH=RR,yH=gH;function vH(t){return t==null?"":yH(t)}var jR=vH,bH=vr,_H=jw,wH=fH,xH=jR;function EH(t,e){return bH(t)?t:_H(t,e)?[t]:wH(xH(t))}var DR=EH,SH=wl;function TH(t){if(typeof t=="string"||SH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var km=TH,AH=DR,PH=km;function IH(t,e){e=AH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[PH(e[r++])];return r&&r==n?t:void 0}var Uw=IH,OH=Uw;function CH(t,e,r){var n=t==null?void 0:OH(t,e);return n===void 0?r:n}var MR=CH;const Hr=Me(MR);function kH(t){return t==null}var NH=kH;const ve=Me(NH);var RH=vi,jH=vr,DH=bi,MH="[object String]";function $H(t){return typeof t=="string"||!jH(t)&&DH(t)&&RH(t)==MH}var LH=$H;const mo=Me(LH);var $R={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=Symbol.for("react.element"),zw=Symbol.for("react.portal"),Nm=Symbol.for("react.fragment"),Rm=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),Dm=Symbol.for("react.provider"),Mm=Symbol.for("react.context"),VH=Symbol.for("react.server_context"),$m=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),Fm=Symbol.for("react.memo"),Um=Symbol.for("react.lazy"),FH=Symbol.for("react.offscreen"),LR;LR=Symbol.for("react.module.reference");function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bw:switch(t=t.type,t){case Nm:case jm:case Rm:case Lm:case Vm:return t;default:switch(t=t&&t.$$typeof,t){case VH:case Mm:case $m:case Um:case Fm:case Dm:return t;default:return e}}case zw:return e}}}Ne.ContextConsumer=Mm;Ne.ContextProvider=Dm;Ne.Element=Bw;Ne.ForwardRef=$m;Ne.Fragment=Nm;Ne.Lazy=Um;Ne.Memo=Fm;Ne.Portal=zw;Ne.Profiler=jm;Ne.StrictMode=Rm;Ne.Suspense=Lm;Ne.SuspenseList=Vm;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return Yr(t)===Mm};Ne.isContextProvider=function(t){return Yr(t)===Dm};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bw};Ne.isForwardRef=function(t){return Yr(t)===$m};Ne.isFragment=function(t){return Yr(t)===Nm};Ne.isLazy=function(t){return Yr(t)===Um};Ne.isMemo=function(t){return Yr(t)===Fm};Ne.isPortal=function(t){return Yr(t)===zw};Ne.isProfiler=function(t){return Yr(t)===jm};Ne.isStrictMode=function(t){return Yr(t)===Rm};Ne.isSuspense=function(t){return Yr(t)===Lm};Ne.isSuspenseList=function(t){return Yr(t)===Vm};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nm||t===jm||t===Rm||t===Lm||t===Vm||t===FH||typeof t=="object"&&t!==null&&(t.$$typeof===Um||t.$$typeof===Fm||t.$$typeof===Dm||t.$$typeof===Mm||t.$$typeof===$m||t.$$typeof===LR||t.getModuleId!==void 0)};Ne.typeOf=Yr;$R.exports=Ne;var UH=$R.exports,BH=vi,zH=bi,WH="[object Number]";function HH(t){return typeof t=="number"||zH(t)&&BH(t)==WH}var VR=HH;const qH=Me(VR);var GH=VR;function KH(t){return GH(t)&&t!=+t}var XH=KH;const wf=Me(XH);var fn=function(e){return e===0?0:e>0?1:-1},Ga=function(e){return mo(e)&&e.indexOf("%")===e.length-1},Z=function(e){return qH(e)&&!wf(e)},YH=function(e){return ve(e)},Tt=function(e){return Z(e)||mo(e)},QH=0,xf=function(e){var r=++QH;return"".concat(e||"").concat(r)},go=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&!mo(e))return n;var a;if(Ga(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return wf(a)&&(a=n),i&&a>r&&(a=r),a},Vi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},JH=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ln=function(e,r){return Z(e)&&Z(r)?function(n){return e+n*(r-e)}:function(){return r}};function Vd(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Hr(n,e))===r})}var ZH=function(e,r){return Z(e)&&Z(r)?e-r:mo(e)&&mo(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ws(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}var eq=["viewBox","children"],tq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LT=["points","pathLength"],_y={svg:eq,polygon:LT,polyline:LT},Ww=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Fd=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if($.isValidElement(e)&&(n=e.props),!xl(n))return null;var i={};return Object.keys(n).forEach(function(a){Ww.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},rq=function(e,r,n){return function(i){return e(r,n,i),null}},Ud=function(e,r,n){if(!xl(e)||y0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Ww.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=rq(o,r,n))}),i},nq=["children"],iq=["children"];function VT(t,e){if(t==null)return{};var r=aq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}var FT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ei=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},UT=null,wy=null,Hw=function t(e){if(e===UT&&Array.isArray(wy))return wy;var r=[];return $.Children.forEach(e,function(n){ve(n)||(UH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),wy=r,UT=e,r};function qr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ei(i)}):n=[ei(e)],Hw(t).forEach(function(i){var a=Hr(i,"type.displayName")||Hr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Er(t,e){var r=qr(t,e);return r&&r[0]}var BT=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Z(n)||n<=0||!Z(i)||i<=0)},oq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sq=function(e){return e&&e.type&&mo(e.type)&&oq.indexOf(e.type)>=0},lq=function(e){return e&&v0(e)==="object"&&"clipDot"in e},uq=function(e,r,n,i){var a,o=(a=_y==null?void 0:_y[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ge(e)&&(i&&o.includes(r)||tq.includes(r))||n&&Ww.includes(r)},Se=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!xl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;uq((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},b0=function t(e,r){if(e===r)return!0;var n=$.Children.count(e);if(n!==$.Children.count(r))return!1;if(n===0)return!0;if(n===1)return zT(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!zT(a,o))return!1}return!0},zT=function(e,r){if(ve(e)&&ve(r))return!0;if(!ve(e)&&!ve(r)){var n=e.props||{},i=n.children,a=VT(n,nq),o=r.props||{},s=o.children,l=VT(o,iq);return i&&s?ws(a,l)&&b0(i,s):!i&&!s?ws(a,l):!1}return!1},WT=function(e,r){var n=[],i={};return Hw(e).forEach(function(a,o){if(sq(a))n.push(a);else if(a){var s=ei(a.type),l=r[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},cq=function(e){var r=e&&e.type;return r&&FT[r]?FT[r]:null},fq=function(e,r){return Hw(r).indexOf(e)},hq=["children","width","height","viewBox","className","style","title","desc"];function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_0.apply(this,arguments)}function dq(t,e){if(t==null)return{};var r=pq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w0(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=dq(t,hq),c=i||{width:r,height:n,x:0,y:0},f=Pe("recharts-surface",a);return D.createElement("svg",_0({},Se(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var mq=["children","className"];function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x0.apply(this,arguments)}function gq(t,e){if(t==null)return{};var r=yq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ct=D.forwardRef(function(t,e){var r=t.children,n=t.className,i=gq(t,mq),a=Pe("recharts-layer",n);return D.createElement("g",x0({className:a},Se(i,!0),{ref:e}),r)}),ti=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function vq(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var bq=vq,_q=bq;function wq(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:_q(t,e,r)}var xq=wq,Eq="\\ud800-\\udfff",Sq="\\u0300-\\u036f",Tq="\\ufe20-\\ufe2f",Aq="\\u20d0-\\u20ff",Pq=Sq+Tq+Aq,Iq="\\ufe0e\\ufe0f",Oq="\\u200d",Cq=RegExp("["+Oq+Eq+Pq+Iq+"]");function kq(t){return Cq.test(t)}var FR=kq;function Nq(t){return t.split("")}var Rq=Nq,UR="\\ud800-\\udfff",jq="\\u0300-\\u036f",Dq="\\ufe20-\\ufe2f",Mq="\\u20d0-\\u20ff",$q=jq+Dq+Mq,Lq="\\ufe0e\\ufe0f",Vq="["+UR+"]",E0="["+$q+"]",S0="\\ud83c[\\udffb-\\udfff]",Fq="(?:"+E0+"|"+S0+")",BR="[^"+UR+"]",zR="(?:\\ud83c[\\udde6-\\uddff]){2}",WR="[\\ud800-\\udbff][\\udc00-\\udfff]",Uq="\\u200d",HR=Fq+"?",qR="["+Lq+"]?",Bq="(?:"+Uq+"(?:"+[BR,zR,WR].join("|")+")"+qR+HR+")*",zq=qR+HR+Bq,Wq="(?:"+[BR+E0+"?",E0,zR,WR,Vq].join("|")+")",Hq=RegExp(S0+"(?="+S0+")|"+Wq+zq,"g");function qq(t){return t.match(Hq)||[]}var Gq=qq,Kq=Rq,Xq=FR,Yq=Gq;function Qq(t){return Xq(t)?Yq(t):Kq(t)}var Jq=Qq,Zq=xq,eG=FR,tG=Jq,rG=jR;function nG(t){return function(e){e=rG(e);var r=eG(e)?tG(e):void 0,n=r?r[0]:e.charAt(0),i=r?Zq(r,1).join(""):e.slice(1);return n[t]()+i}}var iG=nG,aG=iG,oG=aG("toUpperCase"),sG=oG;const Bm=Me(sG);function Fe(t){return function(){return t}}const GR=Math.cos,Bd=Math.sin,vn=Math.sqrt,zd=Math.PI,zm=2*zd,T0=Math.PI,A0=2*T0,Fa=1e-6,lG=A0-Fa;function KR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function uG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return KR;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class cG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?KR:uG(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,c=o-e,f=s-r,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>Fa)if(!(Math.abs(f*l-u*c)>Fa)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,_=i-s,g=l*l+u*u,y=p*p+_*_,w=Math.sqrt(g),v=Math.sqrt(d),x=a*Math.tan((T0-Math.acos((g+d-y)/(2*w*v)))/2),O=x/v,T=x/w;Math.abs(O-1)>Fa&&this._append`L${e+O*c},${r+O*f}`,this._append`A${a},${a},0,0,${+(f*p>c*_)},${this._x1=e+T*l},${this._y1=r+T*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,c=r+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Fa||Math.abs(this._y1-c)>Fa)&&this._append`L${u},${c}`,n&&(d<0&&(d=d%A0+A0),d>lG?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:d>Fa&&this._append`A${n},${n},0,${+(d>=T0)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qw(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new cG(e)}function Gw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XR(t){this._context=t}XR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wm(t){return new XR(t)}function YR(t){return t[0]}function QR(t){return t[1]}function JR(t,e){var r=Fe(!0),n=null,i=Wm,a=null,o=qw(s);t=typeof t=="function"?t:t===void 0?YR:Fe(t),e=typeof e=="function"?e:e===void 0?QR:Fe(e);function s(l){var u,c=(l=Gw(l)).length,f,d=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fe(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Fe(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function dh(t,e,r){var n=null,i=Fe(!0),a=null,o=Wm,s=null,l=qw(u);t=typeof t=="function"?t:t===void 0?YR:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?QR:Fe(+r);function u(f){var d,p,_,g=(f=Gw(f)).length,y,w=!1,v,x=new Array(g),O=new Array(g);for(a==null&&(s=o(v=l())),d=0;d<=g;++d){if(!(d<g&&i(y=f[d],d,f))===w)if(w=!w)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=d-1;_>=p;--_)s.point(x[_],O[_]);s.lineEnd(),s.areaEnd()}w&&(x[d]=+t(y,d,f),O[d]=+e(y,d,f),s.point(n?+n(y,d,f):x[d],r?+r(y,d,f):O[d]))}if(v)return s=null,v+""||null}function c(){return JR().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fe(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fe(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Fe(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class ZR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function fG(t){return new ZR(t,!0)}function hG(t){return new ZR(t,!1)}const Kw={draw(t,e){const r=vn(e/zd);t.moveTo(r,0),t.arc(0,0,r,0,zm)}},dG={draw(t,e){const r=vn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},ej=vn(1/3),pG=ej*2,mG={draw(t,e){const r=vn(e/pG),n=r*ej;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},gG={draw(t,e){const r=vn(e),n=-r/2;t.rect(n,n,r,r)}},yG=.8908130915292852,tj=Bd(zd/10)/Bd(7*zd/10),vG=Bd(zm/10)*tj,bG=-GR(zm/10)*tj,_G={draw(t,e){const r=vn(e*yG),n=vG*r,i=bG*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=zm*a/5,s=GR(o),l=Bd(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},xy=vn(3),wG={draw(t,e){const r=-vn(e/(xy*3));t.moveTo(0,r*2),t.lineTo(-xy*r,-r),t.lineTo(xy*r,-r),t.closePath()}},Rr=-.5,jr=vn(3)/2,P0=1/vn(12),xG=(P0/2+1)*3,EG={draw(t,e){const r=vn(e/xG),n=r/2,i=r*P0,a=n,o=r*P0+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Rr*n-jr*i,jr*n+Rr*i),t.lineTo(Rr*a-jr*o,jr*a+Rr*o),t.lineTo(Rr*s-jr*l,jr*s+Rr*l),t.lineTo(Rr*n+jr*i,Rr*i-jr*n),t.lineTo(Rr*a+jr*o,Rr*o-jr*a),t.lineTo(Rr*s+jr*l,Rr*l-jr*s),t.closePath()}};function SG(t,e){let r=null,n=qw(i);t=typeof t=="function"?t:Fe(t||Kw),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Fe(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Wd(){}function Hd(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function rj(t){this._context=t}rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TG(t){return new rj(t)}function nj(t){this._context=t}nj.prototype={areaStart:Wd,areaEnd:Wd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AG(t){return new nj(t)}function ij(t){this._context=t}ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PG(t){return new ij(t)}function aj(t){this._context=t}aj.prototype={areaStart:Wd,areaEnd:Wd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function IG(t){return new aj(t)}function HT(t){return t<0?-1:1}function qT(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(HT(a)+HT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function GT(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ey(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function qd(t){this._context=t}qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ey(this,this._t0,GT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ey(this,GT(this,r=qT(this,t,e)),r);break;default:Ey(this,this._t0,r=qT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oj(t){this._context=new sj(t)}(oj.prototype=Object.create(qd.prototype)).point=function(t,e){qd.prototype.point.call(this,e,t)};function sj(t){this._context=t}sj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function OG(t){return new qd(t)}function CG(t){return new oj(t)}function lj(t){this._context=t}lj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=KT(t),i=KT(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KT(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function kG(t){return new lj(t)}function Hm(t,e){this._context=t,this._t=e}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function NG(t){return new Hm(t,.5)}function RG(t){return new Hm(t,0)}function jG(t){return new Hm(t,1)}function Us(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function I0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function DG(t,e){return t[e]}function MG(t){const e=[];return e.key=t,e}function $G(){var t=Fe([]),e=I0,r=Us,n=DG;function i(a){var o=Array.from(t.apply(this,arguments),MG),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,c=Gw(e(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Fe(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?I0:typeof a=="function"?a:Fe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Us,i):r},i}function LG(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Us(t,e)}}function VG(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Us(t,e)}}function FG(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[n][1]||0,d=c[n-1][1]||0,p=(f-d)/2,_=0;_<s;++_){var g=t[e[_]],y=g[n][1]||0,w=g[n-1][1]||0;p+=y-w}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Us(t,e)}}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}var UG=["type","size","sizeType"];function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}function XT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(r),!0).forEach(function(n){BG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BG(t,e,r){return e=zG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zG(t){var e=WG(t,"string");return bc(e)=="symbol"?e:e+""}function WG(t,e){if(bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HG(t,e){if(t==null)return{};var r=qG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uj={symbolCircle:Kw,symbolCross:dG,symbolDiamond:mG,symbolSquare:gG,symbolStar:_G,symbolTriangle:wG,symbolWye:EG},GG=Math.PI/180,KG=function(e){var r="symbol".concat(Bm(e));return uj[r]||Kw},XG=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*GG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},YG=function(e,r){uj["symbol".concat(Bm(e))]=r},Xw=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=HG(e,UG),u=YT(YT({},l),{},{type:n,size:a,sizeType:s}),c=function(){var y=KG(n),w=SG().type(y).size(XG(a,s,n));return w()},f=u.className,d=u.cx,p=u.cy,_=Se(u,!0);return d===+d&&p===+p&&a===+a?D.createElement("path",O0({},_,{className:Pe("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};Xw.registerSymbol=YG;function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function QT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(r),!0).forEach(function(n){_c(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fj(n.key),n)}}function eK(t,e,r){return e&&ZG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tK(t,e,r){return e=Gd(e),rK(t,cj()?Reflect.construct(e,r||[],Gd(t).constructor):e.apply(t,r))}function rK(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nK(t)}function nK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cj=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(t)}function iK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k0(t,e)}function k0(t,e){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k0(t,e)}function _c(t,e,r){return e=fj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fj(t){var e=aK(t,"string");return Bs(e)=="symbol"?e:e+""}function aK(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dr=32,Yw=function(t){function e(){return JG(this,e),tK(this,e,arguments)}return iK(e,t),eK(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Dr/2,o=Dr/6,s=Dr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Dr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Dr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Dr/8,"h").concat(Dr,"v").concat(Dr*3/4,"h").concat(-Dr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=QG({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(Xw,{fill:l,cx:a,cy:a,size:Dr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Dr,height:Dr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,_){var g=p.formatter||l,y=Pe(_c(_c({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=ge(p.value)?null:p.value;ti(!ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return D.createElement("li",C0({className:y,style:f,key:"legend-item-".concat(_)},Ud(n.props,p,_)),D.createElement(w0,{width:o,height:o,viewBox:c,style:d},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(w,p,_):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}($.PureComponent);_c(Yw,"displayName","Legend");_c(Yw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oK=Om;function sK(){this.__data__=new oK,this.size=0}var lK=sK;function uK(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var cK=uK;function fK(t){return this.__data__.get(t)}var hK=fK;function dK(t){return this.__data__.has(t)}var pK=dK,mK=Om,gK=$w,yK=Lw,vK=200;function bK(t,e){var r=this.__data__;if(r instanceof mK){var n=r.__data__;if(!gK||n.length<vK-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new yK(n)}return r.set(t,e),this.size=r.size,this}var _K=bK,wK=Om,xK=lK,EK=cK,SK=hK,TK=pK,AK=_K;function Al(t){var e=this.__data__=new wK(t);this.size=e.size}Al.prototype.clear=xK;Al.prototype.delete=EK;Al.prototype.get=SK;Al.prototype.has=TK;Al.prototype.set=AK;var hj=Al,PK="__lodash_hash_undefined__";function IK(t){return this.__data__.set(t,PK),this}var OK=IK;function CK(t){return this.__data__.has(t)}var kK=CK,NK=Lw,RK=OK,jK=kK;function Kd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new NK;++e<r;)this.add(t[e])}Kd.prototype.add=Kd.prototype.push=RK;Kd.prototype.has=jK;var dj=Kd;function DK(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var pj=DK;function MK(t,e){return t.has(e)}var mj=MK,$K=dj,LK=pj,VK=mj,FK=1,UK=2;function BK(t,e,r,n,i,a){var o=r&FK,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&UK?new $K:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var _=t[f],g=e[f];if(n)var y=o?n(g,_,f,e,t,a):n(_,g,f,t,e,a);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!LK(e,function(w,v){if(!VK(p,v)&&(_===w||i(_,w,r,n,a)))return p.push(v)})){d=!1;break}}else if(!(_===g||i(_,g,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var gj=BK,zK=Vn,WK=zK.Uint8Array,HK=WK;function qK(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var GK=qK;function KK(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Qw=KK,JT=_f,ZT=HK,XK=Mw,YK=gj,QK=GK,JK=Qw,ZK=1,eX=2,tX="[object Boolean]",rX="[object Date]",nX="[object Error]",iX="[object Map]",aX="[object Number]",oX="[object RegExp]",sX="[object Set]",lX="[object String]",uX="[object Symbol]",cX="[object ArrayBuffer]",fX="[object DataView]",eA=JT?JT.prototype:void 0,Sy=eA?eA.valueOf:void 0;function hX(t,e,r,n,i,a,o){switch(r){case fX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cX:return!(t.byteLength!=e.byteLength||!a(new ZT(t),new ZT(e)));case tX:case rX:case aX:return XK(+t,+e);case nX:return t.name==e.name&&t.message==e.message;case oX:case lX:return t==e+"";case iX:var s=QK;case sX:var l=n&ZK;if(s||(s=JK),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=eX,o.set(t,e);var c=YK(s(t),s(e),n,i,a,o);return o.delete(t),c;case uX:if(Sy)return Sy.call(t)==Sy.call(e)}return!1}var dX=hX;function pX(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var yj=pX,mX=yj,gX=vr;function yX(t,e,r){var n=e(t);return gX(t)?n:mX(n,r(t))}var vX=yX;function bX(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var _X=bX;function wX(){return[]}var xX=wX,EX=_X,SX=xX,TX=Object.prototype,AX=TX.propertyIsEnumerable,tA=Object.getOwnPropertySymbols,PX=tA?function(t){return t==null?[]:(t=Object(t),EX(tA(t),function(e){return AX.call(t,e)}))}:SX,IX=PX;function OX(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var CX=OX,kX=vi,NX=bi,RX="[object Arguments]";function jX(t){return NX(t)&&kX(t)==RX}var DX=jX,rA=DX,MX=bi,vj=Object.prototype,$X=vj.hasOwnProperty,LX=vj.propertyIsEnumerable,VX=rA(function(){return arguments}())?rA:function(t){return MX(t)&&$X.call(t,"callee")&&!LX.call(t,"callee")},Jw=VX,Xd={exports:{}};function FX(){return!1}var UX=FX;Xd.exports;(function(t,e){var r=Vn,n=UX,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(Xd,Xd.exports);var bj=Xd.exports,BX=9007199254740991,zX=/^(?:0|[1-9]\d*)$/;function WX(t,e){var r=typeof t;return e=e??BX,!!e&&(r=="number"||r!="symbol"&&zX.test(t))&&t>-1&&t%1==0&&t<e}var Zw=WX,HX=9007199254740991;function qX(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=HX}var ex=qX,GX=vi,KX=ex,XX=bi,YX="[object Arguments]",QX="[object Array]",JX="[object Boolean]",ZX="[object Date]",eY="[object Error]",tY="[object Function]",rY="[object Map]",nY="[object Number]",iY="[object Object]",aY="[object RegExp]",oY="[object Set]",sY="[object String]",lY="[object WeakMap]",uY="[object ArrayBuffer]",cY="[object DataView]",fY="[object Float32Array]",hY="[object Float64Array]",dY="[object Int8Array]",pY="[object Int16Array]",mY="[object Int32Array]",gY="[object Uint8Array]",yY="[object Uint8ClampedArray]",vY="[object Uint16Array]",bY="[object Uint32Array]",Ge={};Ge[fY]=Ge[hY]=Ge[dY]=Ge[pY]=Ge[mY]=Ge[gY]=Ge[yY]=Ge[vY]=Ge[bY]=!0;Ge[YX]=Ge[QX]=Ge[uY]=Ge[JX]=Ge[cY]=Ge[ZX]=Ge[eY]=Ge[tY]=Ge[rY]=Ge[nY]=Ge[iY]=Ge[aY]=Ge[oY]=Ge[sY]=Ge[lY]=!1;function _Y(t){return XX(t)&&KX(t.length)&&!!Ge[GX(t)]}var wY=_Y;function xY(t){return function(e){return t(e)}}var _j=xY,Yd={exports:{}};Yd.exports;(function(t,e){var r=IR,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Yd,Yd.exports);var EY=Yd.exports,SY=wY,TY=_j,nA=EY,iA=nA&&nA.isTypedArray,AY=iA?TY(iA):SY,wj=AY,PY=CX,IY=Jw,OY=vr,CY=bj,kY=Zw,NY=wj,RY=Object.prototype,jY=RY.hasOwnProperty;function DY(t,e){var r=OY(t),n=!r&&IY(t),i=!r&&!n&&CY(t),a=!r&&!n&&!i&&NY(t),o=r||n||i||a,s=o?PY(t.length,String):[],l=s.length;for(var u in t)(e||jY.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||kY(u,l)))&&s.push(u);return s}var MY=DY,$Y=Object.prototype;function LY(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||$Y;return t===r}var VY=LY;function FY(t,e){return function(r){return t(e(r))}}var xj=FY,UY=xj,BY=UY(Object.keys,Object),zY=BY,WY=VY,HY=zY,qY=Object.prototype,GY=qY.hasOwnProperty;function KY(t){if(!WY(t))return HY(t);var e=[];for(var r in Object(t))GY.call(t,r)&&r!="constructor"&&e.push(r);return e}var XY=KY,YY=Dw,QY=ex;function JY(t){return t!=null&&QY(t.length)&&!YY(t)}var Ef=JY,ZY=MY,eQ=XY,tQ=Ef;function rQ(t){return tQ(t)?ZY(t):eQ(t)}var qm=rQ,nQ=vX,iQ=IX,aQ=qm;function oQ(t){return nQ(t,aQ,iQ)}var sQ=oQ,aA=sQ,lQ=1,uQ=Object.prototype,cQ=uQ.hasOwnProperty;function fQ(t,e,r,n,i,a){var o=r&lQ,s=aA(t),l=s.length,u=aA(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:cQ.call(e,d)))return!1}var p=a.get(t),_=a.get(e);if(p&&_)return p==e&&_==t;var g=!0;a.set(t,e),a.set(e,t);for(var y=o;++f<l;){d=s[f];var w=t[d],v=e[d];if(n)var x=o?n(v,w,d,e,t,a):n(w,v,d,t,e,a);if(!(x===void 0?w===v||i(w,v,r,n,a):x)){g=!1;break}y||(y=d=="constructor")}if(g&&!y){var O=t.constructor,T=e.constructor;O!=T&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(g=!1)}return a.delete(t),a.delete(e),g}var hQ=fQ,dQ=ko,pQ=Vn,mQ=dQ(pQ,"DataView"),gQ=mQ,yQ=ko,vQ=Vn,bQ=yQ(vQ,"Promise"),_Q=bQ,wQ=ko,xQ=Vn,EQ=wQ(xQ,"Set"),Ej=EQ,SQ=ko,TQ=Vn,AQ=SQ(TQ,"WeakMap"),PQ=AQ,N0=gQ,R0=$w,j0=_Q,D0=Ej,M0=PQ,Sj=vi,Pl=CR,oA="[object Map]",IQ="[object Object]",sA="[object Promise]",lA="[object Set]",uA="[object WeakMap]",cA="[object DataView]",OQ=Pl(N0),CQ=Pl(R0),kQ=Pl(j0),NQ=Pl(D0),RQ=Pl(M0),Ua=Sj;(N0&&Ua(new N0(new ArrayBuffer(1)))!=cA||R0&&Ua(new R0)!=oA||j0&&Ua(j0.resolve())!=sA||D0&&Ua(new D0)!=lA||M0&&Ua(new M0)!=uA)&&(Ua=function(t){var e=Sj(t),r=e==IQ?t.constructor:void 0,n=r?Pl(r):"";if(n)switch(n){case OQ:return cA;case CQ:return oA;case kQ:return sA;case NQ:return lA;case RQ:return uA}return e});var jQ=Ua,Ty=hj,DQ=gj,MQ=dX,$Q=hQ,fA=jQ,hA=vr,dA=bj,LQ=wj,VQ=1,pA="[object Arguments]",mA="[object Array]",ph="[object Object]",FQ=Object.prototype,gA=FQ.hasOwnProperty;function UQ(t,e,r,n,i,a){var o=hA(t),s=hA(e),l=o?mA:fA(t),u=s?mA:fA(e);l=l==pA?ph:l,u=u==pA?ph:u;var c=l==ph,f=u==ph,d=l==u;if(d&&dA(t)){if(!dA(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Ty),o||LQ(t)?DQ(t,e,r,n,i,a):MQ(t,e,l,r,n,i,a);if(!(r&VQ)){var p=c&&gA.call(t,"__wrapped__"),_=f&&gA.call(e,"__wrapped__");if(p||_){var g=p?t.value():t,y=_?e.value():e;return a||(a=new Ty),i(g,y,r,n,a)}}return d?(a||(a=new Ty),$Q(t,e,r,n,i,a)):!1}var BQ=UQ,zQ=BQ,yA=bi;function Tj(t,e,r,n,i){return t===e?!0:t==null||e==null||!yA(t)&&!yA(e)?t!==t&&e!==e:zQ(t,e,r,n,Tj,i)}var tx=Tj,WQ=hj,HQ=tx,qQ=1,GQ=2;function KQ(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new WQ;if(n)var d=n(u,c,l,t,e,f);if(!(d===void 0?HQ(c,u,qQ|GQ,n,f):d))return!1}}return!0}var XQ=KQ,YQ=Sa;function QQ(t){return t===t&&!YQ(t)}var Aj=QQ,JQ=Aj,ZQ=qm;function eJ(t){for(var e=ZQ(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,JQ(i)]}return e}var tJ=eJ;function rJ(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Pj=rJ,nJ=XQ,iJ=tJ,aJ=Pj;function oJ(t){var e=iJ(t);return e.length==1&&e[0][2]?aJ(e[0][0],e[0][1]):function(r){return r===t||nJ(r,t,e)}}var sJ=oJ;function lJ(t,e){return t!=null&&e in Object(t)}var uJ=lJ,cJ=DR,fJ=Jw,hJ=vr,dJ=Zw,pJ=ex,mJ=km;function gJ(t,e,r){e=cJ(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=mJ(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&pJ(i)&&dJ(o,i)&&(hJ(t)||fJ(t)))}var yJ=gJ,vJ=uJ,bJ=yJ;function _J(t,e){return t!=null&&bJ(t,e,vJ)}var wJ=_J,xJ=tx,EJ=MR,SJ=wJ,TJ=jw,AJ=Aj,PJ=Pj,IJ=km,OJ=1,CJ=2;function kJ(t,e){return TJ(t)&&AJ(e)?PJ(IJ(t),e):function(r){var n=EJ(r,t);return n===void 0&&n===e?SJ(r,t):xJ(e,n,OJ|CJ)}}var NJ=kJ;function RJ(t){return t}var Il=RJ;function jJ(t){return function(e){return e==null?void 0:e[t]}}var DJ=jJ,MJ=Uw;function $J(t){return function(e){return MJ(e,t)}}var LJ=$J,VJ=DJ,FJ=LJ,UJ=jw,BJ=km;function zJ(t){return UJ(t)?VJ(BJ(t)):FJ(t)}var WJ=zJ,HJ=sJ,qJ=NJ,GJ=Il,KJ=vr,XJ=WJ;function YJ(t){return typeof t=="function"?t:t==null?GJ:typeof t=="object"?KJ(t)?qJ(t[0],t[1]):HJ(t):XJ(t)}var Ta=YJ;function QJ(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Ij=QJ;function JJ(t){return t!==t}var ZJ=JJ;function eZ(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var tZ=eZ,rZ=Ij,nZ=ZJ,iZ=tZ;function aZ(t,e,r){return e===e?iZ(t,e,r):rZ(t,nZ,r)}var oZ=aZ,sZ=oZ;function lZ(t,e){var r=t==null?0:t.length;return!!r&&sZ(t,e,0)>-1}var uZ=lZ;function cZ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var fZ=cZ;function hZ(){}var dZ=hZ,Ay=Ej,pZ=dZ,mZ=Qw,gZ=1/0,yZ=Ay&&1/mZ(new Ay([,-0]))[1]==gZ?function(t){return new Ay(t)}:pZ,vZ=yZ,bZ=dj,_Z=uZ,wZ=fZ,xZ=mj,EZ=vZ,SZ=Qw,TZ=200;function AZ(t,e,r){var n=-1,i=_Z,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=wZ;else if(a>=TZ){var u=e?null:EZ(t);if(u)return SZ(u);o=!1,i=xZ,l=new bZ}else l=e?[]:s;e:for(;++n<a;){var c=t[n],f=e?e(c):c;if(c=r||c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,r)||(l!==s&&l.push(f),s.push(c))}return s}var PZ=AZ,IZ=Ta,OZ=PZ;function CZ(t,e){return t&&t.length?OZ(t,IZ(e)):[]}var kZ=CZ;const vA=Me(kZ);function Oj(t,e,r){return e===!0?vA(t,r):ge(e)?vA(t,e):t}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}var NZ=["ref"];function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){Gm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kj(n.key),n)}}function jZ(t,e,r){return e&&_A(t.prototype,e),r&&_A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DZ(t,e,r){return e=Qd(e),MZ(t,Cj()?Reflect.construct(e,r||[],Qd(t).constructor):e.apply(t,r))}function MZ(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Z(t)}function $Z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cj=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(t)}function LZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(t,e)}function Gm(t,e,r){return e=kj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kj(t){var e=VZ(t,"string");return zs(e)=="symbol"?e:e+""}function VZ(t,e){if(zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FZ(t,e){if(t==null)return{};var r=UZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BZ(t){return t.value}function zZ(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var r=FZ(e,NZ);return D.createElement(Yw,r)}var wA=1,eo=function(t){function e(){var r;RZ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=DZ(this,e,[].concat(i)),Gm(r,"lastBoundingBox",{width:-1,height:-1}),r}return LZ(e,t),jZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>wA||Math.abs(i.height-this.lastBoundingBox.height)>wA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Un({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var _=this.getBBoxSnapshot();d={top:((c||0)-_.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Un(Un({},f),d)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Un(Un({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},zZ(a,Un(Un({},this.props),{},{payload:Oj(c,u,BZ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Un(Un({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Z(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}($.PureComponent);Gm(eo,"displayName","Legend");Gm(eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xA=_f,WZ=Jw,HZ=vr,EA=xA?xA.isConcatSpreadable:void 0;function qZ(t){return HZ(t)||WZ(t)||!!(EA&&t&&t[EA])}var GZ=qZ,KZ=yj,XZ=GZ;function Nj(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=XZ),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?Nj(s,e-1,r,n,i):KZ(i,s):n||(i[i.length]=s)}return i}var Rj=Nj;function YZ(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var QZ=YZ,JZ=QZ,ZZ=JZ(),eee=ZZ,tee=eee,ree=qm;function nee(t,e){return t&&tee(t,e,ree)}var jj=nee,iee=Ef;function aee(t,e){return function(r,n){if(r==null)return r;if(!iee(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var oee=aee,see=jj,lee=oee,uee=lee(see),rx=uee,cee=rx,fee=Ef;function hee(t,e){var r=-1,n=fee(t)?Array(t.length):[];return cee(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var Dj=hee;function dee(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var pee=dee,SA=wl;function mee(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=SA(t),o=e!==void 0,s=e===null,l=e===e,u=SA(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var gee=mee,yee=gee;function vee(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=yee(i[n],a[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var bee=vee,Py=Fw,_ee=Uw,wee=Ta,xee=Dj,Eee=pee,See=_j,Tee=bee,Aee=Il,Pee=vr;function Iee(t,e,r){e.length?e=Py(e,function(a){return Pee(a)?function(o){return _ee(o,a.length===1?a[0]:a)}:a}):e=[Aee];var n=-1;e=Py(e,See(wee));var i=xee(t,function(a,o,s){var l=Py(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return Eee(i,function(a,o){return Tee(a,o,r)})}var Oee=Iee;function Cee(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var kee=Cee,Nee=kee,TA=Math.max;function Ree(t,e,r){return e=TA(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=TA(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),Nee(t,this,s)}}var jee=Ree;function Dee(t){return function(){return t}}var Mee=Dee,$ee=ko,Lee=function(){try{var t=$ee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Mj=Lee,Vee=Mee,AA=Mj,Fee=Il,Uee=AA?function(t,e){return AA(t,"toString",{configurable:!0,enumerable:!1,value:Vee(e),writable:!0})}:Fee,Bee=Uee,zee=800,Wee=16,Hee=Date.now;function qee(t){var e=0,r=0;return function(){var n=Hee(),i=Wee-(n-r);if(r=n,i>0){if(++e>=zee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Gee=qee,Kee=Bee,Xee=Gee,Yee=Xee(Kee),Qee=Yee,Jee=Il,Zee=jee,ete=Qee;function tte(t,e){return ete(Zee(t,e,Jee),t+"")}var rte=tte,nte=Mw,ite=Ef,ate=Zw,ote=Sa;function ste(t,e,r){if(!ote(r))return!1;var n=typeof e;return(n=="number"?ite(r)&&ate(e,r.length):n=="string"&&e in r)?nte(r[e],t):!1}var Km=ste,lte=Rj,ute=Oee,cte=rte,PA=Km,fte=cte(function(t,e){if(t==null)return[];var r=e.length;return r>1&&PA(t,e[0],e[1])?e=[]:r>2&&PA(e[0],e[1],e[2])&&(e=[e[0]]),ute(t,lte(e,1),[])}),hte=fte;const nx=Me(hte);function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function dte(t,e){return yte(t)||gte(t,e)||mte(t,e)||pte()}function pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mte(t,e){if(t){if(typeof t=="string")return IA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(t,e)}}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yte(t){if(Array.isArray(t))return t}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){vte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vte(t,e,r){return e=bte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bte(t){var e=_te(t,"string");return wc(e)=="symbol"?e:e+""}function _te(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wte(t){return Array.isArray(t)&&Tt(t[0])&&Tt(t[1])?t.join(" ~ "):t}var xte=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,_=e.labelClassName,g=e.label,y=e.labelFormatter,w=e.accessibilityLayer,v=w===void 0?!1:w,x=function(){if(c&&c.length){var j={padding:0,margin:0},N=(d?nx(c,d):c).map(function(F,U){if(F.type==="none")return null;var H=Iy({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),G=F.formatter||f||wte,L=F.value,z=F.name,X=L,ee=z;if(G&&X!=null&&ee!=null){var Q=G(L,z,F,U,c);if(Array.isArray(Q)){var oe=dte(Q,2);X=oe[0],ee=oe[1]}else X=Q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:H},Tt(ee)?D.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Tt(ee)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},X),D.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},O=Iy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Iy({margin:0},u),I=!ve(g),E=I?g:"",S=Pe("recharts-default-tooltip",p),P=Pe("recharts-tooltip-label",_);I&&y&&c!==void 0&&c!==null&&(E=y(g,c));var k=v?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",L0({className:S,style:O},k),D.createElement("p",{className:P,style:T},D.isValidElement(E)?E:"".concat(E)),x())};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function mh(t,e,r){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ete(t){var e=Ste(t,"string");return xc(e)=="symbol"?e:e+""}function Ste(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu="recharts-tooltip-wrapper",Tte={visibility:"hidden"};function Ate(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Pe(iu,mh(mh(mh(mh({},"".concat(iu,"-right"),Z(r)&&e&&Z(e.x)&&r>=e.x),"".concat(iu,"-left"),Z(r)&&e&&Z(e.x)&&r<e.x),"".concat(iu,"-bottom"),Z(n)&&e&&Z(e.y)&&n>=e.y),"".concat(iu,"-top"),Z(n)&&e&&Z(e.y)&&n<e.y))}function CA(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Z(a[n]))return a[n];var c=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?c:f;if(o[n]){var d=c,p=l[n];return d<p?Math.max(f,l[n]):Math.max(c,l[n])}var _=f+s,g=l[n]+u;return _>g?Math.max(c,l[n]):Math.max(f,l[n])}function Pte(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Ite(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&r?(c=CA({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=CA({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Pte({translateX:c,translateY:f,useTranslate3d:s})):u=Tte,{cssProperties:u,cssClasses:Ate({translateX:c,translateY:f,coordinate:r})}}function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function kA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(r),!0).forEach(function(n){F0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lj(n.key),n)}}function kte(t,e,r){return e&&Cte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nte(t,e,r){return e=Jd(e),Rte(t,$j()?Reflect.construct(e,r||[],Jd(t).constructor):e.apply(t,r))}function Rte(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jte(t)}function jte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($j=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(t)}function Dte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(t,e)}function F0(t,e,r){return e=Lj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lj(t){var e=Mte(t,"string");return Ws(e)=="symbol"?e:e+""}function Mte(t,e){if(Ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RA=1,$te=function(t){function e(){var r;Ote(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Nte(this,e,[].concat(i)),F0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),F0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return Dte(e,t),kte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>RA||Math.abs(n.height-this.state.lastBoundingBox.height)>RA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,_=i.position,g=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,v=i.wrapperStyle,x=Ite({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:_,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),O=x.cssClasses,T=x.cssProperties,I=NA(NA({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return D.createElement("div",{tabIndex:-1,className:O,style:I,ref:function(S){n.wrapperNode=S}},u)}}])}($.PureComponent),Lte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ol={isSsr:Lte()};function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function jA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(r),!0).forEach(function(n){ix(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fj(n.key),n)}}function Ute(t,e,r){return e&&Fte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bte(t,e,r){return e=Zd(e),zte(t,Vj()?Reflect.construct(e,r||[],Zd(t).constructor):e.apply(t,r))}function zte(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wte(t)}function Wte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vj=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(t)}function Hte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U0(t,e)}function ix(t,e,r){return e=Fj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fj(t){var e=qte(t,"string");return Hs(e)=="symbol"?e:e+""}function qte(t,e){if(Hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gte(t){return t.dataKey}function Kte(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(xte,e)}var Mr=function(t){function e(){return Vte(this,e),Bte(this,e,arguments)}return Hte(e,t),Ute(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,_=i.payload,g=i.payloadUniqBy,y=i.position,w=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,O=i.wrapperStyle,T=_??[];f&&T.length&&(T=Oj(_.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),g,Gte));var I=T.length>0;return D.createElement($te,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:c,hasPayload:I,offset:p,position:y,reverseDirection:w,useTranslate3d:v,viewBox:x,wrapperStyle:O},Kte(u,DA(DA({},this.props),{},{payload:T})))}}])}($.PureComponent);ix(Mr,"displayName","Tooltip");ix(Mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ol.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xte=Vn,Yte=function(){return Xte.Date.now()},Qte=Yte,Jte=/\s/;function Zte(t){for(var e=t.length;e--&&Jte.test(t.charAt(e)););return e}var ere=Zte,tre=ere,rre=/^\s+/;function nre(t){return t&&t.slice(0,tre(t)+1).replace(rre,"")}var ire=nre,are=ire,MA=Sa,ore=wl,$A=NaN,sre=/^[-+]0x[0-9a-f]+$/i,lre=/^0b[01]+$/i,ure=/^0o[0-7]+$/i,cre=parseInt;function fre(t){if(typeof t=="number")return t;if(ore(t))return $A;if(MA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=MA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=are(t);var r=lre.test(t);return r||ure.test(t)?cre(t.slice(2),r?2:8):sre.test(t)?$A:+t}var Uj=fre,hre=Sa,Oy=Qte,LA=Uj,dre="Expected a function",pre=Math.max,mre=Math.min;function gre(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(dre);e=LA(e)||0,hre(r)&&(c=!!r.leading,f="maxWait"in r,a=f?pre(LA(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(I){var E=n,S=i;return n=i=void 0,u=I,o=t.apply(S,E),o}function _(I){return u=I,s=setTimeout(w,e),c?p(I):o}function g(I){var E=I-l,S=I-u,P=e-E;return f?mre(P,a-S):P}function y(I){var E=I-l,S=I-u;return l===void 0||E>=e||E<0||f&&S>=a}function w(){var I=Oy();if(y(I))return v(I);s=setTimeout(w,g(I))}function v(I){return s=void 0,d&&n?p(I):(n=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function O(){return s===void 0?o:v(Oy())}function T(){var I=Oy(),E=y(I);if(n=arguments,i=this,l=I,E){if(s===void 0)return _(l);if(f)return clearTimeout(s),s=setTimeout(w,e),p(l)}return s===void 0&&(s=setTimeout(w,e)),o}return T.cancel=x,T.flush=O,T}var yre=gre,vre=yre,bre=Sa,_re="Expected a function";function wre(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(_re);return bre(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),vre(t,e,{leading:n,maxWait:e,trailing:i})}var xre=wre;const Bj=Me(xre);function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function VA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(r),!0).forEach(function(n){Ere(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ere(t,e,r){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sre(t){var e=Tre(t,"string");return Ec(e)=="symbol"?e:e+""}function Tre(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Are(t,e){return Cre(t)||Ore(t,e)||Ire(t,e)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(t,e){if(t){if(typeof t=="string")return FA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(t,e)}}function FA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ore(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Cre(t){if(Array.isArray(t))return t}var B0=$.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,_=t.debounce,g=_===void 0?0:_,y=t.id,w=t.className,v=t.onResize,x=t.style,O=x===void 0?{}:x,T=$.useRef(null),I=$.useRef();I.current=v,$.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=$.useState({containerWidth:i.width,containerHeight:i.height}),S=Are(E,2),P=S[0],k=S[1],C=$.useCallback(function(N,F){k(function(U){var H=Math.round(N),G=Math.round(F);return U.containerWidth===H&&U.containerHeight===G?U:{containerWidth:H,containerHeight:G}})},[]);$.useEffect(function(){var N=function(z){var X,ee=z[0].contentRect,Q=ee.width,oe=ee.height;C(Q,oe),(X=I.current)===null||X===void 0||X.call(I,Q,oe)};g>0&&(N=Bj(N,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(N),U=T.current.getBoundingClientRect(),H=U.width,G=U.height;return C(H,G),F.observe(T.current),function(){F.disconnect()}},[C,g]);var j=$.useMemo(function(){var N=P.containerWidth,F=P.containerHeight;if(N<0||F<0)return null;ti(Ga(o)||Ga(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ti(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Ga(o)?N:o,H=Ga(l)?F:l;r&&r>0&&(U?H=U/r:H&&(U=H*r),d&&H>d&&(H=d)),ti(U>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,H,o,l,c,f,r);var G=!Array.isArray(p)&&ei(p.type).endsWith("Chart");return D.Children.map(p,function(L){return D.isValidElement(L)?$.cloneElement(L,gh({width:U,height:H},G?{style:gh({height:"100%",width:"100%",maxHeight:H,maxWidth:U},L.props.style)}:{})):L})},[r,p,l,d,f,c,P,o]);return D.createElement("div",{id:y?"".concat(y):void 0,className:Pe("recharts-responsive-container",w),style:gh(gh({},O),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:T},j)}),zj=function(e){return null};zj.displayName="Cell";function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function UA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(r),!0).forEach(function(n){kre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kre(t,e,r){return e=Nre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nre(t){var e=Rre(t,"string");return Sc(e)=="symbol"?e:e+""}function Rre(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fo={widthCache:{},cacheCount:0},jre=2e3,Dre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BA="recharts_measurement_span";function Mre(t){var e=z0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Vu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ol.isSsr)return{width:0,height:0};var n=Mre(r),i=JSON.stringify({text:e,copyStyle:n});if(Fo.widthCache[i])return Fo.widthCache[i];try{var a=document.getElementById(BA);a||(a=document.createElement("span"),a.setAttribute("id",BA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=z0(z0({},Dre),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Fo.widthCache[i]=l,++Fo.cacheCount>jre&&(Fo.cacheCount=0,Fo.widthCache={}),l}catch{return{width:0,height:0}}},$re=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function ep(t,e){return Ure(t)||Fre(t,e)||Vre(t,e)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vre(t,e){if(t){if(typeof t=="string")return zA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zA(t,e)}}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ure(t){if(Array.isArray(t))return t}function Bre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wre(n.key),n)}}function zre(t,e,r){return e&&WA(t.prototype,e),r&&WA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wre(t){var e=Hre(t,"string");return Tc(e)=="symbol"?e:e+""}function Hre(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kre=Object.keys(Wj),ss="NaN";function Xre(t,e){return t*Wj[e]}var yh=function(){function t(e,r){Bre(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!qre.test(r)&&(this.num=NaN,this.unit=""),Kre.includes(r)&&(this.num=Xre(e,r),this.unit="px")}return zre(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Gre.exec(r))!==null&&n!==void 0?n:[],a=ep(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function Hj(t){if(t.includes(ss))return ss;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=HA.exec(e))!==null&&r!==void 0?r:[],i=ep(n,4),a=i[1],o=i[2],s=i[3],l=yh.parse(a??""),u=yh.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return ss;e=e.replace(HA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=qA.exec(e))!==null&&f!==void 0?f:[],p=ep(d,4),_=p[1],g=p[2],y=p[3],w=yh.parse(_??""),v=yh.parse(y??""),x=g==="+"?w.add(v):w.subtract(v);if(x.isNaN())return ss;e=e.replace(qA,x.toString())}return e}var GA=/\(([^()]*)\)/;function Yre(t){for(var e=t;e.includes("(");){var r=GA.exec(e),n=ep(r,2),i=n[1];e=e.replace(GA,Hj(i))}return e}function Qre(t){var e=t.replace(/\s+/g,"");return e=Yre(e),e=Hj(e),e}function Jre(t){try{return Qre(t)}catch{return ss}}function Cy(t){var e=Jre(t.slice(5,-1));return e===ss?"":e}var Zre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ene=["dx","dy","angle","className","breakAll"];function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W0.apply(this,arguments)}function KA(t,e){if(t==null)return{};var r=tne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XA(t,e){return ane(t)||ine(t,e)||nne(t,e)||rne()}function rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(t,e){if(t){if(typeof t=="string")return YA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(t,e)}}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ine(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ane(t){if(Array.isArray(t))return t}var qj=/[ \f\n\r\t\v\u2028\u2029]+/,Gj=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ve(r)||(n?a=r.toString().split(""):a=r.toString().split(qj));var o=a.map(function(l){return{word:l,width:Vu(l,i).width}}),s=n?0:Vu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},one=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Z(o),f=s,d=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(H,G){var L=G.word,z=G.width,X=H[H.length-1];if(X&&(i==null||a||X.width+z+n<Number(i)))X.words.push(L),X.width+=z+n;else{var ee={words:[L],width:z};H.push(ee)}return H},[])},p=d(r),_=function(U){return U.reduce(function(H,G){return H.width>G.width?H:G})};if(!c)return p;for(var g="",y=function(U){var H=f.slice(0,U),G=Gj({breakAll:u,style:l,children:H+g}).wordsWithComputedWidth,L=d(G),z=L.length>o||_(L).width>Number(i);return[z,L]},w=0,v=f.length-1,x=0,O;w<=v&&x<=f.length-1;){var T=Math.floor((w+v)/2),I=T-1,E=y(I),S=XA(E,2),P=S[0],k=S[1],C=y(T),j=XA(C,1),N=j[0];if(!P&&!N&&(w=T+1),P&&N&&(v=T-1),!P&&N){O=k;break}x++}return O||p},QA=function(e){var r=ve(e)?[]:e.toString().split(qj);return[{words:r}]},sne=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Ol.isSsr){var l,u,c=Gj({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return QA(i);return one({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return QA(i)},JA="#808080",tp=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,_=e.verticalAnchor,g=_===void 0?"end":_,y=e.fill,w=y===void 0?JA:y,v=KA(e,Zre),x=$.useMemo(function(){return sne({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),O=v.dx,T=v.dy,I=v.angle,E=v.className,S=v.breakAll,P=KA(v,ene);if(!Tt(n)||!Tt(a))return null;var k=n+(Z(O)?O:0),C=a+(Z(T)?T:0),j;switch(g){case"start":j=Cy("calc(".concat(u,")"));break;case"middle":j=Cy("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=Cy("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var F=x[0].width,U=v.width;N.push("scale(".concat((Z(U)?U/F:1)/F,")"))}return I&&N.push("rotate(".concat(I,", ").concat(k,", ").concat(C,")")),N.length&&(P.transform=N.join(" ")),D.createElement("text",W0({},Se(P,!0),{x:k,y:C,className:Pe("recharts-text",E),textAnchor:p,fill:w.includes("url")?JA:w}),x.map(function(H,G){var L=H.words.join(S?"":" ");return D.createElement("tspan",{x:k,dy:G===0?j:s,key:"".concat(L,"-").concat(G)},L)}))};function aa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ax(t){let e,r,n;t.length!==2?(e=aa,r=(s,l)=>aa(t(s),l),n=(s,l)=>t(s)-l):(e=t===aa||t===lne?t:une,r=t,n=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;r(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;r(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function une(){return 0}function Kj(t){return t===null?NaN:+t}function*cne(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const fne=ax(aa),Sf=fne.right;ax(Kj).center;class ZA extends Map{constructor(e,r=pne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(eP(this,e))}has(e){return super.has(eP(this,e))}set(e,r){return super.set(hne(this,e),r)}delete(e){return super.delete(dne(this,e))}}function eP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function hne({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function dne({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function pne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mne(t=aa){if(t===aa)return Xj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Xj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gne=Math.sqrt(50),yne=Math.sqrt(10),vne=Math.sqrt(2);function rp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=gne?10:a>=yne?5:a>=vne?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?rp(t,e,r*2):[s,l,u]}function H0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?rp(e,t,r):rp(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function q0(t,e,r){return e=+e,t=+t,r=+r,rp(t,e,r)[2]}function G0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?q0(e,t,r):q0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function tP(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Yj(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Xj:mne(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+d)),_=Math.min(n,Math.floor(e+(l-u)*f/l+d));Yj(t,e,p,_,i)}const a=t[e];let o=r,s=n;for(au(t,r,e),i(t[n],a)>0&&au(t,r,n);o<s;){for(au(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?au(t,r,s):(++s,au(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function au(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function bne(t,e,r){if(t=Float64Array.from(cne(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return rP(t);if(e>=1)return tP(t);var n,i=(n-1)*e,a=Math.floor(i),o=tP(Yj(t,a).subarray(0,a+1)),s=rP(t.subarray(a+1));return o+(s-o)*(i-a)}}function _ne(t,e,r=Kj){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function wne(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K0=Symbol("implicit");function ox(){var t=new ZA,e=[],r=[],n=K0;function i(a){let o=t.get(a);if(o===void 0){if(n!==K0)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new ZA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ox(e,r).unknown(n)},Qr.apply(i,arguments),i}function Ac(){var t=ox().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<n,_=p?i:n,g=p?n:i;a=(g-_)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),_+=(g-_-a*(d-l))*c,o=a*(1-l),s&&(_=Math.round(_),o=Math.round(o));var y=wne(d).map(function(w){return _+a*w});return r(p?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Ac(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Qr.apply(f(),arguments)}function Qj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Qj(e())},t}function Fu(){return Qj(Ac.apply(null,arguments).paddingInner(1))}function sx(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Jj(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Tf(){}var Pc=.7,np=1/Pc,xs="\\s*([+-]?\\d+)\\s*",Ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xne=/^#([0-9a-f]{3,8})$/,Ene=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),Sne=new RegExp(`^rgb\\(${Dn},${Dn},${Dn}\\)$`),Tne=new RegExp(`^rgba\\(${xs},${xs},${xs},${Ic}\\)$`),Ane=new RegExp(`^rgba\\(${Dn},${Dn},${Dn},${Ic}\\)$`),Pne=new RegExp(`^hsl\\(${Ic},${Dn},${Dn}\\)$`),Ine=new RegExp(`^hsla\\(${Ic},${Dn},${Dn},${Ic}\\)$`),nP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sx(Tf,Oc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:iP,formatHex:iP,formatHex8:One,formatHsl:Cne,formatRgb:aP,toString:aP});function iP(){return this.rgb().formatHex()}function One(){return this.rgb().formatHex8()}function Cne(){return Zj(this).formatHsl()}function aP(){return this.rgb().formatRgb()}function Oc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=xne.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?oP(e):r===3?new pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?vh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?vh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ene.exec(t))?new pr(e[1],e[2],e[3],1):(e=Sne.exec(t))?new pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tne.exec(t))?vh(e[1],e[2],e[3],e[4]):(e=Ane.exec(t))?vh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pne.exec(t))?uP(e[1],e[2]/100,e[3]/100,1):(e=Ine.exec(t))?uP(e[1],e[2]/100,e[3]/100,e[4]):nP.hasOwnProperty(t)?oP(nP[t]):t==="transparent"?new pr(NaN,NaN,NaN,0):null}function oP(t){return new pr(t>>16&255,t>>8&255,t&255,1)}function vh(t,e,r,n){return n<=0&&(t=e=r=NaN),new pr(t,e,r,n)}function kne(t){return t instanceof Tf||(t=Oc(t)),t?(t=t.rgb(),new pr(t.r,t.g,t.b,t.opacity)):new pr}function X0(t,e,r,n){return arguments.length===1?kne(t):new pr(t,e,r,n??1)}function pr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}sx(pr,X0,Jj(Tf,{brighter(t){return t=t==null?np:Math.pow(np,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pc:Math.pow(Pc,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pr(to(this.r),to(this.g),to(this.b),ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sP,formatHex:sP,formatHex8:Nne,formatRgb:lP,toString:lP}));function sP(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function Nne(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function lP(){const t=ip(this.opacity);return`${t===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${t===1?")":`, ${t})`}`}function ip(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function to(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ka(t){return t=to(t),(t<16?"0":"")+t.toString(16)}function uP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new un(t,e,r,n)}function Zj(t){if(t instanceof un)return new un(t.h,t.s,t.l,t.opacity);if(t instanceof Tf||(t=Oc(t)),!t)return new un;if(t instanceof un)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new un(o,s,l,t.opacity)}function Rne(t,e,r,n){return arguments.length===1?Zj(t):new un(t,e,r,n??1)}function un(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}sx(un,Rne,Jj(Tf,{brighter(t){return t=t==null?np:Math.pow(np,t),new un(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pc:Math.pow(Pc,t),new un(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new pr(ky(t>=240?t-240:t+120,i,n),ky(t,i,n),ky(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new un(cP(this.h),bh(this.s),bh(this.l),ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ip(this.opacity);return`${t===1?"hsl(":"hsla("}${cP(this.h)}, ${bh(this.s)*100}%, ${bh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cP(t){return t=(t||0)%360,t<0?t+360:t}function bh(t){return Math.max(0,Math.min(1,t||0))}function ky(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const lx=t=>()=>t;function jne(t,e){return function(r){return t+r*e}}function Dne(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Mne(t){return(t=+t)==1?eD:function(e,r){return r-e?Dne(e,r,t):lx(isNaN(e)?r:e)}}function eD(t,e){var r=e-t;return r?jne(t,r):lx(isNaN(t)?e:t)}const fP=function t(e){var r=Mne(e);function n(i,a){var o=r((i=X0(i)).r,(a=X0(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=eD(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function $ne(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Lne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Vne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Cl(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Fne(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ap(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Une(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Cl(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Y0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ny=new RegExp(Y0.source,"g");function Bne(t){return function(){return t}}function zne(t){return function(e){return t(e)+""}}function Wne(t,e){var r=Y0.lastIndex=Ny.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Y0.exec(t))&&(i=Ny.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:ap(n,i)})),r=Ny.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?zne(l[0].x):Bne(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Cl(t,e){var r=typeof e,n;return e==null||r==="boolean"?lx(e):(r==="number"?ap:r==="string"?(n=Oc(e))?(e=n,fP):Wne:e instanceof Oc?fP:e instanceof Date?Fne:Lne(e)?$ne:Array.isArray(e)?Vne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Une:ap)(t,e)}function ux(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Hne(t,e){e===void 0&&(e=t,t=Cl);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function qne(t){return function(){return t}}function op(t){return+t}var hP=[0,1];function ar(t){return t}function Q0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:qne(isNaN(e)?NaN:.5)}function Gne(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Kne(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Q0(i,n),a=r(o,a)):(n=Q0(n,i),a=r(a,o)),function(s){return a(n(s))}}function Xne(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Q0(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Sf(t,s,1,n)-1;return a[l](i[l](s))}}function Af(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xm(){var t=hP,e=hP,r=Cl,n,i,a,o=ar,s,l,u;function c(){var d=Math.min(t.length,e.length);return o!==ar&&(o=Gne(t[0],t[d-1])),s=d>2?Xne:Kne,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=s(t.map(n),e,r)))(n(o(d)))}return f.invert=function(d){return o(i((u||(u=s(e,t.map(n),ap)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,op),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),r=ux,c()},f.clamp=function(d){return arguments.length?(o=d?!0:ar,c()):o!==ar},f.interpolate=function(d){return arguments.length?(r=d,c()):r},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,p){return n=d,i=p,c()}}function cx(){return Xm()(ar,ar)}function Yne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function sp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function qs(t){return t=sp(Math.abs(t)),t?t[1]:NaN}function Qne(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Jne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Zne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cc(t){if(!(e=Zne.exec(t)))throw new Error("invalid format: "+t);var e;return new fx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cc.prototype=fx.prototype;function fx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eie(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var tD;function tie(t,e){var r=sp(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(tD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+sp(t,Math.max(0,e+a-1))[0]}function dP(t,e){var r=sp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const pP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dP(t*100,e),r:dP,s:tie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mP(t){return t}var gP=Array.prototype.map,yP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rie(t){var e=t.grouping===void 0||t.thousands===void 0?mP:Qne(gP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?mP:Jne(gP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Cc(f);var d=f.fill,p=f.align,_=f.sign,g=f.symbol,y=f.zero,w=f.width,v=f.comma,x=f.precision,O=f.trim,T=f.type;T==="n"?(v=!0,T="g"):pP[T]||(x===void 0&&(x=12),O=!0,T="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var I=g==="$"?r:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=g==="$"?n:/[%p]/.test(T)?o:"",S=pP[T],P=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(C){var j=I,N=E,F,U,H;if(T==="c")N=S(C)+N,C="";else{C=+C;var G=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),x),O&&(C=eie(C)),G&&+C==0&&_!=="+"&&(G=!1),j=(G?_==="("?_:s:_==="-"||_==="("?"":_)+j,N=(T==="s"?yP[8+tD/3]:"")+N+(G&&_==="("?")":""),P){for(F=-1,U=C.length;++F<U;)if(H=C.charCodeAt(F),48>H||H>57){N=(H===46?i+C.slice(F+1):C.slice(F))+N,C=C.slice(0,F);break}}}v&&!y&&(C=e(C,1/0));var L=j.length+C.length+N.length,z=L<w?new Array(w-L+1).join(d):"";switch(v&&y&&(C=e(z+C,z.length?w-N.length:1/0),z=""),p){case"<":C=j+C+N+z;break;case"=":C=j+z+C+N;break;case"^":C=z.slice(0,L=z.length>>1)+j+C+N+z.slice(L);break;default:C=z+j+C+N;break}return a(C)}return k.toString=function(){return f+""},k}function c(f,d){var p=u((f=Cc(f),f.type="f",f)),_=Math.max(-8,Math.min(8,Math.floor(qs(d)/3)))*3,g=Math.pow(10,-_),y=yP[8+_/3];return function(w){return p(g*w)+y}}return{format:u,formatPrefix:c}}var _h,hx,rD;nie({thousands:",",grouping:[3],currency:["$",""]});function nie(t){return _h=rie(t),hx=_h.format,rD=_h.formatPrefix,_h}function iie(t){return Math.max(0,-qs(Math.abs(t)))}function aie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qs(e)/3)))*3-qs(Math.abs(t)))}function oie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qs(e)-qs(t))+1}function nD(t,e,r,n){var i=G0(t,e,r),a;switch(n=Cc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=aie(i,o))&&(n.precision=a),rD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=oie(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=iie(i))&&(n.precision=a-(n.type==="%")*2);break}}return hx(n)}function Aa(t){var e=t.domain;return t.ticks=function(r){var n=e();return H0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return nD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=q0(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function lp(){var t=cx();return t.copy=function(){return Af(t,lp())},Qr.apply(t,arguments),Aa(t)}function iD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,op),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return iD(t).unknown(e)},t=arguments.length?Array.from(t,op):[0,1],Aa(r)}function aD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function vP(t){return Math.log(t)}function bP(t){return Math.exp(t)}function sie(t){return-Math.log(-t)}function lie(t){return-Math.exp(-t)}function uie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cie(t){return t===10?uie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _P(t){return(e,r)=>-t(-e,r)}function dx(t){const e=t(vP,bP),r=e.domain;let n=10,i,a;function o(){return i=fie(n),a=cie(n),r()[0]<0?(i=_P(i),a=_P(a),t(sie,lie)):t(vP,bP),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),_,g;const y=s==null?10:+s;let w=[];if(!(n%1)&&p-d<y){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(_=1;_<n;++_)if(g=d<0?_/a(-d):_*a(d),!(g<u)){if(g>c)break;w.push(g)}}else for(;d<=p;++d)for(_=n-1;_>=1;--_)if(g=d>0?_/a(-d):_*a(d),!(g<u)){if(g>c)break;w.push(g)}w.length*2<y&&(w=H0(u,c,y))}else w=H0(d,p,Math.min(p-d,y)).map(a);return f?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cc(l)).precision==null&&(l.trim=!0),l=hx(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},e.nice=()=>r(aD(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function oD(){const t=dx(Xm()).domain([1,10]);return t.copy=()=>Af(t,oD()).base(t.base()),Qr.apply(t,arguments),t}function wP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function px(t){var e=1,r=t(wP(e),xP(e));return r.constant=function(n){return arguments.length?t(wP(e=+n),xP(e)):e},Aa(r)}function sD(){var t=px(Xm());return t.copy=function(){return Af(t,sD()).constant(t.constant())},Qr.apply(t,arguments)}function EP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function die(t){return t<0?-t*t:t*t}function mx(t){var e=t(ar,ar),r=1;function n(){return r===1?t(ar,ar):r===.5?t(hie,die):t(EP(r),EP(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Aa(e)}function gx(){var t=mx(Xm());return t.copy=function(){return Af(t,gx()).exponent(t.exponent())},Qr.apply(t,arguments),t}function pie(){return gx.apply(null,arguments).exponent(.5)}function SP(t){return Math.sign(t)*t*t}function mie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lD(){var t=cx(),e=[0,1],r=!1,n;function i(a){var o=mie(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(SP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,op)).map(SP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Qr.apply(i,arguments),Aa(i)}function uD(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=_ne(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Sf(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(aa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return uD().domain(t).range(e).unknown(n)},Qr.apply(a,arguments)}function cD(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Sf(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cD().domain([t,e]).range(i).unknown(a)},Qr.apply(Aa(o),arguments)}function fD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Sf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fD().domain(t).range(e).unknown(r)},Qr.apply(i,arguments)}const Ry=new Date,jy=new Date;function It(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>It(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Ry.setTime(+a),jy.setTime(+o),t(Ry),t(jy),Math.floor(r(Ry,jy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const up=It(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);up.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?It(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):up);up.range;const Kn=1e3,Br=Kn*60,Xn=Br*60,fi=Xn*24,yx=fi*7,TP=fi*30,Dy=fi*365,Xa=It(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getUTCSeconds());Xa.range;const vx=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kn)},(t,e)=>{t.setTime(+t+e*Br)},(t,e)=>(e-t)/Br,t=>t.getMinutes());vx.range;const bx=It(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Br)},(t,e)=>(e-t)/Br,t=>t.getUTCMinutes());bx.range;const _x=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kn-t.getMinutes()*Br)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getHours());_x.range;const wx=It(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getUTCHours());wx.range;const Pf=It(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Br)/fi,t=>t.getDate()-1);Pf.range;const Ym=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>t.getUTCDate()-1);Ym.range;const hD=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>Math.floor(t/fi));hD.range;function No(t){return It(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Br)/yx)}const Qm=No(0),cp=No(1),gie=No(2),yie=No(3),Gs=No(4),vie=No(5),bie=No(6);Qm.range;cp.range;gie.range;yie.range;Gs.range;vie.range;bie.range;function Ro(t){return It(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/yx)}const Jm=Ro(0),fp=Ro(1),_ie=Ro(2),wie=Ro(3),Ks=Ro(4),xie=Ro(5),Eie=Ro(6);Jm.range;fp.range;_ie.range;wie.range;Ks.range;xie.range;Eie.range;const xx=It(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xx.range;const Ex=It(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ex.range;const hi=It(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});hi.range;const di=It(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});di.range;function dD(t,e,r,n,i,a){const o=[[Xa,1,Kn],[Xa,5,5*Kn],[Xa,15,15*Kn],[Xa,30,30*Kn],[a,1,Br],[a,5,5*Br],[a,15,15*Br],[a,30,30*Br],[i,1,Xn],[i,3,3*Xn],[i,6,6*Xn],[i,12,12*Xn],[n,1,fi],[n,2,2*fi],[r,1,yx],[e,1,TP],[e,3,3*TP],[t,1,Dy]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),_=p?p.range(u,+c+1):[];return d?_.reverse():_}function l(u,c,f){const d=Math.abs(c-u)/f,p=ax(([,,y])=>y).right(o,d);if(p===o.length)return t.every(G0(u/Dy,c/Dy,f));if(p===0)return up.every(Math.max(G0(u,c,f),1));const[_,g]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return _.every(g)}return[s,l]}const[Sie,Tie]=dD(di,Ex,Jm,hD,wx,bx),[Aie,Pie]=dD(hi,xx,Qm,Pf,_x,vx);function My(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $y(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ou(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Iie(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=su(i),c=lu(i),f=su(a),d=lu(a),p=su(o),_=lu(o),g=su(s),y=lu(s),w=su(l),v=lu(l),x={a:G,A:L,b:z,B:X,c:null,d:kP,e:kP,f:Qie,g:sae,G:uae,H:Kie,I:Xie,j:Yie,L:pD,m:Jie,M:Zie,p:ee,q:Q,Q:jP,s:DP,S:eae,u:tae,U:rae,V:nae,w:iae,W:aae,x:null,X:null,y:oae,Y:lae,Z:cae,"%":RP},O={a:oe,A:ye,b:Re,B:ze,c:null,d:NP,e:NP,f:pae,g:Sae,G:Aae,H:fae,I:hae,j:dae,L:gD,m:mae,M:gae,p:Ht,q:Ot,Q:jP,s:DP,S:yae,u:vae,U:bae,V:_ae,w:wae,W:xae,x:null,X:null,y:Eae,Y:Tae,Z:Pae,"%":RP},T={a:k,A:C,b:j,B:N,c:F,d:OP,e:OP,f:Wie,g:IP,G:PP,H:CP,I:CP,j:Fie,L:zie,m:Vie,M:Uie,p:P,q:Lie,Q:qie,s:Gie,S:Bie,u:Rie,U:jie,V:Die,w:Nie,W:Mie,x:U,X:H,y:IP,Y:PP,Z:$ie,"%":Hie};x.x=I(r,x),x.X=I(n,x),x.c=I(e,x),O.x=I(r,O),O.X=I(n,O),O.c=I(e,O);function I(te,de){return function(pe){var K=[],Ve=-1,_e=0,st=te.length,Je,Ct,Jr;for(pe instanceof Date||(pe=new Date(+pe));++Ve<st;)te.charCodeAt(Ve)===37&&(K.push(te.slice(_e,Ve)),(Ct=AP[Je=te.charAt(++Ve)])!=null?Je=te.charAt(++Ve):Ct=Je==="e"?" ":"0",(Jr=de[Je])&&(Je=Jr(pe,Ct)),K.push(Je),_e=Ve+1);return K.push(te.slice(_e,Ve)),K.join("")}}function E(te,de){return function(pe){var K=ou(1900,void 0,1),Ve=S(K,te,pe+="",0),_e,st;if(Ve!=pe.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(de&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(_e=$y(ou(K.y,0,1)),st=_e.getUTCDay(),_e=st>4||st===0?fp.ceil(_e):fp(_e),_e=Ym.offset(_e,(K.V-1)*7),K.y=_e.getUTCFullYear(),K.m=_e.getUTCMonth(),K.d=_e.getUTCDate()+(K.w+6)%7):(_e=My(ou(K.y,0,1)),st=_e.getDay(),_e=st>4||st===0?cp.ceil(_e):cp(_e),_e=Pf.offset(_e,(K.V-1)*7),K.y=_e.getFullYear(),K.m=_e.getMonth(),K.d=_e.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),st="Z"in K?$y(ou(K.y,0,1)).getUTCDay():My(ou(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(st+5)%7:K.w+K.U*7-(st+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,$y(K)):My(K)}}function S(te,de,pe,K){for(var Ve=0,_e=de.length,st=pe.length,Je,Ct;Ve<_e;){if(K>=st)return-1;if(Je=de.charCodeAt(Ve++),Je===37){if(Je=de.charAt(Ve++),Ct=T[Je in AP?de.charAt(Ve++):Je],!Ct||(K=Ct(te,pe,K))<0)return-1}else if(Je!=pe.charCodeAt(K++))return-1}return K}function P(te,de,pe){var K=u.exec(de.slice(pe));return K?(te.p=c.get(K[0].toLowerCase()),pe+K[0].length):-1}function k(te,de,pe){var K=p.exec(de.slice(pe));return K?(te.w=_.get(K[0].toLowerCase()),pe+K[0].length):-1}function C(te,de,pe){var K=f.exec(de.slice(pe));return K?(te.w=d.get(K[0].toLowerCase()),pe+K[0].length):-1}function j(te,de,pe){var K=w.exec(de.slice(pe));return K?(te.m=v.get(K[0].toLowerCase()),pe+K[0].length):-1}function N(te,de,pe){var K=g.exec(de.slice(pe));return K?(te.m=y.get(K[0].toLowerCase()),pe+K[0].length):-1}function F(te,de,pe){return S(te,e,de,pe)}function U(te,de,pe){return S(te,r,de,pe)}function H(te,de,pe){return S(te,n,de,pe)}function G(te){return o[te.getDay()]}function L(te){return a[te.getDay()]}function z(te){return l[te.getMonth()]}function X(te){return s[te.getMonth()]}function ee(te){return i[+(te.getHours()>=12)]}function Q(te){return 1+~~(te.getMonth()/3)}function oe(te){return o[te.getUTCDay()]}function ye(te){return a[te.getUTCDay()]}function Re(te){return l[te.getUTCMonth()]}function ze(te){return s[te.getUTCMonth()]}function Ht(te){return i[+(te.getUTCHours()>=12)]}function Ot(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var de=I(te+="",x);return de.toString=function(){return te},de},parse:function(te){var de=E(te+="",!1);return de.toString=function(){return te},de},utcFormat:function(te){var de=I(te+="",O);return de.toString=function(){return te},de},utcParse:function(te){var de=E(te+="",!0);return de.toString=function(){return te},de}}}var AP={"-":"",_:" ",0:"0"},Mt=/^\s*\d+/,Oie=/^%/,Cie=/[\\^$*+?|[\]().{}]/g;function Ie(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function kie(t){return t.replace(Cie,"\\$&")}function su(t){return new RegExp("^(?:"+t.map(kie).join("|")+")","i")}function lu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Nie(t,e,r){var n=Mt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Rie(t,e,r){var n=Mt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function jie(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Die(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Mie(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function PP(t,e,r){var n=Mt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function IP(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $ie(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Lie(t,e,r){var n=Mt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Vie(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function OP(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Fie(t,e,r){var n=Mt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function CP(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Uie(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Bie(t,e,r){var n=Mt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function zie(t,e,r){var n=Mt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Wie(t,e,r){var n=Mt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hie(t,e,r){var n=Oie.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function qie(t,e,r){var n=Mt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Gie(t,e,r){var n=Mt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function kP(t,e){return Ie(t.getDate(),e,2)}function Kie(t,e){return Ie(t.getHours(),e,2)}function Xie(t,e){return Ie(t.getHours()%12||12,e,2)}function Yie(t,e){return Ie(1+Pf.count(hi(t),t),e,3)}function pD(t,e){return Ie(t.getMilliseconds(),e,3)}function Qie(t,e){return pD(t,e)+"000"}function Jie(t,e){return Ie(t.getMonth()+1,e,2)}function Zie(t,e){return Ie(t.getMinutes(),e,2)}function eae(t,e){return Ie(t.getSeconds(),e,2)}function tae(t){var e=t.getDay();return e===0?7:e}function rae(t,e){return Ie(Qm.count(hi(t)-1,t),e,2)}function mD(t){var e=t.getDay();return e>=4||e===0?Gs(t):Gs.ceil(t)}function nae(t,e){return t=mD(t),Ie(Gs.count(hi(t),t)+(hi(t).getDay()===4),e,2)}function iae(t){return t.getDay()}function aae(t,e){return Ie(cp.count(hi(t)-1,t),e,2)}function oae(t,e){return Ie(t.getFullYear()%100,e,2)}function sae(t,e){return t=mD(t),Ie(t.getFullYear()%100,e,2)}function lae(t,e){return Ie(t.getFullYear()%1e4,e,4)}function uae(t,e){var r=t.getDay();return t=r>=4||r===0?Gs(t):Gs.ceil(t),Ie(t.getFullYear()%1e4,e,4)}function cae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ie(e/60|0,"0",2)+Ie(e%60,"0",2)}function NP(t,e){return Ie(t.getUTCDate(),e,2)}function fae(t,e){return Ie(t.getUTCHours(),e,2)}function hae(t,e){return Ie(t.getUTCHours()%12||12,e,2)}function dae(t,e){return Ie(1+Ym.count(di(t),t),e,3)}function gD(t,e){return Ie(t.getUTCMilliseconds(),e,3)}function pae(t,e){return gD(t,e)+"000"}function mae(t,e){return Ie(t.getUTCMonth()+1,e,2)}function gae(t,e){return Ie(t.getUTCMinutes(),e,2)}function yae(t,e){return Ie(t.getUTCSeconds(),e,2)}function vae(t){var e=t.getUTCDay();return e===0?7:e}function bae(t,e){return Ie(Jm.count(di(t)-1,t),e,2)}function yD(t){var e=t.getUTCDay();return e>=4||e===0?Ks(t):Ks.ceil(t)}function _ae(t,e){return t=yD(t),Ie(Ks.count(di(t),t)+(di(t).getUTCDay()===4),e,2)}function wae(t){return t.getUTCDay()}function xae(t,e){return Ie(fp.count(di(t)-1,t),e,2)}function Eae(t,e){return Ie(t.getUTCFullYear()%100,e,2)}function Sae(t,e){return t=yD(t),Ie(t.getUTCFullYear()%100,e,2)}function Tae(t,e){return Ie(t.getUTCFullYear()%1e4,e,4)}function Aae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ks(t):Ks.ceil(t),Ie(t.getUTCFullYear()%1e4,e,4)}function Pae(){return"+0000"}function RP(){return"%"}function jP(t){return+t}function DP(t){return Math.floor(+t/1e3)}var Uo,vD,bD;Iae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Iae(t){return Uo=Iie(t),vD=Uo.format,Uo.parse,bD=Uo.utcFormat,Uo.utcParse,Uo}function Oae(t){return new Date(t)}function Cae(t){return t instanceof Date?+t:+new Date(+t)}function Sx(t,e,r,n,i,a,o,s,l,u){var c=cx(),f=c.invert,d=c.domain,p=u(".%L"),_=u(":%S"),g=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),v=u("%b %d"),x=u("%B"),O=u("%Y");function T(I){return(l(I)<I?p:s(I)<I?_:o(I)<I?g:a(I)<I?y:n(I)<I?i(I)<I?w:v:r(I)<I?x:O)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?d(Array.from(I,Cae)):d().map(Oae)},c.ticks=function(I){var E=d();return t(E[0],E[E.length-1],I??10)},c.tickFormat=function(I,E){return E==null?T:u(E)},c.nice=function(I){var E=d();return(!I||typeof I.range!="function")&&(I=e(E[0],E[E.length-1],I??10)),I?d(aD(E,I)):c},c.copy=function(){return Af(c,Sx(t,e,r,n,i,a,o,s,l,u))},c}function kae(){return Qr.apply(Sx(Aie,Pie,hi,xx,Qm,Pf,_x,vx,Xa,vD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nae(){return Qr.apply(Sx(Sie,Tie,di,Ex,Jm,Ym,wx,bx,Xa,bD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zm(){var t=0,e=1,r,n,i,a,o=ar,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(d){var p,_;return arguments.length?([p,_]=d,o=f(p,_),u):[o(0),o(1)]}}return u.range=c(Cl),u.rangeRound=c(ux),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Pa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _D(){var t=Aa(Zm()(ar));return t.copy=function(){return Pa(t,_D())},_i.apply(t,arguments)}function wD(){var t=dx(Zm()).domain([1,10]);return t.copy=function(){return Pa(t,wD()).base(t.base())},_i.apply(t,arguments)}function xD(){var t=px(Zm());return t.copy=function(){return Pa(t,xD()).constant(t.constant())},_i.apply(t,arguments)}function Tx(){var t=mx(Zm());return t.copy=function(){return Pa(t,Tx()).exponent(t.exponent())},_i.apply(t,arguments)}function Rae(){return Tx.apply(null,arguments).exponent(.5)}function ED(){var t=[],e=ar;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(aa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>bne(t,a/n))},r.copy=function(){return ED(e).domain(t)},_i.apply(r,arguments)}function eg(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=ar,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(n*g<n*a?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=c(t=+t),a=c(e=+e),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function _(g){return function(y){var w,v,x;return arguments.length?([w,v,x]=y,u=Hne(g,[w,v,x]),p):[u(0),u(.5),u(1)]}}return p.range=_(Cl),p.rangeRound=_(ux),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function SD(){var t=Aa(eg()(ar));return t.copy=function(){return Pa(t,SD())},_i.apply(t,arguments)}function TD(){var t=dx(eg()).domain([.1,1,10]);return t.copy=function(){return Pa(t,TD()).base(t.base())},_i.apply(t,arguments)}function AD(){var t=px(eg());return t.copy=function(){return Pa(t,AD()).constant(t.constant())},_i.apply(t,arguments)}function Ax(){var t=mx(eg());return t.copy=function(){return Pa(t,Ax()).exponent(t.exponent())},_i.apply(t,arguments)}function jae(){return Ax.apply(null,arguments).exponent(.5)}const MP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ac,scaleDiverging:SD,scaleDivergingLog:TD,scaleDivergingPow:Ax,scaleDivergingSqrt:jae,scaleDivergingSymlog:AD,scaleIdentity:iD,scaleImplicit:K0,scaleLinear:lp,scaleLog:oD,scaleOrdinal:ox,scalePoint:Fu,scalePow:gx,scaleQuantile:uD,scaleQuantize:cD,scaleRadial:lD,scaleSequential:_D,scaleSequentialLog:wD,scaleSequentialPow:Tx,scaleSequentialQuantile:ED,scaleSequentialSqrt:Rae,scaleSequentialSymlog:xD,scaleSqrt:pie,scaleSymlog:sD,scaleThreshold:fD,scaleTime:kae,scaleUtc:Nae,tickFormat:nD},Symbol.toStringTag,{value:"Module"}));var Dae=wl;function Mae(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!Dae(o):r(o,s)))var s=o,l=a}return l}var PD=Mae;function $ae(t,e){return t>e}var Lae=$ae,Vae=PD,Fae=Lae,Uae=Il;function Bae(t){return t&&t.length?Vae(t,Uae,Fae):void 0}var zae=Bae;const tg=Me(zae);function Wae(t,e){return t<e}var Hae=Wae,qae=PD,Gae=Hae,Kae=Il;function Xae(t){return t&&t.length?qae(t,Kae,Gae):void 0}var Yae=Xae;const rg=Me(Yae);var Qae=Fw,Jae=Ta,Zae=Dj,eoe=vr;function toe(t,e){var r=eoe(t)?Qae:Zae;return r(t,Jae(e))}var roe=toe,noe=Rj,ioe=roe;function aoe(t,e){return noe(ioe(t,e),1)}var ooe=aoe;const soe=Me(ooe);var loe=tx;function uoe(t,e){return loe(t,e)}var coe=uoe;const ng=Me(coe);var kl=1e9,foe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ix,Qe=!0,Xr="[DecimalError] ",ro=Xr+"Invalid argument: ",Px=Xr+"Exponent out of range: ",Nl=Math.floor,Ba=Math.pow,hoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sr,Rt=1e7,Ke=7,ID=9007199254740991,hp=Nl(ID/Ke),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ke;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(t){return ri(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,r=e.constructor;return Le(ri(e,new r(t),0,1),r.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return bt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Sr))throw Error(Xr+"NaN");if(r.s<1)throw Error(Xr+(r.s?"NaN":"-Infinity"));return r.eq(Sr)?new n(0):(Qe=!1,e=ri(kc(r,a),kc(t,a),a),Qe=!0,Le(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kD(e,t):OD(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Xr+"NaN");return r.s?(Qe=!1,e=ri(r,t,0,1).times(t),Qe=!0,r.minus(e)):Le(new n(r),i)};ae.naturalExponential=ae.exp=function(){return CD(this)};ae.naturalLogarithm=ae.ln=function(){return kc(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OD(e,t):kD(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ro+t);if(e=bt(i)+1,n=i.d.length-1,r=n*Ke+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ae.squareRoot=ae.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Xr+"NaN")}for(t=bt(s),Qe=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=An(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Nl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(ri(s,a,o+2)).times(.5),An(a.d).slice(0,o)===(e=An(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Le(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Qe=!0,Le(n,r)};ae.times=ae.mul=function(t){var e,r,n,i,a,o,s,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,r=c.e+t.e,l=d.length,u=p.length,l<u&&(a=d,d=p,p=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*d[i-n-1]+e,a[i--]=s%Rt|0,e=s/Rt|0;a[i]=(a[i]+e)%Rt|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Qe?Le(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ln(t,0,kl),e===void 0?e=n.rounding:Ln(e,0,8),Le(r,t+bt(r)+1,e))};ae.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=yo(n,!0):(Ln(t,0,kl),e===void 0?e=i.rounding:Ln(e,0,8),n=Le(new i(n),t+1,e),r=yo(n,!0,t+1)),r};ae.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?yo(i):(Ln(t,0,kl),e===void 0?e=a.rounding:Ln(e,0,8),n=Le(new a(i),t+bt(i)+1,e),r=yo(n.abs(),!1,t+bt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Le(new e(t),bt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Sr);if(s=new l(s),!s.s){if(t.s<1)throw Error(Xr+"Infinity");return s}if(s.eq(Sr))return s;if(n=l.precision,t.eq(Sr))return Le(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=c<0?-c:c)<=ID){for(i=new l(Sr),e=Math.ceil(n/Ke+4),Qe=!1;r%2&&(i=i.times(s),LP(i.d,e)),r=Nl(r/2),r!==0;)s=s.times(s),LP(s.d,e);return Qe=!0,t.s<0?new l(Sr).div(i):Le(i,n)}}else if(a<0)throw Error(Xr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Qe=!1,i=t.times(kc(s,n+u)),Qe=!0,i=CD(i),i.s=a,i};ae.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=bt(i),n=yo(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ln(t,1,kl),e===void 0?e=a.rounding:Ln(e,0,8),i=Le(new a(i),t,e),r=bt(i),n=yo(i,t<=r||r<=a.toExpNeg,t)),n};ae.toSignificantDigits=ae.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ln(t,1,kl),e===void 0?e=n.rounding:Ln(e,0,8)),Le(new n(r),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bt(t),r=t.constructor;return yo(t,e<=r.toExpNeg||e>=r.toExpPos)};function OD(t,e){var r,n,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Qe?Le(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(f/Ke),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Rt|0,l[a]%=Rt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Qe?Le(e,f):e}function Ln(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ro+t)}function An(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Ke-n.length,r&&(a+=Ni(r)),a+=n;o=t[e],n=o+"",r=Ke-n.length,r&&(a+=Ni(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ri=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Rt|0,o=a/Rt|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Rt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,f,d,p,_,g,y,w,v,x,O,T,I,E,S,P=n.constructor,k=n.s==i.s?1:-1,C=n.d,j=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(Xr+"Division by zero");for(l=n.e-i.e,E=j.length,T=C.length,p=new P(k),_=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,a==null?v=a=P.precision:o?v=a+(bt(n)-bt(i))+1:v=a,v<0)return new P(0);if(v=v/Ke+2|0,u=0,E==1)for(c=0,j=j[0],v++;(u<T||c)&&v--;u++)x=c*Rt+(C[u]||0),_[u]=x/j|0,c=x%j|0;else{for(c=Rt/(j[0]+1)|0,c>1&&(j=t(j,c),C=t(C,c),E=j.length,T=C.length),O=E,g=C.slice(0,E),y=g.length;y<E;)g[y++]=0;S=j.slice(),S.unshift(0),I=j[0],j[1]>=Rt/2&&++I;do c=0,s=e(j,g,E,y),s<0?(w=g[0],E!=y&&(w=w*Rt+(g[1]||0)),c=w/I|0,c>1?(c>=Rt&&(c=Rt-1),f=t(j,c),d=f.length,y=g.length,s=e(f,g,d,y),s==1&&(c--,r(f,E<d?S:j,d))):(c==0&&(s=c=1),f=j.slice()),d=f.length,d<y&&f.unshift(0),r(g,f,y),s==-1&&(y=g.length,s=e(j,g,E,y),s<1&&(c++,r(g,E<y?S:j,y))),y=g.length):s===0&&(c++,g=[0]),_[u++]=c,s&&g[0]?g[y++]=C[O]||0:(g=[C[O]],y=1);while((O++<T||g[0]!==void 0)&&v--)}return _[0]||_.shift(),p.e=l,Le(p,o?a+bt(p)+1:a)}}();function CD(t,e){var r,n,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(bt(t)>16)throw Error(Px+bt(t));if(!t.s)return new c(Sr);for(Qe=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Ba(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(Sr),c.precision=s;;){if(i=Le(i.times(t),s),r=r.times(++l),o=a.plus(ri(i,r,s)),An(o.d).slice(0,s)===An(a.d).slice(0,s)){for(;u--;)a=Le(a.times(a),s);return c.precision=f,e==null?(Qe=!0,Le(a,f)):a}a=o}}function bt(t){for(var e=t.e*Ke,r=t.d[0];r>=10;r/=10)e++;return e}function Ly(t,e,r){if(e>t.LN10.sd())throw Qe=!0,r&&(t.precision=r),Error(Xr+"LN10 precision limit exceeded");return Le(new t(t.LN10),e)}function Ni(t){for(var e="";t--;)e+="0";return e}function kc(t,e){var r,n,i,a,o,s,l,u,c,f=1,d=10,p=t,_=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Xr+(p.s?"NaN":"-Infinity"));if(p.eq(Sr))return new g(0);if(e==null?(Qe=!1,u=y):u=e,p.eq(10))return e==null&&(Qe=!0),Ly(g,u);if(u+=d,g.precision=u,r=An(_),n=r.charAt(0),a=bt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=An(p.d),n=r.charAt(0),f++;a=bt(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=Ly(g,u+2,y).times(a+""),p=kc(new g(n+"."+r.slice(1)),u-d).plus(l),g.precision=y,e==null?(Qe=!0,Le(p,y)):p;for(s=o=p=ri(p.minus(Sr),p.plus(Sr),u),c=Le(p.times(p),u),i=3;;){if(o=Le(o.times(c),u),l=s.plus(ri(o,new g(i),u)),An(l.d).slice(0,u)===An(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Ly(g,u+2,y).times(a+""))),s=ri(s,new g(f),u),g.precision=y,e==null?(Qe=!0,Le(s,y)):s;s=l,i+=2}}function $P(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Nl(r/Ke),t.d=[],n=(r+1)%Ke,r<0&&(n+=Ke),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ke;n<i;)t.d.push(+e.slice(n,n+=Ke));e=e.slice(n),n=Ke-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Qe&&(t.e>hp||t.e<-hp))throw Error(Px+r)}else t.s=0,t.e=0,t.d=[0];return t}function Le(t,e,r){var n,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Ke,i=e,u=f[c=0];else{if(c=Math.ceil((n+1)/Ke),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;n%=Ke,i=n-Ke+o}if(r!==void 0&&(a=Ba(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Ba(10,o-i):0:f[c-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=bt(t),f.length=1,e=e-a-1,f[0]=Ba(10,(Ke-e%Ke)%Ke),t.e=Nl(-e/Ke)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=Ba(10,Ke-n),f[c]=i>0?(u/Ba(10,o-i)%Ba(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Rt&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Rt)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Qe&&(t.e>hp||t.e<-hp))throw Error(Px+bt(t));return t}function kD(t,e){var r,n,i,a,o,s,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Qe?Le(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),i=Math.max(Math.ceil(p/Ke),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Rt-1;--l[a],l[i]+=Rt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Qe?Le(e,p):e):new d(0)}function yo(t,e,r){var n,i=bt(t),a=An(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ni(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ni(-i-1)+a,r&&(n=r-o)>0&&(a+=Ni(n))):i>=o?(a+=Ni(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ni(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ni(n))),t.s<0?"-"+a:a}function LP(t,e){if(t.length>e)return t.length=e,!0}function ND(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ro+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return $P(o,a.toString())}else if(typeof a!="string")throw Error(ro+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,hoe.test(a))$P(o,a);else throw Error(ro+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ND,i.config=i.set=doe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function doe(t){if(!t||typeof t!="object")throw Error(Xr+"Object expected");var e,r,n,i=["precision",1,kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Nl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ro+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ro+r+": "+n);return this}var Ix=ND(foe);Sr=new Ix(1);const je=Ix;function poe(t){return voe(t)||yoe(t)||goe(t)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function goe(t,e){if(t){if(typeof t=="string")return J0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(t,e)}}function yoe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function voe(t){if(Array.isArray(t))return J0(t)}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var boe=function(e){return e},RD={},jD=function(e){return e===RD},VP=function(e){return function r(){return arguments.length===0||arguments.length===1&&jD(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},_oe=function t(e,r){return e===1?r:VP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==RD}).length;return o>=e?r.apply(void 0,i):t(e-o,VP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return jD(f)?l.shift():f});return r.apply(void 0,poe(c).concat(l))}))})},ig=function(e){return _oe(e.length,e)},Z0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},woe=ig(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),xoe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return boe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},eb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},DD=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function Eoe(t){var e;return t===0?e=1:e=Math.floor(new je(t).abs().log(10).toNumber())+1,e}function Soe(t,e,r){for(var n=new je(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Toe=ig(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Aoe=ig(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Poe=ig(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ag={rangeStep:Soe,getDigitCount:Eoe,interpolateNumber:Toe,uninterpolateNumber:Aoe,uninterpolateTruncation:Poe};function tb(t){return Coe(t)||Ooe(t)||MD(t)||Ioe()}function Ioe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Coe(t){if(Array.isArray(t))return rb(t)}function Nc(t,e){return Roe(t)||Noe(t,e)||MD(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MD(t,e){if(t){if(typeof t=="string")return rb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rb(t,e)}}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Noe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Roe(t){if(Array.isArray(t))return t}function $D(t){var e=Nc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function LD(t,e,r){if(t.lte(0))return new je(0);var n=ag.getDigitCount(t.toNumber()),i=new je(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new je(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new je(Math.ceil(l))}function joe(t,e,r){var n=1,i=new je(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new je(10).pow(ag.getDigitCount(t)-1),i=new je(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new je(Math.floor(t)))}else t===0?i=new je(Math.floor((e-1)/2)):r||(i=new je(Math.floor(t)));var o=Math.floor((e-1)/2),s=xoe(woe(function(l){return i.add(new je(l-o).mul(n)).toNumber()}),Z0);return s(0,e)}function VD(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var a=LD(new je(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new je(0):(o=new je(t).add(e).div(2),o=o.sub(new je(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new je(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?VD(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new je(s).mul(a)),tickMax:o.add(new je(l).mul(a))})}function Doe(t){var e=Nc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=$D([r,n]),l=Nc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(tb(Z0(0,i-1).map(function(){return 1/0}))):[].concat(tb(Z0(0,i-1).map(function(){return-1/0})),[c]);return r>n?eb(f):f}if(u===c)return joe(u,i,a);var d=VD(u,c,o,a),p=d.step,_=d.tickMin,g=d.tickMax,y=ag.rangeStep(_,g.add(new je(.1).mul(p)),p);return r>n?eb(y):y}function Moe(t,e){var r=Nc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$D([n,i]),s=Nc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(e,2),f=LD(new je(u).sub(l).div(c-1),a,0),d=[].concat(tb(ag.rangeStep(new je(l),new je(u).sub(new je(.99).mul(f)),f)),[u]);return n>i?eb(d):d}var $oe=DD(Doe),Loe=DD(Moe),Voe="Invariant failed";function vo(t,e){throw new Error(Voe)}var Foe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}function Uoe(t,e){return Hoe(t)||Woe(t,e)||zoe(t,e)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zoe(t,e){if(t){if(typeof t=="string")return FP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(t,e)}}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Woe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hoe(t){if(Array.isArray(t))return t}function qoe(t,e){if(t==null)return{};var r=Goe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Goe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Koe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BD(n.key),n)}}function Yoe(t,e,r){return e&&Xoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qoe(t,e,r){return e=pp(e),Joe(t,FD()?Reflect.construct(e,r||[],pp(t).constructor):e.apply(t,r))}function Joe(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zoe(t)}function Zoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(t)}function ese(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nb(t,e)}function UD(t,e,r){return e=BD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BD(t){var e=tse(t,"string");return Xs(e)=="symbol"?e:e+""}function tse(t,e){if(Xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var If=function(t){function e(){return Koe(this,e),Qoe(this,e,arguments)}return ese(e,t),Yoe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,f=n.yAxis,d=qoe(n,Foe),p=Se(d,!1);this.props.direction==="x"&&c.type!=="number"&&vo();var _=l.map(function(g){var y=u(g,s),w=y.x,v=y.y,x=y.value,O=y.errorVal;if(!O)return null;var T=[],I,E;if(Array.isArray(O)){var S=Uoe(O,2);I=S[0],E=S[1]}else I=E=O;if(a==="vertical"){var P=c.scale,k=v+i,C=k+o,j=k-o,N=P(x-I),F=P(x+E);T.push({x1:F,y1:C,x2:F,y2:j}),T.push({x1:N,y1:k,x2:F,y2:k}),T.push({x1:N,y1:C,x2:N,y2:j})}else if(a==="horizontal"){var U=f.scale,H=w+i,G=H-o,L=H+o,z=U(x-I),X=U(x+E);T.push({x1:G,y1:X,x2:L,y2:X}),T.push({x1:H,y1:z,x2:H,y2:X}),T.push({x1:G,y1:z,x2:L,y2:z})}return D.createElement(ct,dp({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),T.map(function(ee){return D.createElement("line",dp({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return D.createElement(ct,{className:"recharts-errorBars"},_)}}])}(D.Component);UD(If,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UD(If,"displayName","ErrorBar");function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){rse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rse(t,e,r){return e=nse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nse(t){var e=ise(t,"string");return Rc(e)=="symbol"?e:e+""}function ise(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zD=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Er(r,eo);if(!o)return null;var s=eo.defaultProps,l=s!==void 0?Ma(Ma({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(c,f){var d=f.item,p=f.props,_=p.sectors||p.data||[];return c.concat(_.map(function(g){return{type:o.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Ma(Ma({},d),f.props):{},_=p.dataKey,g=p.name,y=p.legendType,w=p.hide;return{inactive:w,dataKey:_,type:l.iconType||y||"square",color:Ox(f),value:g||_,payload:p}}),Ma(Ma(Ma({},l),eo.getWithHeight(o,i)),{},{payload:u,item:o})};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function BP(t){return lse(t)||sse(t)||ose(t)||ase()}function ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(t,e){if(t){if(typeof t=="string")return ib(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ib(t,e)}}function sse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lse(t){if(Array.isArray(t))return ib(t)}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Es(t,e,r){return e=use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function use(t){var e=cse(t,"string");return jc(e)=="symbol"?e:e+""}function cse(t,e){if(jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,r){return ve(t)||ve(e)?r:Tt(e)?Hr(t,e,r):ge(e)?e(t):r}function Uu(t,e,r,n){var i=soe(t,function(s){return Or(s,e)});if(r==="number"){var a=i.filter(function(s){return Z(s)||parseFloat(s)});return a.length?[rg(a),tg(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!ve(s)}):i;return o.map(function(s){return Tt(s)||s instanceof Date?s:""})}var fse=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(fn(f-c)!==fn(d-f)){var _=[];if(fn(d-f)===fn(l[1]-l[0])){p=d;var g=f+l[1]-l[0];_[0]=Math.min(g,(g+c)/2),_[1]=Math.max(g,(g+c)/2)}else{p=c;var y=d+l[1]-l[0];_[0]=Math.min(f,(y+f)/2),_[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=_[0]&&e<=_[1]){o=i[u].index;break}}else{var v=Math.min(c,d),x=Math.max(c,d);if(e>(v+f)/2&&e<=(x+f)/2){o=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===s-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){o=n[O].index;break}return o},Ox=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},hse=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var _=c[f[d]],g=_.items,y=_.cateAxisId,w=g.filter(function(E){return ei(E.type).indexOf("Bar")>=0});if(w&&w.length){var v=w[0].type.defaultProps,x=v!==void 0?ot(ot({},v),w[0].props):w[0].props,O=x.barSize,T=x[y];o[T]||(o[T]=[]);var I=ve(O)?r:O;o[T].push({item:w[0],stackList:w.slice(1),barSize:ve(I)?void 0:go(I,n,0)})}}return o},dse=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=go(r,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=i/l,_=o.reduce(function(O,T){return O+T.barSize||0},0);_+=(l-1)*u,_>=i&&(_-=(l-1)*u,u=0),_>=i&&p>0&&(d=!0,p*=.9,_=l*p);var g=(i-_)/2>>0,y={offset:g-u,size:0};c=o.reduce(function(O,T){var I={item:T.item,position:{offset:y.offset+y.size+u,size:d?p:T.barSize}},E=[].concat(BP(O),[I]);return y=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:y})}),E},f)}else{var w=go(n,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var v=(i-2*w-(l-1)*u)/l;v>1&&(v>>=0);var x=s===+s?Math.min(v,s):v;c=o.reduce(function(O,T,I){var E=[].concat(BP(O),[{item:T.item,position:{offset:w+(v+u)*I+(v-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return c},pse=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=zD({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,_=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&_==="middle")&&p!=="center"&&Z(e[p]))return ot(ot({},e),{},Es({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&_!=="middle"&&Z(e[_]))return ot(ot({},e),{},Es({},_,e[_]+(d||0)))}return e},mse=function(e,r,n){return ve(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WD=function(e,r,n,i,a){var o=r.props.children,s=qr(o,If).filter(function(u){return mse(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Or(c,n);if(ve(f))return u;var d=Array.isArray(f)?[rg(f),tg(f)]:[f,f],p=l.reduce(function(_,g){var y=Or(c,g,0),w=d[0]-Math.abs(Array.isArray(y)?y[0]:y),v=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,_[0]),Math.max(v,_[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},gse=function(e,r,n,i,a){var o=r.map(function(s){return WD(e,s,n,a,i)}).filter(function(s){return!ve(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},HD=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&WD(e,l,u,i)||Uu(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},qD=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},GD=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Yn=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?fn(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!wf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:a?a[f]:f,index:d,offset:u}})},Vy=new WeakMap,wh=function(e,r){if(typeof r!="function")return e;Vy.has(e)||Vy.set(e,new WeakMap);var n=Vy.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},yse=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Ac(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:lp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Fu(),realScaleType:"point"}:a==="category"?{scale:Ac(),realScaleType:"band"}:{scale:lp(),realScaleType:"linear"};if(mo(i)){var l="scale".concat(Bm(i));return{scale:(MP[l]||Fu)(),realScaleType:MP[l]?l:"point"}}return ge(i)?{scale:i}:{scale:Fu(),realScaleType:"point"}},WP=1e-4,vse=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-WP,o=Math.max(i[0],i[1])+WP,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},bse=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},_se=function(e,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Z(e[0])||e[0]<n)&&(a[0]=n),(!Z(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},wse=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=wf(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},xse=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=wf(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Ese={sign:wse,expand:LG,none:Us,silhouette:VG,wiggle:FG,positive:xse},Sse=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Ese[n],o=$G().keys(i).value(function(s,l){return+Or(s,l,0)}).order(I0).offset(a);return o(e)},Tse=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,d){var p,_=(p=d.type)!==null&&p!==void 0&&p.defaultProps?ot(ot({},d.type.defaultProps),d.props):d.props,g=_.stackId,y=_.hide;if(y)return f;var w=_[n],v=f[w]||{hasStack:!1,stackGroups:{}};if(Tt(g)){var x=v.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(d),v.hasStack=!0,v.stackGroups[g]=x}else v.stackGroups[xf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[d]};return ot(ot({},f),{},Es({},w,v))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var _={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var w=p.stackGroups[y];return ot(ot({},g),{},Es({},y,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:Sse(e,w.items,a)}))},_)}return ot(ot({},f),{},Es({},d,p))},c)},Ase=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=$oe(u,a,s);return e.domain([rg(c),tg(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),d=Loe(f,a,s);return{niceTicks:d}}return null};function HP(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=Vd(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Or(i,ve(o)?e.dataKey:o);return ve(l)?null:e.scale(l)}var qP=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Or(o,r.dataKey,r.domain[s]);return ve(l)?null:r.scale(l)-a/2+i},Pse=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Ise=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Tt(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Ose=function(e){return e.reduce(function(r,n){return[rg(n.concat([r[0]]).filter(Z)),tg(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},KD=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=Ose(c.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},GP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ab=function(e,r,n){if(ge(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Z(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(GP.test(e[0])){var a=+GP.exec(e[0])[1];i[0]=r[0]-a}else ge(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Z(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(KP.test(e[1])){var o=+KP.exec(e[1])[1];i[1]=r[1]+o}else ge(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},mp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=nx(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},XP=function(e,r,n){return!e||!e.length||ng(e,Hr(n,"type.defaultProps.domain"))?r:e},XD=function(e,r){var n=e.type.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return ot(ot({},Se(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Ox(e),value:Or(r,i),type:l,payload:r,chartType:u,hide:c})};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function YP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(r),!0).forEach(function(n){Cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cse(t,e,r){return e=kse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kse(t){var e=Nse(t,"string");return Dc(e)=="symbol"?e:e+""}function Nse(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gp=Math.PI/180,Rse=function(e){return e*180/Math.PI},Ut=function(e,r,n,i){return{x:e+Math.cos(-gp*i)*n,y:r+Math.sin(-gp*i)*n}},jse=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Dse=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=jse({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Rse(u),angleInRadian:u}},Mse=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},$se=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},JP=function(e,r){var n=e.x,i=e.y,a=Dse({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Mse(r),f=c.startAngle,d=c.endAngle,p=s,_;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;_=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;_=p>=d&&p<=f}return _?QP(QP({},r),{},{radius:o,angle:$se(p,r)}):null};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}var Lse=["offset"];function Vse(t){return zse(t)||Bse(t)||Use(t)||Fse()}function Fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Use(t,e){if(t){if(typeof t=="string")return ob(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ob(t,e)}}function Bse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zse(t){if(Array.isArray(t))return ob(t)}function ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wse(t,e){if(t==null)return{};var r=Hse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(r),!0).forEach(function(n){qse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qse(t,e,r){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=Kse(t,"string");return Mc(e)=="symbol"?e:e+""}function Kse(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$c.apply(this,arguments)}var Xse=function(e){var r=e.value,n=e.formatter,i=ve(e.children)?r:e.children;return ge(n)?n(i):i},Yse=function(e,r){var n=fn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Qse=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,_=l.endAngle,g=l.clockWise,y=(f+d)/2,w=Yse(p,_),v=w>=0?1:-1,x,O;i==="insideStart"?(x=p+v*o,O=g):i==="insideEnd"?(x=_-v*o,O=!g):i==="end"&&(x=_+v*o,O=g),O=w<=0?O:!O;var T=Ut(u,c,y,x),I=Ut(u,c,y,x+(O?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),S=ve(e.id)?xf("recharts-radial-line-"):e.id;return D.createElement("text",$c({},n,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:S,d:E})),D.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Jse=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,d=(c+f)/2;if(i==="outside"){var p=Ut(o,s,u+n,d),_=p.x,g=p.y;return{x:_,y:g,textAnchor:_>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=Ut(o,s,y,d),v=w.x,x=w.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Zse=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",_=f>0?"start":"end",g=u>=0?1:-1,y=g*i,w=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return xt(xt({},x),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var O={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:_};return xt(xt({},O),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(a==="left"){var T={x:s-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return xt(xt({},T),n?{width:Math.max(T.x-n.x,0),height:c}:{})}if(a==="right"){var I={x:s+u+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return xt(xt({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:c}:{})}var E=n?{width:u,height:c}:{};return a==="insideLeft"?xt({x:s+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideRight"?xt({x:s+u-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):a==="insideTop"?xt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:_},E):a==="insideBottom"?xt({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?xt({x:s+y,y:l+d,textAnchor:v,verticalAnchor:_},E):a==="insideTopRight"?xt({x:s+u-y,y:l+d,textAnchor:w,verticalAnchor:_},E):a==="insideBottomLeft"?xt({x:s+y,y:l+c-d,textAnchor:v,verticalAnchor:p},E):a==="insideBottomRight"?xt({x:s+u-y,y:l+c-d,textAnchor:w,verticalAnchor:p},E):xl(a)&&(Z(a.x)||Ga(a.x))&&(Z(a.y)||Ga(a.y))?xt({x:s+go(a.x,u),y:l+go(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):xt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},ele=function(e){return"cx"in e&&Z(e.cx)};function Zt(t){var e=t.offset,r=e===void 0?5:e,n=Wse(t,Lse),i=xt({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!a||ve(s)&&ve(l)&&!$.isValidElement(u)&&!ge(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(ge(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=Xse(i);var _=ele(a),g=Se(i,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Qse(i,p,g);var y=_?Jse(i):Zse(i);return D.createElement(tp,$c({className:Pe("recharts-label",f)},g,y,{breakAll:d}),p)}Zt.displayName="Label";var YD=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,_=e.left,g=e.width,y=e.height,w=e.clockWise,v=e.labelViewBox;if(v)return v;if(Z(g)&&Z(y)){if(Z(f)&&Z(d))return{x:f,y:d,width:g,height:y};if(Z(p)&&Z(_))return{x:p,y:_,width:g,height:y}}return Z(f)&&Z(d)?{x:f,y:d,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},tle=function(e,r){return e?e===!0?D.createElement(Zt,{key:"label-implicit",viewBox:r}):Tt(e)?D.createElement(Zt,{key:"label-implicit",viewBox:r,value:e}):$.isValidElement(e)?e.type===Zt?$.cloneElement(e,{key:"label-implicit",viewBox:r}):D.createElement(Zt,{key:"label-implicit",content:e,viewBox:r}):ge(e)?D.createElement(Zt,{key:"label-implicit",content:e,viewBox:r}):xl(e)?D.createElement(Zt,$c({viewBox:r},e,{key:"label-implicit"})):null:null},rle=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=YD(e),o=qr(i,Zt).map(function(l,u){return $.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=tle(e.label,r||a);return[s].concat(Vse(o))};Zt.parseViewBox=YD;Zt.renderCallByParent=rle;function nle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ile=nle;const ale=Me(ile);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var ole=["valueAccessor"],sle=["data","dataKey","clockWise","id","textBreakAll"];function lle(t){return hle(t)||fle(t)||cle(t)||ule()}function ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cle(t,e){if(t){if(typeof t=="string")return sb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sb(t,e)}}function fle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hle(t){if(Array.isArray(t))return sb(t)}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yp.apply(this,arguments)}function eI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(r),!0).forEach(function(n){dle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dle(t,e,r){return e=ple(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ple(t){var e=mle(t,"string");return Lc(e)=="symbol"?e:e+""}function mle(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rI(t,e){if(t==null)return{};var r=gle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var yle=function(e){return Array.isArray(e.value)?ale(e.value):e.value};function oa(t){var e=t.valueAccessor,r=e===void 0?yle:e,n=rI(t,ole),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=rI(n,sle);return!i||!i.length?null:D.createElement(ct,{className:"recharts-label-list"},i.map(function(c,f){var d=ve(a)?r(c,f):Or(c&&c.payload,a),p=ve(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(Zt,yp({},Se(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:Zt.parseViewBox(ve(o)?c:tI(tI({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}oa.displayName="LabelList";function vle(t,e){return t?t===!0?D.createElement(oa,{key:"labelList-implicit",data:e}):D.isValidElement(t)||ge(t)?D.createElement(oa,{key:"labelList-implicit",data:e,content:t}):xl(t)?D.createElement(oa,yp({data:e},t,{key:"labelList-implicit"})):null:null}function ble(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=qr(n,oa).map(function(o,s){return $.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=vle(t.label,e);return[a].concat(lle(i))}oa.renderCallByParent=ble;function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lb.apply(this,arguments)}function nI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(r),!0).forEach(function(n){_le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _le(t,e,r){return e=wle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wle(t){var e=xle(t,"string");return Vc(e)=="symbol"?e:e+""}function xle(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ele=function(e,r){var n=fn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},xh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/gp,d=u?a:a+o*f,p=Ut(r,n,c,d),_=Ut(r,n,i,d),g=u?a-o*f:a,y=Ut(r,n,c*Math.cos(f*gp),g);return{center:p,circleTangency:_,lineTangency:y,theta:f}},QD=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Ele(o,s),u=o+l,c=Ut(r,n,a,o),f=Ut(r,n,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ut(r,n,i,o),_=Ut(r,n,i,u);d+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(r,",").concat(n," Z");return d},Sle=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=fn(c-u),d=xh({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=d.circleTangency,_=d.lineTangency,g=d.theta,y=xh({cx:r,cy:n,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),w=y.circleTangency,v=y.lineTangency,x=y.theta,O=l?Math.abs(u-c):Math.abs(u-c)-g-x;if(O<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QD({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var T="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var I=xh({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=I.circleTangency,S=I.lineTangency,P=I.theta,k=xh({cx:r,cy:n,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=k.circleTangency,j=k.lineTangency,N=k.theta,F=l?Math.abs(u-c):Math.abs(u-c)-P-N;if(F<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Tle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JD=function(e){var r=iI(iI({},Tle),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,f=r.endAngle,d=r.className;if(o<a||c===f)return null;var p=Pe("recharts-sector",d),_=o-a,g=go(s,_,0,!0),y;return g>0&&Math.abs(c-f)<360?y=Sle({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,_/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=QD({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),D.createElement("path",lb({},Se(r,!0),{className:p,d:y,role:"img"}))};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ub.apply(this,arguments)}function aI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(r),!0).forEach(function(n){Ale(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ale(t,e,r){return e=Ple(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ple(t){var e=Ile(t,"string");return Fc(e)=="symbol"?e:e+""}function Ile(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sI={curveBasisClosed:AG,curveBasisOpen:PG,curveBasis:TG,curveBumpX:fG,curveBumpY:hG,curveLinearClosed:IG,curveLinear:Wm,curveMonotoneX:OG,curveMonotoneY:CG,curveNatural:kG,curveStep:NG,curveStepAfter:jG,curveStepBefore:RG},Eh=function(e){return e.x===+e.x&&e.y===+e.y},uu=function(e){return e.x},cu=function(e){return e.y},Ole=function(e,r){if(ge(e))return e;var n="curve".concat(Bm(e));return(n==="curveMonotone"||n==="curveBump")&&r?sI["".concat(n).concat(r==="vertical"?"Y":"X")]:sI[n]||Wm},Cle=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Ole(n,s),f=u?a.filter(function(g){return Eh(g)}):a,d;if(Array.isArray(o)){var p=u?o.filter(function(g){return Eh(g)}):o,_=f.map(function(g,y){return oI(oI({},g),{},{base:p[y]})});return s==="vertical"?d=dh().y(cu).x1(uu).x0(function(g){return g.base.x}):d=dh().x(uu).y1(cu).y0(function(g){return g.base.y}),d.defined(Eh).curve(c),d(_)}return s==="vertical"&&Z(o)?d=dh().y(cu).x1(uu).x0(o):Z(o)?d=dh().x(uu).y1(cu).y0(o):d=JR().x(uu).y(cu),d.defined(Eh).curve(c),d(f)},cb=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Cle(e):i;return $.createElement("path",ub({},Se(e,!1),Fd(e),{className:Pe("recharts-curve",r),d:o,ref:a}))},ZD={exports:{}},kle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nle=kle,Rle=Nle;function eM(){}function tM(){}tM.resetWarningCache=eM;var jle=function(){function t(n,i,a,o,s,l){if(l!==Rle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tM,resetWarningCache:eM};return r.PropTypes=r,r};ZD.exports=jle();var Dle=ZD.exports;const Oe=Me(Dle);var Mle=Object.getOwnPropertyNames,$le=Object.getOwnPropertySymbols,Lle=Object.prototype.hasOwnProperty;function lI(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Sh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Vle(t){return t!=null?t[Symbol.toStringTag]:void 0}function uI(t){return Mle(t).concat($le(t))}var Fle=Object.hasOwn||function(t,e){return Lle.call(t,e)};function jo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ule="__v",Ble="__o",zle="_owner",cI=Object.getOwnPropertyDescriptor,fI=Object.keys;function Wle(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Hle(t,e){return jo(t.getTime(),e.getTime())}function qle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Gle(t,e){return t===e}function hI(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var d=o.value,p=s.value;if(r.equals(d[0],p[0],l,f,t,e,r)&&r.equals(d[1],p[1],d[0],p[0],t,e,r)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Kle=jo;function Xle(t,e,r){var n=fI(t),i=n.length;if(fI(e).length!==i)return!1;for(;i-- >0;)if(!rM(t,e,r,n[i]))return!1;return!0}function fu(t,e,r){var n=uI(t),i=n.length;if(uI(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!rM(t,e,r,a)||(o=cI(t,a),s=cI(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Yle(t,e){return jo(t.valueOf(),e.valueOf())}function Qle(t,e){return t.source===e.source&&t.flags===e.flags}function dI(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Jle(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Zle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function rM(t,e,r,n){return(n===zle||n===Ble||n===Ule)&&(t.$$typeof||e.$$typeof)?!0:Fle(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var eue="[object Arguments]",tue="[object Boolean]",rue="[object Date]",nue="[object Error]",iue="[object Map]",aue="[object Number]",oue="[object Object]",sue="[object RegExp]",lue="[object Set]",uue="[object String]",cue="[object URL]",fue=Array.isArray,pI=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,mI=Object.assign,hue=Object.prototype.toString.call.bind(Object.prototype.toString);function due(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual,p=t.unknownTagComparators;return function(g,y,w){if(g===y)return!0;if(g==null||y==null)return!1;var v=typeof g;if(v!==typeof y)return!1;if(v!=="object")return v==="number"?o(g,y,w):v==="function"?i(g,y,w):!1;var x=g.constructor;if(x!==y.constructor)return!1;if(x===Object)return s(g,y,w);if(fue(g))return e(g,y,w);if(pI!=null&&pI(g))return f(g,y,w);if(x===Date)return r(g,y,w);if(x===RegExp)return u(g,y,w);if(x===Map)return a(g,y,w);if(x===Set)return c(g,y,w);var O=hue(g);if(O===rue)return r(g,y,w);if(O===sue)return u(g,y,w);if(O===iue)return a(g,y,w);if(O===lue)return c(g,y,w);if(O===oue)return typeof g.then!="function"&&typeof y.then!="function"&&s(g,y,w);if(O===cue)return d(g,y,w);if(O===nue)return n(g,y,w);if(O===eue)return s(g,y,w);if(O===tue||O===aue||O===uue)return l(g,y,w);if(p){var T=p[O];if(!T){var I=Vle(g);I&&(T=p[I])}if(T)return T(g,y,w)}return!1}}function pue(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?fu:Wle,areDatesEqual:Hle,areErrorsEqual:qle,areFunctionsEqual:Gle,areMapsEqual:n?lI(hI,fu):hI,areNumbersEqual:Kle,areObjectsEqual:n?fu:Xle,arePrimitiveWrappersEqual:Yle,areRegExpsEqual:Qle,areSetsEqual:n?lI(dI,fu):dI,areTypedArraysEqual:n?fu:Jle,areUrlsEqual:Zle,unknownTagComparators:void 0};if(r&&(i=mI({},i,r(i))),e){var a=Sh(i.areArraysEqual),o=Sh(i.areMapsEqual),s=Sh(i.areObjectsEqual),l=Sh(i.areSetsEqual);i=mI({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function mue(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function gue(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var c=n(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return r(l,u,{cache:d,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var yue=Ia();Ia({strict:!0});Ia({circular:!0});Ia({circular:!0,strict:!0});Ia({createInternalComparator:function(){return jo}});Ia({strict:!0,createInternalComparator:function(){return jo}});Ia({circular:!0,createInternalComparator:function(){return jo}});Ia({circular:!0,createInternalComparator:function(){return jo},strict:!0});function Ia(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=pue(t),l=due(s),u=n?n(l):mue(l);return gue({circular:r,comparator:l,createState:i,equals:u,strict:o})}function vue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function gI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):vue(i)};requestAnimationFrame(n)}function fb(t){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function bue(t){return Eue(t)||xue(t)||wue(t)||_ue()}function _ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wue(t,e){if(t){if(typeof t=="string")return yI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yI(t,e)}}function yI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eue(t){if(Array.isArray(t))return t}function Sue(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=bue(o),l=s[0],u=s.slice(1);if(typeof l=="number"){gI(i.bind(null,u),l);return}i(l),gI(i.bind(null,u));return}fb(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function vI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(r),!0).forEach(function(n){nM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nM(t,e,r){return e=Tue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tue(t){var e=Aue(t,"string");return Uc(e)==="symbol"?e:String(e)}function Aue(t,e){if(Uc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pue=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Iue=function(e){return e},Oue=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Bu=function(e,r){return Object.keys(r).reduce(function(n,i){return bI(bI({},n),{},nM({},i,e(i,r[i])))},{})},_I=function(e,r,n){return e.map(function(i){return"".concat(Oue(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Cue(t,e){return Rue(t)||Nue(t,e)||iM(t,e)||kue()}function kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Rue(t){if(Array.isArray(t))return t}function jue(t){return $ue(t)||Mue(t)||iM(t)||Due()}function Due(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iM(t,e){if(t){if(typeof t=="string")return hb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hb(t,e)}}function Mue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ue(t){if(Array.isArray(t))return hb(t)}function hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vp=1e-4,aM=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},oM=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},wI=function(e,r){return function(n){var i=aM(e,r);return oM(i,n)}},Lue=function(e,r){return function(n){var i=aM(e,r),a=[].concat(jue(i.map(function(o,s){return o*s}).slice(1)),[0]);return oM(a,n)}},xI=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=Cue(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=wI(i,o),d=wI(a,s),p=Lue(i,o),_=function(w){return w>1?1:w<0?0:w},g=function(w){for(var v=w>1?1:w,x=v,O=0;O<8;++O){var T=f(x)-v,I=p(x);if(Math.abs(T-v)<vp||I<vp)return d(x);x=_(x-T/I)}return d(x)};return g.isStepper=!1,g},Vue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,d){var p=-(c-f)*n,_=d*a,g=d+(p-_)*s/1e3,y=d*s/1e3+c;return Math.abs(y-f)<vp&&Math.abs(g)<vp?[f,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},Fue=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xI(i);case"spring":return Vue();default:if(i.split("(")[0]==="cubic-bezier")return xI(i)}return typeof i=="function"?i:null};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function EI(t){return zue(t)||Bue(t)||sM(t)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zue(t){if(Array.isArray(t))return pb(t)}function SI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(r),!0).forEach(function(n){db(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function db(t,e,r){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wue(t){var e=Hue(t,"string");return Bc(e)==="symbol"?e:String(e)}function Hue(t,e){if(Bc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function que(t,e){return Xue(t)||Kue(t,e)||sM(t,e)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sM(t,e){if(t){if(typeof t=="string")return pb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pb(t,e)}}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Xue(t){if(Array.isArray(t))return t}var bp=function(e,r,n){return e+(r-e)*n},mb=function(e){var r=e.from,n=e.to;return r!==n},Yue=function t(e,r,n){var i=Bu(function(a,o){if(mb(o)){var s=e(o.from,o.to,o.velocity),l=que(s,2),u=l[0],c=l[1];return $t($t({},o),{},{from:u,velocity:c})}return o},r);return n<1?Bu(function(a,o){return mb(o)?$t($t({},o),{},{velocity:bp(o.velocity,i[a].velocity,n),from:bp(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Que=function(t,e,r,n,i){var a=Pue(t,e),o=a.reduce(function(y,w){return $t($t({},y),{},db({},w,[t[w],e[w]]))},{}),s=a.reduce(function(y,w){return $t($t({},y),{},db({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Bu(function(w,v){return v.from},s)},p=function(){return!Object.values(s).filter(mb).length},_=function(w){u||(u=w);var v=w-u,x=v/r.dt;s=Yue(r,s,x),i($t($t($t({},t),e),d())),u=w,p()||(l=requestAnimationFrame(f))},g=function(w){c||(c=w);var v=(w-c)/n,x=Bu(function(T,I){return bp.apply(void 0,EI(I).concat([r(v)]))},o);if(i($t($t($t({},t),e),x)),v<1)l=requestAnimationFrame(f);else{var O=Bu(function(T,I){return bp.apply(void 0,EI(I).concat([r(1)]))},o);i($t($t($t({},t),e),O))}};return f=r.isStepper?_:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}var Jue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zue(t,e){if(t==null)return{};var r=ece(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ece(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Fy(t){return ice(t)||nce(t)||rce(t)||tce()}function tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rce(t,e){if(t){if(typeof t=="string")return gb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gb(t,e)}}function nce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ice(t){if(Array.isArray(t))return gb(t)}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(r),!0).forEach(function(n){Eu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eu(t,e,r){return e=lM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lM(n.key),n)}}function sce(t,e,r){return e&&oce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lM(t){var e=lce(t,"string");return Ys(e)==="symbol"?e:String(e)}function lce(t,e){if(Ys(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ys(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yb(t,e)}function cce(t){var e=fce();return function(){var n=_p(t),i;if(e){var a=_p(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vb(this,i)}}function vb(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bb(t)}function bb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(t)}var pi=function(t){uce(r,t);var e=cce(r);function r(n,i){var a;ace(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,d=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(bb(a)),a.changeStyle=a.changeStyle.bind(bb(a)),!s||p<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:c}),vb(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof d=="function")return a.state={style:u},vb(a);a.state={style:l?Eu({},l,u):u}}else a.state={style:{}};return a}return sce(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,d=this.state.style;if(s){if(!o){var p={style:l?Eu({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(yue(i.to,c)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=_||u?f:i.to;if(this.state&&d){var y={style:l?Eu({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(y)}this.runAnimation(en(en({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Que(o,s,Fue(u),l,this.changeStyle),_=function(){a.stopJSAnimation=p()};this.manager.start([d,c,_,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,y,w){if(w===0)return g;var v=y.duration,x=y.easing,O=x===void 0?"ease":x,T=y.style,I=y.properties,E=y.onAnimationEnd,S=w>0?o[w-1]:y,P=I||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(Fy(g),[a.runJSAnimation.bind(a,{from:S.style,to:T,duration:v,easing:O}),v]);var k=_I(P,v,O),C=en(en(en({},S.style),T),{},{transition:k});return[].concat(Fy(g),[C,v,E]).filter(Iue)};return this.manager.start([l].concat(Fy(o.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Sue());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?Eu({},s,l):l,y=_I(Object.keys(g),o,u);_.start([c,a,en(en({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Zue(i,Jue),u=$.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var _=p.props,g=_.style,y=g===void 0?{}:g,w=_.className,v=$.cloneElement(p,en(en({},l),{},{style:en(en({},y),c),className:w}));return v};return u===1?f($.Children.only(a)):D.createElement("div",null,$.Children.map(a,function(d){return f(d)}))}}]),r}($.PureComponent);pi.displayName="Animate";pi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pi.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wp.apply(this,arguments)}function hce(t,e){return gce(t)||mce(t,e)||pce(t,e)||dce()}function dce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pce(t,e){if(t){if(typeof t=="string")return AI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AI(t,e)}}function AI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function gce(t){if(Array.isArray(t))return t}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function II(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){yce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yce(t,e,r){return e=vce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vce(t){var e=bce(t,"string");return zc(e)=="symbol"?e:e+""}function bce(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OI=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=a[d]>o?o:a[d];c="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),c+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),c+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),c+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);c="M ".concat(e,",").concat(r+s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+l*_,",").concat(r,`
            L `).concat(e+n-l*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*_,`
            L `).concat(e+n,",").concat(r+i-s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+n-l*_,",").concat(r+i,`
            L `).concat(e+l*_,",").concat(r+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*_," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},_ce=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),d=Math.max(o,o+l);return n>=u&&n<=c&&i>=f&&i<=d}return!1},wce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cx=function(e){var r=II(II({},wce),e),n=$.useRef(),i=$.useState(-1),a=hce(i,2),o=a[0],s=a[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&s(O)}catch{}},[]);var l=r.x,u=r.y,c=r.width,f=r.height,d=r.radius,p=r.className,_=r.animationEasing,g=r.animationDuration,y=r.animationBegin,w=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var x=Pe("recharts-rectangle",p);return v?D.createElement(pi,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:_,isActive:v},function(O){var T=O.width,I=O.height,E=O.x,S=O.y;return D.createElement(pi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:w,easing:_},D.createElement("path",wp({},Se(r,!0),{className:x,d:OI(E,S,T,I,d),ref:n})))}):D.createElement("path",wp({},Se(r,!0),{className:x,d:OI(l,u,c,f,d)}))};function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_b.apply(this,arguments)}var kx=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Pe("recharts-dot",a);return r===+r&&n===+n&&i===+i?$.createElement("circle",_b({},Se(e,!1),Fd(e),{className:o,cx:r,cy:n,r:i})):null};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}var xce=["x","y","top","left","width","height","className"];function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wb.apply(this,arguments)}function CI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ece(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(r),!0).forEach(function(n){Sce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sce(t,e,r){return e=Tce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tce(t){var e=Ace(t,"string");return Wc(e)=="symbol"?e:e+""}function Ace(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pce(t,e){if(t==null)return{};var r=Ice(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ice(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Oce=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Cce=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,_=e.className,g=Pce(e,xce),y=Ece({x:n,y:a,top:s,left:u,width:f,height:p},g);return!Z(n)||!Z(a)||!Z(f)||!Z(p)||!Z(s)||!Z(u)?null:D.createElement("path",wb({},Se(y,!0),{className:Pe("recharts-cross",_),d:Oce(n,a,f,p,s,u)}))},kce=xj,Nce=kce(Object.getPrototypeOf,Object),Rce=Nce,jce=vi,Dce=Rce,Mce=bi,$ce="[object Object]",Lce=Function.prototype,Vce=Object.prototype,uM=Lce.toString,Fce=Vce.hasOwnProperty,Uce=uM.call(Object);function Bce(t){if(!Mce(t)||jce(t)!=$ce)return!1;var e=Dce(t);if(e===null)return!0;var r=Fce.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&uM.call(r)==Uce}var zce=Bce;const Wce=Me(zce);var Hce=vi,qce=bi,Gce="[object Boolean]";function Kce(t){return t===!0||t===!1||qce(t)&&Hce(t)==Gce}var Xce=Kce;const Yce=Me(Xce);function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xp.apply(this,arguments)}function Qce(t,e){return tfe(t)||efe(t,e)||Zce(t,e)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(t,e){if(t){if(typeof t=="string")return kI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kI(t,e)}}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function efe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function tfe(t){if(Array.isArray(t))return t}function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){rfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rfe(t,e,r){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nfe(t){var e=ife(t,"string");return Hc(e)=="symbol"?e:e+""}function ife(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jI=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},afe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ofe=function(e){var r=RI(RI({},afe),e),n=$.useRef(),i=$.useState(-1),a=Qce(i,2),o=a[0],s=a[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,f=r.lowerWidth,d=r.height,p=r.className,_=r.animationEasing,g=r.animationDuration,y=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var v=Pe("recharts-trapezoid",p);return w?D.createElement(pi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:_,isActive:w},function(x){var O=x.upperWidth,T=x.lowerWidth,I=x.height,E=x.x,S=x.y;return D.createElement(pi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:_},D.createElement("path",xp({},Se(r,!0),{className:v,d:jI(E,S,O,T,I),ref:n})))}):D.createElement("g",null,D.createElement("path",xp({},Se(r,!0),{className:v,d:jI(l,u,c,f,d)})))},sfe=["option","shapeType","propTransformer","activeClassName","isActive"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function lfe(t,e){if(t==null)return{};var r=ufe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ufe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(r),!0).forEach(function(n){cfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cfe(t,e,r){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ffe(t){var e=hfe(t,"string");return qc(e)=="symbol"?e:e+""}function hfe(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dfe(t,e){return Ep(Ep({},e),t)}function pfe(t,e){return t==="symbols"}function MI(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return D.createElement(Cx,r);case"trapezoid":return D.createElement(ofe,r);case"sector":return D.createElement(JD,r);case"symbols":if(pfe(e))return D.createElement(Xw,r);break;default:return null}}function mfe(t){return $.isValidElement(t)?t.props:t}function gfe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?dfe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=lfe(t,sfe),u;if($.isValidElement(e))u=$.cloneElement(e,Ep(Ep({},l),mfe(e)));else if(ge(e))u=e(l);else if(Wce(e)&&!Yce(e)){var c=i(e,l);u=D.createElement(MI,{shapeType:r,elementProps:c})}else{var f=l;u=D.createElement(MI,{shapeType:r,elementProps:f})}return s?D.createElement(ct,{className:o},u):u}function og(t,e){return e!=null&&"trapezoids"in t.props}function sg(t,e){return e!=null&&"sectors"in t.props}function Gc(t,e){return e!=null&&"points"in t.props}function yfe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function vfe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function bfe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function _fe(t,e){var r;return og(t,e)?r=yfe:sg(t,e)?r=vfe:Gc(t,e)&&(r=bfe),r}function wfe(t,e){var r;return og(t,e)?r="trapezoids":sg(t,e)?r="sectors":Gc(t,e)&&(r="points"),r}function xfe(t,e){if(og(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(sg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gc(t,e)?e.payload:{}}function Efe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=wfe(r,e),a=xfe(r,e),o=n.filter(function(l,u){var c=ng(a,l),f=r.props[i].filter(function(_){var g=_fe(r,e);return g(_,e)}),d=r.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=n.indexOf(o[o.length-1]);return s}var Sfe=Math.ceil,Tfe=Math.max;function Afe(t,e,r,n){for(var i=-1,a=Tfe(Sfe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Pfe=Afe,Ife=Uj,$I=1/0,Ofe=17976931348623157e292;function Cfe(t){if(!t)return t===0?t:0;if(t=Ife(t),t===$I||t===-$I){var e=t<0?-1:1;return e*Ofe}return t===t?t:0}var cM=Cfe,kfe=Pfe,Nfe=Km,Uy=cM;function Rfe(t){return function(e,r,n){return n&&typeof n!="number"&&Nfe(e,r,n)&&(r=n=void 0),e=Uy(e),r===void 0?(r=e,e=0):r=Uy(r),n=n===void 0?e<r?1:-1:Uy(n),kfe(e,r,n,t)}}var jfe=Rfe,Dfe=jfe,Mfe=Dfe(),$fe=Mfe;const Sp=Me($fe);function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function LI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(r),!0).forEach(function(n){fM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fM(t,e,r){return e=Lfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lfe(t){var e=Vfe(t,"string");return Kc(e)=="symbol"?e:e+""}function Vfe(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ffe=["Webkit","Moz","O","ms"],Ufe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Ffe.reduce(function(a,o){return VI(VI({},a),{},fM({},o+n,r))},{});return i[e]=r,i};function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(this,arguments)}function FI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function By(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(r),!0).forEach(function(n){wr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dM(n.key),n)}}function zfe(t,e,r){return e&&UI(t.prototype,e),r&&UI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wfe(t,e,r){return e=Ap(e),Hfe(t,hM()?Reflect.construct(e,r||[],Ap(t).constructor):e.apply(t,r))}function Hfe(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qfe(t)}function qfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hM=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(t)}function Gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xb(t,e)}function wr(t,e,r){return e=dM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dM(t){var e=Kfe(t,"string");return Qs(e)=="symbol"?e:e+""}function Kfe(t,e){if(Qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xfe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Fu().domain(Sp(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},BI=function(e){return e.changedTouches&&!!e.changedTouches.length},Js=function(t){function e(r){var n;return Bfe(this,e),n=Wfe(this,e,[r]),wr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),wr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),wr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),wr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wr(n,"handleSlideDragStart",function(i){var a=BI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Gfe(e,t),zfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),d=Math.max(i,a),p=e.getIndexInRange(o,f),_=e.getIndexInRange(o,d);return{startIndex:p-p%l,endIndex:_===c?c:_-_%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Or(a[n],s,n);return ge(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,_=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+c-f-s,u+c-f-o):g<0&&(g=Math.max(g,u-o,u-s));var y=this.getIndex({startX:o+g,endX:s+g});(y.startIndex!==d||y.endIndex!==p)&&_&&_(y),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=BI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,_=c.onChange,g=c.gap,y=c.data,w={startX:this.state.startX,endX:this.state.endX},v=n.pageX-a;v>0?v=Math.min(v,f+d-p-u):v<0&&(v=Math.max(v,f-u)),w[o]=u+v;var x=this.getIndex(w),O=x.startIndex,T=x.endIndex,I=function(){var S=y.length-1;return o==="startX"&&(s>l?O%g===0:T%g===0)||s<l&&T===S||o==="endX"&&(s>l?T%g===0:O%g===0)||s>l&&T===S};this.setState(wr(wr({},o,u+v),"brushMoveStartX",n.pageX),function(){_&&I()&&_(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+n;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(wr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,c=n.padding,f=$.Children.only(u);return f?D.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,_=l.data,g=l.startIndex,y=l.endIndex,w=Math.max(n,this.props.x),v=By(By({},Se(this.props,!1)),{},{x:w,y:u,width:c,height:f}),x=p||"Min value: ".concat((a=_[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=_[y])===null||o===void 0?void 0:o.name);return D.createElement(ct,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,f=c.startX,d=c.endX,p=5,_={pointerEvents:"none",fill:u};return D.createElement(ct,{className:"recharts-brush-texts"},D.createElement(tp,Tp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:o+s/2},_),this.getTextOfTick(i)),D.createElement(tp,Tp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:o+s/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,c=n.height,f=n.alwaysShowText,d=this.state,p=d.startX,_=d.endX,g=d.isTextActive,y=d.isSlideMoving,w=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!Z(s)||!Z(l)||!Z(u)||!Z(c)||u<=0||c<=0)return null;var x=Pe("recharts-brush",a),O=D.Children.count(o)===1,T=Ufe("userSelect","none");return D.createElement(ct,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,_),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(_,"endX"),(g||y||w||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return D.isValidElement(n)?a=D.cloneElement(n,i):ge(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return By({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Xfe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}($.PureComponent);wr(Js,"displayName","Brush");wr(Js,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Yfe=rx;function Qfe(t,e){var r;return Yfe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Jfe=Qfe,Zfe=pj,ehe=Ta,the=Jfe,rhe=vr,nhe=Km;function ihe(t,e,r){var n=rhe(t)?Zfe:the;return r&&nhe(t,e,r)&&(e=void 0),n(t,ehe(e))}var ahe=ihe;const ohe=Me(ahe);var Mn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},zI=Mj;function she(t,e,r){e=="__proto__"&&zI?zI(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var lhe=she,uhe=lhe,che=jj,fhe=Ta;function hhe(t,e){var r={};return e=fhe(e),che(t,function(n,i,a){uhe(r,i,e(n,i,a))}),r}var dhe=hhe;const phe=Me(dhe);function mhe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var ghe=mhe,yhe=rx;function vhe(t,e){var r=!0;return yhe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var bhe=vhe,_he=ghe,whe=bhe,xhe=Ta,Ehe=vr,She=Km;function The(t,e,r){var n=Ehe(t)?_he:whe;return r&&She(t,e,r)&&(e=void 0),n(t,xhe(e))}var Ahe=The;const pM=Me(Ahe);var Phe=["x","y"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eb.apply(this,arguments)}function WI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(r),!0).forEach(function(n){Ihe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ihe(t,e,r){return e=Ohe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ohe(t){var e=Che(t,"string");return Xc(e)=="symbol"?e:e+""}function Che(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function khe(t,e){if(t==null)return{};var r=Nhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rhe(t,e){var r=t.x,n=t.y,i=khe(t,Phe),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return hu(hu(hu(hu(hu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function HI(t){return D.createElement(gfe,Eb({shapeType:"rectangle",propTransformer:Rhe,activeClassName:"recharts-active-bar"},t))}var jhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Z(n)||YH(n);return a?e(n,i):(a||vo(),r)}},Dhe=["value","background"],mM;function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function Mhe(t,e){if(t==null)return{};var r=$he(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $he(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pp.apply(this,arguments)}function qI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(r),!0).forEach(function(n){Wi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yM(n.key),n)}}function Vhe(t,e,r){return e&&GI(t.prototype,e),r&&GI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fhe(t,e,r){return e=Ip(e),Uhe(t,gM()?Reflect.construct(e,r||[],Ip(t).constructor):e.apply(t,r))}function Uhe(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bhe(t)}function Bhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gM=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(t)}function zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sb(t,e)}function Wi(t,e,r){return e=yM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yM(t){var e=Whe(t,"string");return Zs(e)=="symbol"?e:e+""}function Whe(t,e){if(Zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oa=function(t){function e(){var r;Lhe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Fhe(this,e,[].concat(i)),Wi(r,"state",{isAnimationFinished:!1}),Wi(r,"id",xf("recharts-bar-")),Wi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Wi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return zhe(e,t),Vhe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Se(this.props,!1);return n&&n.map(function(f,d){var p=d===l,_=p?u:o,g=mt(mt(mt({},c),f),{},{isActive:p,option:_,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(ct,Pp({className:"recharts-bar-rectangle"},Ud(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),D.createElement(HI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return D.createElement(pi,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var _=p.t,g=a.map(function(y,w){var v=d&&d[w];if(v){var x=ln(v.x,y.x),O=ln(v.y,y.y),T=ln(v.width,y.width),I=ln(v.height,y.height);return mt(mt({},y),{},{x:x(_),y:O(_),width:T(_),height:I(_)})}if(o==="horizontal"){var E=ln(0,y.height),S=E(_);return mt(mt({},y),{},{y:y.y+y.height-S,height:S})}var P=ln(0,y.width),k=P(_);return mt(mt({},y),{},{width:k})});return D.createElement(ct,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ng(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Se(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,d=Mhe(u,Dhe);if(!f)return null;var p=mt(mt(mt(mt(mt({},d),{},{fill:"#eee"},f),l),Ud(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(HI,Pp({key:"background-bar-".concat(c),option:n.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=qr(c,If);if(!f)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,w){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:Or(y,w)}},_={clipPath:n?"url(#clipPath-".concat(i,")"):null};return D.createElement(ct,_,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,c=n.top,f=n.width,d=n.height,p=n.isAnimationActive,_=n.background,g=n.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,w=Pe("recharts-bar",o),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,O=v||x,T=ve(g)?this.id:g;return D.createElement(ct,{className:w},v||x?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(T)},D.createElement("rect",{x:v?u:u-f/2,y:x?c:c-d/2,width:v?f:f*2,height:x?d:d*2}))):null,D.createElement(ct,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!p||y)&&oa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}($.PureComponent);mM=Oa;Wi(Oa,"displayName","Bar");Wi(Oa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ol.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wi(Oa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=bse(n,r);if(!p)return null;var _=e.layout,g=r.type.defaultProps,y=g!==void 0?mt(mt({},g),r.props):r.props,w=y.dataKey,v=y.children,x=y.minPointSize,O=_==="horizontal"?o:a,T=u?O.scale.domain():null,I=Pse({numericAxis:O}),E=qr(v,zj),S=f.map(function(P,k){var C,j,N,F,U,H;u?C=_se(u[c+k],T):(C=Or(P,w),Array.isArray(C)||(C=[I,C]));var G=jhe(x,mM.defaultProps.minPointSize)(C[1],k);if(_==="horizontal"){var L,z=[o.scale(C[0]),o.scale(C[1])],X=z[0],ee=z[1];j=qP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:P,index:k}),N=(L=ee??X)!==null&&L!==void 0?L:void 0,F=p.size;var Q=X-ee;if(U=Number.isNaN(Q)?0:Q,H={x:j,y:o.y,width:F,height:o.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var oe=fn(U||G)*(Math.abs(G)-Math.abs(U));N-=oe,U+=oe}}else{var ye=[a.scale(C[0]),a.scale(C[1])],Re=ye[0],ze=ye[1];if(j=Re,N=qP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:k}),F=ze-Re,U=p.size,H={x:a.x,y:N,width:a.width,height:U},Math.abs(G)>0&&Math.abs(F)<Math.abs(G)){var Ht=fn(F||G)*(Math.abs(G)-Math.abs(F));F+=Ht}}return mt(mt(mt({},P),{},{x:j,y:N,width:F,height:U,value:u?C:C[1],payload:P,background:H},E&&E[k]&&E[k].props),{},{tooltipPayload:[XD(r,P)],tooltipPosition:{x:j+F/2,y:N+U/2}})});return mt({data:S,layout:_},d)});function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vM(n.key),n)}}function qhe(t,e,r){return e&&KI(t.prototype,e),r&&KI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(r),!0).forEach(function(n){lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lg(t,e,r){return e=vM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vM(t){var e=Ghe(t,"string");return Yc(e)=="symbol"?e:e+""}function Ghe(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bM=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},d=!!Er(u,Oa);return c.reduce(function(p,_){var g=r[_],y=g.orientation,w=g.domain,v=g.padding,x=v===void 0?{}:v,O=g.mirror,T=g.reversed,I="".concat(y).concat(O?"Mirror":""),E,S,P,k,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var j=w[1]-w[0],N=1/0,F=g.categoricalDomain.sort(ZH);if(F.forEach(function(ye,Re){Re>0&&(N=Math.min((ye||0)-(F[Re-1]||0),N))}),Number.isFinite(N)){var U=N/j,H=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(E=U*H/2),g.padding==="no-gap"){var G=go(e.barCategoryGap,U*H),L=U*H/2;E=L-G-(L-G)/H*G}}}i==="xAxis"?S=[n.left+(x.left||0)+(E||0),n.left+n.width-(x.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(E||0),n.top+n.height-(x.bottom||0)-(E||0)]:S=g.range,T&&(S=[S[1],S[0]]);var z=yse(g,a,d),X=z.scale,ee=z.realScaleType;X.domain(w).range(S),vse(X);var Q=Ase(X,an(an({},g),{},{realScaleType:ee}));i==="xAxis"?(C=y==="top"&&!O||y==="bottom"&&O,P=n.left,k=f[I]-C*g.height):i==="yAxis"&&(C=y==="left"&&!O||y==="right"&&O,P=f[I]-C*g.width,k=n.top);var oe=an(an(an({},g),Q),{},{realScaleType:ee,x:P,y:k,scale:X,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return oe.bandSize=mp(oe,Q),!g.hide&&i==="xAxis"?f[I]+=(C?-1:1)*oe.height:g.hide||(f[I]+=(C?-1:1)*oe.width),an(an({},p),{},lg({},_,oe))},{})},_M=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Khe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return _M({x:r,y:n},{x:i,y:a})},wM=function(){function t(e){Hhe(this,t),this.scale=e}return qhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();lg(wM,"EPS",1e-4);var Nx=function(e){var r=Object.keys(e).reduce(function(n,i){return an(an({},n),{},lg({},i,wM.create(e[i])))},{});return an(an({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return phe(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return pM(i,function(a,o){return r[o].isInRange(a)})}})};function Xhe(t){return(t%180+180)%180}var Yhe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Xhe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Qhe=Ta,Jhe=Ef,Zhe=qm;function ede(t){return function(e,r,n){var i=Object(e);if(!Jhe(e)){var a=Qhe(r);e=Zhe(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var tde=ede,rde=cM;function nde(t){var e=rde(t),r=e%1;return e===e?r?e-r:e:0}var ide=nde,ade=Ij,ode=Ta,sde=ide,lde=Math.max;function ude(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:sde(r);return i<0&&(i=lde(n+i,0)),ade(t,ode(e),i)}var cde=ude,fde=tde,hde=cde,dde=fde(hde),pde=dde;const mde=Me(pde);var gde=rH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Rx=$.createContext(void 0),jx=$.createContext(void 0),xM=$.createContext(void 0),EM=$.createContext({}),SM=$.createContext(void 0),TM=$.createContext(0),AM=$.createContext(0),YI=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=gde(a);return D.createElement(Rx.Provider,{value:n},D.createElement(jx.Provider,{value:i},D.createElement(EM.Provider,{value:a},D.createElement(xM.Provider,{value:c},D.createElement(SM.Provider,{value:o},D.createElement(TM.Provider,{value:u},D.createElement(AM.Provider,{value:l},s)))))))},yde=function(){return $.useContext(SM)},PM=function(e){var r=$.useContext(Rx);r==null&&vo();var n=r[e];return n==null&&vo(),n},vde=function(){var e=$.useContext(Rx);return Vi(e)},bde=function(){var e=$.useContext(jx),r=mde(e,function(n){return pM(n.domain,Number.isFinite)});return r||Vi(e)},IM=function(e){var r=$.useContext(jx);r==null&&vo();var n=r[e];return n==null&&vo(),n},_de=function(){var e=$.useContext(xM);return e},wde=function(){return $.useContext(EM)},Dx=function(){return $.useContext(AM)},Mx=function(){return $.useContext(TM)};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ede(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CM(n.key),n)}}function Sde(t,e,r){return e&&Ede(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tde(t,e,r){return e=Op(e),Ade(t,OM()?Reflect.construct(e,r||[],Op(t).constructor):e.apply(t,r))}function Ade(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pde(t)}function Pde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}function Ide(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tb(t,e)}function Tb(t,e){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tb(t,e)}function QI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(r),!0).forEach(function(n){$x(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $x(t,e,r){return e=CM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CM(t){var e=Ode(t,"string");return el(e)=="symbol"?e:e+""}function Ode(t,e){if(el(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cde(t,e){return jde(t)||Rde(t,e)||Nde(t,e)||kde()}function kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nde(t,e){if(t){if(typeof t=="string")return ZI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(t,e)}}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jde(t){if(Array.isArray(t))return t}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ab.apply(this,arguments)}var Dde=function(e,r){var n;return D.isValidElement(e)?n=D.cloneElement(e,r):ge(e)?n=e(r):n=D.createElement("line",Ab({},r,{className:"recharts-reference-line-line"})),n},Mde=function(e,r,n,i,a,o,s,l,u){var c=a.x,f=a.y,d=a.width,p=a.height;if(n){var _=u.y,g=e.y.apply(_,{position:o});if(Mn(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?y.reverse():y}if(r){var w=u.x,v=e.x.apply(w,{position:o});if(Mn(u,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:f+p},{x:v,y:f}];return s==="top"?x.reverse():x}if(i){var O=u.segment,T=O.map(function(I){return e.apply(I,{position:o})});return Mn(u,"discard")&&ohe(T,function(I){return!e.isInRange(I)})?null:T}return null};function $de(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=yde(),c=PM(i),f=IM(a),d=_de();if(!u||!d)return null;ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Nx({x:c.scale,y:f.scale}),_=Tt(e),g=Tt(r),y=n&&n.length===2,w=Mde(p,_,g,y,d,t.position,c.orientation,f.orientation,t);if(!w)return null;var v=Cde(w,2),x=v[0],O=x.x,T=x.y,I=v[1],E=I.x,S=I.y,P=Mn(t,"hidden")?"url(#".concat(u,")"):void 0,k=JI(JI({clipPath:P},Se(t,!0)),{},{x1:O,y1:T,x2:E,y2:S});return D.createElement(ct,{className:Pe("recharts-reference-line",s)},Dde(o,k),Zt.renderCallByParent(t,Khe({x1:O,y1:T,x2:E,y2:S})))}var Lx=function(t){function e(){return xde(this,e),Tde(this,e,arguments)}return Ide(e,t),Sde(e,[{key:"render",value:function(){return D.createElement($de,this.props)}}])}(D.Component);$x(Lx,"displayName","ReferenceLine");$x(Lx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(this,arguments)}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){ug(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NM(n.key),n)}}function Fde(t,e,r){return e&&Vde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ude(t,e,r){return e=Cp(e),Bde(t,kM()?Reflect.construct(e,r||[],Cp(t).constructor):e.apply(t,r))}function Bde(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zde(t)}function zde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(t)}function Wde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ib(t,e)}function ug(t,e,r){return e=NM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NM(t){var e=Hde(t,"string");return tl(e)=="symbol"?e:e+""}function Hde(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qde=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Nx({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Mn(e,"discard")&&!o.isInRange(s)?null:s},cg=function(t){function e(){return Lde(this,e),Ude(this,e,arguments)}return Wde(e,t),Fde(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=Tt(i),c=Tt(a);if(ti(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=qde(this.props);if(!f)return null;var d=f.x,p=f.y,_=this.props,g=_.shape,y=_.className,w=Mn(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=tO(tO({clipPath:w},Se(this.props,!0)),{},{cx:d,cy:p});return D.createElement(ct,{className:Pe("recharts-reference-dot",y)},e.renderDot(g,v),Zt.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);ug(cg,"displayName","ReferenceDot");ug(cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ug(cg,"renderDot",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):ge(t)?r=t(e):r=D.createElement(kx,Pb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ob.apply(this,arguments)}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function rO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(r),!0).forEach(function(n){fg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jM(n.key),n)}}function Xde(t,e,r){return e&&Kde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yde(t,e,r){return e=kp(e),Qde(t,RM()?Reflect.construct(e,r||[],kp(t).constructor):e.apply(t,r))}function Qde(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jde(t)}function Jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(t)}function Zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cb(t,e)}function Cb(t,e){return Cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cb(t,e)}function fg(t,e,r){return e=jM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jM(t){var e=epe(t,"string");return rl(e)=="symbol"?e:e+""}function epe(t,e){if(rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tpe=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var d=Nx({x:c.scale,y:f.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(l,{position:"start"}):d.y.rangeMin},_={x:r?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Mn(a,"discard")&&(!d.isInRange(p)||!d.isInRange(_))?null:_M(p,_)},hg=function(t){function e(){return Gde(this,e),Yde(this,e,arguments)}return Zde(e,t),Xde(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;ti(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tt(i),d=Tt(a),p=Tt(o),_=Tt(s),g=this.props.shape;if(!f&&!d&&!p&&!_&&!g)return null;var y=tpe(f,d,p,_,this.props);if(!y&&!g)return null;var w=Mn(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(ct,{className:Pe("recharts-reference-area",l)},e.renderRect(g,nO(nO({clipPath:w},Se(this.props,!0)),y)),Zt.renderCallByParent(this.props,y))}}])}(D.Component);fg(hg,"displayName","ReferenceArea");fg(hg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fg(hg,"renderRect",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):ge(t)?r=t(e):r=D.createElement(Cx,Ob({},e,{className:"recharts-reference-area-rect"})),r});function DM(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function rpe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Yhe(n,r)}function npe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Np(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function ipe(t,e){return DM(t,e+1)}function ape(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var _=n==null?void 0:n[l];if(_===void 0)return{v:DM(n,u)};var g=l,y,w=function(){return y===void 0&&(y=r(_,g)),y},v=_.coordinate,x=l===0||Np(t,v,w,c,s);x||(l=0,c=o,u+=1),x&&(c=v+t*(w()/2+i),l+=u)},d;u<=a.length;)if(d=f(),d)return d.v;return[]}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){ope(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ope(t,e,r){return e=spe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function spe(t){var e=lpe(t,"string");return Qc(e)=="symbol"?e:e+""}function lpe(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function upe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(d){var p=a[d],_,g=function(){return _===void 0&&(_=r(p,d)),_};if(d===o-1){var y=t*(p.coordinate+t*g()/2-l);a[d]=p=Xt(Xt({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else a[d]=p=Xt(Xt({},p),{},{tickCoord:p.coordinate});var w=Np(t,p.tickCoord,g,s,l);w&&(l=p.tickCoord-t*(g()/2+i),a[d]=Xt(Xt({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function cpe(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=n[s-1],f=r(c,s-1),d=t*(c.coordinate+t*f/2-u);o[s-1]=c=Xt(Xt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Np(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=Xt(Xt({},c),{},{isShow:!0}))}for(var _=a?s-1:s,g=function(v){var x=o[v],O,T=function(){return O===void 0&&(O=r(x,v)),O};if(v===0){var I=t*(x.coordinate-t*T()/2-l);o[v]=x=Xt(Xt({},x),{},{tickCoord:I<0?x.coordinate-I*t:x.coordinate})}else o[v]=x=Xt(Xt({},x),{},{tickCoord:x.coordinate});var E=Np(t,x.tickCoord,T,l,u);E&&(l=x.tickCoord+t*(T()/2+i),o[v]=Xt(Xt({},x),{},{isShow:!0}))},y=0;y<_;y++)g(y);return o}function Vx(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Z(l)||Ol.isSsr)return ipe(i,typeof l=="number"&&Z(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",_=c&&p==="width"?Vu(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(x,O){var T=ge(u)?u(x.value,O):x.value;return p==="width"?rpe(Vu(T,{fontSize:e,letterSpacing:r}),_,f):Vu(T,{fontSize:e,letterSpacing:r})[p]},y=i.length>=2?fn(i[1].coordinate-i[0].coordinate):1,w=npe(a,y,p);return l==="equidistantPreserveStart"?ape(y,w,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=cpe(y,w,g,i,o,l==="preserveStartEnd"):d=upe(y,w,g,i,o),d.filter(function(v){return v.isShow}))}var fpe=["viewBox"],hpe=["viewBox"],dpe=["ticks"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ls.apply(this,arguments)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){Fx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zy(t,e){if(t==null)return{};var r=ppe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ppe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$M(n.key),n)}}function gpe(t,e,r){return e&&oO(t.prototype,e),r&&oO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ype(t,e,r){return e=Rp(e),vpe(t,MM()?Reflect.construct(e,r||[],Rp(t).constructor):e.apply(t,r))}function vpe(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bpe(t)}function bpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MM=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(t)}function _pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kb(t,e)}function kb(t,e){return kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kb(t,e)}function Fx(t,e,r){return e=$M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $M(t){var e=wpe(t,"string");return nl(e)=="symbol"?e:e+""}function wpe(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rl=function(t){function e(r){var n;return mpe(this,e),n=ype(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return _pe(e,t),gpe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=zy(n,fpe),s=this.props,l=s.viewBox,u=zy(s,hpe);return!ws(a,l)||!ws(o,u)||!ws(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,_,g,y,w,v,x=f?-1:1,O=n.tickSize||c,T=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=_=n.coordinate,y=o+ +!f*l,g=y-x*O,v=g-x*d,w=T;break;case"left":g=y=n.coordinate,_=a+ +!f*s,p=_-x*O,w=p-x*d,v=T;break;case"right":g=y=n.coordinate,_=a+ +f*s,p=_+x*O,w=p+x*d,v=T;break;default:p=_=n.coordinate,y=o+ +f*l,g=y+x*O,v=g+x*d,w=T;break}return{line:{x1:p,y1:g,x2:_,y2:y},tick:{x:w,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,f=wt(wt(wt({},Se(this.props,!1)),Se(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=wt(wt({},f),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=wt(wt({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return D.createElement("line",ls({},f,{className:Pe("recharts-cartesian-axis-line",Hr(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=Vx(wt(wt({},this.props),{},{ticks:n}),i,a),_=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Se(this.props,!1),w=Se(c,!1),v=wt(wt({},y),{},{fill:"none"},Se(l,!1)),x=p.map(function(O,T){var I=o.getTickLineCoord(O),E=I.line,S=I.tick,P=wt(wt(wt(wt({textAnchor:_,verticalAnchor:g},y),{},{stroke:"none",fill:u},w),S),{},{index:T,payload:O,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(ct,ls({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Ud(o.props,O,T)),l&&D.createElement("line",ls({},v,E,{className:Pe("recharts-cartesian-axis-tick-line",Hr(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(ge(f)?f(O.value,T):O.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=zy(f,dpe),_=d;return ge(l)&&(_=d&&d.length>0?l(this.props):l(p)),o<=0||s<=0||!_||!_.length?null:D.createElement(ct,{className:Pe("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Pe(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?o=D.cloneElement(n,wt(wt({},i),{},{className:s})):ge(n)?o=n(wt(wt({},i),{},{className:s})):o=D.createElement(tp,ls({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}($.Component);Fx(Rl,"displayName","CartesianAxis");Fx(Rl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xpe=["x1","y1","x2","y2","key"],Epe=["offset"];function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){Spe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Spe(t,e,r){return e=Tpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tpe(t){var e=Ape(t,"string");return bo(e)=="symbol"?e:e+""}function Ape(t,e){if(bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ya.apply(this,arguments)}function lO(t,e){if(t==null)return{};var r=Ppe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ppe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ipe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LM(t,e){var r;if(D.isValidElement(t))r=D.cloneElement(t,e);else if(ge(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=lO(e,xpe),u=Se(l,!1);u.offset;var c=lO(u,Epe);r=D.createElement("line",Ya({},c,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Ope(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=er(er({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return LM(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Cpe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=er(er({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return LM(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kpe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var _=!c[p+1],g=_?i+o-d:c[p+1]-d;if(g<=0)return null;var y=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:d,x:n,height:g,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Npe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var c=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,p){return d-p});a!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var _=!c[p+1],g=_?a+s-d:c[p+1]-d;if(g<=0)return null;var y=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:d,y:o,width:g,height:l,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Rpe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return GD(Vx(er(er(er({},Rl.defaultProps),n),{},{ticks:Yn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},jpe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return GD(Vx(er(er(er({},Rl.defaultProps),n),{},{ticks:Yn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Bo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function jp(t){var e,r,n,i,a,o,s=Dx(),l=Mx(),u=wde(),c=er(er({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bo.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Bo.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Bo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Bo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Bo.verticalFill,x:Z(t.x)?t.x:u.left,y:Z(t.y)?t.y:u.top,width:Z(t.width)?t.width:u.width,height:Z(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,_=c.height,g=c.syncWithTicks,y=c.horizontalValues,w=c.verticalValues,v=vde(),x=bde();if(!Z(p)||p<=0||!Z(_)||_<=0||!Z(f)||f!==+f||!Z(d)||d!==+d)return null;var O=c.verticalCoordinatesGenerator||Rpe,T=c.horizontalCoordinatesGenerator||jpe,I=c.horizontalPoints,E=c.verticalPoints;if((!I||!I.length)&&ge(T)){var S=y&&y.length,P=T({yAxis:x?er(er({},x),{},{ticks:S?y:x.ticks}):void 0,width:s,height:l,offset:u},S?!0:g);ti(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bo(P),"]")),Array.isArray(P)&&(I=P)}if((!E||!E.length)&&ge(O)){var k=w&&w.length,C=O({xAxis:v?er(er({},v),{},{ticks:k?w:v.ticks}):void 0,width:s,height:l,offset:u},k?!0:g);ti(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bo(C),"]")),Array.isArray(C)&&(E=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(Ipe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(Ope,Ya({},c,{offset:u,horizontalPoints:I,xAxis:v,yAxis:x})),D.createElement(Cpe,Ya({},c,{offset:u,verticalPoints:E,xAxis:v,yAxis:x})),D.createElement(kpe,Ya({},c,{horizontalPoints:I})),D.createElement(Npe,Ya({},c,{verticalPoints:E})))}jp.displayName="CartesianGrid";var Dpe=["type","layout","connectNulls","ref"],Mpe=["key"];function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function uO(t,e){if(t==null)return{};var r=$pe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $pe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function cO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(r),!0).forEach(function(n){on(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zo(t){return Upe(t)||Fpe(t)||Vpe(t)||Lpe()}function Lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vpe(t,e){if(t){if(typeof t=="string")return Nb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nb(t,e)}}function Fpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Upe(t){if(Array.isArray(t))return Nb(t)}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FM(n.key),n)}}function zpe(t,e,r){return e&&fO(t.prototype,e),r&&fO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wpe(t,e,r){return e=Dp(e),Hpe(t,VM()?Reflect.construct(e,r||[],Dp(t).constructor):e.apply(t,r))}function Hpe(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qpe(t)}function qpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VM=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(t)}function Gpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rb(t,e)}function Rb(t,e){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rb(t,e)}function on(t,e,r){return e=FM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FM(t){var e=Kpe(t,"string");return il(e)=="symbol"?e:e+""}function Kpe(t,e){if(il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Of=function(t){function e(){var r;Bpe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Wpe(this,e,[].concat(i)),on(r,"state",{isAnimationFinished:!0,totalLength:0}),on(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),on(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(w,v){return w+v});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,d=s-o,p=[],_=0,g=0;_<l.length;g+=l[_],++_)if(g+l[_]>f){p=[].concat(zo(l.slice(0,_)),[f-g]);break}var y=p.length%2===0?[0,d]:[d];return[].concat(zo(e.repeat(l,c)),zo(p),y).map(function(w){return"".concat(w,"px")}).join(", ")}),on(r,"id",xf("recharts-line-")),on(r,"pathRef",function(o){r.mainCurve=o}),on(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),on(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Gpe(e,t),zpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=qr(c,If);if(!f)return null;var d=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Or(g.payload,y)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return D.createElement(ct,p,f.map(function(_){return D.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Se(this.props,!1),d=Se(l,!0),p=u.map(function(g,y){var w=_r(_r(_r({key:"dot-".concat(y),r:3},f),d),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,w)}),_={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return D.createElement(ct,zu({className:"recharts-line-dots",key:"dots"},_),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=uO(s,Dpe),d=_r(_r(_r({},Se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:c});return D.createElement(cb,zu({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,d=o.animationEasing,p=o.animationId,_=o.animateNewValues,g=o.width,y=o.height,w=this.state,v=w.prevPoints,x=w.totalLength;return D.createElement(pi,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(v){var I=v.length/s.length,E=s.map(function(j,N){var F=Math.floor(N*I);if(v[F]){var U=v[F],H=ln(U.x,j.x),G=ln(U.y,j.y);return _r(_r({},j),{},{x:H(T),y:G(T)})}if(_){var L=ln(g*2,j.x),z=ln(y/2,j.y);return _r(_r({},j),{},{x:L(T),y:z(T)})}return _r(_r({},j),{},{x:j.x,y:j.y})});return a.renderCurveStatically(E,n,i)}var S=ln(0,x),P=S(T),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});k=a.getStrokeDasharray(P,x,C)}else k=a.generateSimpleStrokeDasharray(x,P);return a.renderCurveStatically(s,n,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!ng(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,_=i.height,g=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var w=this.state.isAnimationFinished,v=s.length===1,x=Pe("recharts-line",l),O=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,I=O||T,E=ve(y)?this.id:y,S=(n=Se(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=S.r,k=P===void 0?3:P,C=S.strokeWidth,j=C===void 0?2:C,N=lq(o)?o:{},F=N.clipDot,U=F===void 0?!0:F,H=k*2+j;return D.createElement(ct,{className:x},O||T?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:O?d:d-p/2,y:T?f:f-_/2,width:O?p:p*2,height:T?_:_*2})),!U&&D.createElement("clipPath",{id:"clipPath-dots-".concat(E)},D.createElement("rect",{x:d-H/2,y:f-H/2,width:p+H,height:_+H}))):null,!v&&this.renderCurve(I,E),this.renderErrorBar(I,E),(v||o)&&this.renderDots(I,U,E),(!g||w)&&oa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(zo(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(zo(o),zo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(D.isValidElement(n))a=D.cloneElement(n,i);else if(ge(n))a=n(i);else{var o=i.key,s=uO(i,Mpe),l=Pe("recharts-line-dot",typeof n!="boolean"?n.className:"");a=D.createElement(kx,zu({key:o},s,{className:l}))}return a}}])}($.PureComponent);on(Of,"displayName","Line");on(Of,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ol.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});on(Of,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var _=Or(d,o);return c==="horizontal"?{x:HP({axis:r,ticks:i,bandSize:s,entry:d,index:p}),y:ve(_)?null:n.scale(_),value:_,payload:d}:{x:ve(_)?null:r.scale(_),y:HP({axis:n,ticks:a,bandSize:s,entry:d,index:p}),value:_,payload:d}});return _r({points:f,layout:c},u)});function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ype(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zM(n.key),n)}}function Qpe(t,e,r){return e&&Ype(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jpe(t,e,r){return e=Mp(e),Zpe(t,UM()?Reflect.construct(e,r||[],Mp(t).constructor):e.apply(t,r))}function Zpe(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eme(t)}function eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UM=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(t)}function tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jb(t,e)}function BM(t,e,r){return e=zM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zM(t){var e=rme(t,"string");return al(e)=="symbol"?e:e+""}function rme(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Db.apply(this,arguments)}function nme(t){var e=t.xAxisId,r=Dx(),n=Mx(),i=PM(e);return i==null?null:$.createElement(Rl,Db({},i,{className:Pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Yn(o,!0)}}))}var _o=function(t){function e(){return Xpe(this,e),Jpe(this,e,arguments)}return tme(e,t),Qpe(e,[{key:"render",value:function(){return $.createElement(nme,this.props)}}])}($.Component);BM(_o,"displayName","XAxis");BM(_o,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ame(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qM(n.key),n)}}function ome(t,e,r){return e&&ame(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sme(t,e,r){return e=$p(e),lme(t,WM()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function lme(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ume(t)}function ume(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mb(t,e)}function Mb(t,e){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mb(t,e)}function HM(t,e,r){return e=qM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qM(t){var e=fme(t,"string");return ol(e)=="symbol"?e:e+""}function fme(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(this,arguments)}var hme=function(e){var r=e.yAxisId,n=Dx(),i=Mx(),a=IM(r);return a==null?null:$.createElement(Rl,$b({},a,{className:Pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Yn(s,!0)}}))},wo=function(t){function e(){return ime(this,e),sme(this,e,arguments)}return cme(e,t),ome(e,[{key:"render",value:function(){return $.createElement(hme,this.props)}}])}($.Component);HM(wo,"displayName","YAxis");HM(wo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hO(t){return gme(t)||mme(t)||pme(t)||dme()}function dme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){if(t){if(typeof t=="string")return Lb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lb(t,e)}}function mme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gme(t){if(Array.isArray(t))return Lb(t)}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Vb=function(e,r,n,i,a){var o=qr(e,Lx),s=qr(e,cg),l=[].concat(hO(o),hO(s)),u=qr(e,hg),c="".concat(i,"Id"),f=i[0],d=r;if(l.length&&(d=l.reduce(function(g,y){if(y.props[c]===n&&Mn(y.props,"extendDomain")&&Z(y.props[f])){var w=y.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},d)),u.length){var p="".concat(f,"1"),_="".concat(f,"2");d=u.reduce(function(g,y){if(y.props[c]===n&&Mn(y.props,"extendDomain")&&Z(y.props[p])&&Z(y.props[_])){var w=y.props[p],v=y.props[_];return[Math.min(g[0],w,v),Math.max(g[1],w,v)]}return g},d)}return a&&a.length&&(d=a.reduce(function(g,y){return Z(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},d)),d},GM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),_=r?r+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],p]:l._events[_].push(p):(l._events[_]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,_=new Array(p);d<p;d++)_[d]=f[d].fn;return _},s.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,_){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,x;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,d),!0;case 5:return y.fn.call(y.context,c,f,d,p),!0;case 6:return y.fn.call(y.context,c,f,d,p,_),!0}for(x=1,v=new Array(w-1);x<w;x++)v[x-1]=arguments[x];y.fn.apply(y.context,v)}else{var O=y.length,T;for(x=0;x<O;x++)switch(y[x].once&&this.removeListener(u,y[x].fn,void 0,!0),w){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,c);break;case 3:y[x].fn.call(y[x].context,c,f);break;case 4:y[x].fn.call(y[x].context,c,f,d);break;default:if(!v)for(T=1,v=new Array(w-1);T<w;T++)v[T-1]=arguments[T];y[x].fn.apply(y[x].context,v)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var _=this._events[p];if(_.fn)_.fn===c&&(!d||_.once)&&(!f||_.context===f)&&o(this,p);else{for(var g=0,y=[],w=_.length;g<w;g++)(_[g].fn!==c||d&&!_[g].once||f&&_[g].context!==f)&&y.push(_[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(GM);var yme=GM.exports;const vme=Me(yme);var Wy=new vme,Hy="recharts.syncMouseEvents";function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KM(n.key),n)}}function wme(t,e,r){return e&&_me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qy(t,e,r){return e=KM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KM(t){var e=xme(t,"string");return Jc(e)=="symbol"?e:e+""}function xme(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eme=function(){function t(){bme(this,t),qy(this,"activeIndex",0),qy(this,"coordinateList",[]),qy(this,"layout","horizontal")}return wme(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,c=r.offset,f=c===void 0?null:c,d=r.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,d=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function Sme(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Z(n)&&Z(i))return!0}return!1}function Tme(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function XM(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Ut(e,r,n,i),s=Ut(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Ame(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Ut(s,l,u,f),p=Ut(s,l,c,f);n=d.x,i=d.y,a=p.x,o=p.y}else return XM(e);return[{x:n,y:i},{x:a,y:o}]}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Th(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){Pme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pme(t,e,r){return e=Ime(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ime(t){var e=Ome(t,"string");return Zc(e)=="symbol"?e:e+""}function Ome(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cme(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var _,g=cb;if(d==="ScatterChart")_=o,g=Cce;else if(d==="BarChart")_=Tme(f,o,l,c),g=Cx;else if(f==="radial"){var y=XM(o),w=y.cx,v=y.cy,x=y.radius,O=y.startAngle,T=y.endAngle;_={cx:w,cy:v,startAngle:O,endAngle:T,innerRadius:x,outerRadius:x},g=JD}else _={points:Ame(f,o,l)},g=cb;var I=Th(Th(Th(Th({stroke:"#ccc",pointerEvents:"none"},l),_),Se(p,!1)),{},{payload:s,payloadIndex:u,className:Pe("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,I):$.createElement(g,I)}var kme=["item"],Nme=["children","className","width","height","style","compact","title","desc"];function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},us.apply(this,arguments)}function pO(t,e){return Dme(t)||jme(t,e)||QM(t,e)||Rme()}function Rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Dme(t){if(Array.isArray(t))return t}function mO(t,e){if(t==null)return{};var r=Mme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JM(n.key),n)}}function Vme(t,e,r){return e&&Lme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fme(t,e,r){return e=Lp(e),Ume(t,YM()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function Ume(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bme(t)}function Bme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YM=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fb(t,e)}function ll(t){return qme(t)||Hme(t)||QM(t)||Wme()}function Wme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(t,e){if(t){if(typeof t=="string")return Ub(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ub(t,e)}}function Hme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qme(t){if(Array.isArray(t))return Ub(t)}function Ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function le(t,e,r){return e=JM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JM(t){var e=Gme(t,"string");return sl(e)=="symbol"?e:e+""}function Gme(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kme={xAxis:["bottom","top"],yAxis:["left","right"]},Xme={width:"100%",height:"100%"},ZM={x:0,y:0};function Ah(t){return t}var Yme=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Qme=function(e,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return B(B(B({},i),Ut(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return B(B(B({},i),Ut(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return ZM},dg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(ll(s),ll(u)):s},[]);return o.length>0?o:e&&e.length&&Z(i)&&Z(a)?e.slice(i,a+1):[]};function e$(t){return t==="number"?[0,"auto"]:void 0}var Bb=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=dg(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;d=Vd(p,o.dataKey,i)}else d=f&&f[n]||s[n];return d?[].concat(ll(l),[XD(u,d)]):l},[])},yO=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=Yme(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=fse(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=Bb(e,r,c,f),p=Qme(n,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},Jme=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=qD(c,a);return n.reduce(function(_,g){var y,w=g.type.defaultProps!==void 0?B(B({},g.type.defaultProps),g.props):g.props,v=w.type,x=w.dataKey,O=w.allowDataOverflow,T=w.allowDuplicatedCategory,I=w.scale,E=w.ticks,S=w.includeHidden,P=w[o];if(_[P])return _;var k=dg(e.data,{graphicalItems:i.filter(function(Q){var oe,ye=o in Q.props?Q.props[o]:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe[o];return ye===P}),dataStartIndex:l,dataEndIndex:u}),C=k.length,j,N,F;Sme(w.domain,O,v)&&(j=ab(w.domain,null,O),p&&(v==="number"||I!=="auto")&&(F=Uu(k,x,"category")));var U=e$(v);if(!j||j.length===0){var H,G=(H=w.domain)!==null&&H!==void 0?H:U;if(x){if(j=Uu(k,x,v),v==="category"&&p){var L=JH(j);T&&L?(N=j,j=Sp(0,C)):T||(j=XP(G,j,g).reduce(function(Q,oe){return Q.indexOf(oe)>=0?Q:[].concat(ll(Q),[oe])},[]))}else if(v==="category")T?j=j.filter(function(Q){return Q!==""&&!ve(Q)}):j=XP(G,j,g).reduce(function(Q,oe){return Q.indexOf(oe)>=0||oe===""||ve(oe)?Q:[].concat(ll(Q),[oe])},[]);else if(v==="number"){var z=gse(k,i.filter(function(Q){var oe,ye,Re=o in Q.props?Q.props[o]:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe[o],ze="hide"in Q.props?Q.props.hide:(ye=Q.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Re===P&&(S||!ze)}),x,a,c);z&&(j=z)}p&&(v==="number"||I!=="auto")&&(F=Uu(k,x,"category"))}else p?j=Sp(0,C):s&&s[P]&&s[P].hasStack&&v==="number"?j=d==="expand"?[0,1]:KD(s[P].stackGroups,l,u):j=HD(k,i.filter(function(Q){var oe=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ye="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return oe===P&&(S||!ye)}),v,c,!0);if(v==="number")j=Vb(f,j,P,a,E),G&&(j=ab(G,j,O));else if(v==="category"&&G){var X=G,ee=j.every(function(Q){return X.indexOf(Q)>=0});ee&&(j=X)}}return B(B({},_),{},le({},P,B(B({},w),{},{axisType:a,domain:j,categoricalDomain:F,duplicateDomain:N,originalDomain:(y=w.domain)!==null&&y!==void 0?y:U,isCategorical:p,layout:c})))},{})},Zme=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,f=e.children,d=dg(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=d.length,_=qD(c,a),g=-1;return n.reduce(function(y,w){var v=w.type.defaultProps!==void 0?B(B({},w.type.defaultProps),w.props):w.props,x=v[o],O=e$("number");if(!y[x]){g++;var T;return _?T=Sp(0,p):s&&s[x]&&s[x].hasStack?(T=KD(s[x].stackGroups,l,u),T=Vb(f,T,x,a)):(T=ab(O,HD(d,n.filter(function(I){var E,S,P=o in I.props?I.props[o]:(E=I.type.defaultProps)===null||E===void 0?void 0:E[o],k="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===x&&!k}),"number",c),i.defaultProps.allowDataOverflow),T=Vb(f,T,x,a)),B(B({},y),{},le({},x,B(B({axisType:a},i.defaultProps),{},{hide:!0,orientation:Hr(Kme,"".concat(a,".").concat(g%2),null),domain:T,originalDomain:O,isCategorical:_,layout:c})))}return y},{})},ege=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=qr(c,a),p={};return d&&d.length?p=Jme(e,{axes:d,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=Zme(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},tge=function(e){var r=Vi(e),n=Yn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nx(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mp(r,n)}},vO=function(e){var r=e.children,n=e.defaultShowTooltip,i=Er(r,Js),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rge=function(e){return!e||!e.length?!1:e.some(function(r){var n=ei(r&&r.type);return n&&n.indexOf("Bar")>=0})},bO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nge=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,c=n.height,f=n.children,d=n.margin||{},p=Er(f,Js),_=Er(f,eo),g=Object.keys(l).reduce(function(T,I){var E=l[I],S=E.orientation;return!E.mirror&&!E.hide?B(B({},T),{},le({},S,T[S]+E.width)):T},{left:d.left||0,right:d.right||0}),y=Object.keys(o).reduce(function(T,I){var E=o[I],S=E.orientation;return!E.mirror&&!E.hide?B(B({},T),{},le({},S,Hr(T,"".concat(S))+E.height)):T},{top:d.top||0,bottom:d.bottom||0}),w=B(B({},y),g),v=w.bottom;p&&(w.bottom+=p.props.height||Js.defaultProps.height),_&&r&&(w=pse(w,i,n,r));var x=u-w.left-w.right,O=c-w.top-w.bottom;return B(B({brushBottom:v},w),{},{width:Math.max(x,0),height:Math.max(O,0)})},ige=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},t$=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(w,v){var x=v.graphicalItems,O=v.stackGroups,T=v.offset,I=v.updateId,E=v.dataStartIndex,S=v.dataEndIndex,P=w.barSize,k=w.layout,C=w.barGap,j=w.barCategoryGap,N=w.maxBarSize,F=bO(k),U=F.numericAxisName,H=F.cateAxisName,G=rge(x),L=[];return x.forEach(function(z,X){var ee=dg(w.data,{graphicalItems:[z],dataStartIndex:E,dataEndIndex:S}),Q=z.type.defaultProps!==void 0?B(B({},z.type.defaultProps),z.props):z.props,oe=Q.dataKey,ye=Q.maxBarSize,Re=Q["".concat(U,"Id")],ze=Q["".concat(H,"Id")],Ht={},Ot=l.reduce(function(Nr,Fn){var Do=v["".concat(Fn.axisType,"Map")],Cf=Q["".concat(Fn.axisType,"Id")];Do&&Do[Cf]||Fn.axisType==="zAxis"||vo();var wi=Do[Cf];return B(B({},Nr),{},le(le({},Fn.axisType,wi),"".concat(Fn.axisType,"Ticks"),Yn(wi)))},Ht),te=Ot[H],de=Ot["".concat(H,"Ticks")],pe=O&&O[Re]&&O[Re].hasStack&&Ise(z,O[Re].stackGroups),K=ei(z.type).indexOf("Bar")>=0,Ve=mp(te,de),_e=[],st=G&&hse({barSize:P,stackGroups:O,totalSize:ige(Ot,H)});if(K){var Je,Ct,Jr=ve(ye)?N:ye,Ze=(Je=(Ct=mp(te,de,!0))!==null&&Ct!==void 0?Ct:Jr)!==null&&Je!==void 0?Je:0;_e=dse({barGap:C,barCategoryGap:j,bandSize:Ze!==Ve?Ze:Ve,sizeList:st[ze],maxBarSize:Jr}),Ze!==Ve&&(_e=_e.map(function(Nr){return B(B({},Nr),{},{position:B(B({},Nr.position),{},{offset:Nr.position.offset-Ze/2})})}))}var dt=z&&z.type&&z.type.getComposedData;dt&&L.push({props:B(B({},dt(B(B({},Ot),{},{displayedData:ee,props:w,dataKey:oe,item:z,bandSize:Ve,barPosition:_e,offset:T,stackedData:pe,layout:k,dataStartIndex:E,dataEndIndex:S}))),{},le(le(le({key:z.key||"item-".concat(X)},U,Ot[U]),H,Ot[H]),"animationId",I)),childIndex:fq(z,w.children),item:z})}),L},p=function(w,v){var x=w.props,O=w.dataStartIndex,T=w.dataEndIndex,I=w.updateId;if(!BT({props:x}))return null;var E=x.children,S=x.layout,P=x.stackOffset,k=x.data,C=x.reverseStackOrder,j=bO(S),N=j.numericAxisName,F=j.cateAxisName,U=qr(E,n),H=Tse(k,U,"".concat(N,"Id"),"".concat(F,"Id"),P,C),G=l.reduce(function(Q,oe){var ye="".concat(oe.axisType,"Map");return B(B({},Q),{},le({},ye,ege(x,B(B({},oe),{},{graphicalItems:U,stackGroups:oe.axisType===N&&H,dataStartIndex:O,dataEndIndex:T}))))},{}),L=nge(B(B({},G),{},{props:x,graphicalItems:U}),v==null?void 0:v.legendBBox);Object.keys(G).forEach(function(Q){G[Q]=c(x,G[Q],L,Q.replace("Map",""),r)});var z=G["".concat(F,"Map")],X=tge(z),ee=d(x,B(B({},G),{},{dataStartIndex:O,dataEndIndex:T,updateId:I,graphicalItems:U,stackGroups:H,offset:L}));return B(B({formattedGraphicalItems:ee,graphicalItems:U,offset:L,stackGroups:H},X),G)},_=function(y){function w(v){var x,O,T;return $me(this,w),T=Fme(this,w,[v]),le(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(T,"accessibilityManager",new Eme),le(T,"handleLegendBBoxUpdate",function(I){if(I){var E=T.state,S=E.dataStartIndex,P=E.dataEndIndex,k=E.updateId;T.setState(B({legendBBox:I},p({props:T.props,dataStartIndex:S,dataEndIndex:P,updateId:k},B(B({},T.state),{},{legendBBox:I}))))}}),le(T,"handleReceiveSyncEvent",function(I,E,S){if(T.props.syncId===I){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),le(T,"handleBrushChange",function(I){var E=I.startIndex,S=I.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var P=T.state.updateId;T.setState(function(){return B({dataStartIndex:E,dataEndIndex:S},p({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:P},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),le(T,"handleMouseEnter",function(I){var E=T.getMouseInfo(I);if(E){var S=B(B({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var P=T.props.onMouseEnter;ge(P)&&P(S,I)}}),le(T,"triggeredAfterMouseMove",function(I){var E=T.getMouseInfo(I),S=E?B(B({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var P=T.props.onMouseMove;ge(P)&&P(S,I)}),le(T,"handleItemMouseEnter",function(I){T.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),le(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),le(T,"handleMouseMove",function(I){I.persist(),T.throttleTriggeredAfterMouseMove(I)}),le(T,"handleMouseLeave",function(I){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;ge(S)&&S(E,I)}),le(T,"handleOuterEvent",function(I){var E=cq(I),S=Hr(T.props,"".concat(E));if(E&&ge(S)){var P,k;/.*touch.*/i.test(E)?k=T.getMouseInfo(I.changedTouches[0]):k=T.getMouseInfo(I),S((P=k)!==null&&P!==void 0?P:{},I)}}),le(T,"handleClick",function(I){var E=T.getMouseInfo(I);if(E){var S=B(B({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var P=T.props.onClick;ge(P)&&P(S,I)}}),le(T,"handleMouseDown",function(I){var E=T.props.onMouseDown;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleMouseUp",function(I){var E=T.props.onMouseUp;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),le(T,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseDown(I.changedTouches[0])}),le(T,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseUp(I.changedTouches[0])}),le(T,"handleDoubleClick",function(I){var E=T.props.onDoubleClick;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleContextMenu",function(I){var E=T.props.onContextMenu;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"triggerSyncEvent",function(I){T.props.syncId!==void 0&&Wy.emit(Hy,T.props.syncId,I,T.eventEmitterSymbol)}),le(T,"applySyncEvent",function(I){var E=T.props,S=E.layout,P=E.syncMethod,k=T.state.updateId,C=I.dataStartIndex,j=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)T.setState(B({dataStartIndex:C,dataEndIndex:j},p({props:T.props,dataStartIndex:C,dataEndIndex:j,updateId:k},T.state)));else if(I.activeTooltipIndex!==void 0){var N=I.chartX,F=I.chartY,U=I.activeTooltipIndex,H=T.state,G=H.offset,L=H.tooltipTicks;if(!G)return;if(typeof P=="function")U=P(L,I);else if(P==="value"){U=-1;for(var z=0;z<L.length;z++)if(L[z].value===I.activeLabel){U=z;break}}var X=B(B({},G),{},{x:G.left,y:G.top}),ee=Math.min(N,X.x+X.width),Q=Math.min(F,X.y+X.height),oe=L[U]&&L[U].value,ye=Bb(T.state,T.props.data,U),Re=L[U]?{x:S==="horizontal"?L[U].coordinate:ee,y:S==="horizontal"?Q:L[U].coordinate}:ZM;T.setState(B(B({},I),{},{activeLabel:oe,activeCoordinate:Re,activePayload:ye,activeTooltipIndex:U}))}else T.setState(I)}),le(T,"renderCursor",function(I){var E,S=T.state,P=S.isTooltipActive,k=S.activeCoordinate,C=S.activePayload,j=S.offset,N=S.activeTooltipIndex,F=S.tooltipAxisBandSize,U=T.getTooltipEventType(),H=(E=I.props.active)!==null&&E!==void 0?E:P,G=T.props.layout,L=I.key||"_recharts-cursor";return D.createElement(Cme,{key:L,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:r,element:I,isActive:H,layout:G,offset:j,tooltipAxisBandSize:F,tooltipEventType:U})}),le(T,"renderPolarAxis",function(I,E,S){var P=Hr(I,"type.axisType"),k=Hr(T.state,"".concat(P,"Map")),C=I.type.defaultProps,j=C!==void 0?B(B({},C),I.props):I.props,N=k&&k[j["".concat(P,"Id")]];return $.cloneElement(I,B(B({},N),{},{className:Pe(P,N.className),key:I.key||"".concat(E,"-").concat(S),ticks:Yn(N,!0)}))}),le(T,"renderPolarGrid",function(I){var E=I.props,S=E.radialLines,P=E.polarAngles,k=E.polarRadius,C=T.state,j=C.radiusAxisMap,N=C.angleAxisMap,F=Vi(j),U=Vi(N),H=U.cx,G=U.cy,L=U.innerRadius,z=U.outerRadius;return $.cloneElement(I,{polarAngles:Array.isArray(P)?P:Yn(U,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:Yn(F,!0).map(function(X){return X.coordinate}),cx:H,cy:G,innerRadius:L,outerRadius:z,key:I.key||"polar-grid",radialLines:S})}),le(T,"renderLegend",function(){var I=T.state.formattedGraphicalItems,E=T.props,S=E.children,P=E.width,k=E.height,C=T.props.margin||{},j=P-(C.left||0)-(C.right||0),N=zD({children:S,formattedGraphicalItems:I,legendWidth:j,legendContent:u});if(!N)return null;var F=N.item,U=mO(N,kme);return $.cloneElement(F,B(B({},U),{},{chartWidth:P,chartHeight:k,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),le(T,"renderTooltip",function(){var I,E=T.props,S=E.children,P=E.accessibilityLayer,k=Er(S,Mr);if(!k)return null;var C=T.state,j=C.isTooltipActive,N=C.activeCoordinate,F=C.activePayload,U=C.activeLabel,H=C.offset,G=(I=k.props.active)!==null&&I!==void 0?I:j;return $.cloneElement(k,{viewBox:B(B({},H),{},{x:H.left,y:H.top}),active:G,label:U,payload:G?F:[],coordinate:N,accessibilityLayer:P})}),le(T,"renderBrush",function(I){var E=T.props,S=E.margin,P=E.data,k=T.state,C=k.offset,j=k.dataStartIndex,N=k.dataEndIndex,F=k.updateId;return $.cloneElement(I,{key:I.key||"_recharts-brush",onChange:wh(T.handleBrushChange,I.props.onChange),data:P,x:Z(I.props.x)?I.props.x:C.left,y:Z(I.props.y)?I.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:Z(I.props.width)?I.props.width:C.width,startIndex:j,endIndex:N,updateId:"brush-".concat(F)})}),le(T,"renderReferenceElement",function(I,E,S){if(!I)return null;var P=T,k=P.clipPathId,C=T.state,j=C.xAxisMap,N=C.yAxisMap,F=C.offset,U=I.type.defaultProps||{},H=I.props,G=H.xAxisId,L=G===void 0?U.xAxisId:G,z=H.yAxisId,X=z===void 0?U.yAxisId:z;return $.cloneElement(I,{key:I.key||"".concat(E,"-").concat(S),xAxis:j[L],yAxis:N[X],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:k})}),le(T,"renderActivePoints",function(I){var E=I.item,S=I.activePoint,P=I.basePoint,k=I.childIndex,C=I.isRange,j=[],N=E.props.key,F=E.item.type.defaultProps!==void 0?B(B({},E.item.type.defaultProps),E.item.props):E.item.props,U=F.activeDot,H=F.dataKey,G=B(B({index:k,dataKey:H,cx:S.x,cy:S.y,r:4,fill:Ox(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Se(U,!1)),Fd(U));return j.push(w.renderActiveDot(U,G,"".concat(N,"-activePoint-").concat(k))),P?j.push(w.renderActiveDot(U,B(B({},G),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(k))):C&&j.push(null),j}),le(T,"renderGraphicChild",function(I,E,S){var P=T.filterFormatItem(I,E,S);if(!P)return null;var k=T.getTooltipEventType(),C=T.state,j=C.isTooltipActive,N=C.tooltipAxis,F=C.activeTooltipIndex,U=C.activeLabel,H=T.props.children,G=Er(H,Mr),L=P.props,z=L.points,X=L.isRange,ee=L.baseLine,Q=P.item.type.defaultProps!==void 0?B(B({},P.item.type.defaultProps),P.item.props):P.item.props,oe=Q.activeDot,ye=Q.hide,Re=Q.activeBar,ze=Q.activeShape,Ht=!!(!ye&&j&&G&&(oe||Re||ze)),Ot={};k!=="axis"&&G&&G.props.trigger==="click"?Ot={onClick:wh(T.handleItemMouseEnter,I.props.onClick)}:k!=="axis"&&(Ot={onMouseLeave:wh(T.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:wh(T.handleItemMouseEnter,I.props.onMouseEnter)});var te=$.cloneElement(I,B(B({},P.props),Ot));function de(Fn){return typeof N.dataKey=="function"?N.dataKey(Fn.payload):null}if(Ht)if(F>=0){var pe,K;if(N.dataKey&&!N.allowDuplicatedCategory){var Ve=typeof N.dataKey=="function"?de:"payload.".concat(N.dataKey.toString());pe=Vd(z,Ve,U),K=X&&ee&&Vd(ee,Ve,U)}else pe=z==null?void 0:z[F],K=X&&ee&&ee[F];if(ze||Re){var _e=I.props.activeIndex!==void 0?I.props.activeIndex:F;return[$.cloneElement(I,B(B(B({},P.props),Ot),{},{activeIndex:_e})),null,null]}if(!ve(pe))return[te].concat(ll(T.renderActivePoints({item:P,activePoint:pe,basePoint:K,childIndex:F,isRange:X})))}else{var st,Je=(st=T.getItemByXY(T.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:te},Ct=Je.graphicalItem,Jr=Ct.item,Ze=Jr===void 0?I:Jr,dt=Ct.childIndex,Nr=B(B(B({},P.props),Ot),{},{activeIndex:dt});return[$.cloneElement(Ze,Nr),null,null]}return X?[te,null,null]:[te,null]}),le(T,"renderCustomized",function(I,E,S){return $.cloneElement(I,B(B({key:"recharts-customized-".concat(S)},T.props),T.state))}),le(T,"renderMap",{CartesianGrid:{handler:Ah,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Ah},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Ah},YAxis:{handler:Ah},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:xf("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=Bj(T.triggeredAfterMouseMove,(O=v.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return zme(w,y),Vme(w,[{key:"componentDidMount",value:function(){var x,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,O=x.children,T=x.data,I=x.height,E=x.layout,S=Er(O,Mr);if(S){var P=S.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=Bb(this.state,T,P,k),j=this.state.tooltipTicks[P].coordinate,N=(this.state.offset.top+I)/2,F=E==="horizontal",U=F?{x:j,y:N}:{y:j,x:N},H=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});H&&(U=B(B({},U),H.props.points[P].tooltipPosition),C=H.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:U};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,I;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(x){b0([Er(x.children,Mr)],[Er(this.props.children,Mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Er(this.props.children,Mr);if(x&&typeof x.props.shared=="boolean"){var O=x.props.shared?"axis":"item";return s.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),I=$re(T),E={chartX:Math.round(x.pageX-I.left),chartY:Math.round(x.pageY-I.top)},S=T.width/O.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,S);if(!P)return null;var k=this.state,C=k.xAxisMap,j=k.yAxisMap,N=this.getTooltipEventType(),F=yO(this.state,this.props.data,this.props.layout,P);if(N!=="axis"&&C&&j){var U=Vi(C).scale,H=Vi(j).scale,G=U&&U.invert?U.invert(E.chartX):null,L=H&&H.invert?H.invert(E.chartY):null;return B(B({},E),{},{xValue:G,yValue:L},F)}return F?B(B({},E),F):null}},{key:"inRange",value:function(x,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,E=x/T,S=O/T;if(I==="horizontal"||I==="vertical"){var P=this.state.offset,k=E>=P.left&&E<=P.left+P.width&&S>=P.top&&S<=P.top+P.height;return k?{x:E,y:S}:null}var C=this.state,j=C.angleAxisMap,N=C.radiusAxisMap;if(j&&N){var F=Vi(j);return JP({x:E,y:S},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,O=this.getTooltipEventType(),T=Er(x,Mr),I={};T&&O==="axis"&&(T.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Fd(this.props,this.handleOuterEvent);return B(B({},E),I)}},{key:"addListener",value:function(){Wy.on(Hy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wy.removeListener(Hy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,O,T){for(var I=this.state.formattedGraphicalItems,E=0,S=I.length;E<S;E++){var P=I[E];if(P.item===x||P.props.key===x.key||O===ei(P.item.type)&&T===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,O=this.state.offset,T=O.left,I=O.top,E=O.height,S=O.width;return D.createElement("defs",null,D.createElement("clipPath",{id:x},D.createElement("rect",{x:T,y:I,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(O,T){var I=pO(T,2),E=I[0],S=I[1];return B(B({},O),{},le({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(O,T){var I=pO(T,2),E=I[0],S=I[1];return B(B({},O),{},le({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(x){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(x){var O=this.state,T=O.formattedGraphicalItems,I=O.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var P=T[E],k=P.props,C=P.item,j=C.type.defaultProps!==void 0?B(B({},C.type.defaultProps),C.props):C.props,N=ei(C.type);if(N==="Bar"){var F=(k.data||[]).find(function(L){return _ce(x,L)});if(F)return{graphicalItem:P,payload:F}}else if(N==="RadialBar"){var U=(k.data||[]).find(function(L){return JP(x,L)});if(U)return{graphicalItem:P,payload:U}}else if(og(P,I)||sg(P,I)||Gc(P,I)){var H=Efe({graphicalItem:P,activeTooltipItem:I,itemData:j.data}),G=j.activeIndex===void 0?H:j.activeIndex;return{graphicalItem:B(B({},P),{},{childIndex:G}),payload:Gc(P,I)?j.data[H]:P.props.data[H]}}}return null}},{key:"render",value:function(){var x=this;if(!BT(this))return null;var O=this.props,T=O.children,I=O.className,E=O.width,S=O.height,P=O.style,k=O.compact,C=O.title,j=O.desc,N=mO(O,Nme),F=Se(N,!1);if(k)return D.createElement(YI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(w0,us({},F,{width:E,height:S,title:C,desc:j}),this.renderClipPath(),WT(T,this.renderMap)));if(this.props.accessibilityLayer){var U,H;F.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,F.role=(H=this.props.role)!==null&&H!==void 0?H:"application",F.onKeyDown=function(L){x.accessibilityManager.keyboardEvent(L)},F.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return D.createElement(YI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",us({className:Pe("recharts-wrapper",I),style:B({position:"relative",cursor:"default",width:E,height:S},P)},G,{ref:function(z){x.container=z}}),D.createElement(w0,us({},F,{width:E,height:S,title:C,desc:j,style:Xme}),this.renderClipPath(),WT(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);le(_,"displayName",r),le(_,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),le(_,"getDerivedStateFromProps",function(y,w){var v=y.dataKey,x=y.data,O=y.children,T=y.width,I=y.height,E=y.layout,S=y.stackOffset,P=y.margin,k=w.dataStartIndex,C=w.dataEndIndex;if(w.updateId===void 0){var j=vO(y);return B(B(B({},j),{},{updateId:0},p(B(B({props:y},j),{},{updateId:0}),w)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:P,prevChildren:O})}if(v!==w.prevDataKey||x!==w.prevData||T!==w.prevWidth||I!==w.prevHeight||E!==w.prevLayout||S!==w.prevStackOffset||!ws(P,w.prevMargin)){var N=vO(y),F={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},U=B(B({},yO(w,x,E)),{},{updateId:w.updateId+1}),H=B(B(B({},N),F),U);return B(B(B({},H),p(B({props:y},H),w)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:P,prevChildren:O})}if(!b0(O,w.prevChildren)){var G,L,z,X,ee=Er(O,Js),Q=ee&&(G=(L=ee.props)===null||L===void 0?void 0:L.startIndex)!==null&&G!==void 0?G:k,oe=ee&&(z=(X=ee.props)===null||X===void 0?void 0:X.endIndex)!==null&&z!==void 0?z:C,ye=Q!==k||oe!==C,Re=!ve(x),ze=Re&&!ye?w.updateId:w.updateId+1;return B(B({updateId:ze},p(B(B({props:y},w),{},{updateId:ze,dataStartIndex:Q,dataEndIndex:oe}),w)),{},{prevChildren:O,dataStartIndex:Q,dataEndIndex:oe})}return null}),le(_,"renderActiveDot",function(y,w,v){var x;return $.isValidElement(y)?x=$.cloneElement(y,w):ge(y)?x=y(w):x=D.createElement(kx,w),D.createElement(ct,{className:"recharts-active-dot",key:v},x)});var g=$.forwardRef(function(w,v){return D.createElement(_,us({},w,{ref:v}))});return g.displayName=_.displayName,g},age=t$({chartName:"LineChart",GraphicalChild:Of,axisComponents:[{axisType:"xAxis",AxisComp:_o},{axisType:"yAxis",AxisComp:wo}],formatAxisMap:bM}),r$=t$({chartName:"BarChart",GraphicalChild:Oa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_o},{axisType:"yAxis",AxisComp:wo}],formatAxisMap:bM});const oge=()=>{const{records:t}=Ea(),[e,r]=D.useState(new Date().getMonth()+1),[n,i]=D.useState(new Date().getFullYear()),a=document.documentElement.classList.contains("dark"),o=a?"#9ca3af":"rgba(0,0,0,0.5)",s=a?"#e5e7eb":"#374151",l=a?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",u=a?"#1f2937":"#fff",c=a?"#374151":"#e5e7eb",f=a?"#e5e7eb":"#111827",d=t.filter(x=>parseInt(x.month)===e&&x.year===n),p=SR(d),_=TR(d),g=vz(d),y=AR(t),w=bz(d),v=Object.entries(g).map(([x,O])=>({name:x.charAt(0).toUpperCase()+x.slice(1),value:parseFloat(O.toFixed(2))}));return m.jsxs("div",{className:"space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Dashboard"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Monitor your organization's carbon emissions"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("select",{value:e,onChange:x=>r(Number(x.target.value)),className:"input-base px-6 py-3 text-lg rounded-xl border-2 border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-200 bg-white w-40 text-left truncate",children:Array.from({length:12},(x,O)=>O+1).map(x=>m.jsx("option",{value:x,children:new Date(2024,x-1).toLocaleString("en-US",{month:"long"})},x))}),m.jsx("select",{value:n,onChange:x=>i(Number(x.target.value)),className:"input-base py-2",children:[2023,2024,2025].map(x=>m.jsx("option",{value:x,children:x},x))})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(hh,{title:"Total Emissions",value:p,unit:"kg COe",icon:"",trend:w.trend,trendDirection:w.trend>0?"up":"down"}),m.jsx(hh,{title:"Scope 1",value:_.scope1,unit:"kg COe",icon:"",trend:5.2,trendDirection:"up"}),m.jsx(hh,{title:"Scope 2",value:_.scope2,unit:"kg COe",icon:"",trend:3.1,trendDirection:"down"}),m.jsx(hh,{title:"Scope 3",value:_.scope3,unit:"kg COe",icon:"",trend:2.8,trendDirection:"down"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold text-neutral-900 dark:text-white mb-4",children:"Emissions Trend (Last 12 Months)"}),y.length>0?m.jsx(B0,{width:"100%",height:300,children:m.jsxs(age,{data:y,children:[m.jsx(jp,{strokeDasharray:"3 3",stroke:l}),m.jsx(_o,{dataKey:"month",stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(wo,{stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(Mr,{contentStyle:{backgroundColor:u,border:`1px solid ${c}`,borderRadius:"8px",color:f},labelStyle:{color:f},itemStyle:{color:f}}),m.jsx(eo,{wrapperStyle:{color:s}}),m.jsx(Of,{type:"monotone",dataKey:"total",stroke:"#00a86b",strokeWidth:2,dot:{fill:"#00a86b",r:4},activeDot:{r:6}})]})}):m.jsx("div",{className:"h-80 flex items-center justify-center text-neutral-500",children:"No data available"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold text-neutral-900 dark:text-white mb-4",children:"Emissions by Category"}),v.length>0?m.jsx(B0,{width:"100%",height:300,children:m.jsxs(r$,{data:v,children:[m.jsx(jp,{strokeDasharray:"3 3",stroke:l}),m.jsx(_o,{dataKey:"name",stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(wo,{stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(Mr,{contentStyle:{backgroundColor:u,border:`1px solid ${c}`,borderRadius:"8px",color:f},labelStyle:{color:f},itemStyle:{color:f}}),m.jsx(Oa,{dataKey:"value",fill:"#00a86b",radius:[8,8,0,0]})]})}):m.jsx("div",{className:"h-80 flex items-center justify-center text-neutral-500",children:"No data available"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"Statistics"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Average"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:w.average.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Minimum"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:w.minimum.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Maximum"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:w.maximum.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Total Records"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:t.length}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"entries"})]})]})]})]})},Ss=t=>{const{label:e,type:r="text",value:n,onChange:i,placeholder:a,required:o=!1,error:s,disabled:l=!1,min:u,max:c,step:f,className:d=""}=t;return m.jsxs("div",{className:`w-full ${d}`,children:[e&&m.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:[e,o&&m.jsx("span",{className:"text-error ml-1",children:"*"})]}),m.jsx("input",{type:r,value:n,onChange:i,placeholder:a,required:o,disabled:l,min:u,max:c,step:f,className:`
          w-full px-4 py-2.5 rounded-lg border-2
          bg-white dark:bg-neutral-700
          text-neutral-900 dark:text-white
          placeholder:text-neutral-500 dark:placeholder:text-neutral-400
          border-neutral-200 dark:border-neutral-600
          focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-900
          focus:outline-none transition-all duration-200
          disabled:bg-neutral-100 dark:disabled:bg-neutral-800
          disabled:text-neutral-500 dark:disabled:text-neutral-400
          disabled:cursor-not-allowed
          ${s?"border-error focus:border-error focus:ring-error focus:ring-opacity-20":""}
        `}),s&&m.jsx("p",{className:"mt-1 text-sm text-error",children:s})]})},He={electricity:{grid:{IN:{value:.708,unit:"kg COe/kWh",source:"CEA India 2024",region:"India"},CN:{value:.555,unit:"kg COe/kWh",source:"IEA 2024",region:"China"},JP:{value:.463,unit:"kg COe/kWh",source:"IEA 2024",region:"Japan"},US:{value:.386,unit:"kg COe/kWh",source:"EPA eGRID 2024",region:"USA"},CA:{value:.12,unit:"kg COe/kWh",source:"Environment Canada 2024",region:"Canada"},GB:{value:.233,unit:"kg COe/kWh",source:"DEFRA 2024",region:"UK"},DE:{value:.42,unit:"kg COe/kWh",source:"UBA Germany 2024",region:"Germany"},FR:{value:.056,unit:"kg COe/kWh",source:"ADEME 2024",region:"France"},NO:{value:.018,unit:"kg COe/kWh",source:"NVE 2024",region:"Norway"},SE:{value:.013,unit:"kg COe/kWh",source:"IEA 2024",region:"Sweden"},AU:{value:.69,unit:"kg COe/kWh",source:"DISER Australia 2024",region:"Australia"},BR:{value:.092,unit:"kg COe/kWh",source:"IEA 2024",region:"Brazil"},WORLD:{value:.475,unit:"kg COe/kWh",source:"IEA 2024",region:"World Average"}},renewable:{solar:{value:.045,unit:"kg COe/kWh",source:"IPCC 2024",notes:"Lifecycle emissions"},wind:{value:.011,unit:"kg COe/kWh",source:"IPCC 2024",notes:"Lifecycle emissions"},hydro:{value:.024,unit:"kg COe/kWh",source:"IPCC 2024",notes:"Lifecycle emissions"},nuclear:{value:.012,unit:"kg COe/kWh",source:"IPCC 2024",notes:"Lifecycle emissions"}}},fuels:{liquid:{petrol:{value:2.31,unit:"kg COe/liter",source:"DEFRA 2024",notes:"Gasoline"},diesel:{value:2.68,unit:"kg COe/liter",source:"DEFRA 2024"},biodiesel:{value:1.35,unit:"kg COe/liter",source:"EPA 2024",notes:"B100"},ethanol:{value:1.52,unit:"kg COe/liter",source:"EPA 2024",notes:"E100"},kerosene:{value:2.52,unit:"kg COe/liter",source:"DEFRA 2024",notes:"Jet fuel"}},gas:{naturalGas:{value:2.02,unit:"kg COe/m",source:"EPA 2024"},lpg:{value:1.51,unit:"kg COe/liter",source:"DEFRA 2024",notes:"Liquefied Petroleum Gas"},cng:{value:2.75,unit:"kg COe/kg",source:"EPA 2024",notes:"Compressed Natural Gas"},propane:{value:2.98,unit:"kg COe/kg",source:"EPA 2024"}},solid:{coal:{value:2.42,unit:"kg COe/kg",source:"IPCC 2024",notes:"Bituminous coal"},lignite:{value:1.05,unit:"kg COe/kg",source:"IPCC 2024",notes:"Brown coal"},wood:{value:.39,unit:"kg COe/kg",source:"DEFRA 2024",notes:"Sustainable forestry"},peat:{value:.95,unit:"kg COe/kg",source:"IPCC 2024"}}},transport:{aviation:{domestic:{value:.255,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Domestic flight"},shortHaul:{value:.156,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Under 3,700 km"},longHaul:{value:.15,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Over 3,700 km"},international:{value:.195,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Average international"}},road:{petrolCar:{value:.17,unit:"kg COe/km",source:"DEFRA 2024",notes:"Average petrol car"},dieselCar:{value:.164,unit:"kg COe/km",source:"DEFRA 2024",notes:"Average diesel car"},hybridCar:{value:.11,unit:"kg COe/km",source:"DEFRA 2024",notes:"Hybrid vehicle"},electricCar:{value:.053,unit:"kg COe/km",source:"DEFRA 2024",notes:"EV with UK grid"},motorcycle:{value:.113,unit:"kg COe/km",source:"DEFRA 2024",notes:"Average motorcycle"},bus:{value:.089,unit:"kg COe/pkm",source:"EPA 2024",notes:"City bus"},coach:{value:.028,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Long-distance coach"},lightTruck:{value:.214,unit:"kg COe/tkm",source:"EPA 2024",notes:"Light goods vehicle"},heavyTruck:{value:.083,unit:"kg COe/tkm",source:"EPA 2024",notes:"Heavy goods vehicle"}},rail:{passenger:{value:.035,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"National rail"},metro:{value:.029,unit:"kg COe/pkm",source:"EPA 2024",notes:"Urban metro"},tram:{value:.028,unit:"kg COe/pkm",source:"EPA 2024"},freight:{value:.022,unit:"kg COe/tkm",source:"DEFRA 2024",notes:"Rail freight"}},sea:{ferry:{value:.113,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Passenger ferry"},cargo:{value:.016,unit:"kg COe/tkm",source:"IMO 2024",notes:"Container ship"},cruise:{value:.247,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Cruise ship"}}},waste:{disposal:{landfill:{value:.466,unit:"kg COe/kg",source:"EPA 2024",notes:"Municipal solid waste"},incineration:{value:.021,unit:"kg COe/kg",source:"DEFRA 2024",notes:"Energy recovery"},composting:{value:.021,unit:"kg COe/kg",source:"EPA 2024",notes:"Organic waste"},recycling:{value:-.156,unit:"kg COe/kg",source:"EPA 2024",notes:"Avoided emissions"}},materialSpecific:{paper:{value:.013,unit:"kg COe/kg",source:"EPA 2024",notes:"Recycled paper"},plastic:{value:.045,unit:"kg COe/kg",source:"EPA 2024",notes:"Recycled plastic"},glass:{value:.012,unit:"kg COe/kg",source:"EPA 2024",notes:"Recycled glass"},metal:{value:.019,unit:"kg COe/kg",source:"EPA 2024",notes:"Recycled metal"},organic:{value:.021,unit:"kg COe/kg",source:"EPA 2024",notes:"Composted organic"}}},water:{supply:{treated:{value:.344,unit:"kg COe/m",source:"EPA 2024",notes:"Water treatment & supply"},untreated:{value:.15,unit:"kg COe/m",source:"DEFRA 2024",notes:"Untreated water supply"}},wastewater:{treatment:{value:.708,unit:"kg COe/m",source:"EPA 2024",notes:"Wastewater treatment"}}},materials:{construction:{cement:{value:.93,unit:"kg COe/kg",source:"IPCC 2024"},concrete:{value:.159,unit:"kg COe/kg",source:"IPCC 2024"},steel:{value:1.85,unit:"kg COe/kg",source:"World Steel 2024"},aluminum:{value:8.2,unit:"kg COe/kg",source:"IAI 2024",notes:"Primary aluminum"},brick:{value:.23,unit:"kg COe/kg",source:"ICE Database 2024"},timber:{value:-.9,unit:"kg COe/kg",source:"IPCC 2024",notes:"Carbon sequestration"}},packaging:{paper:{value:.917,unit:"kg COe/kg",source:"DEFRA 2024"},cardboard:{value:1.05,unit:"kg COe/kg",source:"DEFRA 2024"},plasticPET:{value:2.53,unit:"kg COe/kg",source:"DEFRA 2024",notes:"PET plastic"},plasticHDPE:{value:1.95,unit:"kg COe/kg",source:"DEFRA 2024",notes:"HDPE plastic"},glass:{value:.81,unit:"kg COe/kg",source:"DEFRA 2024"},aluminum:{value:8.2,unit:"kg COe/kg",source:"DEFRA 2024",notes:"Aluminum can"}}},refrigerants:{r134a:{value:1430,unit:"kg COe/kg",source:"IPCC AR6",notes:"HFC-134a, 100-year GWP"},r410a:{value:2088,unit:"kg COe/kg",source:"IPCC AR6",notes:"R-410A refrigerant"},r32:{value:675,unit:"kg COe/kg",source:"IPCC AR6",notes:"HFC-32"},r404a:{value:3922,unit:"kg COe/kg",source:"IPCC AR6",notes:"R-404A"}},agriculture:{livestock:{beef:{value:27,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Beef production"},lamb:{value:24.5,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Lamb production"},pork:{value:7.2,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Pork production"},chicken:{value:6.1,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Chicken production"},fish:{value:5.1,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Farmed fish"},eggs:{value:4.5,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Egg production"},milk:{value:1.9,unit:"kg COe/liter",source:"Poore & Nemecek 2018",notes:"Dairy milk"}},crops:{rice:{value:2.7,unit:"kg COe/kg",source:"Poore & Nemecek 2018"},wheat:{value:.6,unit:"kg COe/kg",source:"Poore & Nemecek 2018"},vegetables:{value:.5,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Average vegetables"},fruits:{value:.4,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Average fruits"}}}};class sge{async calculateElectricity(e,r="WORLD"){try{const n=r.toUpperCase(),i=He.electricity.grid[n]||He.electricity.grid.WORLD,a=e*i.value;return{success:!0,data:{type:"electricity",value:e,unit:"kWh",co2e:parseFloat(a.toFixed(3)),co2eUnit:"kg",factors:{gridFactor:i.value,region:i.region,source:i.source,notes:`Grid emission factor for ${i.region}: ${i.value} ${i.unit}`}}}}catch{return{success:!1,error:"Failed to calculate electricity emissions"}}}async calculateFuel(e,r="diesel"){try{let n;switch(r){case"diesel":n=He.fuels.liquid.diesel;break;case"petrol":n=He.fuels.liquid.petrol;break;case"lpg":n=He.fuels.gas.lpg;break;case"cng":n=He.fuels.gas.cng;break;case"naturalGas":n=He.fuels.gas.naturalGas;break;case"biodiesel":n=He.fuels.liquid.biodiesel;break;case"ethanol":n=He.fuels.liquid.ethanol;break;default:n=He.fuels.liquid.diesel}const i=e*n.value;return{success:!0,data:{type:"fuel",value:e,unit:n.unit.split("/")[1],co2e:parseFloat(i.toFixed(3)),co2eUnit:"kg",factors:{fuelType:r,emissionFactor:n.value,source:n.source,notes:`${r.toUpperCase()} - ${n.source}`}}}}catch{return{success:!1,error:"Failed to calculate fuel emissions"}}}async calculateTravel(e,r="car"){try{let n;switch(r){case"flight":n=He.transport.aviation.domestic;break;case"car":n=He.transport.road.petrolCar;break;case"electricCar":n=He.transport.road.electricCar;break;case"train":n=He.transport.rail.passenger;break;case"metro":n=He.transport.rail.metro;break;case"bus":n=He.transport.road.bus;break;case"motorcycle":n=He.transport.road.motorcycle;break;default:n=He.transport.road.petrolCar}const i=e*n.value;return{success:!0,data:{type:"travel",value:e,unit:"km",co2e:parseFloat(i.toFixed(3)),co2eUnit:"kg",factors:{mode:r,emissionFactor:n.value,source:n.source,notes:n.notes||`${r.toUpperCase()} - ${n.source}`}}}}catch{return{success:!1,error:"Failed to calculate travel emissions"}}}async calculateWaste(e,r="landfill"){try{let n;switch(r){case"landfill":n=He.waste.disposal.landfill;break;case"recycled":n=He.waste.disposal.recycling;break;case"composting":case"organic":n=He.waste.disposal.composting;break;case"incineration":n=He.waste.disposal.incineration;break;default:n=He.waste.disposal.landfill}const i=e*n.value;return{success:!0,data:{type:"waste",value:e,unit:"kg",co2e:parseFloat(i.toFixed(3)),co2eUnit:"kg",factors:{wasteType:r,emissionFactor:n.value,source:n.source,notes:n.notes||`${r.toUpperCase()} - ${n.source}`}}}}catch{return{success:!1,error:"Failed to calculate waste emissions"}}}async calculateWater(e,r=!1){try{const n=He.water.supply.treated;let i=n.value;if(r){const o=He.water.wastewater.treatment;i+=o.value}const a=e*i;return{success:!0,data:{type:"water",value:e,unit:"m",co2e:parseFloat(a.toFixed(3)),co2eUnit:"kg",factors:{emissionFactor:i,source:n.source,notes:r?`Water supply + wastewater treatment - ${n.source}`:n.notes||`Water supply - ${n.source}`}}}}catch{return{success:!1,error:"Failed to calculate water emissions"}}}}const Tn=new sge,lge=()=>{const{records:t,addRecord:e,updateRecord:r,deleteRecord:n,setError:i,setSuccess:a,error:o}=Ea(),[s,l]=D.useState("electricity"),[u,c]=D.useState(new Date().getMonth()+1),[f,d]=D.useState(new Date().getFullYear()),[p,_]=D.useState(""),[g,y]=D.useState("kWh"),[w,v]=D.useState(!1),[x,O]=D.useState(null),T={electricity:["kWh","MWh"],fuel:["liters","gallons"],water:["m","liters"],waste:["kg","tons"],travel:["km","miles"]},I=async P=>{if(P.preventDefault(),!p||Number(p)<=0){i("Please enter a valid value");return}v(!0);try{let k;switch(s){case"electricity":k=await Tn.calculateElectricity(Number(p),"IN");break;case"fuel":k=await Tn.calculateFuel(Number(p),"diesel");break;case"water":k=await Tn.calculateWater(Number(p));break;case"waste":k=await Tn.calculateWaste(Number(p),"landfill");break;case"travel":k=await Tn.calculateTravel(Number(p),"car");break}k.success&&k.data?(x?(await r(x,{month:u.toString(),year:f,category:s,value:Number(p),unit:g,co2e:k.data.co2e,notes:`Auto-calculated from ${s}`}),a(`Record updated! COe: ${cr(k.data.co2e)} kg`)):(await e({month:u.toString(),year:f,category:s,value:Number(p),unit:g,co2e:k.data.co2e,notes:`Auto-calculated from ${s}`}),a(`Record added! COe: ${cr(k.data.co2e)} kg`)),_(""),O(null),setTimeout(()=>a(null),3e3)):i(k.error||"Failed to calculate emissions")}catch{i("An error occurred. Please try again.")}finally{v(!1)}},E=P=>{c(Number(P.month)),d(Number(P.year)),_(P.value.toString()),y(P.unit),l(P.category),O(P.id)},S=P=>{window.confirm("Are you sure you want to delete this record?")&&(n(P),a("Record deleted."),setTimeout(()=>a(null),2e3))};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Data Entry"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Enter monthly activity data for emissions calculation"})]}),o&&m.jsx("div",{className:"bg-error text-white p-4 rounded-lg",children:o}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6 text-neutral-900 dark:text-white",children:"Add New Record"}),m.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:["electricity","fuel","water","waste","travel"].map(P=>m.jsx("button",{onClick:()=>l(P),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${s===P?"bg-primary-500 text-white":"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))}),m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(Ss,{label:"Month",type:"number",value:u,onChange:P=>c(Number(P.target.value)),min:1,max:12}),m.jsx(Ss,{label:"Year",type:"number",value:f,onChange:P=>d(Number(P.target.value)),min:2020})]}),m.jsx(Ss,{label:`${s.charAt(0).toUpperCase()+s.slice(1)} Value`,type:"number",value:p,onChange:P=>_(P.target.value),placeholder:"Enter value",required:!0,step:.01,min:0}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Unit"}),m.jsx("select",{value:g,onChange:P=>y(P.target.value),className:"input-base",children:T[s].map(P=>m.jsx("option",{value:P,children:P},P))})]}),m.jsx("button",{type:"submit",disabled:w,className:"w-full btn-primary",children:w?"Calculating...":"Add Record"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6 text-neutral-900 dark:text-white",children:"Recent Records"}),t.length===0?m.jsx("div",{className:"text-center py-12 text-neutral-500",children:m.jsx("p",{children:"No records yet. Add your first entry above!"})}):m.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.slice(-10).reverse().map(P=>m.jsx("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-700 rounded-lg",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:P.category.charAt(0).toUpperCase()+P.category.slice(1)}),m.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[P.month,"/",P.year]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-bold text-primary-600 dark:text-primary-400",children:[cr(P.value)," ",P.unit]}),m.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[cr(P.co2e||0)," kg COe"]}),m.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[m.jsx("button",{className:"px-2 py-1 text-xs rounded bg-primary-500 text-white hover:bg-primary-600",onClick:()=>E(P),children:"Edit"}),m.jsx("button",{className:"px-2 py-1 text-xs rounded bg-error text-white hover:bg-red-600",onClick:()=>S(P.id),children:"Delete"})]})]})]})},P.id))})]})]})]})},uge=()=>{const[t,e]=D.useState("electricity"),[r,n]=D.useState(""),[i,a]=D.useState(null),[o,s]=D.useState(!1),l=async u=>{if(u.preventDefault(),!(!r||Number(r)<=0)){s(!0);try{let c;switch(t){case"electricity":c=await Tn.calculateElectricity(Number(r),"IN");break;case"fuel":c=await Tn.calculateFuel(Number(r),"diesel");break;case"travel":c=await Tn.calculateTravel(Number(r),"car");break;case"waste":c=await Tn.calculateWaste(Number(r),"landfill");break;case"water":c=await Tn.calculateWater(Number(r));break}c.success&&a(c.data)}catch(c){console.error(c)}finally{s(!1)}}};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Carbon Calculator"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Convert your activities into CO equivalents"})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6",children:"Calculate Emissions"}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Activity Type"}),m.jsxs("select",{value:t,onChange:u=>e(u.target.value),className:"input-base",children:[m.jsx("option",{value:"electricity",children:"Electricity (kWh)"}),m.jsx("option",{value:"fuel",children:"Fuel (liters)"}),m.jsx("option",{value:"travel",children:"Travel (km)"}),m.jsx("option",{value:"waste",children:"Waste (kg)"}),m.jsx("option",{value:"water",children:"Water (m)"})]})]}),m.jsx(Ss,{label:"Value",type:"number",value:r,onChange:u=>n(u.target.value),placeholder:"Enter value",step:.01,min:0}),m.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary",children:o?"Calculating...":"Calculate COe"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6",children:"Results"}),i?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"text-center p-6 bg-primary-50 dark:bg-primary-900 rounded-lg",children:[m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 uppercase tracking-wide",children:"CO Emissions"}),m.jsx("p",{className:"text-5xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:cr(i.co2e,2)}),m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Input:"}),m.jsxs("span",{className:"font-medium",children:[cr(i.value,2)," ",i.unit]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Activity:"}),m.jsx("span",{className:"font-medium capitalize",children:i.type})]})]}),i.factors&&m.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-700 rounded-lg text-sm",children:[m.jsx("p",{className:"font-medium mb-2",children:"Calculation Details:"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:i.factors.notes})]})]}):m.jsx("div",{className:"text-center py-12 text-neutral-500",children:m.jsx("p",{children:"Enter values and calculate to see results"})})]})]})]})};class cge{constructor(){kg(this,"baseURL","https://api.worldbank.org/v2");kg(this,"indicators",{co2PerCapita:"EN.ATM.CO2E.PC",co2Total:"EN.ATM.CO2E.KT",co2GDPIntensity:"EN.ATM.CO2E.PP.GD",ghgTotal:"EN.ATM.GHGT.KT.CE",electricityFromCoal:"EG.ELC.COAL.ZS",renewableEnergy:"EG.FEC.RNEW.ZS"})}async fetchWorldBankData(e,r,n=2020,i=2023){try{const a=r.join(";"),o=`${this.baseURL}/country/${a}/indicator/${e}?date=${n}:${i}&format=json&per_page=1000`,s=await fetch(o);if(!s.ok)return console.error("World Bank API error:",s.statusText),null;const l=await s.json();return Array.isArray(l)&&l.length>1?{page:l[0].page,pages:l[0].pages,per_page:l[0].per_page,total:l[0].total,data:l[1]}:null}catch(a){return console.error("Error fetching World Bank data:",a),null}}async getCO2PerCapita(e=["USA","CHN","IND","DEU","GBR","WLD"]){try{const r=await this.fetchWorldBankData(this.indicators.co2PerCapita,e);if(!r||!r.data||r.data.length===0)return{success:!1,error:"No data available from World Bank API",data:[]};const n=[],i=new Map;return r.data.forEach(a=>{if(a.value!==null){const o=i.get(a.country.value);(!o||parseInt(a.date)>parseInt(o.date))&&i.set(a.country.value,a)}}),i.forEach(a=>{n.push({industry:a.country.value,region:a.countryiso3code,year:parseInt(a.date),avgEmissions:parseFloat(a.value.toFixed(3)),unit:"tCOe/capita/year",dataSource:"World Bank Open Data"})}),{success:!0,data:n}}catch(r){return{success:!1,error:r.message||"Failed to fetch World Bank CO data",data:[]}}}async getGHGEmissions(e=["USA","CHN","IND","DEU","GBR"]){try{const r=await this.fetchWorldBankData(this.indicators.ghgTotal,e);if(!r||!r.data)throw new Error("No GHG data received");const n=[],i=new Map;return r.data.forEach(a=>{if(a.value!==null){const o=i.get(a.country.value);(!o||parseInt(a.date)>parseInt(o.date))&&i.set(a.country.value,a)}}),i.forEach(a=>{n.push({industry:`${a.country.value} Total GHG`,region:a.countryiso3code,year:parseInt(a.date),avgEmissions:parseFloat((a.value/1e3).toFixed(2)),unit:"MtCOe/year",dataSource:"World Bank Open Data"})}),{success:!0,data:n}}catch(r){return{success:!1,error:r.message||"Failed to fetch GHG data"}}}async getRenewableEnergyData(e=["USA","CHN","IND","DEU","GBR","BRA","NOR"]){try{const r=await this.fetchWorldBankData(this.indicators.renewableEnergy,e);if(!r||!r.data)throw new Error("No renewable energy data received");const n=[],i=new Map;return r.data.forEach(a=>{if(a.value!==null){const o=i.get(a.country.value);(!o||parseInt(a.date)>parseInt(o.date))&&i.set(a.country.value,a)}}),i.forEach(a=>{n.push({country:a.country.value,code:a.countryiso3code,year:parseInt(a.date),renewablePercent:parseFloat(a.value.toFixed(2))})}),{success:!0,data:n}}catch(r){return{success:!1,error:r.message||"Failed to fetch renewable energy data"}}}async getRegionalBenchmarks(){try{const e=await this.getCO2PerCapita(["USA","CHN","IND","DEU","GBR","JPN","CAN","AUS","BRA","ZAF","WLD"]);if(e.success&&e.data)return e;throw new Error("Failed to fetch benchmark data")}catch(e){return{success:!1,error:e.message||"Failed to fetch regional benchmarks"}}}async getIndustryBenchmark(e,r="USA"){try{const n=await this.getCO2PerCapita([r]);if(!n.success||!n.data||n.data.length===0)throw new Error("No data available for region");const i=n.data[0],o={manufacturing:2.5,it:.8,technology:.8,hospitality:1.5,retail:1.2,healthcare:1.1,education:.9,finance:.7,construction:3,agriculture:2}[e.toLowerCase()]||1.5,s=i.avgEmissions*o;return{success:!0,data:{industry:e.charAt(0).toUpperCase()+e.slice(1),region:i.industry,year:i.year,avgEmissions:parseFloat(s.toFixed(3)),unit:"tCOe/employee/year",dataSource:"World Bank (estimated)"}}}catch(n){return{success:!1,error:n.message||"Failed to fetch industry benchmark"}}}}const _O=new cge;class fge{async getIndustryBenchmark(e,r="USA"){try{const n=await _O.getIndustryBenchmark(e,r);return n.success&&n.data?n:this.getEstimatedBenchmark(e,r)}catch(n){return console.error("Error fetching industry benchmark:",n),{success:!1,error:n.message||"Failed to fetch benchmark data"}}}async getRegionalBenchmarks(){try{const e=await _O.getRegionalBenchmarks();return e.success&&e.data&&e.data.length>0?e:(console.log("Using fallback benchmark data (World Bank API unavailable)"),this.getFallbackBenchmarks())}catch(e){return console.error("Error fetching regional benchmarks:",e),this.getFallbackBenchmarks()}}async getEstimatedBenchmark(e,r){const n={manufacturing:2.5,it:.8,technology:.8,hospitality:1.5,retail:1.2,healthcare:1.1,education:.9,finance:.7,construction:3,agriculture:2},i={USA:14.2,IND:1.9,CHN:7.4,DEU:8.1,GBR:5.2,JPN:8.5,CAN:15.4,AUS:15},a=n[e.toLowerCase()]||1.5,s=(i[r.toUpperCase()]||4.5)*a;return{success:!0,data:{industry:e.charAt(0).toUpperCase()+e.slice(1),region:r.toUpperCase(),year:2023,avgEmissions:parseFloat(s.toFixed(3)),unit:"tCOe/employee/year",dataSource:"Estimated (IPCC)"}}}async getFallbackBenchmarks(){return{success:!0,data:[{industry:"United States",region:"USA",year:2023,avgEmissions:14.9,unit:"tCOe/capita/year",dataSource:"US EPA 2023"},{industry:"China",region:"CHN",year:2023,avgEmissions:8,unit:"tCOe/capita/year",dataSource:"IEA 2023"},{industry:"India",region:"IND",year:2023,avgEmissions:2,unit:"tCOe/capita/year",dataSource:"CEA India 2023"},{industry:"Germany",region:"DEU",year:2023,avgEmissions:7.9,unit:"tCOe/capita/year",dataSource:"Eurostat 2023"},{industry:"United Kingdom",region:"GBR",year:2023,avgEmissions:5,unit:"tCOe/capita/year",dataSource:"DEFRA 2023"},{industry:"Japan",region:"JPN",year:2023,avgEmissions:8.3,unit:"tCOe/capita/year",dataSource:"IEA 2023"},{industry:"Canada",region:"CAN",year:2023,avgEmissions:14.2,unit:"tCOe/capita/year",dataSource:"Environment Canada 2023"},{industry:"Australia",region:"AUS",year:2023,avgEmissions:15.3,unit:"tCOe/capita/year",dataSource:"Australia DoE 2023"},{industry:"Brazil",region:"BRA",year:2023,avgEmissions:2.3,unit:"tCOe/capita/year",dataSource:"IEA 2023"},{industry:"France",region:"FRA",year:2023,avgEmissions:4.6,unit:"tCOe/capita/year",dataSource:"Eurostat 2023"},{industry:"World Average",region:"WLD",year:2023,avgEmissions:4.7,unit:"tCOe/capita/year",dataSource:"IPCC 2023"}]}}}const hge=new fge,dge=()=>{const[t,e]=D.useState([]),[r,n]=D.useState(!0);D.useEffect(()=>{(async()=>{const o=await hge.getRegionalBenchmarks();o.success&&e(o.data||[]),n(!1)})()},[]);const i=t.slice(0,4).map(a=>({name:a.industry,emissions:a.avgEmissions}));return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Benchmarks"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Compare your emissions with industry standards"})]}),r?m.jsx("div",{className:"text-center py-12",children:"Loading..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Emissions Comparison"}),i.length>0&&m.jsx(B0,{width:"100%",height:300,children:m.jsxs(r$,{data:i,children:[m.jsx(jp,{strokeDasharray:"3 3"}),m.jsx(_o,{dataKey:"name"}),m.jsx(wo,{}),m.jsx(Mr,{}),m.jsx(Oa,{dataKey:"emissions",fill:"#00a86b"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft overflow-x-auto",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Regional Benchmarks"}),m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Industry"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Region"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Avg Emissions"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Unit"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Source"})]})}),m.jsx("tbody",{children:t.map((a,o)=>m.jsxs("tr",{className:"border-b border-neutral-100 dark:border-neutral-700",children:[m.jsx("td",{className:"py-3 px-4",children:a.industry}),m.jsx("td",{className:"py-3 px-4",children:a.region}),m.jsx("td",{className:"py-3 px-4 font-medium",children:cr(a.avgEmissions,2)}),m.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:a.unit}),m.jsx("td",{className:"py-3 px-4 text-primary-600 dark:text-primary-400",children:a.dataSource})]},o))})]})]})]})]})},pge=[{id:"1",title:"Shift Peak Load Operations",description:"Your grid carbon intensity is high between 2-6 PM",impact:4,cost:"low",category:"Energy",estimatedSavings:15,details:"Rescheduling energy-intensive operations to 10 AM - 1 PM can reduce emissions by 12-15%."},{id:"2",title:"Upgrade to LED Lighting",description:"Replace incandescent and fluorescent with LED bulbs",impact:4,cost:"medium",category:"Efficiency",estimatedSavings:20,details:"LED bulbs consume 75% less energy and last 25x longer than incandescent bulbs."},{id:"3",title:"Implement Renewable Energy",description:"Install solar panels on facility rooftops",impact:5,cost:"high",category:"Renewable",estimatedSavings:40,details:"Solar panels can offset 30-50% of your facility's electricity consumption."},{id:"4",title:"Optimize Transportation",description:"Encourage carpooling and public transit for employee commutes",impact:3,cost:"low",category:"Travel",estimatedSavings:10,details:"Reducing individual car commutes by 50% can cut transportation emissions significantly."},{id:"5",title:"Waste Reduction Program",description:"Implement a comprehensive waste segregation system",impact:2,cost:"low",category:"Waste",estimatedSavings:8,details:"Proper waste management and recycling can reduce landfill emissions by 60%."}],mge=()=>{const[t,e]=D.useState(null),[r,n]=D.useState("all"),[i,a]=D.useState("all"),o=pge.filter(u=>{const c=r==="all"||u.impact>=Number(r),f=i==="all"||u.cost===i;return c&&f}),s=u=>"".repeat(u),l=u=>{switch(u){case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return""}};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Recommendations"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Actionable steps to reduce your carbon emissions"})]}),m.jsxs("div",{className:"flex gap-4 flex-wrap bg-white dark:bg-neutral-800 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block mb-2",children:"Min Impact"}),m.jsxs("select",{value:r,onChange:u=>n(u.target.value),className:"input-base text-sm",children:[m.jsx("option",{value:"all",children:"All"}),m.jsx("option",{value:"3",children:"3+"}),m.jsx("option",{value:"4",children:"4+"}),m.jsx("option",{value:"5",children:"5"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block mb-2",children:"Cost"}),m.jsxs("select",{value:i,onChange:u=>a(u.target.value),className:"input-base text-sm",children:[m.jsx("option",{value:"all",children:"All"}),m.jsx("option",{value:"low",children:"Low"}),m.jsx("option",{value:"medium",children:"Medium"}),m.jsx("option",{value:"high",children:"High"})]})]})]}),m.jsx("div",{className:"space-y-3",children:o.map(u=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-soft overflow-hidden",children:[m.jsxs("button",{onClick:()=>e(t===u.id?null:u.id),className:"w-full p-4 flex justify-between items-start hover:bg-neutral-50 dark:hover:bg-neutral-700 transition-colors text-left",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-heading font-bold text-neutral-900 dark:text-white",children:u.title}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:u.description}),m.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[m.jsx("span",{className:"text-xs bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 px-2 py-1 rounded",children:s(u.impact)}),m.jsxs("span",{className:`text-xs px-2 py-1 rounded capitalize ${l(u.cost)}`,children:[u.cost," Cost"]}),m.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:u.category})]})]}),m.jsx("span",{className:"ml-4 text-2xl",children:t===u.id?"":"+"})]}),t===u.id&&m.jsxs("div",{className:"px-4 py-3 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700",children:[m.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 mb-3",children:u.details}),u.estimatedSavings&&m.jsxs("div",{className:"text-sm font-medium text-primary-600 dark:text-primary-400",children:["Estimated Savings: ",u.estimatedSavings,"% reduction"]})]})]},u.id))}),o.length===0&&m.jsx("div",{className:"text-center py-12 text-neutral-500",children:"No recommendations match your filters"})]})},gge=()=>{const{records:t}=Ea(),[e,r]=D.useState(1),[n,i]=D.useState(2024),[a,o]=D.useState(12),[s,l]=D.useState(2024),u=t.filter(g=>{const y=new Date(Number(g.year),Number(g.month)-1),w=new Date(n,e-1),v=new Date(s,a-1);return y>=w&&y<=v}),c=SR(u),f=TR(u),d=AR(u),p=()=>{const y=[["Month","Total","Scope 1","Scope 2","Scope 3"],...d.map(v=>[v.month,v.total,v.scope1,v.scope2,v.scope3])].map(v=>v.join(",")).join(`
`),w=document.createElement("a");w.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(y)),w.setAttribute("download",`emissions-report-${n}-${s}.csv`),w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w)},_=()=>{alert("PDF download would be implemented with a library like jsPDF")};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Reports"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Generate and export emissions reports"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Report Filters"}),m.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Month"}),m.jsx("select",{value:e,onChange:g=>r(Number(g.target.value)),className:"input-base",children:Array.from({length:12},(g,y)=>y+1).map(g=>m.jsx("option",{value:g,children:new Date(2024,g-1).toLocaleString("en-US",{month:"long"})},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Year"}),m.jsx("select",{value:n,onChange:g=>i(Number(g.target.value)),className:"input-base",children:[2023,2024,2025].map(g=>m.jsx("option",{value:g,children:g},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Month"}),m.jsx("select",{value:a,onChange:g=>o(Number(g.target.value)),className:"input-base",children:Array.from({length:12},(g,y)=>y+1).map(g=>m.jsx("option",{value:g,children:new Date(2024,g-1).toLocaleString("en-US",{month:"long"})},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Year"}),m.jsx("select",{value:s,onChange:g=>l(Number(g.target.value)),className:"input-base",children:[2023,2024,2025].map(g=>m.jsx("option",{value:g,children:g},g))})]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 uppercase",children:"Total Emissions"}),m.jsx("p",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:cr(c,2)}),m.jsx("p",{className:"text-xs text-primary-700 dark:text-primary-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 uppercase",children:"Scope 1 & 2"}),m.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:cr(f.scope1+f.scope2,2)}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"bg-green-50 dark:bg-green-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 uppercase",children:"Scope 3"}),m.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:cr(f.scope3,2)}),m.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"kg COe"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft overflow-x-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Monthly Breakdown"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:p,className:"btn-sm btn-primary",children:"Download CSV"}),m.jsx("button",{onClick:_,className:"btn-sm btn-secondary",children:"Download PDF"})]})]}),d.length===0?m.jsx("div",{className:"text-center py-8 text-neutral-500",children:"No data for the selected period"}):m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Month"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 1"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 2"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 3"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Total"})]})}),m.jsx("tbody",{children:d.map((g,y)=>m.jsxs("tr",{className:"border-b border-neutral-100 dark:border-neutral-700",children:[m.jsx("td",{className:"py-3 px-4",children:g.month}),m.jsx("td",{className:"text-right py-3 px-4",children:cr(g.scope1,2)}),m.jsx("td",{className:"text-right py-3 px-4",children:cr(g.scope2,2)}),m.jsx("td",{className:"text-right py-3 px-4",children:cr(g.scope3,2)}),m.jsx("td",{className:"text-right py-3 px-4 font-bold text-primary-600 dark:text-primary-400",children:cr(g.total,2)})]},y))})]})]})]})},yge=()=>{var l,u,c;const{company:t,setCompany:e,theme:r,setTheme:n}=Ea(),[i,a]=D.useState({companyName:(t==null?void 0:t.name)||"",industry:(t==null?void 0:t.industry)||"manufacturing",region:(t==null?void 0:t.region)||"IN",employees:(t==null?void 0:t.employees)||0,emailAlerts:((l=t==null?void 0:t.settings)==null?void 0:l.emailAlerts)||!1,currency:((u=t==null?void 0:t.settings)==null?void 0:u.currency)||"USD",measurementUnit:((c=t==null?void 0:t.settings)==null?void 0:c.measurementUnit)||"metric_tons"}),o=(f,d)=>{a({...i,[f]:d})},s=()=>{const f={id:(t==null?void 0:t.id)||`company_${Date.now()}`,name:i.companyName,industry:i.industry,region:i.region,employees:i.employees,settings:{theme:r,emailAlerts:i.emailAlerts,currency:i.currency,measurementUnit:i.measurementUnit}};e(f),alert("Settings saved successfully!")};return m.jsxs("div",{className:"space-y-6 animate-fade-in max-w-2xl",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Settings"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Manage your account and preferences"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft space-y-4",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Company Information"}),m.jsx(Ss,{label:"Company Name",value:i.companyName,onChange:f=>o("companyName",f.target.value),placeholder:"Enter company name"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Industry Type"}),m.jsxs("select",{value:i.industry,onChange:f=>o("industry",f.target.value),className:"input-base",children:[m.jsx("option",{value:"manufacturing",children:"Manufacturing"}),m.jsx("option",{value:"it",children:"IT & Technology"}),m.jsx("option",{value:"hospitality",children:"Hospitality"}),m.jsx("option",{value:"retail",children:"Retail"}),m.jsx("option",{value:"energy",children:"Energy"}),m.jsx("option",{value:"other",children:"Other"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Region"}),m.jsxs("select",{value:i.region,onChange:f=>o("region",f.target.value),className:"input-base",children:[m.jsx("option",{value:"IN",children:"India"}),m.jsx("option",{value:"US",children:"United States"}),m.jsx("option",{value:"UK",children:"United Kingdom"}),m.jsx("option",{value:"EU",children:"European Union"}),m.jsx("option",{value:"CN",children:"China"}),m.jsx("option",{value:"JP",children:"Japan"})]})]}),m.jsx(Ss,{label:"Number of Employees",type:"number",value:i.employees,onChange:f=>o("employees",f.target.value),placeholder:"Enter number"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft space-y-6",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Preferences"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Currency"}),m.jsxs("select",{value:i.currency,onChange:f=>o("currency",f.target.value),className:"input-base",children:[m.jsx("option",{value:"USD",children:"USD ($)"}),m.jsx("option",{value:"EUR",children:"EUR ()"}),m.jsx("option",{value:"GBP",children:"GBP ()"}),m.jsx("option",{value:"INR",children:"INR ()"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Measurement Unit"}),m.jsxs("select",{value:i.measurementUnit,onChange:f=>o("measurementUnit",f.target.value),className:"input-base",children:[m.jsx("option",{value:"metric_tons",children:"Metric Tons (tCOe)"}),m.jsx("option",{value:"kilograms",children:"Kilograms (kg COe)"})]})]}),m.jsxs("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:"Email Alerts"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Receive notifications for emission spikes"})]}),m.jsx(g0,{checked:i.emailAlerts,onChange:f=>o("emailAlerts",f)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:"Dark Mode"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Enable dark theme"})]}),m.jsx(g0,{checked:r==="dark",onChange:f=>n(f?"dark":"light")})]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:s,className:"btn-primary flex-1",children:"Save Settings"}),m.jsx("button",{className:"btn-secondary flex-1",children:"Cancel"})]}),m.jsxs("div",{className:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 rounded p-6",children:[m.jsx("h3",{className:"font-heading font-bold text-red-900 dark:text-red-200 mb-2",children:"Danger Zone"}),m.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 mb-4",children:"Irreversible actions are taken here."}),m.jsx("button",{className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Delete All Data"})]})]})},vge=()=>{const t=of(),[e,r]=D.useState("emissions"),[n,i]=D.useState(null),a=[{id:"emissions",label:"Carbon Emissions",icon:""},{id:"credits",label:"Carbon Credits",icon:""},{id:"scopes",label:"Emission Scopes",icon:""},{id:"reduction",label:"How to Reduce",icon:""}],o=[{question:"What is net-zero emissions?",answer:"Net-zero emissions means balancing the amount of greenhouse gases emitted with the amount removed from the atmosphere, resulting in zero net emissions."},{question:"How are carbon emissions measured?",answer:"Carbon emissions are typically measured in CO equivalent (COe), which includes all greenhouse gases converted to the equivalent amount of carbon dioxide."},{question:"What is the Paris Agreement target?",answer:"The Paris Agreement aims to limit global warming to well below 2C, preferably to 1.5C, compared to pre-industrial levels."},{question:"Can individuals buy carbon credits?",answer:"Yes, individuals can purchase carbon credits to offset their personal carbon footprint through various platforms and organizations.",details:m.jsxs("div",{className:"mt-4 space-y-4",children:[m.jsx("h5",{className:"font-bold text-neutral-900 dark:text-white",children:"How to Buy Carbon Credits - Step by Step:"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"1"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Calculate Your Carbon Footprint"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Use a carbon calculator to determine your annual emissions from activities like travel, energy use, and lifestyle choices. Most calculators provide results in tons of COe."})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"2"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Choose a Verified Platform"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Select a reputable carbon offset provider. Look for certifications like Gold Standard, Verified Carbon Standard (VCS), or Climate Action Reserve (CAR)."}),m.jsxs("div",{className:"mt-2 text-xs bg-neutral-100 dark:bg-neutral-700 p-2 rounded",children:[m.jsx("strong",{children:"Popular Platforms:"})," Cloverly, Cool Effect, Terrapass, Carbon Footprint Ltd, Offsetra"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"3"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Select a Project Type"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Choose which type of carbon offset project you want to support:"}),m.jsxs("ul",{className:"text-xs mt-1 space-y-1 text-neutral-600 dark:text-neutral-400",children:[m.jsx("li",{children:" Renewable Energy (wind, solar farms)"}),m.jsx("li",{children:" Reforestation & Forest Conservation"}),m.jsx("li",{children:" Methane Capture (landfills, agriculture)"}),m.jsx("li",{children:" Clean Water & Cookstoves"}),m.jsx("li",{children:" Direct Air Capture Technology"})]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"4"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Determine Quantity & Budget"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Carbon credits typically cost between $10-$50 per ton of COe. Calculate how many credits you need based on your footprint and budget."}),m.jsxs("div",{className:"mt-2 text-xs bg-blue-50 dark:bg-blue-900/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:[m.jsx("strong",{children:"Example:"})," Average US individual emits ~16 tons/year. Full offset = $160-$800/year"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"5"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Make Your Purchase"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Complete the transaction through the platform. Most accept credit cards or PayPal. You'll receive a certificate showing the credits retired on your behalf."})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"6"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Track & Verify"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Keep records of your purchase. Many platforms provide tracking dashboards showing project progress and environmental impact metrics."})]})]})]}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-l-4 border-yellow-500 mt-4",children:[m.jsx("h6",{className:"font-bold text-sm text-neutral-900 dark:text-white mb-1",children:" Important Tips:"}),m.jsxs("ul",{className:"text-xs space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Look for third-party verified projects (avoid greenwashing)"}),m.jsx("li",{children:' Ensure credits are "retired" and not double-counted'}),m.jsx("li",{children:" Consider additionality - projects that wouldn't happen without carbon finance"}),m.jsx("li",{children:" Buying credits doesn't replace the need to reduce emissions"})]})]})]})}];return m.jsxs("div",{className:"space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"relative bg-gradient-to-r from-primary-600 to-green-600 dark:from-primary-700 dark:to-green-700 rounded-2xl p-8 md:p-12 text-white overflow-visible min-h-[200px] flex items-center",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4",children:"Understanding Carbon Emissions"}),m.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-3xl",children:"Learn about carbon footprints, credits, and how you can make a positive impact on our planet."})]}),m.jsx("div",{className:"absolute right-[-20px] md:right-4 top-15 -translate-y-1/2 opacity-60 text-[100px] md:text-[140px] animate-spin-slow drop-shadow-[0_20px_40px_rgba(0,0,0,0.6)] hover:scale-110 hover:opacity-80 transition-all duration-500 z-0 flex items-center justify-center",children:""})]}),m.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 bg-white dark:bg-neutral-800 p-2 rounded-xl shadow-soft",children:a.map(s=>m.jsxs("button",{onClick:()=>r(s.id),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all duration-300 ${e===s.id?"bg-primary-600 text-white shadow-md scale-105":"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-600"}`,children:[m.jsx("span",{className:"mr-2",children:s.icon}),m.jsx("span",{className:"hidden md:inline",children:s.label})]},s.id))}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 md:p-8 shadow-soft",children:[e==="emissions"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"What are Carbon Emissions?"}),m.jsx("div",{className:"prose dark:prose-invert max-w-none",children:m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"Carbon emissions refer to the release of carbon dioxide (CO) and other greenhouse gases into the atmosphere. These gases trap heat and contribute to global warming and climate change."})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[m.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 p-6 rounded-xl border-2 border-red-200 dark:border-red-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Industrial Sources"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Factories, manufacturing plants, and industrial processes are major contributors to carbon emissions through fossil fuel combustion and chemical reactions."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-6 rounded-xl border-2 border-blue-200 dark:border-blue-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Transportation"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Vehicles, planes, ships, and trains burning gasoline, diesel, and jet fuel account for a significant portion of global emissions."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 p-6 rounded-xl border-2 border-yellow-200 dark:border-yellow-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Energy Production"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Power plants burning coal, oil, and natural gas to generate electricity are among the largest sources of CO emissions worldwide."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-6 rounded-xl border-2 border-green-200 dark:border-green-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Agriculture"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Livestock farming, rice cultivation, and agricultural practices release methane and nitrous oxide, potent greenhouse gases."})]})]}),m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-6 rounded-xl mt-8 border-l-4 border-primary-600",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Did You Know?"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"CO can remain in the atmosphere for hundreds to thousands of years, making emission reduction critical for long-term climate stability."})]})]}),e==="credits"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"Understanding Carbon Credits"}),m.jsx("div",{className:"prose dark:prose-invert max-w-none",children:m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"A carbon credit represents the right to emit one metric ton of CO or equivalent greenhouse gas. They are used in cap-and-trade systems to incentivize emission reductions."})}),m.jsxs("div",{className:"bg-gradient-to-r from-primary-100 to-green-100 dark:from-primary-900/30 dark:to-green-900/30 p-8 rounded-xl mt-6",children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-4",children:"How Carbon Credits Work"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"1"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Emission Cap"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Governments or regulatory bodies set a limit on total emissions allowed."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"2"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Credit Allocation"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Credits are distributed or auctioned to companies that produce emissions."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"3"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Trading System"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Companies can buy, sell, or trade credits based on their needs and performance."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"4"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Emission Reduction"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Companies are incentivized to reduce emissions to save money on credits."})]})]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-700 p-6 rounded-xl border-2 border-green-300 dark:border-green-700",children:[m.jsx("h4",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-3",children:" Benefits"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Market-based emission reduction"}),m.jsx("li",{children:" Financial incentive for clean technology"}),m.jsx("li",{children:" Flexibility in achieving targets"}),m.jsx("li",{children:" Supports renewable energy projects"}),m.jsx("li",{children:" Encourages innovation"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-700 p-6 rounded-xl border-2 border-yellow-300 dark:border-yellow-700",children:[m.jsx("h4",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-3",children:" Challenges"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Price volatility in markets"}),m.jsx("li",{children:" Verification and monitoring costs"}),m.jsx("li",{children:" Potential for greenwashing"}),m.jsx("li",{children:" Unequal global implementation"}),m.jsx("li",{children:" Complexity of regulations"})]})]})]})]}),e==="scopes"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"The Three Scopes of Emissions"}),m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"The Greenhouse Gas Protocol categorizes emissions into three scopes to help organizations measure and manage their carbon footprint comprehensively."}),m.jsxs("div",{className:"space-y-6 mt-8",children:[m.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 md:p-8 rounded-xl border-l-8 border-red-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 1: Direct Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from sources you own or control"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Company vehicles and fleet fuel combustion"}),m.jsx("li",{children:" On-site fuel burning for heating or manufacturing"}),m.jsx("li",{children:" Emissions from chemical reactions in production"}),m.jsx("li",{children:" Refrigerant leaks from air conditioning systems"})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-6 md:p-8 rounded-xl border-l-8 border-yellow-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 2: Indirect Energy Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from purchased energy"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Electricity purchased from the grid"}),m.jsx("li",{children:" Purchased steam for industrial processes"}),m.jsx("li",{children:" Purchased heating and cooling"}),m.jsx("li",{children:" Office and facility electricity consumption"})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 md:p-8 rounded-xl border-l-8 border-blue-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 3: Other Indirect Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from your value chain"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Business travel (flights, hotels, rental cars)"}),m.jsx("li",{children:" Employee commuting"}),m.jsx("li",{children:" Purchased goods and services from suppliers"}),m.jsx("li",{children:" Waste disposal and treatment"}),m.jsx("li",{children:" Transportation and distribution"}),m.jsx("li",{children:" Use of sold products by customers"})]})]})]})]}),m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-6 rounded-xl mt-8",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Why This Matters"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Understanding these scopes helps organizations identify their biggest emission sources and develop targeted reduction strategies. Scope 3 often represents the largest portion (up to 90%) of a company's total carbon footprint."})]})]}),e==="reduction"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"How to Reduce Carbon Emissions"}),m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"Both individuals and organizations can take meaningful action to reduce their carbon footprint. Here are proven strategies that make a real difference."}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 mt-8",children:[{icon:"",title:"Energy Efficiency",description:"Switch to LED lighting, upgrade insulation, use energy-efficient appliances",impact:"High Impact"},{icon:"",title:"Renewable Energy",description:"Install solar panels, purchase renewable energy credits, choose green energy providers",impact:"High Impact"},{icon:"",title:"Sustainable Transport",description:"Walk, bike, carpool, use public transit, switch to electric vehicles",impact:"Medium Impact"},{icon:"",title:"Waste Reduction",description:"Recycle, compost, reduce single-use plastics, buy less packaging",impact:"Medium Impact"},{icon:"",title:"Plant-Based Diet",description:"Reduce meat consumption, buy local produce, minimize food waste",impact:"Medium Impact"},{icon:"",title:"Remote Work",description:"Work from home when possible, reduce office energy use, virtual meetings",impact:"Low-Medium Impact"}].map((s,l)=>m.jsxs("div",{className:"bg-gradient-to-br from-white to-neutral-50 dark:from-neutral-700 dark:to-neutral-800 p-6 rounded-xl border-2 border-neutral-200 dark:border-neutral-600 hover:border-primary-500 dark:hover:border-primary-500 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[m.jsx("div",{className:"text-4xl mb-3",children:s.icon}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:s.title}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300 text-sm mb-3",children:s.description}),m.jsx("span",{className:"inline-block px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded-full text-xs font-medium",children:s.impact})]},l))}),m.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-8 rounded-xl mt-8 border-2 border-green-300 dark:border-green-700",children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-4",children:" Quick Wins for Businesses"}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Immediate Actions:"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Conduct an energy audit"}),m.jsx("li",{children:" Switch to cloud computing"}),m.jsx("li",{children:" Implement recycling programs"}),m.jsx("li",{children:" Optimize delivery routes"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Long-term Strategies:"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Set science-based targets"}),m.jsx("li",{children:" Invest in green technology"}),m.jsx("li",{children:" Engage suppliers on emissions"}),m.jsx("li",{children:" Develop circular economy models"})]})]})]})]}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-xl border-l-4 border-yellow-500",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Remember"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Every action counts! Even small changes, when multiplied across millions of people and thousands of companies, create significant positive impact on our climate."})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 md:p-8 shadow-soft",children:[m.jsx("h2",{className:"text-2xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"Frequently Asked Questions"}),m.jsx("div",{className:"space-y-3",children:o.map((s,l)=>m.jsxs("div",{className:"border-2 border-neutral-200 dark:border-neutral-700 rounded-lg overflow-hidden hover:border-primary-400 dark:hover:border-primary-600 transition-colors",children:[m.jsxs("button",{onClick:()=>i(n===l?null:l),className:"w-full px-6 py-4 flex items-center justify-between bg-neutral-50 dark:bg-neutral-700/50 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[m.jsx("span",{className:"font-medium text-left text-neutral-900 dark:text-white",children:s.question}),m.jsx("span",{className:`text-2xl transition-transform duration-300 ${n===l?"rotate-180":""}`,children:""})]}),n===l&&m.jsxs("div",{className:"px-6 py-4 bg-white dark:bg-neutral-800 animate-fade-in",children:[m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:s.answer}),s.details&&m.jsx("div",{className:"mt-2",children:s.details})]})]},l))})]}),m.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-green-600 dark:from-primary-700 dark:to-green-700 rounded-xl p-8 md:p-12 text-white text-center",children:[m.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Take Action?"}),m.jsx("p",{className:"text-lg mb-6 text-white/90",children:"Start tracking your carbon emissions today and make data-driven decisions for a sustainable future."}),m.jsx("button",{onClick:()=>t("/data-entry"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-bold hover:bg-neutral-100 transition-colors shadow-lg",children:"Start Tracking Now "})]})]})},bge=()=>{const t=of(),{setUser:e}=Ea(),[r,n]=D.useState(!1),[i,a]=D.useState(!1),[o,s]=D.useState(""),[l,u]=D.useState({email:"",password:"",confirmPassword:"",displayName:""}),c=async d=>{d.preventDefault(),s(""),a(!0);try{if(r){if(l.password!==l.confirmPassword)throw new Error("Passwords do not match");if(l.password.length<6)throw new Error("Password must be at least 6 characters");const p=await fz(l.email,l.password,l.displayName);e(p),t("/")}else{const p=await hz(l.email,l.password);e(p),t("/")}}catch(p){s(p.message||"An error occurred")}finally{a(!1)}},f=d=>{u({...l,[d.target.name]:d.target.value})};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-green-50 dark:from-neutral-900 dark:to-neutral-800 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-6xl mb-4",children:""}),m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white",children:r?"Create Account":"Welcome Back"}),m.jsx("p",{className:"mt-2 text-neutral-600 dark:text-neutral-400",children:r?"Start tracking your carbon footprint":"Sign in to access your dashboard"})]}),o&&m.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-4 rounded",children:m.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:o})}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[m.jsxs("div",{className:"space-y-4",children:[r&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),m.jsx("input",{id:"displayName",name:"displayName",type:"text",required:r,value:l.displayName,onChange:f,className:"input-base",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:f,className:"input-base",placeholder:"you@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:l.password,onChange:f,className:"input-base",placeholder:""})]}),r&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),m.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:r,value:l.confirmPassword,onChange:f,className:"input-base",placeholder:""})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:i?m.jsxs("span",{className:"flex items-center justify-center gap-2",children:[m.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r?"Creating account...":"Signing in..."]}):m.jsx("span",{children:r?"Create Account":"Sign In"})})})]}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>{n(!r),s(""),u({email:"",password:"",confirmPassword:"",displayName:""})},className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:r?"Already have an account? Sign in":"Don't have an account? Sign up"})}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})})},_ge=()=>{const{theme:t,setUser:e,loadRecords:r}=Ea();return D.useEffect(()=>{const n=pz(i=>{e(i),i&&r()});return()=>n()},[e,r]),D.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),m.jsx(tV,{children:m.jsxs("div",{className:"flex flex-col min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[m.jsx(mz,{}),m.jsx("main",{className:"flex-1 max-w-7xl mx-auto w-full py-8 px-4 sm:px-6 lg:px-8",children:m.jsxs(K3,{children:[m.jsx(tn,{path:"/login",element:m.jsx(bge,{})}),m.jsx(tn,{path:"/",element:m.jsx(Da,{children:m.jsx(oge,{})})}),m.jsx(tn,{path:"/data-entry",element:m.jsx(Da,{children:m.jsx(lge,{})})}),m.jsx(tn,{path:"/calculator",element:m.jsx(Da,{children:m.jsx(uge,{})})}),m.jsx(tn,{path:"/benchmarks",element:m.jsx(Da,{children:m.jsx(dge,{})})}),m.jsx(tn,{path:"/recommendations",element:m.jsx(Da,{children:m.jsx(mge,{})})}),m.jsx(tn,{path:"/reports",element:m.jsx(Da,{children:m.jsx(gge,{})})}),m.jsx(tn,{path:"/learn",element:m.jsx(vge,{})}),m.jsx(tn,{path:"/settings",element:m.jsx(Da,{children:m.jsx(yge,{})})}),m.jsx(tn,{path:"*",element:m.jsx(Bk,{to:"/",replace:!0})})]})}),m.jsx(gz,{})]})})};Gy.createRoot(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(_ge,{})}));
