function S$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vO={exports:{}},Lp={},bO={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc=Symbol.for("react.element"),T$=Symbol.for("react.portal"),A$=Symbol.for("react.fragment"),P$=Symbol.for("react.strict_mode"),I$=Symbol.for("react.profiler"),O$=Symbol.for("react.provider"),C$=Symbol.for("react.context"),k$=Symbol.for("react.forward_ref"),N$=Symbol.for("react.suspense"),R$=Symbol.for("react.memo"),j$=Symbol.for("react.lazy"),NE=Symbol.iterator;function M$(t){return t===null||typeof t!="object"?null:(t=NE&&t[NE]||t["@@iterator"],typeof t=="function"?t:null)}var _O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wO=Object.assign,xO={};function ll(t,e,n){this.props=t,this.context=e,this.refs=xO,this.updater=n||_O}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EO(){}EO.prototype=ll.prototype;function Ub(t,e,n){this.props=t,this.context=e,this.refs=xO,this.updater=n||_O}var Bb=Ub.prototype=new EO;Bb.constructor=Ub;wO(Bb,ll.prototype);Bb.isPureReactComponent=!0;var RE=Array.isArray,SO=Object.prototype.hasOwnProperty,zb={current:null},TO={key:!0,ref:!0,__self:!0,__source:!0};function AO(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)SO.call(e,r)&&!TO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Zc,type:t,key:a,ref:o,props:i,_owner:zb.current}}function D$(t,e){return{$$typeof:Zc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zc}function $$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jE=/\/+/g;function Cg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$$(""+t.key):e.toString(36)}function Ah(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zc:case T$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cg(o,0):r,RE(i)?(n="",t!=null&&(n=t.replace(jE,"$&/")+"/"),Ah(i,e,n,"",function(u){return u})):i!=null&&(Wb(i)&&(i=D$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",RE(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+Cg(a,s);o+=Ah(a,e,n,l,i)}else if(l=M$(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+Cg(a,s++),o+=Ah(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bf(t,e,n){if(t==null)return t;var r=[],i=0;return Ah(t,r,"","",function(a){return e.call(n,a,i++)}),r}function L$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Ph={transition:null},V$={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Ph,ReactCurrentOwner:zb};function PO(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Bf,forEach:function(t,e,n){Bf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bf(t,function(){e++}),e},toArray:function(t){return Bf(t,function(e){return e})||[]},only:function(t){if(!Wb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=ll;be.Fragment=A$;be.Profiler=I$;be.PureComponent=Ub;be.StrictMode=P$;be.Suspense=N$;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V$;be.act=PO;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=zb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)SO.call(e,l)&&!TO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Zc,type:t.type,key:i,ref:a,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:C$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O$,_context:t},t.Consumer=t};be.createElement=AO;be.createFactory=function(t){var e=AO.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:k$,render:t}};be.isValidElement=Wb;be.lazy=function(t){return{$$typeof:j$,_payload:{_status:-1,_result:t},_init:L$}};be.memo=function(t,e){return{$$typeof:R$,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Ph.transition;Ph.transition={};try{t()}finally{Ph.transition=e}};be.unstable_act=PO;be.useCallback=function(t,e){return sn.current.useCallback(t,e)};be.useContext=function(t){return sn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};be.useEffect=function(t,e){return sn.current.useEffect(t,e)};be.useId=function(){return sn.current.useId()};be.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return sn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};be.useRef=function(t){return sn.current.useRef(t)};be.useState=function(t){return sn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return sn.current.useTransition()};be.version="18.3.1";bO.exports=be;var $=bO.exports;const M=De($),F$=S$({__proto__:null,default:M},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U$=$,B$=Symbol.for("react.element"),z$=Symbol.for("react.fragment"),W$=Object.prototype.hasOwnProperty,q$=U$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H$={key:!0,ref:!0,__self:!0,__source:!0};function IO(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)W$.call(e,r)&&!H$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B$,type:t,key:a,ref:o,props:i,_owner:q$.current}}Lp.Fragment=z$;Lp.jsx=IO;Lp.jsxs=IO;vO.exports=Lp;var m=vO.exports,qy={},OO={exports:{}},Cn={},CO={exports:{}},kO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var X=L.length;L.push(z);e:for(;0<X;){var ee=X-1>>>1,Q=L[ee];if(0<i(Q,z))L[ee]=z,L[X]=Q,X=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],X=L.pop();if(X!==z){L[0]=X;e:for(var ee=0,Q=L.length,oe=Q>>>1;ee<oe;){var ye=2*(ee+1)-1,Re=L[ye],ze=ye+1,Wt=L[ze];if(0>i(Re,X))ze<Q&&0>i(Wt,Re)?(L[ee]=Wt,L[ze]=X,ee=ze):(L[ee]=Re,L[ye]=X,ee=ye);else if(ze<Q&&0>i(Wt,X))L[ee]=Wt,L[ze]=X,ee=ze;else break e}}return z}function i(L,z){var X=L.sortIndex-z.sortIndex;return X!==0?X:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,_=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function O(L){if(g=!1,x(L),!_)if(n(l)!==null)_=!0,q(T);else{var z=n(u);z!==null&&G(O,z.startTime-L)}}function T(L,z){_=!1,g&&(g=!1,w(S),S=-1),p=!0;var X=d;try{for(x(z),f=n(l);f!==null&&(!(f.expirationTime>z)||L&&!C());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,d=f.priorityLevel;var Q=ee(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),x(z)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var ye=n(u);ye!==null&&G(O,ye.startTime-z),oe=!1}return oe}finally{f=null,d=X,p=!1}}var I=!1,E=null,S=-1,P=5,k=-1;function C(){return!(t.unstable_now()-k<P)}function j(){if(E!==null){var L=t.unstable_now();k=L;var z=!0;try{z=E(!0,L)}finally{z?N():(I=!1,E=null)}}else I=!1}var N;if(typeof v=="function")N=function(){v(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=j,N=function(){U.postMessage(null)}}else N=function(){y(j,0)};function q(L){E=L,I||(I=!0,N())}function G(L,z){S=y(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,q(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var X=d;d=z;try{return L()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=d;d=L;try{return z()}finally{d=X}},t.unstable_scheduleCallback=function(L,z,X){var ee=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,L={id:c++,callback:z,priorityLevel:L,startTime:X,expirationTime:Q,sortIndex:-1},X>ee?(L.sortIndex=X,e(u,L),n(l)===null&&L===n(u)&&(g?(w(S),S=-1):g=!0,G(O,X-ee))):(L.sortIndex=Q,e(l,L),_||p||(_=!0,q(T))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var z=d;return function(){var X=d;d=z;try{return L.apply(this,arguments)}finally{d=X}}}})(kO);CO.exports=kO;var G$=CO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K$=$,In=G$;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NO=new Set,zu={};function wo(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(zu[t]=e,t=0;t<e.length;t++)NO.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hy=Object.prototype.hasOwnProperty,X$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ME={},DE={};function Y$(t){return Hy.call(DE,t)?!0:Hy.call(ME,t)?!1:X$.test(t)?DE[t]=!0:(ME[t]=!0,!1)}function Q$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J$(t,e,n,r){if(e===null||typeof e>"u"||Q$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var qb=/[\-:]([a-z])/g;function Hb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qb,Hb);Bt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qb,Hb);Bt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qb,Hb);Bt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gb(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J$(e,n,i,r)&&(n=null),r||i===null?Y$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pi=K$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zf=Symbol.for("react.element"),Go=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),RO=Symbol.for("react.provider"),jO=Symbol.for("react.context"),Xb=Symbol.for("react.forward_ref"),Ky=Symbol.for("react.suspense"),Xy=Symbol.for("react.suspense_list"),Yb=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),MO=Symbol.for("react.offscreen"),$E=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=$E&&t[$E]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,kg;function hu(t){if(kg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kg=e&&e[1]||""}return`
`+kg+t}var Ng=!1;function Rg(t,e){if(!t||Ng)return"";Ng=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Ng=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hu(t):""}function Z$(t){switch(t.tag){case 5:return hu(t.type);case 16:return hu("Lazy");case 13:return hu("Suspense");case 19:return hu("SuspenseList");case 0:case 2:case 15:return t=Rg(t.type,!1),t;case 11:return t=Rg(t.type.render,!1),t;case 1:return t=Rg(t.type,!0),t;default:return""}}function Yy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ko:return"Fragment";case Go:return"Portal";case Gy:return"Profiler";case Kb:return"StrictMode";case Ky:return"Suspense";case Xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jO:return(t.displayName||"Context")+".Consumer";case RO:return(t._context.displayName||"Context")+".Provider";case Xb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yb:return e=t.displayName||null,e!==null?e:Yy(t.type)||"Memo";case Oi:e=t._payload,t=t._init;try{return Yy(t(e))}catch{}}return null}function eL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yy(e);case 8:return e===Kb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tL(t){var e=DO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wf(t){t._valueTracker||(t._valueTracker=tL(t))}function $O(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qy(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LO(t,e){e=e.checked,e!=null&&Gb(t,"checked",e,!1)}function Jy(t,e){LO(t,e);var n=oa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zy(t,e.type,oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zy(t,e,n){(e!=="number"||Kh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var du=Array.isArray;function us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(du(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oa(n)}}function VO(t,e){var n=oa(e.value),r=oa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function UE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qf,UO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qf=qf||document.createElement("div"),qf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nL=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(t){nL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eu[e]=Eu[t]})});function BO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eu.hasOwnProperty(t)&&Eu[t]?(""+e).trim():e+"px"}function zO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rL=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nv(t,e){if(e){if(rL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function rv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iv=null;function Qb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var av=null,cs=null,fs=null;function BE(t){if(t=nf(t)){if(typeof av!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=zp(e),av(t.stateNode,t.type,e))}}function WO(t){cs?fs?fs.push(t):fs=[t]:cs=t}function qO(){if(cs){var t=cs,e=fs;if(fs=cs=null,BE(t),e)for(t=0;t<e.length;t++)BE(e[t])}}function HO(t,e){return t(e)}function GO(){}var jg=!1;function KO(t,e,n){if(jg)return t(e,n);jg=!0;try{return HO(t,e,n)}finally{jg=!1,(cs!==null||fs!==null)&&(GO(),qO())}}function qu(t,e){var n=t.stateNode;if(n===null)return null;var r=zp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var ov=!1;if(ni)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){ov=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{ov=!1}function iL(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Su=!1,Xh=null,Yh=!1,sv=null,aL={onError:function(t){Su=!0,Xh=t}};function oL(t,e,n,r,i,a,o,s,l){Su=!1,Xh=null,iL.apply(aL,arguments)}function sL(t,e,n,r,i,a,o,s,l){if(oL.apply(this,arguments),Su){if(Su){var u=Xh;Su=!1,Xh=null}else throw Error(Y(198));Yh||(Yh=!0,sv=u)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zE(t){if(xo(t)!==t)throw Error(Y(188))}function lL(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return zE(i),t;if(a===r)return zE(i),e;a=a.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function YO(t){return t=lL(t),t!==null?QO(t):null}function QO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QO(t);if(e!==null)return e;t=t.sibling}return null}var JO=In.unstable_scheduleCallback,WE=In.unstable_cancelCallback,uL=In.unstable_shouldYield,cL=In.unstable_requestPaint,lt=In.unstable_now,fL=In.unstable_getCurrentPriorityLevel,Jb=In.unstable_ImmediatePriority,ZO=In.unstable_UserBlockingPriority,Qh=In.unstable_NormalPriority,hL=In.unstable_LowPriority,eC=In.unstable_IdlePriority,Vp=null,Ar=null;function dL(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Vp,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:gL,pL=Math.log,mL=Math.LN2;function gL(t){return t>>>=0,t===0?32:31-(pL(t)/mL|0)|0}var Hf=64,Gf=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=pu(s):(a&=o,a!==0&&(r=pu(a)))}else o=n&~i,o!==0?r=pu(o):a!==0&&(r=pu(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),i=1<<n,r|=t[n],e&=~i;return r}function yL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-fr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=yL(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function lv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tC(){var t=Hf;return Hf<<=1,!(Hf&4194240)&&(Hf=64),t}function Mg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ef(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function bL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Zb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function nC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rC,e_,iC,aC,oC,uv=!1,Kf=[],Wi=null,qi=null,Hi=null,Hu=new Map,Gu=new Map,Ni=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qE(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(e.pointerId)}}function Yl(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=nf(e),e!==null&&e_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wL(t,e,n,r,i){switch(e){case"focusin":return Wi=Yl(Wi,t,e,n,r,i),!0;case"dragenter":return qi=Yl(qi,t,e,n,r,i),!0;case"mouseover":return Hi=Yl(Hi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Hu.set(a,Yl(Hu.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Gu.set(a,Yl(Gu.get(a)||null,t,e,n,r,i)),!0}return!1}function sC(t){var e=Ba(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=XO(n),e!==null){t.blockedOn=e,oC(t.priority,function(){iC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iv=r,n.target.dispatchEvent(r),iv=null}else return e=nf(n),e!==null&&e_(e),t.blockedOn=n,!1;e.shift()}return!0}function HE(t,e,n){Ih(t)&&n.delete(e)}function xL(){uv=!1,Wi!==null&&Ih(Wi)&&(Wi=null),qi!==null&&Ih(qi)&&(qi=null),Hi!==null&&Ih(Hi)&&(Hi=null),Hu.forEach(HE),Gu.forEach(HE)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,uv||(uv=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,xL)))}function Ku(t){function e(i){return Ql(i,t)}if(0<Kf.length){Ql(Kf[0],t);for(var n=1;n<Kf.length;n++){var r=Kf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&Ql(Wi,t),qi!==null&&Ql(qi,t),Hi!==null&&Ql(Hi,t),Hu.forEach(e),Gu.forEach(e),n=0;n<Ni.length;n++)r=Ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)sC(n),n.blockedOn===null&&Ni.shift()}var hs=pi.ReactCurrentBatchConfig,Zh=!0;function EL(t,e,n,r){var i=ke,a=hs.transition;hs.transition=null;try{ke=1,t_(t,e,n,r)}finally{ke=i,hs.transition=a}}function SL(t,e,n,r){var i=ke,a=hs.transition;hs.transition=null;try{ke=4,t_(t,e,n,r)}finally{ke=i,hs.transition=a}}function t_(t,e,n,r){if(Zh){var i=cv(t,e,n,r);if(i===null)qg(t,e,r,ed,n),qE(t,r);else if(wL(i,t,e,n,r))r.stopPropagation();else if(qE(t,r),e&4&&-1<_L.indexOf(t)){for(;i!==null;){var a=nf(i);if(a!==null&&rC(a),a=cv(t,e,n,r),a===null&&qg(t,e,r,ed,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else qg(t,e,r,null,n)}}var ed=null;function cv(t,e,n,r){if(ed=null,t=Qb(r),t=Ba(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ed=t,null}function lC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fL()){case Jb:return 1;case ZO:return 4;case Qh:case hL:return 16;case eC:return 536870912;default:return 16}default:return 16}}var Vi=null,n_=null,Oh=null;function uC(){if(Oh)return Oh;var t,e=n_,n=e.length,r,i="value"in Vi?Vi.value:Vi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Oh=i.slice(t,1<r?1-r:void 0)}function Ch(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xf(){return!0}function GE(){return!1}function kn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xf:GE,this.isPropagationStopped=GE,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),e}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r_=kn(ul),tf=tt({},ul,{view:0,detail:0}),TL=kn(tf),Dg,$g,Jl,Fp=tt({},tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jl&&(Jl&&t.type==="mousemove"?(Dg=t.screenX-Jl.screenX,$g=t.screenY-Jl.screenY):$g=Dg=0,Jl=t),Dg)},movementY:function(t){return"movementY"in t?t.movementY:$g}}),KE=kn(Fp),AL=tt({},Fp,{dataTransfer:0}),PL=kn(AL),IL=tt({},tf,{relatedTarget:0}),Lg=kn(IL),OL=tt({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),CL=kn(OL),kL=tt({},ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NL=kn(kL),RL=tt({},ul,{data:0}),XE=kn(RL),jL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ML={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $L(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DL[t])?!!e[t]:!1}function i_(){return $L}var LL=tt({},tf,{key:function(t){if(t.key){var e=jL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ch(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ML[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i_,charCode:function(t){return t.type==="keypress"?Ch(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ch(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VL=kn(LL),FL=tt({},Fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YE=kn(FL),UL=tt({},tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i_}),BL=kn(UL),zL=tt({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),WL=kn(zL),qL=tt({},Fp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HL=kn(qL),GL=[9,13,27,32],a_=ni&&"CompositionEvent"in window,Tu=null;ni&&"documentMode"in document&&(Tu=document.documentMode);var KL=ni&&"TextEvent"in window&&!Tu,cC=ni&&(!a_||Tu&&8<Tu&&11>=Tu),QE=" ",JE=!1;function fC(t,e){switch(t){case"keyup":return GL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xo=!1;function XL(t,e){switch(t){case"compositionend":return hC(e);case"keypress":return e.which!==32?null:(JE=!0,QE);case"textInput":return t=e.data,t===QE&&JE?null:t;default:return null}}function YL(t,e){if(Xo)return t==="compositionend"||!a_&&fC(t,e)?(t=uC(),Oh=n_=Vi=null,Xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cC&&e.locale!=="ko"?null:e.data;default:return null}}var QL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QL[t.type]:e==="textarea"}function dC(t,e,n,r){WO(r),e=td(e,"onChange"),0<e.length&&(n=new r_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Au=null,Xu=null;function JL(t){SC(t,0)}function Up(t){var e=Jo(t);if($O(e))return t}function ZL(t,e){if(t==="change")return e}var pC=!1;if(ni){var Vg;if(ni){var Fg="oninput"in document;if(!Fg){var e1=document.createElement("div");e1.setAttribute("oninput","return;"),Fg=typeof e1.oninput=="function"}Vg=Fg}else Vg=!1;pC=Vg&&(!document.documentMode||9<document.documentMode)}function t1(){Au&&(Au.detachEvent("onpropertychange",mC),Xu=Au=null)}function mC(t){if(t.propertyName==="value"&&Up(Xu)){var e=[];dC(e,Xu,t,Qb(t)),KO(JL,e)}}function e4(t,e,n){t==="focusin"?(t1(),Au=e,Xu=n,Au.attachEvent("onpropertychange",mC)):t==="focusout"&&t1()}function t4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Up(Xu)}function n4(t,e){if(t==="click")return Up(e)}function r4(t,e){if(t==="input"||t==="change")return Up(e)}function i4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:i4;function Yu(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hy.call(e,i)||!dr(t[i],e[i]))return!1}return!0}function n1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r1(t,e){var n=n1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n1(n)}}function gC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yC(){for(var t=window,e=Kh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kh(t.document)}return e}function o_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a4(t){var e=yC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gC(n.ownerDocument.documentElement,n)){if(r!==null&&o_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=r1(n,a);var o=r1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o4=ni&&"documentMode"in document&&11>=document.documentMode,Yo=null,fv=null,Pu=null,hv=!1;function i1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hv||Yo==null||Yo!==Kh(r)||(r=Yo,"selectionStart"in r&&o_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pu&&Yu(Pu,r)||(Pu=r,r=td(fv,"onSelect"),0<r.length&&(e=new r_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function Yf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qo={animationend:Yf("Animation","AnimationEnd"),animationiteration:Yf("Animation","AnimationIteration"),animationstart:Yf("Animation","AnimationStart"),transitionend:Yf("Transition","TransitionEnd")},Ug={},vC={};ni&&(vC=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Bp(t){if(Ug[t])return Ug[t];if(!Qo[t])return t;var e=Qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vC)return Ug[t]=e[n];return t}var bC=Bp("animationend"),_C=Bp("animationiteration"),wC=Bp("animationstart"),xC=Bp("transitionend"),EC=new Map,a1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){EC.set(t,e),wo(e,[t])}for(var Bg=0;Bg<a1.length;Bg++){var zg=a1[Bg],s4=zg.toLowerCase(),l4=zg[0].toUpperCase()+zg.slice(1);pa(s4,"on"+l4)}pa(bC,"onAnimationEnd");pa(_C,"onAnimationIteration");pa(wC,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(xC,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u4=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function o1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sL(r,e,void 0,t),t.currentTarget=null}function SC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;o1(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;o1(i,s,u),a=l}}}if(Yh)throw t=sv,Yh=!1,sv=null,t}function qe(t,e){var n=e[yv];n===void 0&&(n=e[yv]=new Set);var r=t+"__bubble";n.has(r)||(TC(e,t,2,!1),n.add(r))}function Wg(t,e,n){var r=0;e&&(r|=4),TC(n,t,r,e)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[Qf]){t[Qf]=!0,NO.forEach(function(n){n!=="selectionchange"&&(u4.has(n)||Wg(n,!1,t),Wg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qf]||(e[Qf]=!0,Wg("selectionchange",!1,e))}}function TC(t,e,n,r){switch(lC(e)){case 1:var i=EL;break;case 4:i=SL;break;default:i=t_}n=i.bind(null,e,n,t),i=void 0,!ov||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qg(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ba(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}KO(function(){var u=a,c=Qb(n),f=[];e:{var d=EC.get(t);if(d!==void 0){var p=r_,_=t;switch(t){case"keypress":if(Ch(n)===0)break e;case"keydown":case"keyup":p=VL;break;case"focusin":_="focus",p=Lg;break;case"focusout":_="blur",p=Lg;break;case"beforeblur":case"afterblur":p=Lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=KE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BL;break;case bC:case _C:case wC:p=CL;break;case xC:p=WL;break;case"scroll":p=TL;break;case"wheel":p=HL;break;case"copy":case"cut":case"paste":p=NL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YE}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,x;v!==null;){x=v;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,w!==null&&(O=qu(v,w),O!=null&&g.push(Ju(v,O,x)))),y)break;v=v.return}0<g.length&&(d=new p(d,_,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==iv&&(_=n.relatedTarget||n.fromElement)&&(Ba(_)||_[ri]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Ba(_):null,_!==null&&(y=xo(_),_!==y||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(g=KE,O="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=YE,O="onPointerLeave",w="onPointerEnter",v="pointer"),y=p==null?d:Jo(p),x=_==null?d:Jo(_),d=new g(O,v+"leave",p,n,c),d.target=y,d.relatedTarget=x,O=null,Ba(c)===u&&(g=new g(w,v+"enter",_,n,c),g.target=x,g.relatedTarget=y,O=g),y=O,p&&_)t:{for(g=p,w=_,v=0,x=g;x;x=Lo(x))v++;for(x=0,O=w;O;O=Lo(O))x++;for(;0<v-x;)g=Lo(g),v--;for(;0<x-v;)w=Lo(w),x--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Lo(g),w=Lo(w)}g=null}else g=null;p!==null&&s1(f,d,p,g,!1),_!==null&&y!==null&&s1(f,y,_,g,!0)}}e:{if(d=u?Jo(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=ZL;else if(ZE(d))if(pC)T=r4;else{T=t4;var I=e4}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=n4);if(T&&(T=T(t,u))){dC(f,T,n,c);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&Zy(d,"number",d.value)}switch(I=u?Jo(u):window,t){case"focusin":(ZE(I)||I.contentEditable==="true")&&(Yo=I,fv=u,Pu=null);break;case"focusout":Pu=fv=Yo=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,i1(f,n,c);break;case"selectionchange":if(o4)break;case"keydown":case"keyup":i1(f,n,c)}var E;if(a_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Xo?fC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(cC&&n.locale!=="ko"&&(Xo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Xo&&(E=uC()):(Vi=c,n_="value"in Vi?Vi.value:Vi.textContent,Xo=!0)),I=td(u,S),0<I.length&&(S=new XE(S,t,null,n,c),f.push({event:S,listeners:I}),E?S.data=E:(E=hC(n),E!==null&&(S.data=E)))),(E=KL?XL(t,n):YL(t,n))&&(u=td(u,"onBeforeInput"),0<u.length&&(c=new XE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}SC(f,e)})}function Ju(t,e,n){return{instance:t,listener:e,currentTarget:n}}function td(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=qu(t,n),a!=null&&r.unshift(Ju(t,a,i)),a=qu(t,e),a!=null&&r.push(Ju(t,a,i))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function s1(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=qu(n,a),l!=null&&o.unshift(Ju(n,l,s))):i||(l=qu(n,a),l!=null&&o.push(Ju(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c4=/\r\n?/g,f4=/\u0000|\uFFFD/g;function l1(t){return(typeof t=="string"?t:""+t).replace(c4,`
`).replace(f4,"")}function Jf(t,e,n){if(e=l1(e),l1(t)!==e&&n)throw Error(Y(425))}function nd(){}var dv=null,pv=null;function mv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,d4=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(t){return u1.resolve(null).then(t).catch(p4)}:gv;function p4(t){setTimeout(function(){throw t})}function Hg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ku(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ku(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Er="__reactFiber$"+cl,Zu="__reactProps$"+cl,ri="__reactContainer$"+cl,yv="__reactEvents$"+cl,m4="__reactListeners$"+cl,g4="__reactHandles$"+cl;function Ba(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c1(t);t!==null;){if(n=t[Er])return n;t=c1(t)}return e}t=n,n=t.parentNode}return null}function nf(t){return t=t[Er]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function zp(t){return t[Zu]||null}var vv=[],Zo=-1;function ma(t){return{current:t}}function Ke(t){0>Zo||(t.current=vv[Zo],vv[Zo]=null,Zo--)}function Be(t,e){Zo++,vv[Zo]=t.current,t.current=e}var sa={},en=ma(sa),mn=ma(!1),no=sa;function Ts(t,e){var n=t.type.contextTypes;if(!n)return sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function rd(){Ke(mn),Ke(en)}function f1(t,e,n){if(en.current!==sa)throw Error(Y(168));Be(en,e),Be(mn,n)}function AC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,eL(t)||"Unknown",i));return tt({},n,r)}function id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,no=en.current,Be(en,t),Be(mn,mn.current),!0}function h1(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=AC(t,e,no),r.__reactInternalMemoizedMergedChildContext=t,Ke(mn),Ke(en),Be(en,t)):Ke(mn),Be(mn,n)}var Br=null,Wp=!1,Gg=!1;function PC(t){Br===null?Br=[t]:Br.push(t)}function y4(t){Wp=!0,PC(t)}function ga(){if(!Gg&&Br!==null){Gg=!0;var t=0,e=ke;try{var n=Br;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Br=null,Wp=!1}catch(i){throw Br!==null&&(Br=Br.slice(t+1)),JO(Jb,ga),i}finally{ke=e,Gg=!1}}return null}var es=[],ts=0,ad=null,od=0,$n=[],Ln=0,ro=null,zr=1,Wr="";function Da(t,e){es[ts++]=od,es[ts++]=ad,ad=t,od=e}function IC(t,e,n){$n[Ln++]=zr,$n[Ln++]=Wr,$n[Ln++]=ro,ro=t;var r=zr;t=Wr;var i=32-fr(r)-1;r&=~(1<<i),n+=1;var a=32-fr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zr=1<<32-fr(e)+i|n<<i|r,Wr=a+t}else zr=1<<a|n<<i|r,Wr=t}function s_(t){t.return!==null&&(Da(t,1),IC(t,1,0))}function l_(t){for(;t===ad;)ad=es[--ts],es[ts]=null,od=es[--ts],es[ts]=null;for(;t===ro;)ro=$n[--Ln],$n[Ln]=null,Wr=$n[--Ln],$n[Ln]=null,zr=$n[--Ln],$n[Ln]=null}var Pn=null,Tn=null,Xe=!1,or=null;function OC(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,Tn=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ro!==null?{id:zr,overflow:Wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,Tn=null,!0):!1;default:return!1}}function bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _v(t){if(Xe){var e=Tn;if(e){var n=e;if(!d1(t,e)){if(bv(t))throw Error(Y(418));e=Gi(n.nextSibling);var r=Pn;e&&d1(t,e)?OC(r,n):(t.flags=t.flags&-4097|2,Xe=!1,Pn=t)}}else{if(bv(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Xe=!1,Pn=t}}}function p1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function Zf(t){if(t!==Pn)return!1;if(!Xe)return p1(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mv(t.type,t.memoizedProps)),e&&(e=Tn)){if(bv(t))throw CC(),Error(Y(418));for(;e;)OC(t,e),e=Gi(e.nextSibling)}if(p1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Pn?Gi(t.stateNode.nextSibling):null;return!0}function CC(){for(var t=Tn;t;)t=Gi(t.nextSibling)}function As(){Tn=Pn=null,Xe=!1}function u_(t){or===null?or=[t]:or.push(t)}var v4=pi.ReactCurrentBatchConfig;function Zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function eh(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m1(t){var e=t._init;return e(t._payload)}function kC(t){function e(w,v){if(t){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Qi(w,v),w.index=0,w.sibling=null,w}function a(w,v,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,v,x,O){return v===null||v.tag!==6?(v=ey(x,w.mode,O),v.return=w,v):(v=i(v,x),v.return=w,v)}function l(w,v,x,O){var T=x.type;return T===Ko?c(w,v,x.props.children,O,x.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Oi&&m1(T)===v.type)?(O=i(v,x.props),O.ref=Zl(w,v,x),O.return=w,O):(O=$h(x.type,x.key,x.props,null,w.mode,O),O.ref=Zl(w,v,x),O.return=w,O)}function u(w,v,x,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=ty(x,w.mode,O),v.return=w,v):(v=i(v,x.children||[]),v.return=w,v)}function c(w,v,x,O,T){return v===null||v.tag!==7?(v=Qa(x,w.mode,O,T),v.return=w,v):(v=i(v,x),v.return=w,v)}function f(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ey(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zf:return x=$h(v.type,v.key,v.props,null,w.mode,x),x.ref=Zl(w,null,v),x.return=w,x;case Go:return v=ty(v,w.mode,x),v.return=w,v;case Oi:var O=v._init;return f(w,O(v._payload),x)}if(du(v)||Kl(v))return v=Qa(v,w.mode,x,null),v.return=w,v;eh(w,v)}return null}function d(w,v,x,O){var T=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(w,v,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zf:return x.key===T?l(w,v,x,O):null;case Go:return x.key===T?u(w,v,x,O):null;case Oi:return T=x._init,d(w,v,T(x._payload),O)}if(du(x)||Kl(x))return T!==null?null:c(w,v,x,O,null);eh(w,x)}return null}function p(w,v,x,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(x)||null,s(v,w,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case zf:return w=w.get(O.key===null?x:O.key)||null,l(v,w,O,T);case Go:return w=w.get(O.key===null?x:O.key)||null,u(v,w,O,T);case Oi:var I=O._init;return p(w,v,x,I(O._payload),T)}if(du(O)||Kl(O))return w=w.get(x)||null,c(v,w,O,T,null);eh(v,O)}return null}function _(w,v,x,O){for(var T=null,I=null,E=v,S=v=0,P=null;E!==null&&S<x.length;S++){E.index>S?(P=E,E=null):P=E.sibling;var k=d(w,E,x[S],O);if(k===null){E===null&&(E=P);break}t&&E&&k.alternate===null&&e(w,E),v=a(k,v,S),I===null?T=k:I.sibling=k,I=k,E=P}if(S===x.length)return n(w,E),Xe&&Da(w,S),T;if(E===null){for(;S<x.length;S++)E=f(w,x[S],O),E!==null&&(v=a(E,v,S),I===null?T=E:I.sibling=E,I=E);return Xe&&Da(w,S),T}for(E=r(w,E);S<x.length;S++)P=p(E,w,S,x[S],O),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?S:P.key),v=a(P,v,S),I===null?T=P:I.sibling=P,I=P);return t&&E.forEach(function(C){return e(w,C)}),Xe&&Da(w,S),T}function g(w,v,x,O){var T=Kl(x);if(typeof T!="function")throw Error(Y(150));if(x=T.call(x),x==null)throw Error(Y(151));for(var I=T=null,E=v,S=v=0,P=null,k=x.next();E!==null&&!k.done;S++,k=x.next()){E.index>S?(P=E,E=null):P=E.sibling;var C=d(w,E,k.value,O);if(C===null){E===null&&(E=P);break}t&&E&&C.alternate===null&&e(w,E),v=a(C,v,S),I===null?T=C:I.sibling=C,I=C,E=P}if(k.done)return n(w,E),Xe&&Da(w,S),T;if(E===null){for(;!k.done;S++,k=x.next())k=f(w,k.value,O),k!==null&&(v=a(k,v,S),I===null?T=k:I.sibling=k,I=k);return Xe&&Da(w,S),T}for(E=r(w,E);!k.done;S++,k=x.next())k=p(E,w,S,k.value,O),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?S:k.key),v=a(k,v,S),I===null?T=k:I.sibling=k,I=k);return t&&E.forEach(function(j){return e(w,j)}),Xe&&Da(w,S),T}function y(w,v,x,O){if(typeof x=="object"&&x!==null&&x.type===Ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case zf:e:{for(var T=x.key,I=v;I!==null;){if(I.key===T){if(T=x.type,T===Ko){if(I.tag===7){n(w,I.sibling),v=i(I,x.props.children),v.return=w,w=v;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Oi&&m1(T)===I.type){n(w,I.sibling),v=i(I,x.props),v.ref=Zl(w,I,x),v.return=w,w=v;break e}n(w,I);break}else e(w,I);I=I.sibling}x.type===Ko?(v=Qa(x.props.children,w.mode,O,x.key),v.return=w,w=v):(O=$h(x.type,x.key,x.props,null,w.mode,O),O.ref=Zl(w,v,x),O.return=w,w=O)}return o(w);case Go:e:{for(I=x.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(w,v.sibling),v=i(v,x.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=ty(x,w.mode,O),v.return=w,w=v}return o(w);case Oi:return I=x._init,y(w,v,I(x._payload),O)}if(du(x))return _(w,v,x,O);if(Kl(x))return g(w,v,x,O);eh(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,x),v.return=w,w=v):(n(w,v),v=ey(x,w.mode,O),v.return=w,w=v),o(w)):n(w,v)}return y}var Ps=kC(!0),NC=kC(!1),sd=ma(null),ld=null,ns=null,c_=null;function f_(){c_=ns=ld=null}function h_(t){var e=sd.current;Ke(sd),t._currentValue=e}function wv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ds(t,e){ld=t,c_=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(c_!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(ld===null)throw Error(Y(308));ns=t,ld.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var za=null;function d_(t){za===null?za=[t]:za.push(t)}function RC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,d_(e)):(n.next=i.next,i.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ci=!1;function p_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ii(t,n)}return i=r.interleaved,i===null?(e.next=e,d_(r)):(e.next=i.next,i.next=e),r.interleaved=e,ii(t,n)}function kh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zb(t,n)}}function g1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ud(t,e,n,r){var i=t.updateQueue;Ci=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=t,g=s;switch(d=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(p,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,d=typeof _=="function"?_.call(p,f,d):_,d==null)break e;f=tt({},f,d);break e;case 2:Ci=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ao|=o,t.lanes=o,t.memoizedState=f}}function y1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var rf={},Pr=ma(rf),ec=ma(rf),tc=ma(rf);function Wa(t){if(t===rf)throw Error(Y(174));return t}function m_(t,e){switch(Be(tc,e),Be(ec,t),Be(Pr,rf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tv(e,t)}Ke(Pr),Be(Pr,e)}function Is(){Ke(Pr),Ke(ec),Ke(tc)}function MC(t){Wa(tc.current);var e=Wa(Pr.current),n=tv(e,t.type);e!==n&&(Be(ec,t),Be(Pr,n))}function g_(t){ec.current===t&&(Ke(Pr),Ke(ec))}var Ze=ma(0);function cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kg=[];function y_(){for(var t=0;t<Kg.length;t++)Kg[t]._workInProgressVersionPrimary=null;Kg.length=0}var Nh=pi.ReactCurrentDispatcher,Xg=pi.ReactCurrentBatchConfig,io=0,et=null,xt=null,Rt=null,fd=!1,Iu=!1,nc=0,b4=0;function qt(){throw Error(Y(321))}function v_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function b_(t,e,n,r,i,a){if(io=a,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nh.current=t===null||t.memoizedState===null?E4:S4,t=n(r,i),Iu){a=0;do{if(Iu=!1,nc=0,25<=a)throw Error(Y(301));a+=1,Rt=xt=null,e.updateQueue=null,Nh.current=T4,t=n(r,i)}while(Iu)}if(Nh.current=hd,e=xt!==null&&xt.next!==null,io=0,Rt=xt=et=null,fd=!1,e)throw Error(Y(300));return t}function __(){var t=nc!==0;return nc=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?et.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Kn(){if(xt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Rt===null?et.memoizedState:Rt.next;if(e!==null)Rt=e,xt=t;else{if(t===null)throw Error(Y(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Rt===null?et.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function rc(t,e){return typeof e=="function"?e(t):e}function Yg(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((io&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,et.lanes|=c,ao|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,dr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,et.lanes|=a,ao|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qg(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);dr(a,e.memoizedState)||(dn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function DC(){}function $C(t,e){var n=et,r=Kn(),i=e(),a=!dr(r.memoizedState,i);if(a&&(r.memoizedState=i,dn=!0),r=r.queue,w_(FC.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,ic(9,VC.bind(null,n,r,i,e),void 0,null),jt===null)throw Error(Y(349));io&30||LC(n,e,i)}return i}function LC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VC(t,e,n,r){e.value=n,e.getSnapshot=r,UC(e)&&BC(t)}function FC(t,e,n){return n(function(){UC(e)&&BC(t)})}function UC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function BC(t){var e=ii(t,1);e!==null&&hr(e,t,1,-1)}function v1(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:t},e.queue=t,t=t.dispatch=x4.bind(null,et,t),[e.memoizedState,t]}function ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zC(){return Kn().memoizedState}function Rh(t,e,n,r){var i=wr();et.flags|=t,i.memoizedState=ic(1|e,n,void 0,r===void 0?null:r)}function qp(t,e,n,r){var i=Kn();r=r===void 0?null:r;var a=void 0;if(xt!==null){var o=xt.memoizedState;if(a=o.destroy,r!==null&&v_(r,o.deps)){i.memoizedState=ic(e,n,a,r);return}}et.flags|=t,i.memoizedState=ic(1|e,n,a,r)}function b1(t,e){return Rh(8390656,8,t,e)}function w_(t,e){return qp(2048,8,t,e)}function WC(t,e){return qp(4,2,t,e)}function qC(t,e){return qp(4,4,t,e)}function HC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GC(t,e,n){return n=n!=null?n.concat([t]):null,qp(4,4,HC.bind(null,e,t),n)}function x_(){}function KC(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XC(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YC(t,e,n){return io&21?(dr(n,e)||(n=tC(),et.lanes|=n,ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function _4(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Xg.transition;Xg.transition={};try{t(!1),e()}finally{ke=n,Xg.transition=r}}function QC(){return Kn().memoizedState}function w4(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JC(t))ZC(e,n);else if(n=RC(t,e,n,r),n!==null){var i=on();hr(n,t,r,i),ek(n,e,r)}}function x4(t,e,n){var r=Yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JC(t))ZC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,dr(s,o)){var l=e.interleaved;l===null?(i.next=i,d_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=RC(t,e,i,r),n!==null&&(i=on(),hr(n,t,r,i),ek(n,e,r))}}function JC(t){var e=t.alternate;return t===et||e!==null&&e===et}function ZC(t,e){Iu=fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ek(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zb(t,n)}}var hd={readContext:Gn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},E4={readContext:Gn,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:b1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rh(4194308,4,HC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rh(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w4.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:v1,useDebugValue:x_,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=v1(!1),e=t[0];return t=_4.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=wr();if(Xe){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),jt===null)throw Error(Y(349));io&30||LC(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,b1(FC.bind(null,r,a,t),[t]),r.flags|=2048,ic(9,VC.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=wr(),e=jt.identifierPrefix;if(Xe){var n=Wr,r=zr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=b4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S4={readContext:Gn,useCallback:KC,useContext:Gn,useEffect:w_,useImperativeHandle:GC,useInsertionEffect:WC,useLayoutEffect:qC,useMemo:XC,useReducer:Yg,useRef:zC,useState:function(){return Yg(rc)},useDebugValue:x_,useDeferredValue:function(t){var e=Kn();return YC(e,xt.memoizedState,t)},useTransition:function(){var t=Yg(rc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:DC,useSyncExternalStore:$C,useId:QC,unstable_isNewReconciler:!1},T4={readContext:Gn,useCallback:KC,useContext:Gn,useEffect:w_,useImperativeHandle:GC,useInsertionEffect:WC,useLayoutEffect:qC,useMemo:XC,useReducer:Qg,useRef:zC,useState:function(){return Qg(rc)},useDebugValue:x_,useDeferredValue:function(t){var e=Kn();return xt===null?e.memoizedState=t:YC(e,xt.memoizedState,t)},useTransition:function(){var t=Qg(rc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:DC,useSyncExternalStore:$C,useId:QC,unstable_isNewReconciler:!1};function nr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hp={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=Yi(t),a=Yr(r,i);a.payload=e,n!=null&&(a.callback=n),e=Ki(t,a,i),e!==null&&(hr(e,t,i,r),kh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=Yi(t),a=Yr(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ki(t,a,i),e!==null&&(hr(e,t,i,r),kh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Yi(t),i=Yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ki(t,i,r),e!==null&&(hr(e,t,r,n),kh(e,t,r))}};function _1(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Yu(n,r)||!Yu(i,a):!0}function tk(t,e,n){var r=!1,i=sa,a=e.contextType;return typeof a=="object"&&a!==null?a=Gn(a):(i=gn(e)?no:en.current,r=e.contextTypes,a=(r=r!=null)?Ts(t,i):sa),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function w1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hp.enqueueReplaceState(e,e.state,null)}function Ev(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},p_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Gn(a):(a=gn(e)?no:en.current,i.context=Ts(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(xv(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hp.enqueueReplaceState(i,i.state,null),ud(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Os(t,e){try{var n="",r=e;do n+=Z$(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Jg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var A4=typeof WeakMap=="function"?WeakMap:Map;function nk(t,e,n){n=Yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pd||(pd=!0,jv=r),Sv(t,e)},n}function rk(t,e,n){n=Yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Sv(t,e),typeof r!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function x1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new A4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F4.bind(null,t,e,n),e.then(t,t))}function E1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yr(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var P4=pi.ReactCurrentOwner,dn=!1;function rn(t,e,n,r){e.child=t===null?NC(e,null,n,r):Ps(e,t.child,n,r)}function T1(t,e,n,r,i){n=n.render;var a=e.ref;return ds(e,i),r=b_(t,e,n,r,a,i),n=__(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(Xe&&n&&s_(e),e.flags|=1,rn(t,e,r,i),e.child)}function A1(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!C_(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,ik(t,e,a,r,i)):(t=$h(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Yu,n(o,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=Qi(a,r),t.ref=e.ref,t.return=e,e.child=t}function ik(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Yu(a,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,ai(t,e,i)}return Tv(t,e,n,r,i)}function ak(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(is,xn),xn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(is,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Be(is,xn),xn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Be(is,xn),xn|=r;return rn(t,e,i,n),e.child}function ok(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tv(t,e,n,r,i){var a=gn(n)?no:en.current;return a=Ts(e,a),ds(e,i),n=b_(t,e,n,r,a,i),r=__(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(Xe&&r&&s_(e),e.flags|=1,rn(t,e,n,i),e.child)}function P1(t,e,n,r,i){if(gn(n)){var a=!0;id(e)}else a=!1;if(ds(e,i),e.stateNode===null)jh(t,e),tk(e,n,r),Ev(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gn(u):(u=gn(n)?no:en.current,u=Ts(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&w1(e,o,r,u),Ci=!1;var d=e.memoizedState;o.state=d,ud(e,r,o,i),l=e.memoizedState,s!==r||d!==l||mn.current||Ci?(typeof c=="function"&&(xv(e,n,c,r),l=e.memoizedState),(s=Ci||_1(e,n,s,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:nr(e.type,s),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gn(l):(l=gn(n)?no:en.current,l=Ts(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&w1(e,o,r,l),Ci=!1,d=e.memoizedState,o.state=d,ud(e,r,o,i);var _=e.memoizedState;s!==f||d!==_||mn.current||Ci?(typeof p=="function"&&(xv(e,n,p,r),_=e.memoizedState),(u=Ci||_1(e,n,u,r,d,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Av(t,e,n,r,a,i)}function Av(t,e,n,r,i,a){ok(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&h1(e,n,!1),ai(t,e,a);r=e.stateNode,P4.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ps(e,t.child,null,a),e.child=Ps(e,null,s,a)):rn(t,e,s,a),e.memoizedState=r.state,i&&h1(e,n,!0),e.child}function sk(t){var e=t.stateNode;e.pendingContext?f1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f1(t,e.context,!1),m_(t,e.containerInfo)}function I1(t,e,n,r,i){return As(),u_(i),e.flags|=256,rn(t,e,n,r),e.child}var Pv={dehydrated:null,treeContext:null,retryLane:0};function Iv(t){return{baseLanes:t,cachePool:null,transitions:null}}function lk(t,e,n){var r=e.pendingProps,i=Ze.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Ze,i&1),t===null)return _v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xp(o,r,0,null),t=Qa(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Iv(n),e.memoizedState=Pv,t):E_(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return I4(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Qi(s,a):(a=Qa(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Iv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Pv,r}return a=t.child,t=a.sibling,r=Qi(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function E_(t,e){return e=Xp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function th(t,e,n,r){return r!==null&&u_(r),Ps(e,t.child,null,n),t=E_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I4(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Jg(Error(Y(422))),th(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Xp({mode:"visible",children:r.children},i,0,null),a=Qa(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Ps(e,t.child,null,o),e.child.memoizedState=Iv(o),e.memoizedState=Pv,a);if(!(e.mode&1))return th(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Y(419)),r=Jg(a,r,void 0),th(t,e,o,r)}if(s=(o&t.childLanes)!==0,dn||s){if(r=jt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ii(t,i),hr(r,t,i,-1))}return O_(),r=Jg(Error(Y(421))),th(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U4.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Tn=Gi(i.nextSibling),Pn=e,Xe=!0,or=null,t!==null&&($n[Ln++]=zr,$n[Ln++]=Wr,$n[Ln++]=ro,zr=t.id,Wr=t.overflow,ro=e),e=E_(e,r.children),e.flags|=4096,e)}function O1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wv(t.return,e,n)}function Zg(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function uk(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(rn(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O1(t,n,e);else if(t.tag===19)O1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zg(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zg(e,!0,n,null,a);break;case"together":Zg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O4(t,e,n){switch(e.tag){case 3:sk(e),As();break;case 5:MC(e);break;case 1:gn(e.type)&&id(e);break;case 4:m_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(sd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?lk(t,e,n):(Be(Ze,Ze.current&1),t=ai(t,e,n),t!==null?t.sibling:null);Be(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,ak(t,e,n)}return ai(t,e,n)}var ck,Ov,fk,hk;ck=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ov=function(){};fk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wa(Pr.current);var a=null;switch(n){case"input":i=Qy(t,i),r=Qy(t,r),a=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),a=[];break;case"textarea":i=ev(t,i),r=ev(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nd)}nv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};hk=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C4(t,e,n){var r=e.pendingProps;switch(l_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return gn(e.type)&&rd(),Ht(e),null;case 3:return r=e.stateNode,Is(),Ke(mn),Ke(en),y_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&($v(or),or=null))),Ov(t,e),Ht(e),null;case 5:g_(e);var i=Wa(tc.current);if(n=e.type,t!==null&&e.stateNode!=null)fk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Ht(e),null}if(t=Wa(Pr.current),Zf(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Er]=e,r[Zu]=a,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<mu.length;i++)qe(mu[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":LE(r,a),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qe("invalid",r);break;case"textarea":FE(r,a),qe("invalid",r)}nv(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Jf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Jf(r.textContent,s,t),i=["children",""+s]):zu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Wf(r),VE(r,a,!0);break;case"textarea":Wf(r),UE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=nd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Er]=e,t[Zu]=r,ck(t,e,!1,!1),e.stateNode=t;e:{switch(o=rv(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<mu.length;i++)qe(mu[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":LE(t,r),i=Qy(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":FE(t,r),i=ev(t,r),qe("invalid",t);break;default:i=r}nv(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?zO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UO(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wu(t,l):typeof l=="number"&&Wu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qe("scroll",t):l!=null&&Gb(t,a,l,o))}switch(n){case"input":Wf(t),VE(t,r,!1);break;case"textarea":Wf(t),UE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oa(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?us(t,!!r.multiple,a,!1):r.defaultValue!=null&&us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)hk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Wa(tc.current),Wa(Pr.current),Zf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(a=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:Jf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jf(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return Ht(e),null;case 13:if(Ke(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Tn!==null&&e.mode&1&&!(e.flags&128))CC(),As(),e.flags|=98560,a=!1;else if(a=Zf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Y(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Y(317));a[Er]=e}else As(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),a=!1}else or!==null&&($v(or),or=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?Et===0&&(Et=3):O_())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return Is(),Ov(t,e),t===null&&Qu(e.stateNode.containerInfo),Ht(e),null;case 10:return h_(e.type._context),Ht(e),null;case 17:return gn(e.type)&&rd(),Ht(e),null;case 19:if(Ke(Ze),a=e.memoizedState,a===null)return Ht(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)eu(a,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cd(t),o!==null){for(e.flags|=128,eu(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ze,Ze.current&1|2),e.child}t=t.sibling}a.tail!==null&&lt()>Cs&&(e.flags|=128,r=!0,eu(a,!1),e.lanes=4194304)}else{if(!r)if(t=cd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xe)return Ht(e),null}else 2*lt()-a.renderingStartTime>Cs&&n!==1073741824&&(e.flags|=128,r=!0,eu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=lt(),e.sibling=null,n=Ze.current,Be(Ze,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return I_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function k4(t,e){switch(l_(e),e.tag){case 1:return gn(e.type)&&rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Is(),Ke(mn),Ke(en),y_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g_(e),null;case 13:if(Ke(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));As()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Ze),null;case 4:return Is(),null;case 10:return h_(e.type._context),null;case 22:case 23:return I_(),null;case 24:return null;default:return null}}var nh=!1,Yt=!1,N4=typeof WeakSet=="function"?WeakSet:Set,ie=null;function rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Cv(t,e,n){try{n()}catch(r){it(t,e,r)}}var C1=!1;function R4(t,e){if(dv=Zh,t=yC(),o_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=o),d===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pv={focusedElem:t,selectionRange:n},Zh=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,y=_.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:nr(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(O){it(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return _=C1,C1=!1,_}function Ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Cv(e,n,a)}i=i.next}while(i!==r)}}function Gp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dk(t){var e=t.alternate;e!==null&&(t.alternate=null,dk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[Zu],delete e[yv],delete e[m4],delete e[g4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pk(t){return t.tag===5||t.tag===3||t.tag===4}function k1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nd));else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}function Rv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rv(t,e,n),t=t.sibling;t!==null;)Rv(t,e,n),t=t.sibling}var $t=null,rr=!1;function Pi(t,e,n){for(n=n.child;n!==null;)mk(t,e,n),n=n.sibling}function mk(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Vp,n)}catch{}switch(n.tag){case 5:Yt||rs(n,e);case 6:var r=$t,i=rr;$t=null,Pi(t,e,n),$t=r,rr=i,$t!==null&&(rr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(rr?(t=$t,n=n.stateNode,t.nodeType===8?Hg(t.parentNode,n):t.nodeType===1&&Hg(t,n),Ku(t)):Hg($t,n.stateNode));break;case 4:r=$t,i=rr,$t=n.stateNode.containerInfo,rr=!0,Pi(t,e,n),$t=r,rr=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Cv(n,e,o),i=i.next}while(i!==r)}Pi(t,e,n);break;case 1:if(!Yt&&(rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){it(n,e,s)}Pi(t,e,n);break;case 21:Pi(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,Pi(t,e,n),Yt=r):Pi(t,e,n);break;default:Pi(t,e,n)}}function N1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new N4),e.forEach(function(r){var i=B4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:$t=s.stateNode,rr=!1;break e;case 3:$t=s.stateNode.containerInfo,rr=!0;break e;case 4:$t=s.stateNode.containerInfo,rr=!0;break e}s=s.return}if($t===null)throw Error(Y(160));mk(a,o,i),$t=null,rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gk(e,t),e=e.sibling}function gk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),_r(t),r&4){try{Ou(3,t,t.return),Gp(3,t)}catch(g){it(t,t.return,g)}try{Ou(5,t,t.return)}catch(g){it(t,t.return,g)}}break;case 1:Zn(e,t),_r(t),r&512&&n!==null&&rs(n,n.return);break;case 5:if(Zn(e,t),_r(t),r&512&&n!==null&&rs(n,n.return),t.flags&32){var i=t.stateNode;try{Wu(i,"")}catch(g){it(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&LO(i,a),rv(s,o);var u=rv(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?zO(i,f):c==="dangerouslySetInnerHTML"?UO(i,f):c==="children"?Wu(i,f):Gb(i,c,f,u)}switch(s){case"input":Jy(i,a);break;case"textarea":VO(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?us(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?us(i,!!a.multiple,a.defaultValue,!0):us(i,!!a.multiple,a.multiple?[]:"",!1))}i[Zu]=a}catch(g){it(t,t.return,g)}}break;case 6:if(Zn(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){it(t,t.return,g)}}break;case 3:if(Zn(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ku(e.containerInfo)}catch(g){it(t,t.return,g)}break;case 4:Zn(e,t),_r(t);break;case 13:Zn(e,t),_r(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(A_=lt())),r&4&&N1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(u=Yt)||c,Zn(e,t),Yt=u):Zn(e,t),_r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ie=t,c=t.child;c!==null;){for(f=ie=c;ie!==null;){switch(d=ie,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ou(4,d,d.return);break;case 1:rs(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){it(r,n,g)}}break;case 5:rs(d,d.return);break;case 22:if(d.memoizedState!==null){j1(f);continue}}p!==null?(p.return=d,ie=p):j1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=BO("display",o))}catch(g){it(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){it(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(e,t),_r(t),r&4&&N1(t);break;case 21:break;default:Zn(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pk(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wu(i,""),r.flags&=-33);var a=k1(t);Rv(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=k1(t);Nv(t,s,o);break;default:throw Error(Y(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j4(t,e,n){ie=t,yk(t)}function yk(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Yt;s=nh;var u=Yt;if(nh=o,(Yt=l)&&!u)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?M1(i):l!==null?(l.return=o,ie=l):M1(i);for(;a!==null;)ie=a,yk(a),a=a.sibling;ie=i,nh=s,Yt=u}R1(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ie=a):R1(t)}}function R1(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Gp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&y1(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y1(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ku(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Yt||e.flags&512&&kv(e)}catch(d){it(e,e.return,d)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function j1(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function M1(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gp(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var a=e.return;try{kv(e)}catch(l){it(e,a,l)}break;case 5:var o=e.return;try{kv(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var M4=Math.ceil,dd=pi.ReactCurrentDispatcher,S_=pi.ReactCurrentOwner,zn=pi.ReactCurrentBatchConfig,Ae=0,jt=null,mt=null,Ut=0,xn=0,is=ma(0),Et=0,ac=null,ao=0,Kp=0,T_=0,Cu=null,fn=null,A_=0,Cs=1/0,Ur=null,pd=!1,jv=null,Xi=null,rh=!1,Fi=null,md=0,ku=0,Mv=null,Mh=-1,Dh=0;function on(){return Ae&6?lt():Mh!==-1?Mh:Mh=lt()}function Yi(t){return t.mode&1?Ae&2&&Ut!==0?Ut&-Ut:v4.transition!==null?(Dh===0&&(Dh=tC()),Dh):(t=ke,t!==0||(t=window.event,t=t===void 0?16:lC(t.type)),t):1}function hr(t,e,n,r){if(50<ku)throw ku=0,Mv=null,Error(Y(185));ef(t,n,r),(!(Ae&2)||t!==jt)&&(t===jt&&(!(Ae&2)&&(Kp|=n),Et===4&&Ri(t,Ut)),yn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Cs=lt()+500,Wp&&ga()))}function yn(t,e){var n=t.callbackNode;vL(t,e);var r=Jh(t,t===jt?Ut:0);if(r===0)n!==null&&WE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&WE(n),e===1)t.tag===0?y4(D1.bind(null,t)):PC(D1.bind(null,t)),d4(function(){!(Ae&6)&&ga()}),n=null;else{switch(nC(r)){case 1:n=Jb;break;case 4:n=ZO;break;case 16:n=Qh;break;case 536870912:n=eC;break;default:n=Qh}n=Tk(n,vk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vk(t,e){if(Mh=-1,Dh=0,Ae&6)throw Error(Y(327));var n=t.callbackNode;if(ps()&&t.callbackNode!==n)return null;var r=Jh(t,t===jt?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gd(t,r);else{e=r;var i=Ae;Ae|=2;var a=_k();(jt!==t||Ut!==e)&&(Ur=null,Cs=lt()+500,Ya(t,e));do try{L4();break}catch(s){bk(t,s)}while(!0);f_(),dd.current=a,Ae=i,mt!==null?e=0:(jt=null,Ut=0,e=Et)}if(e!==0){if(e===2&&(i=lv(t),i!==0&&(r=i,e=Dv(t,i))),e===1)throw n=ac,Ya(t,0),Ri(t,r),yn(t,lt()),n;if(e===6)Ri(t,r);else{if(i=t.current.alternate,!(r&30)&&!D4(i)&&(e=gd(t,r),e===2&&(a=lv(t),a!==0&&(r=a,e=Dv(t,a))),e===1))throw n=ac,Ya(t,0),Ri(t,r),yn(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:$a(t,fn,Ur);break;case 3:if(Ri(t,r),(r&130023424)===r&&(e=A_+500-lt(),10<e)){if(Jh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gv($a.bind(null,t,fn,Ur),e);break}$a(t,fn,Ur);break;case 4:if(Ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M4(r/1960))-r,10<r){t.timeoutHandle=gv($a.bind(null,t,fn,Ur),r);break}$a(t,fn,Ur);break;case 5:$a(t,fn,Ur);break;default:throw Error(Y(329))}}}return yn(t,lt()),t.callbackNode===n?vk.bind(null,t):null}function Dv(t,e){var n=Cu;return t.current.memoizedState.isDehydrated&&(Ya(t,e).flags|=256),t=gd(t,e),t!==2&&(e=fn,fn=n,e!==null&&$v(e)),t}function $v(t){fn===null?fn=t:fn.push.apply(fn,t)}function D4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!dr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~T_,e&=~Kp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function D1(t){if(Ae&6)throw Error(Y(327));ps();var e=Jh(t,0);if(!(e&1))return yn(t,lt()),null;var n=gd(t,e);if(t.tag!==0&&n===2){var r=lv(t);r!==0&&(e=r,n=Dv(t,r))}if(n===1)throw n=ac,Ya(t,0),Ri(t,e),yn(t,lt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$a(t,fn,Ur),yn(t,lt()),null}function P_(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Cs=lt()+500,Wp&&ga())}}function oo(t){Fi!==null&&Fi.tag===0&&!(Ae&6)&&ps();var e=Ae;Ae|=1;var n=zn.transition,r=ke;try{if(zn.transition=null,ke=1,t)return t()}finally{ke=r,zn.transition=n,Ae=e,!(Ae&6)&&ga()}}function I_(){xn=is.current,Ke(is)}function Ya(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h4(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(l_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rd();break;case 3:Is(),Ke(mn),Ke(en),y_();break;case 5:g_(r);break;case 4:Is();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:h_(r.type._context);break;case 22:case 23:I_()}n=n.return}if(jt=t,mt=t=Qi(t.current,null),Ut=xn=e,Et=0,ac=null,T_=Kp=ao=0,fn=Cu=null,za!==null){for(e=0;e<za.length;e++)if(n=za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}za=null}return t}function bk(t,e){do{var n=mt;try{if(f_(),Nh.current=hd,fd){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fd=!1}if(io=0,Rt=xt=et=null,Iu=!1,nc=0,S_.current=null,n===null||n.return===null){Et=1,ac=e,mt=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Ut,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=E1(o);if(p!==null){p.flags&=-257,S1(p,o,s,a,e),p.mode&1&&x1(a,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){x1(a,u,e),O_();break e}l=Error(Y(426))}}else if(Xe&&s.mode&1){var y=E1(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),S1(y,o,s,a,e),u_(Os(l,s));break e}}a=l=Os(l,s),Et!==4&&(Et=2),Cu===null?Cu=[a]:Cu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=nk(a,l,e);g1(a,w);break e;case 1:s=l;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xi===null||!Xi.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var O=rk(a,s,e);g1(a,O);break e}}a=a.return}while(a!==null)}xk(n)}catch(T){e=T,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function _k(){var t=dd.current;return dd.current=hd,t===null?hd:t}function O_(){(Et===0||Et===3||Et===2)&&(Et=4),jt===null||!(ao&268435455)&&!(Kp&268435455)||Ri(jt,Ut)}function gd(t,e){var n=Ae;Ae|=2;var r=_k();(jt!==t||Ut!==e)&&(Ur=null,Ya(t,e));do try{$4();break}catch(i){bk(t,i)}while(!0);if(f_(),Ae=n,dd.current=r,mt!==null)throw Error(Y(261));return jt=null,Ut=0,Et}function $4(){for(;mt!==null;)wk(mt)}function L4(){for(;mt!==null&&!uL();)wk(mt)}function wk(t){var e=Sk(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?xk(t):mt=e,S_.current=null}function xk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k4(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,mt=null;return}}else if(n=C4(n,e,xn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);Et===0&&(Et=5)}function $a(t,e,n){var r=ke,i=zn.transition;try{zn.transition=null,ke=1,V4(t,e,n,r)}finally{zn.transition=i,ke=r}return null}function V4(t,e,n,r){do ps();while(Fi!==null);if(Ae&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(bL(t,a),t===jt&&(mt=jt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rh||(rh=!0,Tk(Qh,function(){return ps(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=zn.transition,zn.transition=null;var o=ke;ke=1;var s=Ae;Ae|=4,S_.current=null,R4(t,n),gk(n,t),a4(pv),Zh=!!dv,pv=dv=null,t.current=n,j4(n),cL(),Ae=s,ke=o,zn.transition=a}else t.current=n;if(rh&&(rh=!1,Fi=t,md=i),a=t.pendingLanes,a===0&&(Xi=null),dL(n.stateNode),yn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pd)throw pd=!1,t=jv,jv=null,t;return md&1&&t.tag!==0&&ps(),a=t.pendingLanes,a&1?t===Mv?ku++:(ku=0,Mv=t):ku=0,ga(),null}function ps(){if(Fi!==null){var t=nC(md),e=zn.transition,n=ke;try{if(zn.transition=null,ke=16>t?16:t,Fi===null)var r=!1;else{if(t=Fi,Fi=null,md=0,Ae&6)throw Error(Y(331));var i=Ae;for(Ae|=4,ie=t.current;ie!==null;){var a=ie,o=a.child;if(ie.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ie=u;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:Ou(8,c,a)}var f=c.child;if(f!==null)f.return=c,ie=f;else for(;ie!==null;){c=ie;var d=c.sibling,p=c.return;if(dk(c),c===u){ie=null;break}if(d!==null){d.return=p,ie=d;break}ie=p}}}var _=a.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ie=o;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ou(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,ie=w;break e}ie=a.return}}var v=t.current;for(ie=v;ie!==null;){o=ie;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ie=x;else e:for(o=v;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Gp(9,s)}}catch(T){it(s,s.return,T)}if(s===o){ie=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,ie=O;break e}ie=s.return}}if(Ae=i,ga(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Vp,t)}catch{}r=!0}return r}finally{ke=n,zn.transition=e}}return!1}function $1(t,e,n){e=Os(n,e),e=nk(t,e,1),t=Ki(t,e,1),e=on(),t!==null&&(ef(t,1,e),yn(t,e))}function it(t,e,n){if(t.tag===3)$1(t,t,n);else for(;e!==null;){if(e.tag===3){$1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xi===null||!Xi.has(r))){t=Os(n,t),t=rk(e,t,1),e=Ki(e,t,1),t=on(),e!==null&&(ef(e,1,t),yn(e,t));break}}e=e.return}}function F4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,jt===t&&(Ut&n)===n&&(Et===4||Et===3&&(Ut&130023424)===Ut&&500>lt()-A_?Ya(t,0):T_|=n),yn(t,e)}function Ek(t,e){e===0&&(t.mode&1?(e=Gf,Gf<<=1,!(Gf&130023424)&&(Gf=4194304)):e=1);var n=on();t=ii(t,e),t!==null&&(ef(t,e,n),yn(t,n))}function U4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ek(t,n)}function B4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),Ek(t,n)}var Sk;Sk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,O4(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Xe&&e.flags&1048576&&IC(e,od,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jh(t,e),t=e.pendingProps;var i=Ts(e,en.current);ds(e,n),i=b_(null,e,r,t,i,n);var a=__();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(a=!0,id(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p_(e),i.updater=Hp,e.stateNode=i,i._reactInternals=e,Ev(e,r,t,n),e=Av(null,e,r,!0,a,n)):(e.tag=0,Xe&&a&&s_(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W4(r),t=nr(r,t),i){case 0:e=Tv(null,e,r,t,n);break e;case 1:e=P1(null,e,r,t,n);break e;case 11:e=T1(null,e,r,t,n);break e;case 14:e=A1(null,e,r,nr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Tv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),P1(t,e,r,i,n);case 3:e:{if(sk(e),t===null)throw Error(Y(387));r=e.pendingProps,a=e.memoizedState,i=a.element,jC(t,e),ud(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Os(Error(Y(423)),e),e=I1(t,e,r,n,i);break e}else if(r!==i){i=Os(Error(Y(424)),e),e=I1(t,e,r,n,i);break e}else for(Tn=Gi(e.stateNode.containerInfo.firstChild),Pn=e,Xe=!0,or=null,n=NC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(As(),r===i){e=ai(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return MC(e),t===null&&_v(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,mv(r,i)?o=null:a!==null&&mv(r,a)&&(e.flags|=32),ok(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&_v(e),null;case 13:return lk(t,e,n);case 4:return m_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ps(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),T1(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Be(sd,r._currentValue),r._currentValue=o,a!==null)if(dr(a.value,o)){if(a.children===i.children&&!mn.current){e=ai(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Yr(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),wv(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Y(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),wv(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ds(e,n),i=Gn(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=nr(r,e.pendingProps),i=nr(r.type,i),A1(t,e,r,i,n);case 15:return ik(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),jh(t,e),e.tag=1,gn(r)?(t=!0,id(e)):t=!1,ds(e,n),tk(e,r,i),Ev(e,r,i,n),Av(null,e,r,!0,t,n);case 19:return uk(t,e,n);case 22:return ak(t,e,n)}throw Error(Y(156,e.tag))};function Tk(t,e){return JO(t,e)}function z4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new z4(t,e,n,r)}function C_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W4(t){if(typeof t=="function")return C_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xb)return 11;if(t===Yb)return 14}return 2}function Qi(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $h(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")C_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ko:return Qa(n.children,i,a,e);case Kb:o=8,i|=8;break;case Gy:return t=Un(12,n,e,i|2),t.elementType=Gy,t.lanes=a,t;case Ky:return t=Un(13,n,e,i),t.elementType=Ky,t.lanes=a,t;case Xy:return t=Un(19,n,e,i),t.elementType=Xy,t.lanes=a,t;case MO:return Xp(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RO:o=10;break e;case jO:o=9;break e;case Xb:o=11;break e;case Yb:o=14;break e;case Oi:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Un(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Qa(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Xp(t,e,n,r){return t=Un(22,t,r,e),t.elementType=MO,t.lanes=n,t.stateNode={isHidden:!1},t}function ey(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function ty(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mg(0),this.expirationTimes=Mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k_(t,e,n,r,i,a,o,s,l){return t=new q4(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Un(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p_(a),t}function H4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ak(t){if(!t)return sa;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(gn(n))return AC(t,n,e)}return e}function Pk(t,e,n,r,i,a,o,s,l){return t=k_(n,r,!0,t,i,a,o,s,l),t.context=Ak(null),n=t.current,r=on(),i=Yi(n),a=Yr(r,i),a.callback=e??null,Ki(n,a,i),t.current.lanes=i,ef(t,i,r),yn(t,r),t}function Yp(t,e,n,r){var i=e.current,a=on(),o=Yi(i);return n=Ak(n),e.context===null?e.context=n:e.pendingContext=n,e=Yr(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(i,e,o),t!==null&&(hr(t,i,o,a),kh(t,i,o)),o}function yd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function L1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function N_(t,e){L1(t,e),(t=t.alternate)&&L1(t,e)}function G4(){return null}var Ik=typeof reportError=="function"?reportError:function(t){console.error(t)};function R_(t){this._internalRoot=t}Qp.prototype.render=R_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Yp(t,e,null,null)};Qp.prototype.unmount=R_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Yp(null,t,null,null)}),e[ri]=null}};function Qp(t){this._internalRoot=t}Qp.prototype.unstable_scheduleHydration=function(t){if(t){var e=aC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ni.length&&e!==0&&e<Ni[n].priority;n++);Ni.splice(n,0,t),n===0&&sC(t)}};function j_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V1(){}function K4(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=yd(o);a.call(u)}}var o=Pk(e,r,t,0,null,!1,!1,"",V1);return t._reactRootContainer=o,t[ri]=o.current,Qu(t.nodeType===8?t.parentNode:t),oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=yd(l);s.call(u)}}var l=k_(t,0,!1,null,null,!1,!1,"",V1);return t._reactRootContainer=l,t[ri]=l.current,Qu(t.nodeType===8?t.parentNode:t),oo(function(){Yp(e,l,n,r)}),l}function Zp(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=yd(o);s.call(l)}}Yp(e,o,t,i)}else o=K4(n,e,t,i,r);return yd(o)}rC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(Zb(e,n|1),yn(e,lt()),!(Ae&6)&&(Cs=lt()+500,ga()))}break;case 13:oo(function(){var r=ii(t,1);if(r!==null){var i=on();hr(r,t,1,i)}}),N_(t,1)}};e_=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=on();hr(e,t,134217728,n)}N_(t,134217728)}};iC=function(t){if(t.tag===13){var e=Yi(t),n=ii(t,e);if(n!==null){var r=on();hr(n,t,e,r)}N_(t,e)}};aC=function(){return ke};oC=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};av=function(t,e,n){switch(e){case"input":if(Jy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zp(r);if(!i)throw Error(Y(90));$O(r),Jy(r,i)}}}break;case"textarea":VO(t,n);break;case"select":e=n.value,e!=null&&us(t,!!n.multiple,e,!1)}};HO=P_;GO=oo;var X4={usingClientEntryPoint:!1,Events:[nf,Jo,zp,WO,qO,P_]},tu={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y4={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YO(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||G4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Vp=ih.inject(Y4),Ar=ih}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X4;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j_(e))throw Error(Y(200));return H4(t,e,null,n)};Cn.createRoot=function(t,e){if(!j_(t))throw Error(Y(299));var n=!1,r="",i=Ik;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=k_(t,1,!1,null,null,n,!1,r,i),t[ri]=e.current,Qu(t.nodeType===8?t.parentNode:t),new R_(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=YO(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return oo(t)};Cn.hydrate=function(t,e,n){if(!Jp(e))throw Error(Y(200));return Zp(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!j_(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=Ik;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Pk(e,null,t,1,n??null,i,!1,a,o),t[ri]=e.current,Qu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qp(e)};Cn.render=function(t,e,n){if(!Jp(e))throw Error(Y(200));return Zp(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!Jp(t))throw Error(Y(40));return t._reactRootContainer?(oo(function(){Zp(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};Cn.unstable_batchedUpdates=P_;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jp(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Zp(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function Ok(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ok)}catch(t){console.error(t)}}Ok(),OO.exports=Cn;var Q4=OO.exports,F1=Q4;qy.createRoot=F1.createRoot,qy.hydrateRoot=F1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}var Ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ui||(Ui={}));const U1="popstate";function J4(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=Eo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Lv("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:vd(a))}function r(i,a){em(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return eV(e,n,r,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function em(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z4(){return Math.random().toString(36).substr(2,8)}function B1(t,e){return{usr:t.state,key:t.key,idx:e}}function Lv(t,e,n,r){return n===void 0&&(n=null),oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Eo(e):e,{state:n,key:e&&e.key||r||Z4()})}function vd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Ui.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(oc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=Ui.Pop;let y=c(),w=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:w})}function d(y,w){s=Ui.Push;let v=Lv(g.location,y,w);n&&n(v,y),u=c()+1;let x=B1(v,u),O=g.createHref(v);try{o.pushState(x,"",O)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(O)}a&&l&&l({action:s,location:g.location,delta:1})}function p(y,w){s=Ui.Replace;let v=Lv(g.location,y,w);n&&n(v,y),u=c();let x=B1(v,u),O=g.createHref(v);o.replaceState(x,"",O),a&&l&&l({action:s,location:g.location,delta:0})}function _(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:vd(y);return v=v.replace(/ $/,"%20"),ft(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return s},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(U1,f),l=y,()=>{i.removeEventListener(U1,f),l=null}},createHref(y){return e(i,y)},createURL:_,encodeLocation(y){let w=_(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:p,go(y){return o.go(y)}};return g}var z1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(z1||(z1={}));function tV(t,e,n){return n===void 0&&(n="/"),nV(t,e,n)}function nV(t,e,n,r){let i=typeof e=="string"?Eo(e):e,a=M_(i.pathname||"/",n);if(a==null)return null;let o=Ck(t);rV(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=mV(a);s=hV(o[l],u)}return s}function Ck(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ji([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ck(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:cV(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of kk(a.path))i(a,o,l)}),e}function kk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=kk(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function rV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iV=/^:[\w-]+$/,aV=3,oV=2,sV=1,lV=10,uV=-2,W1=t=>t==="*";function cV(t,e){let n=t.split("/"),r=n.length;return n.some(W1)&&(r+=uV),e&&(r+=oV),n.filter(i=>!W1(i)).reduce((i,a)=>i+(iV.test(a)?aV:a===""?sV:lV),r)}function fV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hV(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=dV({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ji([a,f.pathname]),pathnameBase:_V(Ji([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=Ji([a,f.pathnameBase]))}return o}function dV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const _=s[f];return p&&!_?u[d]=void 0:u[d]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function pV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),em(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return em(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function M_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const gV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yV=t=>gV.test(t);function vV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Eo(t):t,a;if(n)if(yV(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),em(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=q1(n.substring(1),"/"):a=q1(n,e)}else a=e;return{pathname:a,search:wV(r),hash:xV(i)}}function q1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D_(t,e){let n=bV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Eo(t):(i=oc({},t),ft(!i.pathname||!i.pathname.includes("?"),ny("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),ny("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),ny("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=vV(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ji=t=>t.join("/").replace(/\/\/+/g,"/"),_V=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nk=["post","put","patch","delete"];new Set(Nk);const SV=["get",...Nk];new Set(SV);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}const L_=$.createContext(null),TV=$.createContext(null),ya=$.createContext(null),tm=$.createContext(null),va=$.createContext({outlet:null,matches:[],isDataRoute:!1}),Rk=$.createContext(null);function AV(t,e){let{relative:n}=e===void 0?{}:e;fl()||ft(!1);let{basename:r,navigator:i}=$.useContext(ya),{hash:a,pathname:o,search:s}=Mk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ji([r,o])),i.createHref({pathname:l,search:s,hash:a})}function fl(){return $.useContext(tm)!=null}function So(){return fl()||ft(!1),$.useContext(tm).location}function jk(t){$.useContext(ya).static||$.useLayoutEffect(t)}function af(){let{isDataRoute:t}=$.useContext(va);return t?VV():PV()}function PV(){fl()||ft(!1);let t=$.useContext(L_),{basename:e,future:n,navigator:r}=$.useContext(ya),{matches:i}=$.useContext(va),{pathname:a}=So(),o=JSON.stringify(D_(i,n.v7_relativeSplatPath)),s=$.useRef(!1);return jk(()=>{s.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=$_(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ji([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,a,t])}function Mk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(ya),{matches:i}=$.useContext(va),{pathname:a}=So(),o=JSON.stringify(D_(i,r.v7_relativeSplatPath));return $.useMemo(()=>$_(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function IV(t,e){return OV(t,e)}function OV(t,e,n,r){fl()||ft(!1);let{navigator:i}=$.useContext(ya),{matches:a}=$.useContext(va),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=So(),c;if(e){var f;let y=typeof e=="string"?Eo(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||ft(!1),c=y}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=tV(t,{pathname:p}),g=jV(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ji([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ji([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&g?$.createElement(tm.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ui.Pop}},g):g}function CV(){let t=LV(),e=EV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const kV=$.createElement(CV,null);class NV extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(va.Provider,{value:this.props.routeContext},$.createElement(Rk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RV(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(L_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(va.Provider,{value:e},r)}function jV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||ft(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,_=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let p,_=!1,g=null,y=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||kV,l&&(u<0&&d===0?(FV("route-fallback"),_=!0,y=null):u===d&&(_=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,d+1)),v=()=>{let x;return p?x=g:_?x=y:f.route.Component?x=$.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=c,$.createElement(RV,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?$.createElement(NV,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Dk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Dk||{}),$k=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($k||{});function MV(t){let e=$.useContext(L_);return e||ft(!1),e}function DV(t){let e=$.useContext(TV);return e||ft(!1),e}function $V(t){let e=$.useContext(va);return e||ft(!1),e}function Lk(t){let e=$V(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function LV(){var t;let e=$.useContext(Rk),n=DV(),r=Lk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VV(){let{router:t}=MV(Dk.UseNavigateStable),e=Lk($k.UseNavigateStable),n=$.useRef(!1);return jk(()=>{n.current=!0}),$.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sc({fromRouteId:e},a)))},[t,e])}const H1={};function FV(t,e,n){H1[t]||(H1[t]=!0)}function UV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vk(t){let{to:e,replace:n,state:r,relative:i}=t;fl()||ft(!1);let{future:a,static:o}=$.useContext(ya),{matches:s}=$.useContext(va),{pathname:l}=So(),u=af(),c=$_(e,D_(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return $.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function tr(t){ft(!1)}function BV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ui.Pop,navigator:a,static:o=!1,future:s}=t;fl()&&ft(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:a,static:o,future:sc({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Eo(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:_="default"}=r,g=$.useMemo(()=>{let y=M_(c,l);return y==null?null:{location:{pathname:y,search:f,hash:d,state:p,key:_},navigationType:i}},[l,c,f,d,p,_,i]);return g==null?null:$.createElement(ya.Provider,{value:u},$.createElement(tm.Provider,{children:n,value:g}))}function zV(t){let{children:e,location:n}=t;return IV(Vv(e),n)}new Promise(()=>{});function Vv(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let a=[...e,i];if(r.type===$.Fragment){n.push.apply(n,Vv(r.props.children,a));return}r.type!==tr&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vv(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function WV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HV(t,e){return t.button===0&&(!e||e==="_self")&&!qV(t)}const GV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KV="6";try{window.__reactRouterVersion=KV}catch{}const XV="startTransition",G1=F$[XV];function YV(t){let{basename:e,children:n,future:r,window:i}=t,a=$.useRef();a.current==null&&(a.current=J4({window:i,v5Compat:!0}));let o=a.current,[s,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=$.useCallback(f=>{u&&G1?G1(()=>l(f)):l(f)},[l,u]);return $.useLayoutEffect(()=>o.listen(c),[o,c]),$.useEffect(()=>UV(r),[r]),$.createElement(BV,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const QV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ry=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=WV(e,GV),{basename:p}=$.useContext(ya),_,g=!1;if(typeof u=="string"&&JV.test(u)&&(_=u,QV))try{let x=new URL(window.location.href),O=u.startsWith("//")?new URL(x.protocol+u):new URL(u),T=M_(O.pathname,p);O.origin===x.origin&&T!=null?u=T+O.search+O.hash:g=!0}catch{}let y=AV(u,{relative:i}),w=ZV(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function v(x){r&&r(x),x.defaultPrevented||w(x)}return $.createElement("a",Fv({},d,{href:_||y,onClick:g||a?r:v,ref:n,target:l}))});var K1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K1||(K1={}));var X1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X1||(X1={}));function ZV(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=af(),u=So(),c=Mk(t,{relative:o});return $.useCallback(f=>{if(HV(f,n)){f.preventDefault();let d=r!==void 0?r:vd(u)===vd(c);l(t,{replace:d,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,r,i,n,t,a,o,s])}const e3={},Y1=t=>{let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const p=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(_=>_(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(e3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},t3=t=>t?Y1(t):Y1;var Fk={exports:{}},Uk={},Bk={exports:{}},zk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=$;function n3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var r3=typeof Object.is=="function"?Object.is:n3,i3=ks.useState,a3=ks.useEffect,o3=ks.useLayoutEffect,s3=ks.useDebugValue;function l3(t,e){var n=e(),r=i3({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return o3(function(){i.value=n,i.getSnapshot=e,iy(i)&&a({inst:i})},[t,n,e]),a3(function(){return iy(i)&&a({inst:i}),t(function(){iy(i)&&a({inst:i})})},[t]),s3(n),n}function iy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!r3(t,n)}catch{return!0}}function u3(t,e){return e()}var c3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u3:l3;zk.useSyncExternalStore=ks.useSyncExternalStore!==void 0?ks.useSyncExternalStore:c3;Bk.exports=zk;var f3=Bk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=$,h3=f3;function d3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var p3=typeof Object.is=="function"?Object.is:d3,m3=h3.useSyncExternalStore,g3=nm.useRef,y3=nm.useEffect,v3=nm.useMemo,b3=nm.useDebugValue;Uk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=g3(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=v3(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var _=o.value;if(i(_,p))return f=_}return f=p}if(_=f,p3(c,p))return _;var g=r(p);return i!==void 0&&i(_,g)?(c=p,_):(c=p,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var s=m3(t,a[0],a[1]);return y3(function(){o.hasValue=!0,o.value=s},[s]),b3(s),s};Fk.exports=Uk;var _3=Fk.exports;const w3=De(_3),Wk={},{useDebugValue:x3}=M,{useSyncExternalStoreWithSelector:E3}=w3;let Q1=!1;const S3=t=>t;function T3(t,e=S3,n){(Wk?"production":void 0)!=="production"&&n&&!Q1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Q1=!0);const r=E3(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return x3(r),r}const A3=t=>{(Wk?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?t3(t):t,n=(r,i)=>T3(e,r,i);return Object.assign(n,e),n},P3=t=>A3,I3={};function O3(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=n.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const lc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return lc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return lc(r)(n)}}}},C3=(t,e)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...e},o=!1;const s=new Set,l=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},r,i);const c=lc(a.serialize),f=()=>{const y=a.partialize({...r()});let w;const v=c({state:y,version:a.version}).then(x=>u.setItem(a.name,x)).catch(x=>{w=x});if(w)throw w;return v},d=i.setState;i.setState=(y,w)=>{d(y,w),f()};const p=t((...y)=>{n(...y),f()},r,i);let _;const g=()=>{var y;if(!u)return;o=!1,s.forEach(v=>v(r()));const w=((y=a.onRehydrateStorage)==null?void 0:y.call(a,r()))||void 0;return lc(u.getItem.bind(u))(a.name).then(v=>{if(v)return a.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return a.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var x;return _=a.merge(v,(x=r())!=null?x:p),n(_,!0),f()}).then(()=>{w==null||w(_,void 0),o=!0,l.forEach(v=>v(_))}).catch(v=>{w==null||w(void 0,v)})};return i.persist={setOptions:y=>{a={...a,...y},y.getStorage&&(u=y.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(s.add(y),()=>{s.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},g(),_||p},k3=(t,e)=>(n,r,i)=>{let a={storage:O3(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},o=!1;const s=new Set,l=new Set;let u=a.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...g)},r,i);const c=()=>{const g=a.partialize({...r()});return u.setItem(a.name,{state:g,version:a.version})},f=i.setState;i.setState=(g,y)=>{f(g,y),c()};const d=t((...g)=>{n(...g),c()},r,i);i.getInitialState=()=>d;let p;const _=()=>{var g,y;if(!u)return;o=!1,s.forEach(v=>{var x;return v((x=r())!=null?x:d)});const w=((y=a.onRehydrateStorage)==null?void 0:y.call(a,(g=r())!=null?g:d))||void 0;return lc(u.getItem.bind(u))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return[!0,a.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var x;const[O,T]=v;if(p=a.merge(T,(x=r())!=null?x:d),n(p,!0),O)return c()}).then(()=>{w==null||w(p,void 0),p=r(),o=!0,l.forEach(v=>v(p))}).catch(v=>{w==null||w(void 0,v)})};return i.persist={setOptions:g=>{a={...a,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:g=>(s.add(g),()=>{s.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},a.skipHydration||_(),p||d},N3=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((I3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),C3(t,e)):k3(t,e),R3=N3,j3=()=>{};var J1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},M3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Hk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new D3;const d=a<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $3=function(t){const e=qk(t);return Hk.encodeByteArray(e,!0)},bd=function(t){return $3(t).replace(/\./g,"")},Gk=function(t){try{return Hk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=()=>L3().__FIREBASE_DEFAULTS__,F3=()=>{if(typeof process>"u"||typeof J1>"u")return;const t=J1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gk(t[1]);return e&&JSON.parse(e)},rm=()=>{try{return j3()||V3()||F3()||U3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kk=t=>{var e,n;return(n=(e=rm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},B3=t=>{const e=Kk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xk=()=>{var t;return(t=rm())==null?void 0:t.config},Yk=t=>{var e;return(e=rm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bd(JSON.stringify(n)),bd(JSON.stringify(o)),""].join(".")}const Nu={};function q3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function H3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Z1=!1;function Jk(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||Nu[t]===e||Nu[t]||Z1)return;Nu[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=q3().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function s(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Z1=!0,o()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=H3(r),p=n("text"),_=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const x=d.element;s(x),c(y,g);const O=u();l(v,w),x.append(v,_,y,O),document.body.appendChild(x)}a?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function K3(){var e;const t=(e=rm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J3(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z3(){return!K3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eF(){try{return typeof indexedDB=="object"}catch{return!1}}function tF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nF,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,of.prototype.create)}}class of{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?rF(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new mi(i,s,r)}}function rF(t,e){return t.replace(iF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iF=/\{\$([^}]+)}/g;function aF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(eS(a)&&eS(o)){if(!so(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oF(t,e){const n=new sF(t,e);return n.subscribe.bind(n)}class sF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ay),i.error===void 0&&(i.error=ay),i.complete===void 0&&(i.complete=ay);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ay(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new z3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fF(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cF(t){return t===La?void 0:t}function fF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const dF={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},pF=we.INFO,mF={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},gF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V_{constructor(e){this.name=e,this._logLevel=pF,this._logHandler=gF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const yF=(t,e)=>e.some(n=>t instanceof n);let tS,nS;function vF(){return tS||(tS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bF(){return nS||(nS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zk=new WeakMap,Uv=new WeakMap,eN=new WeakMap,oy=new WeakMap,F_=new WeakMap;function _F(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Zk.set(n,t)}).catch(()=>{}),F_.set(e,t),e}function wF(t){if(Uv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Uv.set(t,e)}let Bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xF(t){Bv=t(Bv)}function EF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sy(this),e,...n);return eN.set(r,e.sort?e.sort():[e]),Zi(r)}:bF().includes(t)?function(...e){return t.apply(sy(this),e),Zi(Zk.get(this))}:function(...e){return Zi(t.apply(sy(this),e))}}function SF(t){return typeof t=="function"?EF(t):(t instanceof IDBTransaction&&wF(t),yF(t,vF())?new Proxy(t,Bv):t)}function Zi(t){if(t instanceof IDBRequest)return _F(t);if(oy.has(t))return oy.get(t);const e=SF(t);return e!==t&&(oy.set(t,e),F_.set(e,t)),e}const sy=t=>F_.get(t);function TF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zi(o.result),l.oldVersion,l.newVersion,Zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const AF=["get","getKey","getAll","getAllKeys","count"],PF=["put","add","delete","clear"],ly=new Map;function rS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ly.get(e))return ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AF.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return ly.set(e,a),a}xF(t=>({...t,get:(e,n,r)=>rS(e,n)||t.get(e,n,r),has:(e,n)=>!!rS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zv="@firebase/app",iS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new V_("@firebase/app"),CF="@firebase/app-compat",kF="@firebase/analytics-compat",NF="@firebase/analytics",RF="@firebase/app-check-compat",jF="@firebase/app-check",MF="@firebase/auth",DF="@firebase/auth-compat",$F="@firebase/database",LF="@firebase/data-connect",VF="@firebase/database-compat",FF="@firebase/functions",UF="@firebase/functions-compat",BF="@firebase/installations",zF="@firebase/installations-compat",WF="@firebase/messaging",qF="@firebase/messaging-compat",HF="@firebase/performance",GF="@firebase/performance-compat",KF="@firebase/remote-config",XF="@firebase/remote-config-compat",YF="@firebase/storage",QF="@firebase/storage-compat",JF="@firebase/firestore",ZF="@firebase/ai",e6="@firebase/firestore-compat",t6="firebase",n6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="[DEFAULT]",r6={[zv]:"fire-core",[CF]:"fire-core-compat",[NF]:"fire-analytics",[kF]:"fire-analytics-compat",[jF]:"fire-app-check",[RF]:"fire-app-check-compat",[MF]:"fire-auth",[DF]:"fire-auth-compat",[$F]:"fire-rtdb",[LF]:"fire-data-connect",[VF]:"fire-rtdb-compat",[FF]:"fire-fn",[UF]:"fire-fn-compat",[BF]:"fire-iid",[zF]:"fire-iid-compat",[WF]:"fire-fcm",[qF]:"fire-fcm-compat",[HF]:"fire-perf",[GF]:"fire-perf-compat",[KF]:"fire-rc",[XF]:"fire-rc-compat",[YF]:"fire-gcs",[QF]:"fire-gcs-compat",[JF]:"fire-fst",[e6]:"fire-fst-compat",[ZF]:"fire-vertex","fire-js":"fire-js",[t6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,i6=new Map,qv=new Map;function aS(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ns(t){const e=t.name;if(qv.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,t);for(const n of _d.values())aS(n,t);for(const n of i6.values())aS(n,t);return!0}function U_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new of("app","Firebase",a6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=n6;function tN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ea.create("bad-app-name",{appName:String(i)});if(n||(n=Xk()),!n)throw ea.create("no-options");const a=_d.get(i);if(a){if(so(n,a.options)&&so(r,a.config))return a;throw ea.create("duplicate-app",{appName:i})}const o=new hF(i);for(const l of qv.values())o.addComponent(l);const s=new o6(n,r,o);return _d.set(i,s),s}function nN(t=Wv){const e=_d.get(t);if(!e&&t===Wv&&Xk())return tN();if(!e)throw ea.create("no-app",{appName:t});return e}function ta(t,e,n){let r=r6[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(o.join(" "));return}Ns(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="firebase-heartbeat-database",l6=1,uc="firebase-heartbeat-store";let uy=null;function rN(){return uy||(uy=TF(s6,l6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ea.create("idb-open",{originalErrorMessage:t.message})})),uy}async function u6(t){try{const n=(await rN()).transaction(uc),r=await n.objectStore(uc).get(iN(t));return await n.done,r}catch(e){if(e instanceof mi)oi.warn(e.message);else{const n=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function oS(t,e){try{const r=(await rN()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,iN(t)),await r.done}catch(n){if(n instanceof mi)oi.warn(n.message);else{const r=ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(r.message)}}}function iN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=1024,f6=30;class h6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>f6){const o=m6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sS(),{heartbeatsToSend:r,unsentEntries:i}=d6(this._heartbeatsCache.heartbeats),a=bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return oi.warn(n),""}}}function sS(){return new Date().toISOString().substring(0,10)}function d6(t,e=c6){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),lS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eF()?tF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lS(t){return bd(JSON.stringify({version:2,heartbeats:t})).length}function m6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){Ns(new lo("platform-logger",e=>new IF(e),"PRIVATE")),Ns(new lo("heartbeat",e=>new h6(e),"PRIVATE")),ta(zv,iS,t),ta(zv,iS,"esm2020"),ta("fire-js","")}g6("");var uS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,aN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function P(){}P.prototype=S.prototype,E.F=S.prototype,E.prototype=new P,E.prototype.constructor=E,E.D=function(k,C,j){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return S.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,P){P||(P=0);const k=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)k[C]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(C=0;C<16;++C)k[C]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=E.g[0],P=E.g[1],C=E.g[2];let j=E.g[3],N;N=S+(j^P&(C^j))+k[0]+3614090360&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[2]+606105819&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[3]+3250441966&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[4]+4118548399&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[6]+2821735955&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[7]+4249261313&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[8]+1770035416&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[10]+4294925233&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[11]+2304563134&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[12]+1804603682&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[14]+2792965006&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[15]+1236535329&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(C^j&(P^C))+k[1]+4129170786&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[11]+643717713&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[0]+3921069994&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[5]+3593408605&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[15]+3634488961&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[4]+3889429448&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[9]+568446438&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[3]+4107603335&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[8]+1163531501&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[13]+2850285829&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[7]+1735328473&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[12]+2368359562&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(P^C^j)+k[5]+4294588738&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[11]+1839030562&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[14]+4259657740&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[1]+2763975236&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[7]+4139469664&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[10]+3200236656&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[13]+681279174&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[3]+3572445317&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[6]+76029189&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[9]+3654602809&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[15]+530742520&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[2]+3299628645&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(C^(P|~j))+k[0]+4096336452&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[14]+2878612391&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[5]+4237533241&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[12]+1700485571&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[10]+4293915773&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[1]+2240044497&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[8]+1873313359&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[6]+2734768916&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[13]+1309151649&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[4]+4149444226&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[2]+718787259&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.v=function(E,S){S===void 0&&(S=E.length);const P=S-this.blockSize,k=this.C;let C=this.h,j=0;for(;j<S;){if(C==0)for(;j<=P;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<S;)if(k[C++]=E.charCodeAt(j++),C==this.blockSize){i(this,k),C=0;break}}else for(;j<S;)if(k[C++]=E[j++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=S},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;S=this.o*8;for(var P=E.length-8;P<E.length;++P)E[P]=S&255,S/=256;for(this.v(E),E=Array(16),S=0,P=0;P<4;++P)for(let k=0;k<32;k+=8)E[S++]=this.g[P]>>>k&255;return E};function a(E,S){var P=s;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=S(E)}function o(E,S){this.h=S;const P=[];let k=!0;for(let C=E.length-1;C>=0;C--){const j=E[C]|0;k&&j==S||(P[C]=j,k=!1)}this.g=P}var s={};function l(E){return-128<=E&&E<128?a(E,function(S){return new o([S|0],S<0?-1:0)}):new o([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return y(u(-E));const S=[];let P=1;for(let k=0;E>=P;k++)S[k]=E/P|0,P*=4294967296;return new o(S,0)}function c(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return y(c(E.substring(1),S));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(S,8));let k=f;for(let j=0;j<E.length;j+=8){var C=Math.min(8,E.length-j);const N=parseInt(E.substring(j,j+C),S);C<8?(C=u(Math.pow(S,C)),k=k.j(C).add(u(N))):(k=k.j(P),k=k.add(u(N)))}return k}var f=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();let E=0,S=1;for(let P=0;P<this.g.length;P++){const k=this.i(P);E+=(k>=0?k:4294967296+k)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(_(this))return"0";if(g(this))return"-"+y(this).toString(E);const S=u(Math.pow(E,6));var P=this;let k="";for(;;){const C=O(P,S).g;P=w(P,C.j(S));let j=((P.g.length>0?P.g[0]:P.h)>>>0).toString(E);if(P=C,_(P))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function _(E){if(E.h!=0)return!1;for(let S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=w(this,E),g(E)?-1:_(E)?0:1};function y(E){const S=E.g.length,P=[];for(let k=0;k<S;k++)P[k]=~E.g[k];return new o(P,~E.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(E){const S=Math.max(this.g.length,E.g.length),P=[];let k=0;for(let C=0;C<=S;C++){let j=k+(this.i(C)&65535)+(E.i(C)&65535),N=(j>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);k=N>>>16,j&=65535,N&=65535,P[C]=N<<16|j}return new o(P,P[P.length-1]&-2147483648?-1:0)};function w(E,S){return E.add(y(S))}t.j=function(E){if(_(this)||_(E))return f;if(g(this))return g(E)?y(this).j(y(E)):y(y(this).j(E));if(g(E))return y(this.j(y(E)));if(this.l(p)<0&&E.l(p)<0)return u(this.m()*E.m());const S=this.g.length+E.g.length,P=[];for(var k=0;k<2*S;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(let C=0;C<E.g.length;C++){const j=this.i(k)>>>16,N=this.i(k)&65535,F=E.i(C)>>>16,U=E.i(C)&65535;P[2*k+2*C]+=N*U,v(P,2*k+2*C),P[2*k+2*C+1]+=j*U,v(P,2*k+2*C+1),P[2*k+2*C+1]+=N*F,v(P,2*k+2*C+1),P[2*k+2*C+2]+=j*F,v(P,2*k+2*C+2)}for(E=0;E<S;E++)P[E]=P[2*E+1]<<16|P[2*E];for(E=S;E<2*S;E++)P[E]=0;return new o(P,0)};function v(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function x(E,S){this.g=E,this.h=S}function O(E,S){if(_(S))throw Error("division by zero");if(_(E))return new x(f,f);if(g(E))return S=O(y(E),S),new x(y(S.g),y(S.h));if(g(S))return S=O(E,y(S)),new x(y(S.g),S.h);if(E.g.length>30){if(g(E)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var P=d,k=S;k.l(E)<=0;)P=T(P),k=T(k);var C=I(P,1),j=I(k,1);for(k=I(k,2),P=I(P,2);!_(k);){var N=j.add(k);N.l(E)<=0&&(C=C.add(P),j=N),k=I(k,1),P=I(P,1)}return S=w(E,C.j(S)),new x(C,S)}for(C=f;E.l(S)>=0;){for(P=Math.max(1,Math.floor(E.m()/S.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=u(P),N=j.j(S);g(N)||N.l(E)>0;)P-=k,j=u(P),N=j.j(S);_(j)&&(j=d),C=C.add(j),E=w(E,N)}return new x(C,E)}t.B=function(E){return O(this,E).h},t.and=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)&E.i(k);return new o(P,this.h&E.h)},t.or=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)|E.i(k);return new o(P,this.h|E.h)},t.xor=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)^E.i(k);return new o(P,this.h^E.h)};function T(E){const S=E.g.length+1,P=[];for(let k=0;k<S;k++)P[k]=E.i(k)<<1|E.i(k-1)>>>31;return new o(P,E.h)}function I(E,S){const P=S>>5;S%=32;const k=E.g.length-P,C=[];for(let j=0;j<k;j++)C[j]=S>0?E.i(j+P)>>>S|E.i(j+P+1)<<32-S:E.i(j+P);return new o(C,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,na=o}).apply(typeof uS<"u"?uS:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oN,vu,sN,Lh,Hv,lN,uN,cN;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var b=0;b<h.length;++b){var A=h[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,b){if(b)e:{var A=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var D=h[R];if(!(D in A))break e;A=A[D]}h=h[h.length-1],R=A[h],b=b(R),b!=R&&b!=null&&e(A,h,{configurable:!0,writable:!0,value:b})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(b){var A=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&A.push([R,b[R]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function l(h,b,A){return h.call.apply(h.bind,arguments)}function u(h,b,A){return u=l,u.apply(null,arguments)}function c(h,b){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function f(h,b){function A(){}A.prototype=b.prototype,h.Z=b.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(R,D,V){for(var J=Array(arguments.length-2),me=2;me<arguments.length;me++)J[me-2]=arguments[me];return b.prototype[D].apply(R,J)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const b=h.length;if(b>0){const A=Array(b);for(let R=0;R<b;R++)A[R]=h[R];return A}return[]}function _(h,b){for(let R=1;R<arguments.length;R++){const D=arguments[R];var A=typeof D;if(A=A!="object"?A:D?Array.isArray(D)?"array":A:"null",A=="array"||A=="object"&&typeof D.length=="number"){A=h.length||0;const V=D.length||0;h.length=A+V;for(let J=0;J<V;J++)h[A+J]=D[J]}else h.push(D)}}class g{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function y(h){o.setTimeout(()=>{throw h},0)}function w(){var h=E;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class v{constructor(){this.h=this.g=null}add(b,A){const R=x.get();R.set(b,A),this.h?this.h.next=R:this.g=R,this.h=R}}var x=new g(()=>new O,h=>h.reset());class O{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,E=new v,S=()=>{const h=Promise.resolve(void 0);T=()=>{h.then(P)}};function P(){for(var h;h=w();){try{h.h.call(h.g)}catch(A){y(A)}var b=x;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}I=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};o.addEventListener("test",A,b),o.removeEventListener("test",A,b)}catch{}return h}();function N(h){return/^[\s\xa0]*$/.test(h)}function F(h,b){C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}f(F,C),F.prototype.init=function(h,b){const A=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(A=="mouseover"?b=h.fromElement:A=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var U="closure_listenable_"+(Math.random()*1e6|0),q=0;function G(h,b,A,R,D){this.listener=h,this.proxy=null,this.src=b,this.type=A,this.capture=!!R,this.ha=D,this.key=++q,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h,b,A){for(const R in h)b.call(A,h[R],R,h)}function X(h,b){for(const A in h)b.call(void 0,h[A],A,h)}function ee(h){const b={};for(const A in h)b[A]=h[A];return b}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,b){let A,R;for(let D=1;D<arguments.length;D++){R=arguments[D];for(A in R)h[A]=R[A];for(let V=0;V<Q.length;V++)A=Q[V],Object.prototype.hasOwnProperty.call(R,A)&&(h[A]=R[A])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,b,A,R,D){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const J=ze(h,b,R,D);return J>-1?(b=h[J],A||(b.fa=!1)):(b=new G(b,this.src,V,!!R,D),b.fa=A,h.push(b)),b};function Re(h,b){const A=b.type;if(A in h.g){var R=h.g[A],D=Array.prototype.indexOf.call(R,b,void 0),V;(V=D>=0)&&Array.prototype.splice.call(R,D,1),V&&(L(b),h.g[A].length==0&&(delete h.g[A],h.h--))}}function ze(h,b,A,R){for(let D=0;D<h.length;++D){const V=h[D];if(!V.da&&V.listener==b&&V.capture==!!A&&V.ha==R)return D}return-1}var Wt="closure_lm_"+(Math.random()*1e6|0),It={};function te(h,b,A,R,D){if(Array.isArray(b)){for(let V=0;V<b.length;V++)te(h,b[V],A,R,D);return null}return A=Jn(A),h&&h[U]?h.J(b,A,s(R)?!!R.capture:!1,D):de(h,b,A,!1,R,D)}function de(h,b,A,R,D,V){if(!b)throw Error("Invalid event type");const J=s(D)?!!D.capture:!!D;let me=Qe(h);if(me||(h[Wt]=me=new ye(h)),A=me.add(b,A,R,J,V),A.proxy)return A;if(R=pe(),A.proxy=R,R.src=h,R.listener=A,h.addEventListener)j||(D=J),D===void 0&&(D=!1),h.addEventListener(b.toString(),R,D);else if(h.attachEvent)h.attachEvent(_e(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function pe(){function h(A){return b.call(h.src,h.listener,A)}const b=ot;return h}function K(h,b,A,R,D){if(Array.isArray(b))for(var V=0;V<b.length;V++)K(h,b[V],A,R,D);else R=s(R)?!!R.capture:!!R,A=Jn(A),h&&h[U]?(h=h.i,V=String(b).toString(),V in h.g&&(b=h.g[V],A=ze(b,A,R,D),A>-1&&(L(b[A]),Array.prototype.splice.call(b,A,1),b.length==0&&(delete h.g[V],h.h--)))):h&&(h=Qe(h))&&(b=h.g[b.toString()],h=-1,b&&(h=ze(b,A,R,D)),(A=h>-1?b[h]:null)&&Ve(A))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[U])Re(b.i,h);else{var A=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(A,R,h.capture):b.detachEvent?b.detachEvent(_e(A),R):b.addListener&&b.removeListener&&b.removeListener(R),(A=Qe(b))?(Re(A,h),A.h==0&&(A.src=null,b[Wt]=null)):L(h)}}}function _e(h){return h in It?It[h]:It[h]="on"+h}function ot(h,b){if(h.da)h=!0;else{b=new F(b,this);const A=h.listener,R=h.ha||h.src;h.fa&&Ve(h),h=A.call(R,b)}return h}function Qe(h){return h=h[Wt],h instanceof ye?h:null}var Ot="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jn(h){return typeof h=="function"?h:(h[Ot]||(h[Ot]=function(b){return h.handleEvent(b)}),h[Ot])}function Je(){k.call(this),this.i=new ye(this),this.M=this,this.G=null}f(Je,k),Je.prototype[U]=!0,Je.prototype.removeEventListener=function(h,b,A,R){K(this,h,b,A,R)};function ht(h,b){var A,R=h.G;if(R)for(A=[];R;R=R.G)A.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new C(b,h);else if(b instanceof C)b.target=b.target||h;else{var D=b;b=new C(R,h),oe(b,D)}D=!0;let V,J;if(A)for(J=A.length-1;J>=0;J--)V=b.g=A[J],D=Nn(V,R,!0,b)&&D;if(V=b.g=h,D=Nn(V,R,!0,b)&&D,D=Nn(V,R,!1,b)&&D,A)for(J=0;J<A.length;J++)V=b.g=A[J],D=Nn(V,R,!1,b)&&D}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const A=h.g[b];for(let R=0;R<A.length;R++)L(A[R]);delete h.g[b],h.h--}}this.G=null},Je.prototype.J=function(h,b,A,R){return this.i.add(String(h),b,!1,A,R)},Je.prototype.K=function(h,b,A,R){return this.i.add(String(h),b,!0,A,R)};function Nn(h,b,A,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let D=!0;for(let V=0;V<b.length;++V){const J=b[V];if(J&&!J.da&&J.capture==A){const me=J.listener,bt=J.ha||J.src;J.fa&&Re(h.i,J),D=me.call(bt,R)!==!1&&D}}return D&&!R.defaultPrevented}function Vr(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(h,b||0)}function jo(h){h.g=Vr(()=>{h.g=null,h.i&&(h.i=!1,jo(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Of extends k{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(h){k.call(this),this.h=h,this.g={}}f(_i,k);var Vx=[];function Fx(h){z(h.g,function(b,A){this.g.hasOwnProperty(A)&&Ve(b)},h),h.g={}}_i.prototype.N=function(){_i.Z.N.call(this),Fx(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dg=o.JSON.stringify,e$=o.JSON.parse,t$=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Ux(){}function Bx(){}var Rl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pg(){C.call(this,"d")}f(pg,C);function mg(){C.call(this,"c")}f(mg,C);var Oa={},zx=null;function Cf(){return zx=zx||new Je}Oa.Ia="serverreachability";function Wx(h){C.call(this,Oa.Ia,h)}f(Wx,C);function jl(h){const b=Cf();ht(b,new Wx(b))}Oa.STAT_EVENT="statevent";function qx(h,b){C.call(this,Oa.STAT_EVENT,h),this.stat=b}f(qx,C);function nn(h){const b=Cf();ht(b,new qx(b,h))}Oa.Ja="timingevent";function Hx(h,b){C.call(this,Oa.Ja,h),this.size=b}f(Hx,C);function Ml(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},b)}function Dl(){this.g=!0}Dl.prototype.ua=function(){this.g=!1};function n$(h,b,A,R,D,V){h.info(function(){if(h.g)if(V){var J="",me=V.split("&");for(let $e=0;$e<me.length;$e++){var bt=me[$e].split("=");if(bt.length>1){const Ct=bt[0];bt=bt[1];const br=Ct.split("_");J=br.length>=2&&br[1]=="type"?J+(Ct+"="+bt+"&"):J+(Ct+"=redacted&")}}}else J=null;else J=V;return"XMLHTTP REQ ("+R+") [attempt "+D+"]: "+b+`
`+A+`
`+J})}function r$(h,b,A,R,D,V,J){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+D+"]: "+b+`
`+A+`
`+V+" "+J})}function Mo(h,b,A,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+a$(h,A)+(R?" "+R:"")})}function i$(h,b){h.info(function(){return"TIMEOUT: "+b})}Dl.prototype.info=function(){};function a$(h,b){if(!h.g)return b;if(!b)return null;try{const V=JSON.parse(b);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var A=V[h];if(!(A.length<2)){var R=A[1];if(Array.isArray(R)&&!(R.length<1)){var D=R[0];if(D!="noop"&&D!="stop"&&D!="close")for(let J=1;J<R.length;J++)R[J]=""}}}}return dg(V)}catch{return b}}var kf={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kx;function gg(){}f(gg,Ux),gg.prototype.g=function(){return new XMLHttpRequest},Kx=new gg;function $l(h){return encodeURIComponent(String(h))}function o$(h){var b=1;h=h.split(":");const A=[];for(;b>0&&h.length;)A.push(h.shift()),b--;return h.length&&A.push(h.join(":")),A}function wi(h,b,A,R){this.j=h,this.i=b,this.l=A,this.S=R||1,this.V=new _i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xx}function Xx(){this.i=null,this.g="",this.h=!1}var Yx={},yg={};function vg(h,b,A){h.M=1,h.A=Rf(vr(b)),h.u=A,h.R=!0,Qx(h,null)}function Qx(h,b){h.F=Date.now(),Nf(h),h.B=vr(h.A);var A=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),cE(A.i,"t",R),h.C=0,A=h.j.L,h.h=new Xx,h.g=IE(h.j,A?b:null,!h.u),h.P>0&&(h.O=new Of(u(h.Y,h,h.g),h.P)),b=h.V,A=h.g,R=h.ba;var D="readystatechange";Array.isArray(D)||(D&&(Vx[0]=D.toString()),D=Vx);for(let V=0;V<D.length;V++){const J=te(A,D[V],R||b.handleEvent,!1,b.h||b);if(!J)break;b.g[J.key]=J}b=h.J?ee(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),jl(),n$(h.i,h.v,h.B,h.l,h.S,h.u)}wi.prototype.ba=function(h){h=h.target;const b=this.O;b&&Si(h)==3?b.j():this.Y(h)},wi.prototype.Y=function(h){try{if(h==this.g)e:{const me=Si(this.g),bt=this.g.ya(),$e=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||yE(this.g)))){this.K||me!=4||bt==7||(bt==8||$e<=0?jl(3):jl(2)),bg(this);var b=this.g.ca();this.X=b;var A=s$(this);if(this.o=b==200,r$(this.i,this.v,this.B,this.l,this.S,me,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,D=this.g;if((R=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var V=R;break t}}V=null}if(h=V)Mo(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_g(this,h);else{this.o=!1,this.m=3,nn(12),Ca(this),Ll(this);break e}}if(this.R){h=!0;let Ct;for(;!this.K&&this.C<A.length;)if(Ct=l$(this,A),Ct==yg){me==4&&(this.m=4,nn(14),h=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Yx){this.m=4,nn(15),Mo(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else Mo(this.i,this.l,Ct,null),_g(this,Ct);if(Jx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||A.length!=0||this.h.h||(this.m=1,nn(16),h=!1),this.o=this.o&&h,!h)Mo(this.i,this.l,A,"[Invalid Chunked Response]"),Ca(this),Ll(this);else if(A.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Ig(J),J.P=!0,nn(11))}}else Mo(this.i,this.l,A,null),_g(this,A);me==4&&Ca(this),this.o&&!this.K&&(me==4?SE(this.j,this):(this.o=!1,Nf(this)))}else x$(this.g),b==400&&A.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),Ca(this),Ll(this)}}}catch{}finally{}};function s$(h){if(!Jx(h))return h.g.la();const b=yE(h.g);if(b==="")return"";let A="";const R=b.length,D=Si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ca(h),Ll(h),"";h.h.i=new o.TextDecoder}for(let V=0;V<R;V++)h.h.h=!0,A+=h.h.i.decode(b[V],{stream:!(D&&V==R-1)});return b.length=0,h.h.g+=A,h.C=0,h.h.g}function Jx(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function l$(h,b){var A=h.C,R=b.indexOf(`
`,A);return R==-1?yg:(A=Number(b.substring(A,R)),isNaN(A)?Yx:(R+=1,R+A>b.length?yg:(b=b.slice(R,R+A),h.C=R+A,b)))}wi.prototype.cancel=function(){this.K=!0,Ca(this)};function Nf(h){h.T=Date.now()+h.H,Zx(h,h.H)}function Zx(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ml(u(h.aa,h),b)}function bg(h){h.D&&(o.clearTimeout(h.D),h.D=null)}wi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(i$(this.i,this.B),this.M!=2&&(jl(),nn(17)),Ca(this),this.m=2,Ll(this)):Zx(this,this.T-h)};function Ll(h){h.j.I==0||h.K||SE(h.j,h)}function Ca(h){bg(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Fx(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function _g(h,b){try{var A=h.j;if(A.I!=0&&(A.g==h||wg(A.h,h))){if(!h.L&&wg(A.h,h)&&A.I==3){try{var R=A.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var D=R;if(D[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)Lf(A),Df(A);else break e;Pg(A),nn(18)}}else A.xa=D[1],0<A.xa-A.K&&D[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Ml(u(A.Va,A),6e3));nE(A.h)<=1&&A.ta&&(A.ta=void 0)}else Na(A,11)}else if((h.L||A.g==h)&&Lf(A),!N(b))for(D=A.Ba.g.parse(b),b=0;b<D.length;b++){let $e=D[b];const Ct=$e[0];if(!(Ct<=A.K))if(A.K=Ct,$e=$e[1],A.I==2)if($e[0]=="c"){A.M=$e[1],A.ba=$e[2];const br=$e[3];br!=null&&(A.ka=br,A.j.info("VER="+A.ka));const Ra=$e[4];Ra!=null&&(A.za=Ra,A.j.info("SVER="+A.za));const Ti=$e[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(R=1.5*Ti,A.O=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const Ai=h.g;if(Ai){const Ff=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ff){var V=R.h;V.g||Ff.indexOf("spdy")==-1&&Ff.indexOf("quic")==-1&&Ff.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(xg(V,V.h),V.h=null))}if(R.G){const Og=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Og&&(R.wa=Og,We(R.J,R.G,Og))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),R=A;var J=h;if(R.na=PE(R,R.L?R.ba:null,R.W),J.L){rE(R.h,J);var me=J,bt=R.O;bt&&(me.H=bt),me.D&&(bg(me),Nf(me)),R.g=J}else xE(R);A.i.length>0&&$f(A)}else $e[0]!="stop"&&$e[0]!="close"||Na(A,7);else A.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Na(A,7):Ag(A):$e[0]!="noop"&&A.l&&A.l.qa($e),A.A=0)}}jl(4)}catch{}}var u$=class{constructor(h,b){this.g=h,this.map=b}};function eE(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nE(h){return h.h?1:h.g?h.g.size:0}function wg(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function xg(h,b){h.g?h.g.add(b):h.h=b}function rE(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}eE.prototype.cancel=function(){if(this.i=iE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function iE(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const A of h.g.values())b=b.concat(A.G);return b}return p(h.i)}var aE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c$(h,b){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const R=h[A].indexOf("=");let D,V=null;R>=0?(D=h[A].substring(0,R),V=h[A].substring(R+1)):D=h[A],b(D,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function xi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof xi?(this.l=h.l,Vl(this,h.j),this.o=h.o,this.g=h.g,Fl(this,h.u),this.h=h.h,Eg(this,fE(h.i)),this.m=h.m):h&&(b=String(h).match(aE))?(this.l=!1,Vl(this,b[1]||"",!0),this.o=Ul(b[2]||""),this.g=Ul(b[3]||"",!0),Fl(this,b[4]),this.h=Ul(b[5]||"",!0),Eg(this,b[6]||"",!0),this.m=Ul(b[7]||"")):(this.l=!1,this.i=new zl(null,this.l))}xi.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Bl(b,oE,!0),":");var A=this.g;return(A||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Bl(b,oE,!0),"@"),h.push($l(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(Bl(A,A.charAt(0)=="/"?d$:h$,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",Bl(A,m$)),h.join("")},xi.prototype.resolve=function(h){const b=vr(this);let A=!!h.j;A?Vl(b,h.j):A=!!h.o,A?b.o=h.o:A=!!h.g,A?b.g=h.g:A=h.u!=null;var R=h.h;if(A)Fl(b,h.u);else if(A=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var D=b.h.lastIndexOf("/");D!=-1&&(R=b.h.slice(0,D+1)+R)}if(D=R,D==".."||D==".")R="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){R=D.lastIndexOf("/",0)==0,D=D.split("/");const V=[];for(let J=0;J<D.length;){const me=D[J++];me=="."?R&&J==D.length&&V.push(""):me==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),R&&J==D.length&&V.push("")):(V.push(me),R=!0)}R=V.join("/")}else R=D}return A?b.h=R:A=h.i.toString()!=="",A?Eg(b,fE(h.i)):A=!!h.m,A&&(b.m=h.m),b};function vr(h){return new xi(h)}function Vl(h,b,A){h.j=A?Ul(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Fl(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Eg(h,b,A){b instanceof zl?(h.i=b,g$(h.i,h.l)):(A||(b=Bl(b,p$)),h.i=new zl(b,h.l))}function We(h,b,A){h.i.set(b,A)}function Rf(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ul(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Bl(h,b,A){return typeof h=="string"?(h=encodeURI(h).replace(b,f$),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function f$(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oE=/[#\/\?@]/g,h$=/[#\?:]/g,d$=/[#\?]/g,p$=/[#\?@]/g,m$=/#/g;function zl(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function ka(h){h.g||(h.g=new Map,h.h=0,h.i&&c$(h.i,function(b,A){h.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=zl.prototype,t.add=function(h,b){ka(this),this.i=null,h=Do(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(b),this.h+=1,this};function sE(h,b){ka(h),b=Do(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function lE(h,b){return ka(h),b=Do(h,b),h.g.has(b)}t.forEach=function(h,b){ka(this),this.g.forEach(function(A,R){A.forEach(function(D){h.call(b,D,R,this)},this)},this)};function uE(h,b){ka(h);let A=[];if(typeof b=="string")lE(h,b)&&(A=A.concat(h.g.get(Do(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)A=A.concat(h[b]);return A}t.set=function(h,b){return ka(this),this.i=null,h=Do(this,h),lE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=uE(this,h),h.length>0?String(h[0]):b):b};function cE(h,b,A){sE(h,b),A.length>0&&(h.i=null,h.g.set(Do(h,b),p(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var A=b[R];const D=$l(A);A=uE(this,A);for(let V=0;V<A.length;V++){let J=D;A[V]!==""&&(J+="="+$l(A[V])),h.push(J)}}return this.i=h.join("&")};function fE(h){const b=new zl;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function Do(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function g$(h,b){b&&!h.j&&(ka(h),h.i=null,h.g.forEach(function(A,R){const D=R.toLowerCase();R!=D&&(sE(this,R),cE(this,D,A))},h)),h.j=b}function y$(h,b){const A=new Dl;if(o.Image){const R=new Image;R.onload=c(Ei,A,"TestLoadImage: loaded",!0,b,R),R.onerror=c(Ei,A,"TestLoadImage: error",!1,b,R),R.onabort=c(Ei,A,"TestLoadImage: abort",!1,b,R),R.ontimeout=c(Ei,A,"TestLoadImage: timeout",!1,b,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function v$(h,b){const A=new Dl,R=new AbortController,D=setTimeout(()=>{R.abort(),Ei(A,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(V=>{clearTimeout(D),V.ok?Ei(A,"TestPingServer: ok",!0,b):Ei(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(D),Ei(A,"TestPingServer: error",!1,b)})}function Ei(h,b,A,R,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),R(A)}catch{}}function b$(){this.g=new t$}function Sg(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Sg,Ux),Sg.prototype.g=function(){return new jf(this.i,this.h)};function jf(h,b){Je.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(jf,Je),t=jf.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,ql(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wl(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hE(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function hE(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Wl(this):ql(this),this.readyState==3&&hE(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Wl(this))},t.Na=function(h){this.g&&(this.response=h,Wl(this))},t.ga=function(){this.g&&Wl(this)};function Wl(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ql(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=b.next();return h.join(`\r
`)};function ql(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(jf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function dE(h){let b="";return z(h,function(A,R){b+=R,b+=":",b+=A,b+=`\r
`}),b}function Tg(h,b,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=dE(A),typeof h=="string"?A!=null&&$l(A):We(h,b,A))}function rt(h){Je.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(rt,Je);var _$=/^https?$/i,w$=["POST","PUT"];t=rt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kx.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(V){pE(this,V);return}if(h=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var D in R)A.set(D,R[D]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const V of R.keys())A.set(V,R.get(V));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(V=>V.toLowerCase()=="content-type"),D=o.FormData&&h instanceof o.FormData,!(Array.prototype.indexOf.call(w$,b,void 0)>=0)||R||D||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,J]of A)this.g.setRequestHeader(V,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){pE(this,V)}};function pE(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,mE(h),Mf(h)}function mE(h){h.A||(h.A=!0,ht(h,"complete"),ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ht(this,"complete"),ht(this,"abort"),Mf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mf(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?gE(this):this.Xa())},t.Xa=function(){gE(this)};function gE(h){if(h.h&&typeof a<"u"){if(h.v&&Si(h)==4)setTimeout(h.Ca.bind(h),0);else if(ht(h,"readystatechange"),Si(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var R;if(R=V===0){let J=String(h.D).match(aE)[1]||null;!J&&o.self&&o.self.location&&(J=o.self.location.protocol.slice(0,-1)),R=!_$.test(J?J.toLowerCase():"")}A=R}if(A)ht(h,"complete"),ht(h,"success");else{h.o=6;try{var D=Si(h)>2?h.g.statusText:""}catch{D=""}h.l=D+" ["+h.ca()+"]",mE(h)}}finally{Mf(h)}}}}function Mf(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,b||ht(h,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Si(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),e$(b)}};function yE(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function x$(h){const b={};h=(h.g&&Si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(N(h[R]))continue;var A=o$(h[R]);const D=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const V=b[D]||[];b[D]=V,V.push(A)}X(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hl(h,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||b}function vE(h){this.za=0,this.i=[],this.j=new Dl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hl("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hl("baseRetryDelayMs",5e3,h),this.Za=Hl("retryDelaySeedMs",1e4,h),this.Ta=Hl("forwardChannelMaxRetries",2,h),this.va=Hl("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new eE(h&&h.concurrentRequestLimit),this.Ba=new b$,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vE.prototype,t.ka=8,t.I=1,t.connect=function(h,b,A,R){nn(0),this.W=h,this.H=b||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.J=PE(this,null,this.W),$f(this)};function Ag(h){if(bE(h),h.I==3){var b=h.V++,A=vr(h.J);if(We(A,"SID",h.M),We(A,"RID",b),We(A,"TYPE","terminate"),Gl(h,A),b=new wi(h,h.j,b),b.M=2,b.A=Rf(vr(A)),A=!1,o.navigator&&o.navigator.sendBeacon)try{A=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!A&&o.Image&&(new Image().src=b.A,A=!0),A||(b.g=IE(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Nf(b)}AE(h)}function Df(h){h.g&&(Ig(h),h.g.cancel(),h.g=null)}function bE(h){Df(h),h.v&&(o.clearTimeout(h.v),h.v=null),Lf(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&o.clearTimeout(h.m),h.m=null)}function $f(h){if(!tE(h.h)&&!h.m){h.m=!0;var b=h.Ea;T||S(),I||(T(),I=!0),E.add(b,h),h.D=0}}function E$(h,b){return nE(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ml(u(h.Ea,h,b),TE(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const D=new wi(this,this.j,h);let V=this.o;if(this.U&&(V?(V=ee(V),oe(V,this.U)):V=this.U),this.u!==null||this.R||(D.J=V,V=null),this.S)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=wE(this,D,b),A=vr(this.J),We(A,"RID",h),We(A,"CVER",22),this.G&&We(A,"X-HTTP-Session-Id",this.G),Gl(this,A),V&&(this.R?b="headers="+$l(dE(V))+"&"+b:this.u&&Tg(A,this.u,V)),xg(this.h,D),this.Ra&&We(A,"TYPE","init"),this.S?(We(A,"$req",b),We(A,"SID","null"),D.U=!0,vg(D,A,null)):vg(D,A,b),this.I=2}}else this.I==3&&(h?_E(this,h):this.i.length==0||tE(this.h)||_E(this))};function _E(h,b){var A;b?A=b.l:A=h.V++;const R=vr(h.J);We(R,"SID",h.M),We(R,"RID",A),We(R,"AID",h.K),Gl(h,R),h.u&&h.o&&Tg(R,h.u,h.o),A=new wi(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),b&&(h.i=b.G.concat(h.i)),b=wE(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),xg(h.h,A),vg(A,R,b)}function Gl(h,b){h.H&&z(h.H,function(A,R){We(b,R,A)}),h.l&&z({},function(A,R){We(b,R,A)})}function wE(h,b,A){A=Math.min(h.i.length,A);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var D=h.i;let me=-1;for(;;){const bt=["count="+A];me==-1?A>0?(me=D[0].g,bt.push("ofs="+me)):me=0:bt.push("ofs="+me);let $e=!0;for(let Ct=0;Ct<A;Ct++){var V=D[Ct].g;const br=D[Ct].map;if(V-=me,V<0)me=Math.max(0,D[Ct].g-100),$e=!1;else try{V="req"+V+"_"||"";try{var J=br instanceof Map?br:Object.entries(br);for(const[Ra,Ti]of J){let Ai=Ti;s(Ti)&&(Ai=dg(Ti)),bt.push(V+Ra+"="+encodeURIComponent(Ai))}}catch(Ra){throw bt.push(V+"type="+encodeURIComponent("_badmap")),Ra}}catch{R&&R(br)}}if($e){J=bt.join("&");break e}}J=void 0}return h=h.i.splice(0,A),b.G=h,J}function xE(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;T||S(),I||(T(),I=!0),E.add(b,h),h.A=0}}function Pg(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ml(u(h.Da,h),TE(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,EE(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ml(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Df(this),EE(this))};function Ig(h){h.B!=null&&(o.clearTimeout(h.B),h.B=null)}function EE(h){h.g=new wi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=vr(h.na);We(b,"RID","rpc"),We(b,"SID",h.M),We(b,"AID",h.K),We(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(b,"TO",h.ia),We(b,"TYPE","xmlhttp"),Gl(h,b),h.u&&h.o&&Tg(b,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=Rf(vr(b)),A.u=null,A.R=!0,Qx(A,h)}t.Va=function(){this.C!=null&&(this.C=null,Df(this),Pg(this),nn(19))};function Lf(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function SE(h,b){var A=null;if(h.g==b){Lf(h),Ig(h),h.g=null;var R=2}else if(wg(h.h,b))A=b.G,rE(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){A=b.u?b.u.length:0,b=Date.now()-b.F;var D=h.D;R=Cf(),ht(R,new Hx(R,A)),$f(h)}else xE(h);else if(D=b.m,D==3||D==0&&b.X>0||!(R==1&&E$(h,b)||R==2&&Pg(h)))switch(A&&A.length>0&&(b=h.h,b.i=b.i.concat(A)),D){case 1:Na(h,5);break;case 4:Na(h,10);break;case 3:Na(h,6);break;default:Na(h,2)}}}function TE(h,b){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*b}function Na(h,b){if(h.j.info("Error code "+b),b==2){var A=u(h.bb,h),R=h.Ua;const D=!R;R=new xi(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Vl(R,"https"),Rf(R),D?y$(R.toString(),A):v$(R.toString(),A)}else nn(2);h.I=0,h.l&&h.l.pa(b),AE(h),bE(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function AE(h){if(h.I=0,h.ja=[],h.l){const b=iE(h.h);(b.length!=0||h.i.length!=0)&&(_(h.ja,b),_(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function PE(h,b,A){var R=A instanceof xi?vr(A):new xi(A);if(R.g!="")b&&(R.g=b+"."+R.g),Fl(R,R.u);else{var D=o.location;R=D.protocol,b=b?b+"."+D.hostname:D.hostname,D=+D.port;const V=new xi(null);R&&Vl(V,R),b&&(V.g=b),D&&Fl(V,D),A&&(V.h=A),R=V}return A=h.G,b=h.wa,A&&b&&We(R,A,b),We(R,"VER",h.ka),Gl(h,R),R}function IE(h,b,A){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new rt(new Sg({ab:A})):new rt(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function OE(){}t=OE.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vf(){}Vf.prototype.g=function(h,b){return new bn(h,b)};function bn(h,b){Je.call(this),this.g=new vE(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!N(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new $o(this)}f(bn,Je),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ag(this.g)},bn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=dg(h),h=A);b.i.push(new u$(b.Ya++,h)),b.I==3&&$f(b)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ag(this.g),delete this.g,bn.Z.N.call(this)};function CE(h){pg.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const A in b){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}f(CE,pg);function kE(){mg.call(this),this.status=1}f(kE,mg);function $o(h){this.g=h}f($o,OE),$o.prototype.ra=function(){ht(this.g,"a")},$o.prototype.qa=function(h){ht(this.g,new CE(h))},$o.prototype.pa=function(h){ht(this.g,new kE)},$o.prototype.oa=function(){ht(this.g,"b")},Vf.prototype.createWebChannel=Vf.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,cN=function(){return new Vf},uN=function(){return Cf()},lN=Oa,Hv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kf.NO_ERROR=0,kf.TIMEOUT=8,kf.HTTP_ERROR=6,Lh=kf,Gx.COMPLETE="complete",sN=Gx,Bx.EventType=Rl,Rl.OPEN="a",Rl.CLOSE="b",Rl.ERROR="c",Rl.MESSAGE="d",Je.prototype.listen=Je.prototype.J,vu=Bx,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,oN=rt}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const cS="@firebase/firestore",fS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new V_("@firebase/firestore");function zo(){return uo.logLevel}function re(t,...e){if(uo.logLevel<=we.DEBUG){const n=e.map(B_);uo.debug(`Firestore (${pl}): ${t}`,...n)}}function si(t,...e){if(uo.logLevel<=we.ERROR){const n=e.map(B_);uo.error(`Firestore (${pl}): ${t}`,...n)}}function Rs(t,...e){if(uo.logLevel<=we.WARN){const n=e.map(B_);uo.warn(`Firestore (${pl}): ${t}`,...n)}}function B_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fN(t,r,n)}function fN(t,e,n){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw si(r),new Error(r)}function Ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fN(e,i,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class v6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b6{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new hN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class _6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=a=>{a.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=E6(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Gv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return cy(i)===cy(a)?xe(i,a):cy(i)?1:-1}return xe(t.length,e.length)}const S6=55296,T6=57343;function cy(t){const e=t.charCodeAt(0);return e>=S6&&e<=T6}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="__name__";class xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=xr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return xe(e.length,n.length)}static compareSegments(e,n){const r=xr.isNumericId(e),i=xr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xr.extractNumericId(e).compare(xr.extractNumericId(n)):Gv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class Ue extends xr{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const A6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends xr{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return A6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dS}static keyField(){return new Vt([dS])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ne(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ne(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ne(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ue.fromString(e))}static fromName(e){return new se(Ue.fromString(e).popFirst(5))}static empty(){return new se(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e,n){if(!n)throw new ne(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P6(t,e,n,r){if(e===!0&&r===!0)throw new ne(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pS(t){if(!se.isDocumentKey(t))throw new ne(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mS(t){if(se.isDocumentKey(t))throw new ne(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new ne(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function lf(t,e){if(!pN(t))throw new ne(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ne(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=-62135596800,yS=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yS);return new Me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gS)throw new ne(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yS}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lf(e,Me._jsonSchema))return new Me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:yt("string",Me._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Me(0,0))}static max(){return new fe(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function I6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new la(i,se.empty(),e)}function O6(t){return new la(t.readTime,t.key,cc)}class la{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new la(fe.min(),se.empty(),cc)}static max(){return new la(fe.max(),se.empty(),cc)}}function C6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==k6)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new H((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function R6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}am.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-1;function om(t){return t==null}function wd(t){return t===0&&1/t==-1/0}function j6(t){return typeof t=="number"&&Number.isInteger(t)&&!wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="";function M6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vS(e)),e=D6(t.get(n),e);return vS(e)}function D6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case mN:n+="";break;default:n+=a}}return n}function vS(t){return t+mN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _S(this.data.getIterator())}getIteratorFrom(e){return new _S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class _S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Tt(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yN("Invalid base64 string: "+a):a}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const $6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=$6.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ca(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="server_timestamp",bN="__type__",_N="__previous_value__",wN="__local_write_time__";function q_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bN])==null?void 0:r.stringValue)===vN}function sm(t){const e=t.mapValue.fields[_N];return q_(e)?sm(e):e}function fc(t){const e=ua(t.mapValue.fields[wN].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r,i,a,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const xd="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||xd}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===xd}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="__type__",V6="__max__",sh={mapValue:{}},EN="__vector__",Ed="value";function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q_(t)?4:U6(t)?9007199254740991:F6(t)?10:11:ce(28295,{value:t})}function Dr(t,e){if(t===e)return!0;const n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ua(i.timestampValue),s=ua(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ca(i.bytesValue).isEqual(ca(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return st(i.geoPointValue.latitude)===st(a.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return st(i.integerValue)===st(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=st(i.doubleValue),s=st(a.doubleValue);return o===s?wd(o)===wd(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(bS(o)!==bS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Dr(o[l],s[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function dc(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=fa(t),r=fa(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=st(a.integerValue||a.doubleValue),l=st(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return wS(t.timestampValue,e.timestampValue);case 4:return wS(fc(t),fc(e));case 5:return Gv(t.stringValue,e.stringValue);case 6:return function(a,o){const s=ca(a),l=ca(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=xe(s[u],l[u]);if(c!==0)return c}return xe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=xe(st(a.latitude),st(o.latitude));return s!==0?s:xe(st(a.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var d,p,_,g;const s=a.fields||{},l=o.fields||{},u=(d=s[Ed])==null?void 0:d.arrayValue,c=(p=l[Ed])==null?void 0:p.arrayValue,f=xe(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((g=c==null?void 0:c.values)==null?void 0:g.length)||0);return f!==0?f:xS(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===sh.mapValue&&o===sh.mapValue)return 0;if(a===sh.mapValue)return 1;if(o===sh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Gv(l[f],c[f]);if(d!==0)return d;const p=Ms(s[l[f]],u[c[f]]);if(p!==0)return p}return xe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function wS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=ua(t),r=ua(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function xS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ms(n[i],r[i]);if(a)return a}return xe(n.length,r.length)}function Ds(t){return Kv(t)}function Kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ua(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ca(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Kv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Kv(n.fields[o])}`;return i+"}"}(t.mapValue):ce(61005,{value:t})}function Vh(t){switch(fa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(t);return e?16+Vh(e):16;case 5:return 2*t.stringValue.length;case 6:return ca(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Vh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ba(r.fields,(a,o)=>{i+=a.length+Vh(o)}),i}(t.mapValue);default:throw ce(13486,{value:t})}}function ES(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xv(t){return!!t&&"integerValue"in t}function H_(t){return!!t&&"arrayValue"in t}function SS(t){return!!t&&"nullValue"in t}function TS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fh(t){return!!t&&"mapValue"in t}function F6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xN])==null?void 0:r.stringValue)===EN}function Ru(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ru(t.arrayValue.values[n]);return e}return{...t}}function U6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===V6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=Ru(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ba(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new hn(Ru(this.value))}}function SN(t){const e=[];return ba(t.fields,(n,r)=>{const i=new Vt([n]);if(Fh(r)){const a=SN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Qt(e,0,fe.min(),fe.min(),fe.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,fe.min(),fe.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,fe.min(),fe.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function AS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Ms(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function PS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function B6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{}class gt extends TN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W6(e,n,r):n==="array-contains"?new G6(e,r):n==="in"?new K6(e,r):n==="not-in"?new X6(e,r):n==="array-contains-any"?new Y6(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q6(e,r):new H6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ms(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends TN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mr(e,n)}matches(e){return AN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AN(t){return t.op==="and"}function PN(t){return z6(t)&&AN(t)}function z6(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function Yv(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Ds(t.value);if(PN(t))return t.filters.map(e=>Yv(e)).join(",");{const e=t.filters.map(n=>Yv(n)).join(",");return`${t.op}(${e})`}}function IN(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(t,e):t instanceof mr?function(r,i){return i instanceof mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&IN(o,i.filters[s]),!0):!1}(t,e):void ce(19439)}function ON(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ds(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(ON).join(" ,")+"}"}(t):"Filter"}class W6 extends gt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class q6 extends gt{constructor(e,n){super(e,"in",n),this.keys=CN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H6 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=CN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class G6 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return H_(n)&&dc(n.arrayValue,this.value)}}class K6 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class X6 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class Y6 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!H_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function IS(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Q6(t,e,n,r,i,a,o)}function G_(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ds(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ds(r)).join(",")),e.Te=n}return e.Te}function K_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PS(t.startAt,e.startAt)&&PS(t.endAt,e.endAt)}function Qv(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J6(t,e,n,r,i,a,o,s){return new yl(t,e,n,r,i,a,o,s)}function X_(t){return new yl(t)}function OS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kN(t){return t.collectionGroup!==null}function ju(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Tt(Vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new pc(a,r))}),n.has(Vt.keyField().canonicalString())||e.Ie.push(new pc(Vt.keyField(),r))}return e.Ie}function Ir(t){const e=he(t);return e.Ee||(e.Ee=Z6(e,ju(t))),e.Ee}function Z6(t,e){if(t.limitType==="F")return IS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new pc(i.field,a)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return IS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jv(t,e){const n=t.filters.concat([e]);return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zv(t,e,n){return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lm(t,e){return K_(Ir(t),Ir(e))&&t.limitType===e.limitType}function NN(t){return`${G_(Ir(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ON(i)).join(", ")}]`),om(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ds(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ds(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function um(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of ju(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=AS(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,ju(r),i)||r.endAt&&!function(o,s,l){const u=AS(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,ju(r),i))}(t,e)}function eU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RN(t){return(e,n)=>{let r=!1;for(const i of ju(t)){const a=tU(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function tU(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Ms(l,u):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return gN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new nt(se.comparator);function li(){return nU}const jN=new nt(se.comparator);function bu(...t){let e=jN;for(const n of t)e=e.insert(n.key,n);return e}function MN(t){let e=jN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qa(){return Mu()}function DN(){return Mu()}function Mu(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const rU=new nt(se.comparator),iU=new Tt(se.comparator);function Ee(...t){let e=iU;for(const n of t)e=e.add(n);return e}const aU=new Tt(xe);function oU(){return aU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function $N(t){return{integerValue:""+t}}function sU(t,e){return j6(e)?$N(e):Y_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function lU(t,e,n){return t instanceof Td?function(i,a){const o={fields:{[bN]:{stringValue:vN},[wN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&q_(a)&&(a=sm(a)),a&&(o.fields[_N]=a),{mapValue:o}}(n,e):t instanceof mc?VN(t,e):t instanceof gc?FN(t,e):function(i,a){const o=LN(i,a),s=CS(o)+CS(i.Ae);return Xv(o)&&Xv(i.Ae)?$N(s):Y_(i.serializer,s)}(t,e)}function uU(t,e,n){return t instanceof mc?VN(t,e):t instanceof gc?FN(t,e):n}function LN(t,e){return t instanceof Ad?function(r){return Xv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Td extends cm{}class mc extends cm{constructor(e){super(),this.elements=e}}function VN(t,e){const n=UN(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class gc extends cm{constructor(e){super(),this.elements=e}}function FN(t,e){let n=UN(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class Ad extends cm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CS(t){return st(t.integerValue||t.doubleValue)}function UN(t){return H_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mc&&i instanceof mc||r instanceof gc&&i instanceof gc?js(r.elements,i.elements,Dr):r instanceof Ad&&i instanceof Ad?Dr(r.Ae,i.Ae):r instanceof Td&&i instanceof Td}(t.transform,e.transform)}class fU{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fm{}function BN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Q_(t.key,Wn.none()):new uf(t.key,t.data,Wn.none());{const n=t.data,r=hn.empty();let i=new Tt(Vt.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new _a(t.key,r,new An(i.toArray()),Wn.none())}}function hU(t,e,n){t instanceof uf?function(i,a,o){const s=i.value.clone(),l=NS(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof _a?function(i,a,o){if(!Uh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=NS(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(zN(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Du(t,e,n,r){return t instanceof uf?function(a,o,s,l){if(!Uh(a.precondition,o))return s;const u=a.value.clone(),c=RS(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _a?function(a,o,s,l){if(!Uh(a.precondition,o))return s;const u=RS(a.fieldTransforms,l,o),c=o.data;return c.setAll(zN(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return Uh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function dU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=LN(r.transform,i||null);a!=null&&(n===null&&(n=hn.empty()),n.set(r.field,a))}return n||null}function kS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(a,o)=>cU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uf extends fm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _a extends fm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NS(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,uU(o,s,n[i]))}return r}function RS(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,lU(a,o,e))}return r}class Q_ extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pU extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hU(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DN();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=BN(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>kS(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>kS(n,r))}}class J_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return rU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new J_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Te;function vU(t){switch(t){case W.OK:return ce(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function WN(t){if(t===void 0)return si("GRPC error has no .code"),W.UNKNOWN;switch(t){case dt.OK:return W.OK;case dt.CANCELLED:return W.CANCELLED;case dt.UNKNOWN:return W.UNKNOWN;case dt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case dt.INTERNAL:return W.INTERNAL;case dt.UNAVAILABLE:return W.UNAVAILABLE;case dt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case dt.NOT_FOUND:return W.NOT_FOUND;case dt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case dt.ABORTED:return W.ABORTED;case dt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case dt.DATA_LOSS:return W.DATA_LOSS;default:return ce(39323,{code:t})}}(Te=dt||(dt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new na([4294967295,4294967295],0);function jS(t){const e=bU().encode(t),n=new aN;return n.update(e),new Uint8Array(n.digest())}function MS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new na([n,r],0),new na([i,a],0)]}class Z_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=na.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(na.fromNumber(r)));return i.compare(_U)===1&&(i=new na([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jS(e),[r,i]=MS(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Z_(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const n=jS(e),[r,i]=MS(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hm(fe.min(),i,new nt(xe),li(),Ee())}}class cf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cf(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class qN{constructor(e,n){this.targetId=e,this.Ce=n}}class HN{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DS{constructor(){this.ve=0,this.Fe=$S(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce(38017,{changeType:a})}}),new cf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$S()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wU{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=lh(),this.He=lh(),this.Ye=new nt(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Qv(a))if(r===0){const o=new se(a.path);this.et(n,o,Qt.newNoDocument(o,fe.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=ca(r).toUint8Array()}catch(l){if(l instanceof yN)return Rs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Z_(o,i,a)}catch(l){return Rs(l instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&Qv(s.target)){const l=new se(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Qt.newNoDocument(l,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let r=Ee();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new hm(e,n,this.Ye,this.je,r);return this.je=li(),this.Je=lh(),this.He=lh(),this.Ye=new nt(xe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new DS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new nt(se.comparator)}function $S(){return new nt(se.comparator)}const xU={asc:"ASCENDING",desc:"DESCENDING"},EU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SU={and:"AND",or:"OR"};class TU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function e0(t,e){return t.useProto3Json||om(e)?e:{value:e}}function Pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AU(t,e){return Pd(t,e.toTimestamp())}function Or(t){return Ce(!!t,49232),fe.fromTimestamp(function(n){const r=ua(n);return new Me(r.seconds,r.nanos)}(t))}function ew(t,e){return t0(t,e).canonicalString()}function t0(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KN(t){const e=Ue.fromString(t);return Ce(ZN(e),10190,{key:e.toString()}),e}function n0(t,e){return ew(t.databaseId,e.path)}function fy(t,e){const n=KN(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(YN(n))}function XN(t,e){return ew(t.databaseId,e)}function PU(t){const e=KN(t);return e.length===4?Ue.emptyPath():YN(e)}function r0(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YN(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LS(t,e,n){return{name:n0(t,e),fields:n.value.mapValue.fields}}function IU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string",58123),zt.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),zt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?W.UNKNOWN:WN(u.code);return new ne(c,u.message||"")}(o);n=new HN(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fy(t,r.document.name),a=Or(r.document.updateTime),o=r.document.createTime?Or(r.document.createTime):fe.min(),s=new hn({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Bh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fy(t,r.document),a=r.readTime?Or(r.readTime):fe.min(),o=Qt.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Bh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fy(t,r.document),a=r.removedTargetIds||[];n=new Bh([],a,i,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new yU(i,a),s=r.targetId;n=new qN(s,o)}}return n}function OU(t,e){let n;if(e instanceof uf)n={update:LS(t,e.key,e.value)};else if(e instanceof Q_)n={delete:n0(t,e.key)};else if(e instanceof _a)n={update:LS(t,e.key,e.data),updateMask:LU(e.fieldMask)};else{if(!(e instanceof pU))return ce(16599,{Vt:e.type});n={verify:n0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Td)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof mc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof gc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ad)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:AU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ce(27497)}(t,e.precondition)),n}function CU(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Or(i.updateTime):Or(a);return o.isEqual(fe.min())&&(o=Or(a)),new fU(o,i.transformResults||[])}(n,e))):[]}function kU(t,e){return{documents:[XN(t,e.path)]}}function NU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XN(t,i);const a=function(u){if(u.length!==0)return JN(mr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:qo(d.field),direction:MU(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=e0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function RU(t){let e=PU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const d=QN(f);return d instanceof mr&&PN(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(_){return new pc(Ho(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,om(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Sd(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Sd(p,d)}(n.endAt)),J6(e,i,o,a,s,"F",l,u)}function jU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ho(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ho(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ho(n.unaryFilter.field);return gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ho(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>QN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function MU(t){return xU[t]}function DU(t){return EU[t]}function $U(t){return SU[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Ho(t){return Vt.fromServerFormat(t.fieldPath)}function JN(t){return t instanceof gt?function(n){if(n.op==="=="){if(TS(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(SS(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TS(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(SS(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:DU(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(i=>JN(i));return r.length===1?r[0]:{compositeFilter:{op:$U(n.op),filters:r}}}(t):ce(54877,{filter:t})}function LU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r,i,a=fe.min(),o=fe.min(),s=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.yt=e}}function FU(t){const e=RU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.Cn=new BU}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(la.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(la.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class BU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tt(Ue.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eR=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(eR,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $s(0)}static cr(){return new $s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="LruGarbageCollector",zU=1048576;function US([t,e],[n,r]){const i=xe(t,n);return i===0?xe(e,r):i}class WU{constructor(e){this.Ir=e,this.buffer=new Tt(US),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();US(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(FS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?re(FS,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)})}}class HU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(am.ce);const r=new WU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(VS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),zo()<=we.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function GU(t,e){return new HU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Du(r.mutation,i,An.empty(),Me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=qa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=bu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=li();const o=Mu(),s=function(){return Mu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof _a)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Du(c.mutation,u,c.mutation.getFieldMask(),Me.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>s.set(u,new XU(c,o.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=Mu();let i=new nt((o,s)=>o-s),a=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||An.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Ee()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=DN();c.forEach(d=>{if(!a.has(d)){const p=BN(n.get(d),r.get(d));p!==null&&f.set(d,p),a=a.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):H.resolve(qa());let s=cc,l=a;return o.next(u=>H.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?H.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Ee())).next(c=>({batchId:s,changes:MN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=bu();return this.indexManager.getCollectionParents(e,a).next(s=>H.forEach(s,l=>{const u=function(f,d){return new yl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Qt.newInvalidDocument(c)))});let s=bu();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Du(c.mutation,u,An.empty(),Me.now()),um(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:FU(i.bundledQuery),readTime:Or(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.overlays=new nt(se.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qa();return H.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=qa(),a=n.length+1,o=new se(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new nt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=qa(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=qa(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return H.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gU(n,r));let a=this.qr.get(n);a===void 0&&(a=Ee(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Qr=new Tt(kt.$r),this.Ur=new Tt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Ue([])),r=new kt(n,e),i=new kt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Ue([])),r=new kt(n,e),i=new kt(n,e+1);let a=Ee();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(kt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mU(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new kt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return H.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?W_:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),H.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(xe);return n.forEach(i=>{const a=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{r=r.add(s.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;se.isDocumentKey(a)||(a=a.child(""));const o=new kt(new se(a),0);let s=new Tt(xe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),H.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,i=>{const a=new kt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new kt(n,0),i=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.ri=e,this.docs=function(){return new nt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Qt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=li();const o=n.path,s=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||C6(O6(c),r)<=0||(i.has(c.key)||um(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return H.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ce(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nB(this)}getSize(e){return H.resolve(this.size)}}class nB extends KU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.persistence=e,this.si=new To(n=>G_(n),K_),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new tw,this.targetCount=0,this.ai=$s.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),H.waitFor(a).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.ui={},this.overlays={},this.ci=new am(0),this.li=!1,this.li=!0,this.hi=new ZU,this.referenceDelegate=e(this),this.Pi=new rB(this),this.indexManager=new UU,this.remoteDocumentCache=function(i){return new tB(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new VU(n),this.Ii=new QU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new eB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new iB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class iB extends N6{constructor(e){super(),this.currentSequenceNumber=e}}class nw{constructor(e){this.persistence=e,this.Ri=new tw,this.Vi=null}static mi(e){return new nw(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const i=se.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Id{constructor(e,n){this.persistence=e,this.pi=new To(r=>M6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=GU(this,n)}static mi(e,n){return new Id(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(s=>{s||(r++,a.removeEntry(o,fe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vh(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ee(),i=Ee();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new rw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Z3()?8:R6(tn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new aB;return this.Ss(e,n,o).next(s=>{if(a.result=s,this.Vs)return this.bs(e,n,o,s.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(zo()<=we.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(zo()<=we.DEBUG&&re("QueryEngine","Query:",Wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(zo()<=we.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):H.resolve())}ys(e,n){if(OS(n))return H.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zv(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Ee(...a);return this.ps.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,o,l.readTime)?this.ys(e,Zv(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return OS(n)||i.isEqual(fe.min())?H.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?H.resolve(null):(zo()<=we.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wo(n)),this.vs(e,o,n,I6(i,cc)).next(s=>s))})}Ds(e,n){let r=new Tt(RN(e));return n.forEach((i,a)=>{um(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return zo()<=we.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.ps.getDocumentsMatchingQuery(e,n,la.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="LocalStore",sB=3e8;class lB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new nt(xe),this.xs=new To(a=>G_(a),K_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function uB(t,e,n,r){return new lB(t,e,n,r)}async function nR(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Ee();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function cB(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let p=H.resolve();return d.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(g=>{const y=u.docVersions.get(_);Ce(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ee();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rR(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function fB(t,e){const n=he(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.Pi.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(a,c.addedDocuments,f)));let p=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(zt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=sB?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,p,c)&&s.push(n.Pi.updateTargetData(a,p))});let l=li(),u=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(hB(a,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(fe.min())){const c=n.Pi.getLastRemoteSnapshotVersion(a).next(f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return H.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function hB(t,e,n){let r=Ee(),i=Ee();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=li();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):re(iw,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function dB(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=W_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pB(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,H.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function i0(t,e,n){const r=he(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!gl(o))throw o;re(iw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function BS(t,e,n){const r=he(t);let i=fe.min(),a=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=he(l),d=f.xs.get(c);return d!==void 0?H.resolve(f.Ms.get(d)):f.Pi.getTargetData(u,c)}(r,o,Ir(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?a:Ee())).next(s=>(mB(r,eU(e),s),{documents:s,Qs:a})))}function mB(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class zS{constructor(){this.activeTargetIds=oU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gB{constructor(){this.Mo=new zS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="ConnectivityMonitor";class qS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(WS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(WS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function a0(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="RestConnection",vB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===xd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=a0(),s=this.zo(e,n.toUriEncodedString());re(hy,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),c=hl(u);return this.Jo(e,s,l,r,c).then(f=>(re(hy,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Rs(hy,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",r),f})}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=vB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class wB extends bB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=a0();return new Promise((s,l)=>{const u=new oN;u.setWithCredentials(!0),u.listenOnce(sN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lh.NO_ERROR:const f=u.getResponseJson();re(Gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Lh.TIMEOUT:re(Gt,`RPC '${e}' ${o} timed out`),l(new ne(W.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const d=u.getStatus();if(re(Gt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(_.status);l(new ne(g,_.message))}else l(new ne(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(W.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{re(Gt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);re(Gt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=a0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cN(),s=uN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");re(Gt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);this.I_(f);let d=!1,p=!1;const _=new _B({Yo:y=>{p?re(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(re(Gt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),re(Gt,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),g=(y,w,v)=>{y.listen(w,x=>{try{v(x)}catch(O){setTimeout(()=>{throw O},0)}})};return g(f,vu.EventType.OPEN,()=>{p||(re(Gt,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),g(f,vu.EventType.CLOSE,()=>{p||(p=!0,re(Gt,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))}),g(f,vu.EventType.ERROR,y=>{p||(p=!0,Rs(Gt,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),_.a_(new ne(W.UNAVAILABLE,"The operation could not be completed")))}),g(f,vu.EventType.MESSAGE,y=>{var w;if(!p){const v=y.data[0];Ce(!!v,16349);const x=v,O=(x==null?void 0:x.error)||((w=x[0])==null?void 0:w.error);if(O){re(Gt,`RPC '${e}' stream ${i} received error:`,O);const T=O.status;let I=function(P){const k=dt[P];if(k!==void 0)return WN(k)}(T),E=O.message;I===void 0&&(I=W.INTERNAL,E="Unknown error status: "+T+" with message "+O.message),p=!0,_.a_(new ne(I,E)),f.close()}else re(Gt,`RPC '${e}' stream ${i} received:`,v),_.u_(v)}}),g(s,lN.STAT_EVENT,y=>{y.stat===Hv.PROXY?re(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Hv.NOPROXY&&re(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function dy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new TU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="PersistentStream";class aR{constructor(e,n,r,i,a,o,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ne(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(HS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(HS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xB extends aR{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IU(this.serializer,e),r=function(a){if(!("targetChange"in a))return fe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Or(o.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=r0(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=Qv(l)?{documents:kU(a,l)}:{query:NU(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=GN(a,o.resumeToken);const u=e0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){s.readTime=Pd(a,o.snapshotVersion.toTimestamp());const u=e0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=jU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=r0(this.serializer),n.removeTarget=e,this.q_(n)}}class EB extends aR{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CU(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=r0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>OU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{}class TB extends SB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ne(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,t0(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne(W.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(e,t0(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class AB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(si(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class PB{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ao(this)&&(re(co,"Restarting streams for network reachability change."),await async function(l){const u=he(l);u.Ea.add(4),await ff(u),u.Ra.set("Unknown"),u.Ea.delete(4),await pm(u)}(this))})}),this.Ra=new AB(r,i)}}async function pm(t){if(Ao(t))for(const e of t.da)await e(!0)}async function ff(t){for(const e of t.da)await e(!1)}function oR(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lw(n)?sw(n):vl(n).O_()&&ow(n,e))}function aw(t,e){const n=he(t),r=vl(n);n.Ia.delete(e),r.O_()&&sR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ao(n)&&n.Ra.set("Unknown"))}function ow(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Y_(e)}function sR(t,e){t.Va.Ue(e),vl(t).Z_(e)}function sw(t){t.Va=new wU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Ra.ua()}function lw(t){return Ao(t)&&!vl(t).x_()&&t.Ia.size>0}function Ao(t){return he(t).Ea.size===0}function lR(t){t.Va=void 0}async function IB(t){t.Ra.set("Online")}async function OB(t){t.Ia.forEach((e,n)=>{ow(t,e)})}async function CB(t,e){lR(t),lw(t)?(t.Ra.ha(e),sw(t)):t.Ra.set("Unknown")}async function kB(t,e,n){if(t.Ra.set("Online"),e instanceof HN&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){re(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Od(t,r)}else if(e instanceof Bh?t.Va.Ze(e):e instanceof qN?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await rR(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(zt.EMPTY_BYTE_STRING,c.snapshotVersion)),sR(a,l);const f=new Bi(c.target,l,u,c.sequenceNumber);ow(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){re(co,"Failed to raise snapshot:",r),await Od(t,r)}}async function Od(t,e,n){if(!gl(e))throw e;t.Ea.add(1),await ff(t),t.Ra.set("Offline"),n||(n=()=>rR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(co,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pm(t)})}function uR(t,e){return e().catch(n=>Od(t,n,e))}async function mm(t){const e=he(t),n=ha(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:W_;for(;NB(e);)try{const i=await dB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,RB(e,i)}catch(i){await Od(e,i)}cR(e)&&fR(e)}function NB(t){return Ao(t)&&t.Ta.length<10}function RB(t,e){t.Ta.push(e);const n=ha(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cR(t){return Ao(t)&&!ha(t).x_()&&t.Ta.length>0}function fR(t){ha(t).start()}async function jB(t){ha(t).ra()}async function MB(t){const e=ha(t);for(const n of t.Ta)e.ea(n.mutations)}async function DB(t,e,n){const r=t.Ta.shift(),i=J_.from(r,e,n);await uR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mm(t)}async function $B(t,e){e&&ha(t).X_&&await async function(r,i){if(function(o){return vU(o)&&o!==W.ABORTED}(i.code)){const a=r.Ta.shift();ha(r).B_(),await uR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await mm(r)}}(t,e),cR(t)&&fR(t)}async function GS(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),re(co,"RemoteStore received new credentials");const r=Ao(n);n.Ea.add(3),await ff(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pm(n)}async function LB(t,e){const n=he(t);e?(n.Ea.delete(2),await pm(n)):e||(n.Ea.add(2),await ff(n),n.Ra.set("Unknown"))}function vl(t){return t.ma||(t.ma=function(n,r,i){const a=he(n);return a.sa(),new xB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:IB.bind(null,t),t_:OB.bind(null,t),r_:CB.bind(null,t),H_:kB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),lw(t)?sw(t):t.Ra.set("Unknown")):(await t.ma.stop(),lR(t))})),t.ma}function ha(t){return t.fa||(t.fa=function(n,r,i){const a=he(n);return a.sa(),new EB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:jB.bind(null,t),r_:$B.bind(null,t),ta:MB.bind(null,t),na:DB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mm(t)):(await t.fa.stop(),t.Ta.length>0&&(re(co,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new uw(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cw(t,e){if(si("AsyncQueue",`${e}: ${t}`),gl(t))return new ne(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static emptySet(e){return new ms(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=bu(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ms;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.ga=new nt(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ls{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Ls(e,n,ms.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class FB{constructor(){this.queries=XS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=he(n),a=i.queries;i.queries=XS(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new ne(W.ABORTED,"Firestore shutting down"))}}function XS(){return new To(t=>NN(t),lm)}async function hR(t,e){const n=he(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new VB,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=cw(o,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&fw(n)}async function dR(t,e){const n=he(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UB(t,e){const n=he(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(r=!0);o.wa=i}}r&&fw(n)}function BB(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function fw(t){t.Ca.forEach(e=>{e.next()})}var o0,YS;(YS=o0||(o0={})).Ma="default",YS.Cache="cache";class pR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ls(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==o0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.key=e}}class gR{constructor(e){this.key=e}}class zB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=RN(e),this.tu=new ms(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new KS,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=um(this.query,f)?f:null,_=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?_!==g&&(r.track({type:3,doc:p}),y=!0):this.su(d,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),y=!0):d&&!p&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(s=!0)),y&&(p?(o=o.add(p),a=g?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Cs:s,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,f)=>function(p,_){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:y})}};return g(p)-g(_)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Ls(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new gR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new mR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ls.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hw="SyncEngine";class WB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qB{constructor(e){this.key=e,this.hu=!1}}class HB{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new To(s=>NN(s),lm),this.Iu=new Map,this.Eu=new Set,this.du=new nt(se.comparator),this.Au=new Map,this.Ru=new tw,this.Vu={},this.mu=new Map,this.fu=$s.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GB(t,e,n=!0){const r=xR(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await yR(r,e,n,!0),i}async function KB(t,e){const n=xR(t);await yR(n,e,!0,!1)}async function yR(t,e,n,r){const i=await pB(t.localStore,Ir(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await XB(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&oR(t.remoteStore,i),s}async function XB(t,e,n,r,i){t.pu=(f,d,p)=>async function(g,y,w,v){let x=y.view.ru(w);x.Cs&&(x=await BS(g.localStore,y.query,!1).then(({documents:E})=>y.view.ru(E,x)));const O=v&&v.targetChanges.get(y.targetId),T=v&&v.targetMismatches.get(y.targetId)!=null,I=y.view.applyChanges(x,g.isPrimaryClient,O,T);return JS(g,y.targetId,I.au),I.snapshot}(t,f,d,p);const a=await BS(t.localStore,e,!0),o=new zB(e,a.Qs),s=o.ru(a.documents),l=cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);JS(t,n,u.au);const c=new WB(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function YB(t,e,n){const r=he(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!lm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await i0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&aw(r.remoteStore,i.targetId),s0(r,i.targetId)}).catch(ml)):(s0(r,i.targetId),await i0(r.localStore,i.targetId,!0))}async function QB(t,e){const n=he(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),aw(n.remoteStore,r.targetId))}async function JB(t,e,n){const r=a5(t);try{const i=await function(o,s){const l=he(o),u=Me.now(),c=s.reduce((p,_)=>p.add(_.key),Ee());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=li(),g=Ee();return l.Ns.getEntries(p,c).next(y=>{_=y,_.forEach((w,v)=>{v.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(y=>{f=y;const w=[];for(const v of s){const x=dU(v,f.get(v.key).overlayedDocument);x!=null&&w.push(new _a(v.key,x,SN(x.value.mapValue),Wn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(y=>{d=y;const w=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:d.batchId,changes:MN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new nt(xe)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await hf(r,i.changes),await mm(r.remoteStore)}catch(i){const a=cw(i,"Failed to persist write");n.reject(a)}}async function vR(t,e){const n=he(t);try{const r=await fB(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ce(o.hu,14607):i.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))}),await hf(n,r,e)}catch(r){await ml(r)}}function QS(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=he(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Sa)d.va(s)&&(u=!0)}),u&&fw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZB(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new nt(se.comparator);o=o.insert(a,Qt.newNoDocument(a,fe.min()));const s=Ee().add(a),l=new hm(fe.min(),new Map,new nt(xe),o,s);await vR(r,l),r.du=r.du.remove(a),r.Au.delete(e),dw(r)}else await i0(r.localStore,e,!1).then(()=>s0(r,e,n)).catch(ml)}async function e5(t,e){const n=he(t),r=e.batch.batchId;try{const i=await cB(n.localStore,e);_R(n,r,null),bR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hf(n,i)}catch(i){await ml(i)}}async function t5(t,e,n){const r=he(t);try{const i=await function(o,s){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Ce(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);_R(r,e,n),bR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hf(r,i)}catch(i){await ml(i)}}function bR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _R(t,e,n){const r=he(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function s0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||wR(t,r)})}function wR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(aw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dw(t))}function JS(t,e,n){for(const r of n)r instanceof mR?(t.Ru.addReference(r.key,e),n5(t,r)):r instanceof gR?(re(hw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||wR(t,r.key)):ce(19791,{wu:r})}function n5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(re(hw,"New document in limbo: "+n),t.Eu.add(r),dw(t))}function dw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Ue.fromString(e)),r=t.fu.next();t.Au.set(r,new qB(n)),t.du=t.du.insert(n,r),oR(t.remoteStore,new Bi(Ir(X_(n.path)),r,"TargetPurposeLimboResolution",am.ce))}}async function hf(t,e,n){const r=he(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=rw.As(l.targetId,u);a.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const c=he(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,d=>H.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>H.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!gl(f))throw f;re(iw,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.Ms.get(d),_=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(_);c.Ms=c.Ms.insert(d,g)}}}(r.localStore,a))}async function r5(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){re(hw,"User change. New user:",e.toKey());const r=await nR(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new ne(W.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hf(n,r.Ls)}}function i5(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let i=Ee();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function xR(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZB.bind(null,e),e.Pu.H_=UB.bind(null,e.eventManager),e.Pu.yu=BB.bind(null,e.eventManager),e}function a5(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t5.bind(null,e),e}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uB(this.persistence,new oB,e.initialUser,this.serializer)}Cu(e){return new tR(nw.mi,this.serializer)}Du(e){return new gB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class o5 extends Cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof Id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new tR(r=>Id.mi(r,n),this.serializer)}}class l0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r5.bind(null,this.syncEngine),await LB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FB}()}createDatastore(e){const n=dm(e.databaseInfo.databaseId),r=function(a){return new wB(a)}(e.databaseInfo);return function(a,o,s,l){return new TB(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new PB(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>QS(this.syncEngine,n,0),function(){return qS.v()?new qS:new yB}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const f=new HB(i,a,o,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=he(i);re(co,"RemoteStore shutting down."),a.Ea.add(5),await ff(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}l0.provider={build:()=>new l0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class s5{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{re(da,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re(da,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function py(t,e){t.asyncQueue.verifyOperationInProgress(),re(da,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l5(t);re(da,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>GS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>GS(e.remoteStore,i)),t._onlineComponents=e}async function l5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(da,"Using user provided OfflineComponentProvider");try{await py(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Rs("Error using user provided cache. Falling back to memory cache: "+n),await py(t,new Cd)}}else re(da,"Using default OfflineComponentProvider"),await py(t,new o5(void 0));return t._offlineComponents}async function SR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(da,"Using user provided OnlineComponentProvider"),await ZS(t,t._uninitializedComponentsProvider._online)):(re(da,"Using default OnlineComponentProvider"),await ZS(t,new l0))),t._onlineComponents}function u5(t){return SR(t).then(e=>e.syncEngine)}async function TR(t){const e=await SR(t),n=e.eventManager;return n.onListen=GB.bind(null,e.syncEngine),n.onUnlisten=YB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QB.bind(null,e.syncEngine),n}function c5(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new ER({next:d=>{c.Nu(),o.enqueueAndForget(()=>dR(a,f));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new ne(W.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ne(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new pR(X_(s.path),c,{includeMetadataChanges:!0,qa:!0});return hR(a,f)}(await TR(t),t.asyncQueue,e,n,r)),r.promise}function f5(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new ER({next:d=>{c.Nu(),o.enqueueAndForget(()=>dR(a,f)),d.fromCache&&l.source==="server"?u.reject(new ne(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new pR(s,c,{includeMetadataChanges:!0,qa:!0});return hR(a,f)}(await TR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firestore.googleapis.com",tT=!0;class nT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PR,this.ssl=tT}else this.host=e.host,this.ssl=e.ssl??tT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zU)throw new ne(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new y6;switch(r.type){case"firstParty":return new w6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eT.get(n);r&&(re("ComponentProvider","Removing Datastore"),eT.delete(n),r.terminate())}(this),Promise.resolve()}}function h5(t,e,n,r={}){var u;t=pr(t,gm);const i=hl(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(Qk(`https://${s}`),Jk("Firestore",!0)),a.host!==PR&&a.host!==s&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:r};if(!so(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Xt.MOCK_USER;else{c=W3(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ne(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Xt(d)}t._authCredentials=new v6(new hN(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Po(this.firestore,e,this._query)}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lf(n,ct._jsonSchema))return new ct(e,r||null,new se(Ue.fromString(n.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:yt("string",ct._jsonSchemaVersion),referencePath:yt("string")};class ra extends Po{constructor(e,n,r){super(e,n,X_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new se(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function IR(t,e,...n){if(t=At(t),dN("collection","path",e),t instanceof gm){const r=Ue.fromString(e,...n);return mS(r),new ra(t,null,r)}{if(!(t instanceof ct||t instanceof ra))throw new ne(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return mS(r),new ra(t.firestore,null,r)}}function ym(t,e,...n){if(t=At(t),arguments.length===1&&(e=z_.newId()),dN("doc","path",e),t instanceof gm){const r=Ue.fromString(e,...n);return pS(r),new ct(t,null,new se(r))}{if(!(t instanceof ct||t instanceof ra))throw new ne(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return pS(r),new ct(t.firestore,t instanceof ra?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class iT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iR(this,"async_queue_retry"),this._c=()=>{const r=dy();r&&re(rT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=dy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;re(rT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,si("INTERNAL UNHANDLED ERROR: ",aT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=uw.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ce(47125,{Pc:aT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Io extends gm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iT(e),this._firestoreClient=void 0,await e}}}function d5(t,e){const n=typeof t=="object"?t:nN(),r=typeof t=="string"?t:xd,i=U_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=B3("firestore");a&&h5(i,...a)}return i}function pw(t){if(t._terminated)throw new ne(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p5(t),t._firestoreClient}function p5(t){var r,i,a;const e=t._freezeSettings(),n=function(s,l,u,c){return new L6(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,AR(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new s5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(zt.fromBase64String(e))}catch(n){throw new ne(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lf(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:yt("string",Fn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(lf(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:yt("string",Cr._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lf(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kr(e.vectorValues);throw new ne(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:yt("string",kr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=/^__.*__$/;class g5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new uf(e,this.data,n,this.fieldTransforms)}}class OR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class gw{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CR(this.Ac)&&m5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class y5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dm(e)}Cc(e,n,r,i=!1){return new gw({Ac:e,methodName:n,Dc:r,path:Vt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bm(t){const e=t._freezeSettings(),n=dm(t._databaseId);return new y5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kR(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);yw("Data must be an object, but it was:",o,r);const s=NR(r,o);let l,u;if(a.merge)l=new An(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const d=u0(e,f,n);if(!o.contains(d))throw new ne(W.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);jR(c,d)||c.push(d)}l=new An(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new g5(new hn(s),l,u)}class _m extends mw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _m}}function v5(t,e,n,r){const i=t.Cc(1,e,n);yw("Data must be an object, but it was:",i,r);const a=[],o=hn.empty();ba(r,(l,u)=>{const c=vw(e,l,n);u=At(u);const f=i.yc(c);if(u instanceof _m)a.push(c);else{const d=df(u,f);d!=null&&(a.push(c),o.set(c,d))}});const s=new An(a);return new OR(o,s,i.fieldTransforms)}function b5(t,e,n,r,i,a){const o=t.Cc(1,e,n),s=[u0(e,r,n)],l=[i];if(a.length%2!=0)throw new ne(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)s.push(u0(e,a[d])),l.push(a[d+1]);const u=[],c=hn.empty();for(let d=s.length-1;d>=0;--d)if(!jR(u,s[d])){const p=s[d];let _=l[d];_=At(_);const g=o.yc(p);if(_ instanceof _m)u.push(p);else{const y=df(_,g);y!=null&&(u.push(p),c.set(p,y))}}const f=new An(u);return new OR(c,f,o.fieldTransforms)}function _5(t,e,n,r=!1){return df(n,t.Cc(r?4:3,e))}function df(t,e){if(RR(t=At(t)))return yw("Unsupported field value:",e,t),NR(t,e);if(t instanceof mw)return function(r,i){if(!CR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=df(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Me.fromDate(r);return{timestampValue:Pd(i.serializer,a)}}if(r instanceof Me){const a=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pd(i.serializer,a)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:GN(i.serializer,r._byteString)};if(r instanceof ct){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ew(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return function(o,s){return{mapValue:{fields:{[xN]:{stringValue:EN},[Ed]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return Y_(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${im(r)}`)}(t,e)}function NR(t,e){const n={};return gN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,(r,i)=>{const a=df(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function RR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof Cr||t instanceof Fn||t instanceof ct||t instanceof mw||t instanceof kr)}function yw(t,e,n){if(!RR(n)||!pN(n)){const r=im(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function u0(t,e,n){if((e=At(e))instanceof vm)return e._internalPath;if(typeof e=="string")return vw(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const w5=new RegExp("[~\\*/\\[\\]]");function vw(t,e,n){if(e.search(w5)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vm(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kd(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ne(W.INVALID_ARGUMENT,s+t+l)}function jR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x5 extends MR{data(){return super.data()}}function bw(t,e){return typeof e=="string"?vw(t,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _w{}class DR extends _w{}function S5(t,e,...n){let r=[];e instanceof _w&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof xw).length,s=a.filter(l=>l instanceof ww).length;if(o>1||o>0&&s>0)throw new ne(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ww extends DR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ww(e,n,r)}_apply(e){const n=this._parse(e);return $R(e._query,n),new Po(e.firestore,e.converter,Jv(e._query,n))}_parse(e){const n=bm(e.firestore);return function(a,o,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){sT(f,c);const _=[];for(const g of f)_.push(oT(l,a,g));d={arrayValue:{values:_}}}else d=oT(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||sT(f,c),d=_5(s,o,f,c==="in"||c==="not-in");return gt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class xw extends _w{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)$R(o,l),o=Jv(o,l)}(e._query,n),new Po(e.firestore,e.converter,Jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ew extends DR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ew(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new ne(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(a,o)}(e._query,this._field,this._direction);return new Po(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new yl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function T5(t,e="asc"){const n=e,r=bw("orderBy",t);return Ew._create(r,n)}function oT(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new ne(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kN(e)&&n.indexOf("/")!==-1)throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!se.isDocumentKey(r))throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ES(t,new se(r))}if(n instanceof ct)return ES(t,n._key);throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function sT(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $R(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class A5{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ba(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Ed].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>st(o.doubleValue));return new kr(n)}convertGeoPoint(e){return new Cr(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=ua(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Ce(ZN(r),9688,{name:e});const i=new hc(r.get(1),r.get(3)),a=new se(r.popFirst(5));return i.isEqual(n)||si(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends MR{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:yt("string",Ja._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class zh extends Ja{data(e={}){return super.data(e)}}class gs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zh(this._firestore,this._userDataWriter,r.key,r,new wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new zh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new wu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new zh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new wu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:P5(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=z_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){t=pr(t,ct);const e=pr(t.firestore,Io);return c5(pw(e),t._key).then(n=>j5(e,t,n))}gs._jsonSchemaVersion="firestore/querySnapshot/1.0",gs._jsonSchema={type:yt("string",gs._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class VR extends A5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function O5(t){t=pr(t,Po);const e=pr(t.firestore,Io),n=pw(e),r=new VR(e);return E5(t._query),f5(n,t._query).then(i=>new gs(e,r,t,i))}function C5(t,e,n){t=pr(t,ct);const r=pr(t.firestore,Io),i=LR(t.converter,e);return wm(r,[kR(bm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wn.none())])}function k5(t,e,n,...r){t=pr(t,ct);const i=pr(t.firestore,Io),a=bm(i);let o;return o=typeof(e=At(e))=="string"||e instanceof vm?b5(a,"updateDoc",t._key,e,n,r):v5(a,"updateDoc",t._key,e),wm(i,[o.toMutation(t._key,Wn.exists(!0))])}function N5(t){return wm(pr(t.firestore,Io),[new Q_(t._key,Wn.none())])}function R5(t,e){const n=pr(t.firestore,Io),r=ym(t),i=LR(t.converter,e);return wm(n,[kR(bm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function wm(t,e){return function(r,i){const a=new Qr;return r.asyncQueue.enqueueAndForget(async()=>JB(await u5(r),i,a)),a.promise}(pw(t),e)}function j5(t,e,n){const r=n.docs.get(e._key),i=new VR(t);return new Ja(t,i,e._key,r,new wu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){pl=i})(dl),Ns(new lo("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Io(new b6(r.getProvider("auth-internal")),new x6(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(u.options.projectId,c)}(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),ta(cS,fS,e),ta(cS,fS,"esm2020")})();var M5="firebase",D5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(M5,D5,"app");function FR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $5=FR,UR=new of("auth","Firebase",FR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new V_("@firebase/auth");function L5(t,...e){Nd.logLevel<=we.WARN&&Nd.warn(`Auth (${dl}): ${t}`,...e)}function Wh(t,...e){Nd.logLevel<=we.ERROR&&Nd.error(`Auth (${dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw Sw(t,...e)}function Nr(t,...e){return Sw(t,...e)}function BR(t,e,n){const r={...$5(),[e]:n};return new of("auth","Firebase",r).create(e,{appName:t.name})}function Jr(t){return BR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UR.create(t,...e)}function ue(t,e,...n){if(!t)throw Sw(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wh(e),new Error(e)}function ui(t,e){t||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function V5(){return lT()==="http:"||lT()==="https:"}function lT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V5()||Y3()||"connection"in navigator)?navigator.onLine:!0}function U5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=G3()||Q3()}get(){return F5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W5=new pf(3e4,6e4);function wa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gi(t,e,n,r,i={}){return WR(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=sf({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return X3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(u.credentials="include"),zR.fetch()(await qR(t,t.config.apiHost,n,s),u)})}async function WR(t,e,n){t._canInitEmulator=!1;const r={...B5,...e};try{const i=new H5(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw ch(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ch(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ch(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BR(t,c,u);gr(t,c)}}catch(i){if(i instanceof mi)throw i;gr(t,"network-request-failed",{message:String(i)})}}async function mf(t,e,n,r,i={}){const a=await gi(t,e,n,r,i);return"mfaPendingCredential"in a&&gr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function qR(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?Tw(t.config,i):`${t.config.apiScheme}://${i}`;return z5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function q5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),W5.get())})}}function ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}function uT(t){return t!==void 0&&t.enterprise!==void 0}class G5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K5(t,e){return gi(t,"GET","/v2/recaptchaConfig",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e){return gi(t,"POST","/v1/accounts:delete",e)}async function Rd(t,e){return gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y5(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=Aw(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:$u(my(i.auth_time)),issuedAtTime:$u(my(i.iat)),expirationTime:$u(my(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function my(t){return Number(t)*1e3}function Aw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gk(n);return i?JSON.parse(i):(Wh("Failed to decode base64 JWT payload"),null)}catch(i){return Wh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cT(t){const e=Aw(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&Q5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Vs(t,Rd(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?HR(i.providerUserInfo):[],o=e9(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new f0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function Z5(t){const e=At(t);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(t,e){const n=await WR(t,{},async()=>{const r=sf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await qR(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(l.credentials="include"),zR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n9(t,e){return gi(t,"POST","/v2/accounts:revokeToken",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=cT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await t9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new ys;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ue(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ys,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new J5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new f0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y5(this,e)}reload(){return Z5(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await Vs(this,X5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:_,stsTokenManager:g}=n;ue(f&&g,e,"internal-error");const y=ys.fromJSON(this.name,g);ue(typeof f=="string",e,"internal-error"),Ii(r,e.name),Ii(i,e.name),ue(typeof d=="boolean",e,"internal-error"),ue(typeof p=="boolean",e,"internal-error"),Ii(a,e.name),Ii(o,e.name),Ii(s,e.name),Ii(l,e.name),Ii(u,e.name),Ii(c,e.name);const w=new ur({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:y,createdAt:u,lastLoginAt:c});return _&&Array.isArray(_)&&(w.providerData=_.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new ys;i.updateFromServerResponse(n);const a=new ur({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?HR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new ys;s.updateFromIdToken(r);const l=new ur({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new f0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;function Hr(t){ui(t instanceof Function,"Expected a class definition");let e=fT.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GR.type="NONE";const hT=GR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t,e,n){return`firebase:${t}:${e}:${n}`}class vs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=qh(this.userKey,i.apiKey,a),this.fullPersistenceKey=qh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rd(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vs(Hr(hT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Hr(hT);const o=qh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){let f;if(typeof c=="string"){const d=await Rd(e,{idToken:c}).catch(()=>{});if(!d)break;f=await ur._fromGetAccountInfoResponse(e,d,c)}else f=ur._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new vs(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new vs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZR(e))return"Blackberry";if(e2(e))return"Webos";if(XR(e))return"Safari";if((e.includes("chrome/")||YR(e))&&!e.includes("edge/"))return"Chrome";if(JR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KR(t=tn()){return/firefox\//i.test(t)}function XR(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YR(t=tn()){return/crios\//i.test(t)}function QR(t=tn()){return/iemobile/i.test(t)}function JR(t=tn()){return/android/i.test(t)}function ZR(t=tn()){return/blackberry/i.test(t)}function e2(t=tn()){return/webos/i.test(t)}function Pw(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r9(t=tn()){var e;return Pw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function i9(){return J3()&&document.documentMode===10}function t2(t=tn()){return Pw(t)||JR(t)||e2(t)||ZR(t)||/windows phone/i.test(t)||QR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e=[]){let n;switch(t){case"Browser":n=dT(tn());break;case"Worker":n=`${dT(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e={}){return gi(t,"GET","/v2/passwordPolicy",wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=6;class l9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??s9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pT(this),this.idTokenSubscription=new pT(this),this.beforeStateQueue=new a9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await vs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rd(this,{idToken:e}),r=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Jr(this));const n=e?At(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o9(this),n=new l9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new of("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await n9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await vs.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&L5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Oo(t){return At(t)}class pT{constructor(e){this.auth=e,this.observer=null,this.addObserver=oF(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c9(t){xm=t}function r2(t){return xm.loadJS(t)}function f9(){return xm.recaptchaEnterpriseScript}function h9(){return xm.gapiScript}function d9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class p9{constructor(){this.enterprise=new m9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class m9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const g9="recaptcha-enterprise",i2="NO_RECAPTCHA";class y9{constructor(e){this.type=g9,this.auth=Oo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{K5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new G5(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;uT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(i2)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p9().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&uT(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=f9();l.length!==0&&(l+=s),r2(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function mT(t,e,n,r=!1,i=!1){const a=new y9(t);let o;if(i)o=i2;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function h0(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await mT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await mT(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e){const n=U_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(so(a,e??{}))return i;gr(i,"already-initialized")}return n.initialize({options:e})}function b9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _9(t,e,n){const r=Oo(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=a2(e),{host:o,port:s}=w9(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(so(u,r.config.emulator)&&so(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,hl(o)?(Qk(`${a}//${o}${l}`),Jk("Auth",!0)):x9()}function a2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w9(t){const e=a2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:gT(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:gT(o)}}}function gT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function E9(t,e){return gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e){return mf(t,"POST","/v1/accounts:signInWithPassword",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e){return mf(t,"POST","/v1/accounts:signInWithEmailLink",wa(t,e))}async function A9(t,e){return mf(t,"POST","/v1/accounts:signInWithEmailLink",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Iw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,n,"signInWithPassword",S9);case"emailLink":return T9(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,r,"signUpPassword",E9);case"emailLink":return A9(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(t,e){return mf(t,"POST","/v1/accounts:signInWithIdp",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="http://localhost";class fo extends Iw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new fo(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bs(e,n)}buildRequest(){const e={requestUri:P9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O9(t){const e=gu(yu(t)).link,n=e?gu(yu(e)).deep_link_id:null,r=gu(yu(t)).deep_link_id;return(r?gu(yu(r)).link:null)||r||n||e||t}class Ow{constructor(e){const n=gu(yu(e)),r=n.apiKey??null,i=n.oobCode??null,a=I9(n.mode??null);ue(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=O9(e);try{return new Ow(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,n){return yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ow.parseLink(n);return ue(r,"argument-error"),yc._fromEmailAndCode(e,r.code,r.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends o2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends gf{constructor(){super("facebook.com")}static credential(e){return fo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fo._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends gf{constructor(){super("github.com")}static credential(e){return fo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends gf{constructor(){super("twitter.com")}static credential(e,n){return fo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e){return mf(t,"POST","/v1/accounts:signUp",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ur._fromIdTokenResponse(e,r,i),o=yT(r);return new ho({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yT(r);return new ho({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends mi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Md(e,n,r,i)}}function s2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Md._fromErrorAndOperation(t,a,e,r):a})}async function k9(t,e,n=!1){const r=await Vs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(t,e,n=!1){const{auth:r}=t;if(Vn(r.app))return Promise.reject(Jr(r));const i="reauthenticate";try{const a=await Vs(t,s2(r,i,e,t),n);ue(a.idToken,r,"internal-error");const o=Aw(a.idToken);ue(o,r,"internal-error");const{sub:s}=o;return ue(t.uid===s,r,"user-mismatch"),ho._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e,n=!1){if(Vn(t.app))return Promise.reject(Jr(t));const r="signIn",i=await s2(t,r,e),a=await ho._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function R9(t,e){return l2(Oo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t){const e=Oo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j9(t,e,n){if(Vn(t.app))return Promise.reject(Jr(t));const r=Oo(t),o=await h0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&u2(t),l}),s=await ho._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function M9(t,e,n){return Vn(t.app)?Promise.reject(Jr(t)):R9(At(t),bl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e){return gi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Vs(r,D9(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function L9(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function V9(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function F9(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function U9(t){return At(t).signOut()}const Dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dd,"1"),this.storage.removeItem(Dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=1e3,z9=10;class f2 extends c2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);i9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,z9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f2.type="LOCAL";const W9=f2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends c2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h2.type="SESSION";const d2=h2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await q9(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=Cw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(d.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function G9(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function K9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Y9(){return p2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebaseLocalStorageDb",Q9=1,$d="firebaseLocalStorage",g2="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sm(t,e){return t.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function J9(){const t=indexedDB.deleteDatabase(m2);return new yf(t).toPromise()}function d0(){const t=indexedDB.open(m2,Q9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($d,{keyPath:g2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($d)?e(r):(r.close(),await J9(),e(await d0()))})})}async function vT(t,e,n){const r=Sm(t,!0).put({[g2]:e,value:n});return new yf(r).toPromise()}async function Z9(t,e){const n=Sm(t,!1).get(e),r=await new yf(n).toPromise();return r===void 0?null:r.value}function bT(t,e){const n=Sm(t,!0).delete(e);return new yf(n).toPromise()}const ez=800,tz=3;class y2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Em._getInstance(Y9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await K9(),!this.activeServiceWorker)return;this.sender=new H9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d0();return await vT(e,Dd,"1"),await bT(e,Dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Sm(i,!1).getAll();return new yf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ez)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y2.type="LOCAL";const nz=y2;new pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t,e){return e?Hr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends Iw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iz(t){return l2(t.auth,new kw(t),t.bypassAuthState)}function az(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),N9(n,new kw(t),t.bypassAuthState)}async function oz(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),k9(n,new kw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iz;case"linkViaPopup":case"linkViaRedirect":return oz;case"reauthViaPopup":case"reauthViaRedirect":return az;default:gr(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=new pf(2e3,1e4);class as extends v2{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,as.currentPopupAction&&as.currentPopupAction.cancel(),as.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=Cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,as.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sz.get())};e()}}as.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="pendingRedirect",Hh=new Map;class uz extends v2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const r=await cz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cz(t,e){const n=dz(e),r=hz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fz(t,e){Hh.set(t._key(),e)}function hz(t){return Hr(t._redirectPersistence)}function dz(t){return qh(lz,t.config.apiKey,t.name)}async function pz(t,e,n=!1){if(Vn(t.app))return Promise.reject(Jr(t));const r=Oo(t),i=rz(r,e),o=await new uz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=10*60*1e3;class gz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!b2(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mz&&this.cachedEventUids.clear(),this.cachedEventUids.has(_T(e))}saveEventToCache(e){this.cachedEventUids.add(_T(e)),this.lastProcessedEventTime=Date.now()}}function _T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e={}){return gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_z=/^https?/;async function wz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vz(t);for(const n of e)try{if(xz(n))return}catch{}gr(t,"unauthorized-domain")}function xz(t){const e=c0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_z.test(n))return!1;if(bz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new pf(3e4,6e4);function wT(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sz(t){return new Promise((e,n)=>{var i,a,o;function r(){wT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wT(),n(Nr(t,"network-request-failed"))},timeout:Ez.get()})}if((a=(i=Rr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Rr().gapi)!=null&&o.load)r();else{const s=d9("iframefcb");return Rr()[s]=()=>{gapi.load?r():n(Nr(t,"network-request-failed"))},r2(`${h9()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function Tz(t){return Gh=Gh||Sz(t),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new pf(5e3,15e3),Pz="__/auth/iframe",Iz="emulator/auth/iframe",Oz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kz(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tw(e,Iz):`https://${t.config.authDomain}/${Pz}`,r={apiKey:e.apiKey,appName:t.name,v:dl},i=Cz.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${sf(r).slice(1)}`}async function Nz(t){const e=await Tz(t),n=Rr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:kz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oz,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Nr(t,"network-request-failed"),s=Rr().setTimeout(()=>{a(o)},Az.get());function l(){Rr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jz=500,Mz=600,Dz="_blank",$z="http://localhost";class xT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lz(t,e,n,r=jz,i=Mz){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...Rz,width:r.toString(),height:i.toString(),top:a,left:o},u=tn().toLowerCase();n&&(s=YR(u)?Dz:n),KR(u)&&(e=e||$z,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,_])=>`${d}${p}=${_},`,"");if(r9(u)&&s!=="_self")return Vz(e||"",s),new xT(null);const f=window.open(e||"",s,c);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new xT(f)}function Vz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="__/auth/handler",Uz="emulator/auth/handler",Bz=encodeURIComponent("fac");async function ET(t,e,n,r,i,a){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dl,eventId:i};if(e instanceof o2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof gf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${Bz}=${encodeURIComponent(l)}`:"";return`${zz(t)}?${sf(s).slice(1)}${u}`}function zz({config:t}){return t.emulator?Tw(t,Uz):`https://${t.authDomain}/${Fz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="webStorageSupport";class Wz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d2,this._completeRedirectFn=pz,this._overrideRedirectResult=fz}async _openPopup(e,n,r,i){var o;ui((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await ET(e,n,r,c0(),i);return Lz(e,a,Cw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await ET(e,n,r,c0(),i);return G9(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ui(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nz(e),r=new gz(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gy,{type:gy},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[gy];a!==void 0&&n(!!a),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t2()||XR()||Pw()}}const qz=Wz;var ST="@firebase/auth",TT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kz(t){Ns(new lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n2(t)},u=new u9(r,i,a,l);return b9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ns(new lo("auth-internal",e=>{const n=Oo(e.getProvider("auth").getImmediate());return(r=>new Hz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta(ST,TT,Gz(t)),ta(ST,TT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=5*60,Yz=Yk("authIdTokenMaxAge")||Xz;let AT=null;const Qz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Yz)return;const i=n==null?void 0:n.token;AT!==i&&(AT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Jz(t=nN()){const e=U_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v9(t,{popupRedirectResolver:qz,persistence:[nz,W9,d2]}),r=Yk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Qz(a.toString());V9(n,o,()=>o(n.currentUser)),L9(n,s=>o(s))}}const i=Kk("auth");return i&&_9(n,`http://${i}`),n}function Zz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}c9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Nr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Zz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kz("Browser");const e8={apiKey:"AIzaSyBlQs46HmEjGDFtnC6aEb2FkW4x2KJAn28",authDomain:"smart-carbon-tracker.firebaseapp.com",projectId:"smart-carbon-tracker",storageBucket:"smart-carbon-tracker.firebasestorage.app",messagingSenderId:"463600178918",appId:"1:463600178918:web:36fecbe3408eb90b078d27"},_2=tN(e8),Tm=Jz(_2),vf=d5(_2),t8=async(t,e)=>{try{const n=IR(vf,"users",t,"records");return(await R5(n,{...e,timestamp:Me.now()})).id}catch(n){throw new Error(n.message||"Failed to add record")}},n8=async(t,e,n)=>{try{const r=ym(vf,"users",t,"records",e);await k5(r,n)}catch(r){throw new Error(r.message||"Failed to update record")}},r8=async(t,e)=>{try{const n=ym(vf,"users",t,"records",e);await N5(n)}catch(n){throw new Error(n.message||"Failed to delete record")}},i8=async t=>{try{const e=IR(vf,"users",t,"records"),n=S5(e,T5("timestamp","desc"));return(await O5(n)).docs.map(i=>{var a;return{id:i.id,...i.data(),timestamp:((a=i.data().timestamp)==null?void 0:a.toDate().toISOString())||new Date().toISOString()}})}catch(e){throw new Error(e.message||"Failed to fetch records")}},xa=P3()(R3((t,e)=>({user:null,setUser:n=>t({user:n}),theme:"light",setTheme:n=>t({theme:n}),company:null,setCompany:n=>t({company:n}),records:[],loadRecords:async()=>{const{user:n}=e();if(!n){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{const r=await i8(n.uid);t({records:r,isLoading:!1,lastSyncTime:new Date().toISOString()})}catch(r){console.error("Error loading records:",r),t({error:r.message||"Failed to load records",isLoading:!1})}},addRecord:async n=>{const{user:r}=e();if(!r){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{const i=await t8(r.uid,n),a={...n,id:i,timestamp:new Date().toISOString()};t(o=>({records:[a,...o.records],isLoading:!1,success:"Record added successfully",lastSyncTime:new Date().toISOString()}))}catch(i){console.error("Error adding record:",i),t({error:i.message||"Failed to add record",isLoading:!1})}},updateRecord:async(n,r)=>{const{user:i}=e();if(!i){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{await n8(i.uid,n,r),t(a=>({records:a.records.map(o=>o.id===n?{...o,...r}:o),isLoading:!1,success:"Record updated successfully",lastSyncTime:new Date().toISOString()}))}catch(a){console.error("Error updating record:",a),t({error:a.message||"Failed to update record",isLoading:!1})}},deleteRecord:async n=>{const{user:r}=e();if(!r){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{await r8(r.uid,n),t(i=>({records:i.records.filter(a=>a.id!==n),isLoading:!1,success:"Record deleted successfully",lastSyncTime:new Date().toISOString()}))}catch(i){console.error("Error deleting record:",i),t({error:i.message||"Failed to delete record",isLoading:!1})}},recommendations:[],setRecommendations:n=>t({recommendations:n}),isLoading:!1,setIsLoading:n=>t({isLoading:n}),error:null,setError:n=>t({error:n}),success:null,setSuccess:n=>t({success:n}),lastSyncTime:null,setLastSyncTime:n=>t({lastSyncTime:n})}),{name:"carbon-tracker-store",partialize:t=>({theme:t.theme,company:t.company})})),a8=async t=>{const e=ym(vf,"users",t.uid);(await I5(e)).exists()||await C5(e,{email:t.email,displayName:t.displayName||"",createdAt:Me.now(),updatedAt:Me.now()})},o8=async(t,e,n)=>{try{const r=await j9(Tm,t,e);return n&&r.user&&await $9(r.user,{displayName:n}),await a8(r.user),r.user}catch(r){throw new Error(r.message||"Failed to create account")}},s8=async(t,e)=>{try{return(await M9(Tm,t,e)).user}catch(n){throw new Error(n.message||"Failed to sign in")}},l8=async()=>{try{await U9(Tm)}catch(t){throw new Error(t.message||"Failed to sign out")}},u8=t=>F9(Tm,t),p0=({checked:t=!1,onChange:e,label:n,disabled:r=!1})=>m.jsxs("div",{className:"flex items-center gap-3",children:[n&&m.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:n}),m.jsx("button",{onClick:()=>e==null?void 0:e(!t),disabled:r,className:`
          relative inline-flex h-7 w-12 items-center rounded-full
          transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
          dark:focus:ring-offset-neutral-800
          ${t?"bg-primary-500":"bg-neutral-300 dark:bg-neutral-600"}
          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,children:m.jsx("span",{className:`
            inline-block h-5 w-5 transform rounded-full bg-white
            transition-transform duration-200 shadow-md
            ${t?"translate-x-6":"translate-x-1"}
          `})})]}),c8=()=>{const t=So(),e=af(),{theme:n,setTheme:r,user:i,setUser:a}=xa(),[o,s]=M.useState(!1),l=async()=>{try{await l8(),a(null),e("/login")}catch(d){console.error("Logout error:",d)}},u=[{label:"Dashboard",href:"/"},{label:"Data Entry",href:"/data-entry"},{label:"Calculator",href:"/calculator"},{label:"Benchmarks",href:"/benchmarks"},{label:"Recommendations",href:"/recommendations"},{label:"Reports",href:"/reports"},{label:"Learn",href:"/learn"},{label:"Settings",href:"/settings"}],c=d=>t.pathname===d,f=t.pathname==="/login";return m.jsx("nav",{className:"bg-white dark:bg-neutral-900 shadow-soft sticky top-0 z-50",children:m.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs(ry,{to:"/",className:"flex items-center gap-2 font-heading font-bold text-xl text-primary-600 dark:text-primary-400 hover:text-primary-700 transition-colors flex-shrink-0",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"hidden sm:inline",children:"Carbon Tracker"})]}),!f&&m.jsx("div",{className:"hidden lg:flex items-center gap-0.5 flex-1 justify-center mx-4",children:u.map(d=>m.jsx(ry,{to:d.href,className:`
                    px-2.5 py-2 rounded-lg text-xs xl:text-sm font-medium transition-all duration-200 whitespace-nowrap
                    ${c(d.href)?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"}
                  `,children:d.label},d.href))}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i&&!f&&m.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[m.jsx("span",{className:"text-xs xl:text-sm text-neutral-600 dark:text-neutral-400 max-w-[150px] truncate",children:i.displayName||i.email}),m.jsx("button",{onClick:l,className:"px-3 py-1.5 text-xs xl:text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:"Logout"})]}),m.jsx(p0,{checked:n==="dark",onChange:d=>r(d?"dark":"light"),label:"Dark"}),!f&&m.jsx("button",{onClick:()=>s(!o),className:"lg:hidden p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),o&&!f&&m.jsxs("div",{className:"lg:hidden pb-4 border-t border-neutral-200 dark:border-neutral-700 pt-2",children:[i&&m.jsxs("div",{className:"px-3 py-2 mb-2 text-sm text-neutral-600 dark:text-neutral-400 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsx("div",{className:"font-medium",children:i.displayName||i.email}),m.jsx("button",{onClick:l,className:"mt-2 w-full px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors",children:"Logout"})]}),u.map(d=>m.jsx(ry,{to:d.href,onClick:()=>s(!1),className:`
                  block px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200
                  ${c(d.href)?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"}
                `,children:d.label},d.href))]})]})})},f8=()=>{const t=new Date().getFullYear(),n=So().pathname==="/login";return m.jsx("footer",{className:"bg-neutral-900 dark:bg-black text-neutral-300 dark:text-neutral-400 py-8 mt-16",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[!n&&m.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"About"}),m.jsx("p",{className:"text-sm",children:"Smart Carbon Footprint & Sustainability Tracker helps businesses measure, monitor, and reduce emissions."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Quick Links"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"/dashboard",className:"hover:text-primary-400 transition",children:"Dashboard"})}),m.jsx("li",{children:m.jsx("a",{href:"/calculator",className:"hover:text-primary-400 transition",children:"Calculator"})}),m.jsx("li",{children:m.jsx("a",{href:"/benchmarks",className:"hover:text-primary-400 transition",children:"Benchmarks"})}),m.jsx("li",{children:m.jsx("a",{href:"/reports",className:"hover:text-primary-400 transition",children:"Reports"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Resources"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Documentation"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"API Reference"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Support"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Blog"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Contact"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:"Email: info@carbontracker.com"}),m.jsx("li",{children:"Phone: +1 (555) 123-4567"}),m.jsxs("li",{className:"flex gap-3 mt-4",children:[m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Twitter"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"LinkedIn"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"GitHub"})]})]})]})]}),m.jsxs("div",{className:"border-t border-neutral-700 pt-6 flex flex-col md:flex-row justify-between items-center",children:[m.jsxs("p",{className:"text-sm text-neutral-500",children:[" ",t," Smart Carbon Footprint. All rights reserved."]}),m.jsxs("div",{className:"flex gap-6 text-sm mt-4 md:mt-0",children:[m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Privacy Policy"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Terms of Service"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Cookie Policy"})]})]})]})})},ja=({children:t})=>{const{user:e}=xa();return e?m.jsx(m.Fragment,{children:t}):m.jsx(Vk,{to:"/login",replace:!0})},cn=(t,e=2,n="")=>t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e})+n,h8=(t,e=1)=>t>=1e9?(t/1e9).toFixed(e)+"B":t>=1e6?(t/1e6).toFixed(e)+"M":t>=1e3?(t/1e3).toFixed(e)+"K":t.toFixed(e),fh=t=>{const{title:e,value:n,unit:r="kg COe",icon:i,trend:a,trendDirection:o,className:s="",onClick:l}=t,u=o==="down"&&a!==void 0&&a>0;return m.jsxs("div",{onClick:l,className:`
        bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft
        hover:shadow-lg hover:scale-102 transition-all duration-200 ease-smooth
        border border-transparent hover:border-primary-300 dark:hover:border-primary-700
        cursor-pointer group
        ${s}
      `,children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{children:m.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:e})}),i&&m.jsx("div",{className:"text-primary-500 dark:text-primary-400 group-hover:scale-110 transition-transform",children:i})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white font-heading",children:h8(n,2)}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:r})]}),a!==void 0&&m.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${u?"text-primary-600 dark:text-primary-400":"text-error"}`,children:[m.jsx("span",{children:u?"":""}),m.jsxs("span",{children:[Math.abs(a).toFixed(1),"%"]}),m.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"vs last month"})]})]})},w2=t=>t.reduce((e,n)=>e+(n.co2e||0),0),x2=t=>{const e={scope1:0,scope2:0,scope3:0};return t.forEach(n=>{const r=n.co2e||0;switch(n.category){case"fuel":e.scope1+=r;break;case"electricity":e.scope2+=r;break;case"travel":case"waste":case"water":e.scope3+=r;break}}),e},d8=t=>{const e={electricity:0,fuel:0,travel:0,waste:0,water:0};return t.forEach(n=>{e[n.category]=(e[n.category]||0)+(n.co2e||0)}),e},E2=t=>{const e={};return t.forEach(n=>{const r=`${n.year}-${String(n.month).padStart(2,"0")}`;e[r]||(e[r]={total:0,scope1:0,scope2:0,scope3:0});const i=n.co2e||0;e[r].total+=i,n.category==="fuel"?e[r].scope1+=i:n.category==="electricity"?e[r].scope2+=i:e[r].scope3+=i}),Object.entries(e).sort(([n],[r])=>n.localeCompare(r)).map(([n,r])=>({month:new Date(`${n}-01`).toLocaleString("en-US",{month:"short",year:"2-digit"}),...r}))},p8=t=>{if(t.length===0)return{total:0,average:0,minimum:0,maximum:0,trend:0};const e=t.map(s=>s.co2e||0),n=e.reduce((s,l)=>s+l,0),r=n/e.length,i=Math.min(...e),a=Math.max(...e);let o=0;if(t.length>=2){const s=t.slice(-2),l=s[1].co2e||0,u=s[0].co2e||0;o=(l-u)/u*100||0}return{total:n,average:r,minimum:i,maximum:a,trend:o}};function S2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=S2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=S2(t))&&(r&&(r+=" "),r+=e);return r}var m8=Array.isArray,vn=m8,g8=typeof Uf=="object"&&Uf&&Uf.Object===Object&&Uf,T2=g8,y8=T2,v8=typeof self=="object"&&self&&self.Object===Object&&self,b8=y8||v8||Function("return this")(),Lr=b8,_8=Lr,w8=_8.Symbol,bf=w8,PT=bf,A2=Object.prototype,x8=A2.hasOwnProperty,E8=A2.toString,nu=PT?PT.toStringTag:void 0;function S8(t){var e=x8.call(t,nu),n=t[nu];try{t[nu]=void 0;var r=!0}catch{}var i=E8.call(t);return r&&(e?t[nu]=n:delete t[nu]),i}var T8=S8,A8=Object.prototype,P8=A8.toString;function I8(t){return P8.call(t)}var O8=I8,IT=bf,C8=T8,k8=O8,N8="[object Null]",R8="[object Undefined]",OT=IT?IT.toStringTag:void 0;function j8(t){return t==null?t===void 0?R8:N8:OT&&OT in Object(t)?C8(t):k8(t)}var yi=j8;function M8(t){return t!=null&&typeof t=="object"}var vi=M8,D8=yi,$8=vi,L8="[object Symbol]";function V8(t){return typeof t=="symbol"||$8(t)&&D8(t)==L8}var _l=V8,F8=vn,U8=_l,B8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z8=/^\w*$/;function W8(t,e){if(F8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||U8(t)?!0:z8.test(t)||!B8.test(t)||e!=null&&t in Object(e)}var Nw=W8;function q8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ea=q8;const wl=De(Ea);var H8=yi,G8=Ea,K8="[object AsyncFunction]",X8="[object Function]",Y8="[object GeneratorFunction]",Q8="[object Proxy]";function J8(t){if(!G8(t))return!1;var e=H8(t);return e==X8||e==Y8||e==K8||e==Q8}var Rw=J8;const ge=De(Rw);var Z8=Lr,e7=Z8["__core-js_shared__"],t7=e7,yy=t7,CT=function(){var t=/[^.]+$/.exec(yy&&yy.keys&&yy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function n7(t){return!!CT&&CT in t}var r7=n7,i7=Function.prototype,a7=i7.toString;function o7(t){if(t!=null){try{return a7.call(t)}catch{}try{return t+""}catch{}}return""}var P2=o7,s7=Rw,l7=r7,u7=Ea,c7=P2,f7=/[\\^$.*+?()[\]{}|]/g,h7=/^\[object .+?Constructor\]$/,d7=Function.prototype,p7=Object.prototype,m7=d7.toString,g7=p7.hasOwnProperty,y7=RegExp("^"+m7.call(g7).replace(f7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v7(t){if(!u7(t)||l7(t))return!1;var e=s7(t)?y7:h7;return e.test(c7(t))}var b7=v7;function _7(t,e){return t==null?void 0:t[e]}var w7=_7,x7=b7,E7=w7;function S7(t,e){var n=E7(t,e);return x7(n)?n:void 0}var Co=S7,T7=Co,A7=T7(Object,"create"),Am=A7,kT=Am;function P7(){this.__data__=kT?kT(null):{},this.size=0}var I7=P7;function O7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var C7=O7,k7=Am,N7="__lodash_hash_undefined__",R7=Object.prototype,j7=R7.hasOwnProperty;function M7(t){var e=this.__data__;if(k7){var n=e[t];return n===N7?void 0:n}return j7.call(e,t)?e[t]:void 0}var D7=M7,$7=Am,L7=Object.prototype,V7=L7.hasOwnProperty;function F7(t){var e=this.__data__;return $7?e[t]!==void 0:V7.call(e,t)}var U7=F7,B7=Am,z7="__lodash_hash_undefined__";function W7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=B7&&e===void 0?z7:e,this}var q7=W7,H7=I7,G7=C7,K7=D7,X7=U7,Y7=q7;function xl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xl.prototype.clear=H7;xl.prototype.delete=G7;xl.prototype.get=K7;xl.prototype.has=X7;xl.prototype.set=Y7;var Q7=xl;function J7(){this.__data__=[],this.size=0}var Z7=J7;function eW(t,e){return t===e||t!==t&&e!==e}var jw=eW,tW=jw;function nW(t,e){for(var n=t.length;n--;)if(tW(t[n][0],e))return n;return-1}var Pm=nW,rW=Pm,iW=Array.prototype,aW=iW.splice;function oW(t){var e=this.__data__,n=rW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():aW.call(e,n,1),--this.size,!0}var sW=oW,lW=Pm;function uW(t){var e=this.__data__,n=lW(e,t);return n<0?void 0:e[n][1]}var cW=uW,fW=Pm;function hW(t){return fW(this.__data__,t)>-1}var dW=hW,pW=Pm;function mW(t,e){var n=this.__data__,r=pW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var gW=mW,yW=Z7,vW=sW,bW=cW,_W=dW,wW=gW;function El(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}El.prototype.clear=yW;El.prototype.delete=vW;El.prototype.get=bW;El.prototype.has=_W;El.prototype.set=wW;var Im=El,xW=Co,EW=Lr,SW=xW(EW,"Map"),Mw=SW,NT=Q7,TW=Im,AW=Mw;function PW(){this.size=0,this.__data__={hash:new NT,map:new(AW||TW),string:new NT}}var IW=PW;function OW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var CW=OW,kW=CW;function NW(t,e){var n=t.__data__;return kW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Om=NW,RW=Om;function jW(t){var e=RW(this,t).delete(t);return this.size-=e?1:0,e}var MW=jW,DW=Om;function $W(t){return DW(this,t).get(t)}var LW=$W,VW=Om;function FW(t){return VW(this,t).has(t)}var UW=FW,BW=Om;function zW(t,e){var n=BW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var WW=zW,qW=IW,HW=MW,GW=LW,KW=UW,XW=WW;function Sl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sl.prototype.clear=qW;Sl.prototype.delete=HW;Sl.prototype.get=GW;Sl.prototype.has=KW;Sl.prototype.set=XW;var Dw=Sl,I2=Dw,YW="Expected a function";function $w(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(YW);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new($w.Cache||I2),n}$w.Cache=I2;var O2=$w;const QW=De(O2);var JW=O2,ZW=500;function eq(t){var e=JW(t,function(r){return n.size===ZW&&n.clear(),r}),n=e.cache;return e}var tq=eq,nq=tq,rq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iq=/\\(\\)?/g,aq=nq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rq,function(n,r,i,a){e.push(i?a.replace(iq,"$1"):r||n)}),e}),oq=aq;function sq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Lw=sq,RT=bf,lq=Lw,uq=vn,cq=_l,jT=RT?RT.prototype:void 0,MT=jT?jT.toString:void 0;function C2(t){if(typeof t=="string")return t;if(uq(t))return lq(t,C2)+"";if(cq(t))return MT?MT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var fq=C2,hq=fq;function dq(t){return t==null?"":hq(t)}var k2=dq,pq=vn,mq=Nw,gq=oq,yq=k2;function vq(t,e){return pq(t)?t:mq(t,e)?[t]:gq(yq(t))}var N2=vq,bq=_l;function _q(t){if(typeof t=="string"||bq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Cm=_q,wq=N2,xq=Cm;function Eq(t,e){e=wq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[xq(e[n++])];return n&&n==r?t:void 0}var Vw=Eq,Sq=Vw;function Tq(t,e,n){var r=t==null?void 0:Sq(t,e);return r===void 0?n:r}var R2=Tq;const qn=De(R2);function Aq(t){return t==null}var Pq=Aq;const ve=De(Pq);var Iq=yi,Oq=vn,Cq=vi,kq="[object String]";function Nq(t){return typeof t=="string"||!Oq(t)&&Cq(t)&&Iq(t)==kq}var Rq=Nq;const po=De(Rq);var j2={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw=Symbol.for("react.element"),Uw=Symbol.for("react.portal"),km=Symbol.for("react.fragment"),Nm=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Mm=Symbol.for("react.context"),jq=Symbol.for("react.server_context"),Dm=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),Lm=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),Fm=Symbol.for("react.lazy"),Mq=Symbol.for("react.offscreen"),M2;M2=Symbol.for("react.module.reference");function Yn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fw:switch(t=t.type,t){case km:case Rm:case Nm:case $m:case Lm:return t;default:switch(t=t&&t.$$typeof,t){case jq:case Mm:case Dm:case Fm:case Vm:case jm:return t;default:return e}}case Uw:return e}}}Ne.ContextConsumer=Mm;Ne.ContextProvider=jm;Ne.Element=Fw;Ne.ForwardRef=Dm;Ne.Fragment=km;Ne.Lazy=Fm;Ne.Memo=Vm;Ne.Portal=Uw;Ne.Profiler=Rm;Ne.StrictMode=Nm;Ne.Suspense=$m;Ne.SuspenseList=Lm;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return Yn(t)===Mm};Ne.isContextProvider=function(t){return Yn(t)===jm};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fw};Ne.isForwardRef=function(t){return Yn(t)===Dm};Ne.isFragment=function(t){return Yn(t)===km};Ne.isLazy=function(t){return Yn(t)===Fm};Ne.isMemo=function(t){return Yn(t)===Vm};Ne.isPortal=function(t){return Yn(t)===Uw};Ne.isProfiler=function(t){return Yn(t)===Rm};Ne.isStrictMode=function(t){return Yn(t)===Nm};Ne.isSuspense=function(t){return Yn(t)===$m};Ne.isSuspenseList=function(t){return Yn(t)===Lm};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===km||t===Rm||t===Nm||t===$m||t===Lm||t===Mq||typeof t=="object"&&t!==null&&(t.$$typeof===Fm||t.$$typeof===Vm||t.$$typeof===jm||t.$$typeof===Mm||t.$$typeof===Dm||t.$$typeof===M2||t.getModuleId!==void 0)};Ne.typeOf=Yn;j2.exports=Ne;var Dq=j2.exports,$q=yi,Lq=vi,Vq="[object Number]";function Fq(t){return typeof t=="number"||Lq(t)&&$q(t)==Vq}var D2=Fq;const Uq=De(D2);var Bq=D2;function zq(t){return Bq(t)&&t!=+t}var Wq=zq;const _f=De(Wq);var cr=function(e){return e===0?0:e>0?1:-1},Ha=function(e){return po(e)&&e.indexOf("%")===e.length-1},Z=function(e){return Uq(e)&&!_f(e)},qq=function(e){return ve(e)},St=function(e){return Z(e)||po(e)},Hq=0,wf=function(e){var n=++Hq;return"".concat(e||"").concat(n)},mo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&!po(e))return r;var a;if(Ha(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return _f(a)&&(a=r),i&&a>n&&(a=n),a},Li=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Gq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},sr=function(e,n){return Z(e)&&Z(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ld(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):qn(r,e))===n})}var Kq=function(e,n){return Z(e)&&Z(n)?e-n:po(e)&&po(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function _s(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}var Xq=["viewBox","children"],Yq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DT=["points","pathLength"],vy={svg:Xq,polygon:DT,polyline:DT},Bw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!wl(r))return null;var i={};return Object.keys(r).forEach(function(a){Bw.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Qq=function(e,n,r){return function(i){return e(n,r,i),null}},Fd=function(e,n,r){if(!wl(e)||m0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Bw.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Qq(o,n,r))}),i},Jq=["children"],Zq=["children"];function $T(t,e){if(t==null)return{};var n=eH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g0(t){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(t)}var LT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},VT=null,by=null,zw=function t(e){if(e===VT&&Array.isArray(by))return by;var n=[];return $.Children.forEach(e,function(r){ve(r)||(Dq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),by=n,VT=e,n};function Hn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zr(i)}):r=[Zr(e)],zw(t).forEach(function(i){var a=qn(i,"type.displayName")||qn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function En(t,e){var n=Hn(t,e);return n&&n[0]}var FT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Z(r)||r<=0||!Z(i)||i<=0)},tH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nH=function(e){return e&&e.type&&po(e.type)&&tH.indexOf(e.type)>=0},rH=function(e){return e&&g0(e)==="object"&&"clipDot"in e},iH=function(e,n,r,i){var a,o=(a=vy==null?void 0:vy[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!ge(e)&&(i&&o.includes(n)||Yq.includes(n))||r&&Bw.includes(n)},Se=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!wl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;iH((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},y0=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return UT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!UT(a,o))return!1}return!0},UT=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,a=$T(r,Jq),o=n.props||{},s=o.children,l=$T(o,Zq);return i&&s?_s(a,l)&&y0(i,s):!i&&!s?_s(a,l):!1}return!1},BT=function(e,n){var r=[],i={};return zw(e).forEach(function(a,o){if(nH(a))r.push(a);else if(a){var s=Zr(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},aH=function(e){var n=e&&e.type;return n&&LT[n]?LT[n]:null},oH=function(e,n){return zw(n).indexOf(e)},sH=["children","width","height","viewBox","className","style","title","desc"];function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function lH(t,e){if(t==null)return{};var n=uH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=lH(t,sH),c=i||{width:n,height:r,x:0,y:0},f=Pe("recharts-surface",a);return M.createElement("svg",v0({},Se(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var cH=["children","className"];function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(this,arguments)}function fH(t,e){if(t==null)return{};var n=hH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ut=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=fH(t,cH),a=Pe("recharts-layer",r);return M.createElement("g",_0({className:a},Se(i,!0),{ref:e}),n)}),ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function dH(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var pH=dH,mH=pH;function gH(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:mH(t,e,n)}var yH=gH,vH="\\ud800-\\udfff",bH="\\u0300-\\u036f",_H="\\ufe20-\\ufe2f",wH="\\u20d0-\\u20ff",xH=bH+_H+wH,EH="\\ufe0e\\ufe0f",SH="\\u200d",TH=RegExp("["+SH+vH+xH+EH+"]");function AH(t){return TH.test(t)}var $2=AH;function PH(t){return t.split("")}var IH=PH,L2="\\ud800-\\udfff",OH="\\u0300-\\u036f",CH="\\ufe20-\\ufe2f",kH="\\u20d0-\\u20ff",NH=OH+CH+kH,RH="\\ufe0e\\ufe0f",jH="["+L2+"]",w0="["+NH+"]",x0="\\ud83c[\\udffb-\\udfff]",MH="(?:"+w0+"|"+x0+")",V2="[^"+L2+"]",F2="(?:\\ud83c[\\udde6-\\uddff]){2}",U2="[\\ud800-\\udbff][\\udc00-\\udfff]",DH="\\u200d",B2=MH+"?",z2="["+RH+"]?",$H="(?:"+DH+"(?:"+[V2,F2,U2].join("|")+")"+z2+B2+")*",LH=z2+B2+$H,VH="(?:"+[V2+w0+"?",w0,F2,U2,jH].join("|")+")",FH=RegExp(x0+"(?="+x0+")|"+VH+LH,"g");function UH(t){return t.match(FH)||[]}var BH=UH,zH=IH,WH=$2,qH=BH;function HH(t){return WH(t)?qH(t):zH(t)}var GH=HH,KH=yH,XH=$2,YH=GH,QH=k2;function JH(t){return function(e){e=QH(e);var n=XH(e)?YH(e):void 0,r=n?n[0]:e.charAt(0),i=n?KH(n,1).join(""):e.slice(1);return r[t]()+i}}var ZH=JH,eG=ZH,tG=eG("toUpperCase"),nG=tG;const Um=De(nG);function Fe(t){return function(){return t}}const W2=Math.cos,Ud=Math.sin,yr=Math.sqrt,Bd=Math.PI,Bm=2*Bd,E0=Math.PI,S0=2*E0,Va=1e-6,rG=S0-Va;function q2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function iG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return q2;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?q2:iG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Va)if(!(Math.abs(f*l-u*c)>Va)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,_=i-s,g=l*l+u*u,y=p*p+_*_,w=Math.sqrt(g),v=Math.sqrt(d),x=a*Math.tan((E0-Math.acos((g+d-y)/(2*w*v)))/2),O=x/v,T=x/w;Math.abs(O-1)>Va&&this._append`L${e+O*c},${n+O*f}`,this._append`A${a},${a},0,0,${+(f*p>c*_)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Va||Math.abs(this._y1-c)>Va)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%S0+S0),d>rG?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Va&&this._append`A${r},${r},0,${+(d>=E0)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ww(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new aG(e)}function qw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function H2(t){this._context=t}H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zm(t){return new H2(t)}function G2(t){return t[0]}function K2(t){return t[1]}function X2(t,e){var n=Fe(!0),r=null,i=zm,a=null,o=Ww(s);t=typeof t=="function"?t:t===void 0?G2:Fe(t),e=typeof e=="function"?e:e===void 0?K2:Fe(e);function s(l){var u,c=(l=qw(l)).length,f,d=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function hh(t,e,n){var r=null,i=Fe(!0),a=null,o=zm,s=null,l=Ww(u);t=typeof t=="function"?t:t===void 0?G2:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?K2:Fe(+n);function u(f){var d,p,_,g=(f=qw(f)).length,y,w=!1,v,x=new Array(g),O=new Array(g);for(a==null&&(s=o(v=l())),d=0;d<=g;++d){if(!(d<g&&i(y=f[d],d,f))===w)if(w=!w)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=d-1;_>=p;--_)s.point(x[_],O[_]);s.lineEnd(),s.areaEnd()}w&&(x[d]=+t(y,d,f),O[d]=+e(y,d,f),s.point(r?+r(y,d,f):x[d],n?+n(y,d,f):O[d]))}if(v)return s=null,v+""||null}function c(){return X2().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fe(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fe(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Fe(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class Y2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function oG(t){return new Y2(t,!0)}function sG(t){return new Y2(t,!1)}const Hw={draw(t,e){const n=yr(e/Bd);t.moveTo(n,0),t.arc(0,0,n,0,Bm)}},lG={draw(t,e){const n=yr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Q2=yr(1/3),uG=Q2*2,cG={draw(t,e){const n=yr(e/uG),r=n*Q2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},fG={draw(t,e){const n=yr(e),r=-n/2;t.rect(r,r,n,n)}},hG=.8908130915292852,J2=Ud(Bd/10)/Ud(7*Bd/10),dG=Ud(Bm/10)*J2,pG=-W2(Bm/10)*J2,mG={draw(t,e){const n=yr(e*hG),r=dG*n,i=pG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Bm*a/5,s=W2(o),l=Ud(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},_y=yr(3),gG={draw(t,e){const n=-yr(e/(_y*3));t.moveTo(0,n*2),t.lineTo(-_y*n,-n),t.lineTo(_y*n,-n),t.closePath()}},Rn=-.5,jn=yr(3)/2,T0=1/yr(12),yG=(T0/2+1)*3,vG={draw(t,e){const n=yr(e/yG),r=n/2,i=n*T0,a=r,o=n*T0+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Rn*r-jn*i,jn*r+Rn*i),t.lineTo(Rn*a-jn*o,jn*a+Rn*o),t.lineTo(Rn*s-jn*l,jn*s+Rn*l),t.lineTo(Rn*r+jn*i,Rn*i-jn*r),t.lineTo(Rn*a+jn*o,Rn*o-jn*a),t.lineTo(Rn*s+jn*l,Rn*l-jn*s),t.closePath()}};function bG(t,e){let n=null,r=Ww(i);t=typeof t=="function"?t:Fe(t||Hw),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Fe(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function zd(){}function Wd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Z2(t){this._context=t}Z2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _G(t){return new Z2(t)}function ej(t){this._context=t}ej.prototype={areaStart:zd,areaEnd:zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wG(t){return new ej(t)}function tj(t){this._context=t}tj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xG(t){return new tj(t)}function nj(t){this._context=t}nj.prototype={areaStart:zd,areaEnd:zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EG(t){return new nj(t)}function zT(t){return t<0?-1:1}function WT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(zT(a)+zT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function qT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function wy(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function qd(t){this._context=t}qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wy(this,this._t0,qT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wy(this,qT(this,n=WT(this,t,e)),n);break;default:wy(this,this._t0,n=WT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function rj(t){this._context=new ij(t)}(rj.prototype=Object.create(qd.prototype)).point=function(t,e){qd.prototype.point.call(this,e,t)};function ij(t){this._context=t}ij.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function SG(t){return new qd(t)}function TG(t){return new rj(t)}function aj(t){this._context=t}aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=HT(t),i=HT(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function AG(t){return new aj(t)}function Wm(t,e){this._context=t,this._t=e}Wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function PG(t){return new Wm(t,.5)}function IG(t){return new Wm(t,0)}function OG(t){return new Wm(t,1)}function Fs(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function A0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function CG(t,e){return t[e]}function kG(t){const e=[];return e.key=t,e}function NG(){var t=Fe([]),e=A0,n=Fs,r=CG;function i(a){var o=Array.from(t.apply(this,arguments),kG),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=qw(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Fe(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?A0:typeof a=="function"?a:Fe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Fs,i):n},i}function RG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Fs(t,e)}}function jG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Fs(t,e)}}function MG(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,_=0;_<s;++_){var g=t[e[_]],y=g[r][1]||0,w=g[r-1][1]||0;p+=y-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Fs(t,e)}}function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}var DG=["type","size","sizeType"];function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(this,arguments)}function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(r){$G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $G(t,e,n){return e=LG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LG(t){var e=VG(t,"string");return vc(e)=="symbol"?e:e+""}function VG(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FG(t,e){if(t==null)return{};var n=UG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oj={symbolCircle:Hw,symbolCross:lG,symbolDiamond:cG,symbolSquare:fG,symbolStar:mG,symbolTriangle:gG,symbolWye:vG},BG=Math.PI/180,zG=function(e){var n="symbol".concat(Um(e));return oj[n]||Hw},WG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*BG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qG=function(e,n){oj["symbol".concat(Um(e))]=n},Gw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=FG(e,DG),u=KT(KT({},l),{},{type:r,size:a,sizeType:s}),c=function(){var y=zG(r),w=bG().type(y).size(WG(a,s,r));return w()},f=u.className,d=u.cx,p=u.cy,_=Se(u,!0);return d===+d&&p===+p&&a===+a?M.createElement("path",P0({},_,{className:Pe("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};Gw.registerSymbol=qG;function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lj(r.key),r)}}function XG(t,e,n){return e&&KG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YG(t,e,n){return e=Hd(e),QG(t,sj()?Reflect.construct(e,n||[],Hd(t).constructor):e.apply(t,n))}function QG(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JG(t)}function JG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sj=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hd(t)}function ZG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O0(t,e)}function bc(t,e,n){return e=lj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lj(t){var e=eK(t,"string");return Us(e)=="symbol"?e:e+""}function eK(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mn=32,Kw=function(t){function e(){return GG(this,e),YG(this,e,arguments)}return ZG(e,t),XG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Mn/2,o=Mn/6,s=Mn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Mn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Mn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Mn/8,"h").concat(Mn,"v").concat(Mn*3/4,"h").concat(-Mn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=HG({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(Gw,{fill:l,cx:a,cy:a,size:Mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Mn,height:Mn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,_){var g=p.formatter||l,y=Pe(bc(bc({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=ge(p.value)?null:p.value;ei(!ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return M.createElement("li",I0({className:y,style:f,key:"legend-item-".concat(_)},Fd(r.props,p,_)),M.createElement(b0,{width:o,height:o,viewBox:c,style:d},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(w,p,_):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}($.PureComponent);bc(Kw,"displayName","Legend");bc(Kw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tK=Im;function nK(){this.__data__=new tK,this.size=0}var rK=nK;function iK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var aK=iK;function oK(t){return this.__data__.get(t)}var sK=oK;function lK(t){return this.__data__.has(t)}var uK=lK,cK=Im,fK=Mw,hK=Dw,dK=200;function pK(t,e){var n=this.__data__;if(n instanceof cK){var r=n.__data__;if(!fK||r.length<dK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hK(r)}return n.set(t,e),this.size=n.size,this}var mK=pK,gK=Im,yK=rK,vK=aK,bK=sK,_K=uK,wK=mK;function Tl(t){var e=this.__data__=new gK(t);this.size=e.size}Tl.prototype.clear=yK;Tl.prototype.delete=vK;Tl.prototype.get=bK;Tl.prototype.has=_K;Tl.prototype.set=wK;var uj=Tl,xK="__lodash_hash_undefined__";function EK(t){return this.__data__.set(t,xK),this}var SK=EK;function TK(t){return this.__data__.has(t)}var AK=TK,PK=Dw,IK=SK,OK=AK;function Gd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new PK;++e<n;)this.add(t[e])}Gd.prototype.add=Gd.prototype.push=IK;Gd.prototype.has=OK;var cj=Gd;function CK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var fj=CK;function kK(t,e){return t.has(e)}var hj=kK,NK=cj,RK=fj,jK=hj,MK=1,DK=2;function $K(t,e,n,r,i,a){var o=n&MK,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&DK?new NK:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var _=t[f],g=e[f];if(r)var y=o?r(g,_,f,e,t,a):r(_,g,f,t,e,a);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!RK(e,function(w,v){if(!jK(p,v)&&(_===w||i(_,w,n,r,a)))return p.push(v)})){d=!1;break}}else if(!(_===g||i(_,g,n,r,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var dj=$K,LK=Lr,VK=LK.Uint8Array,FK=VK;function UK(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var BK=UK;function zK(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Xw=zK,YT=bf,QT=FK,WK=jw,qK=dj,HK=BK,GK=Xw,KK=1,XK=2,YK="[object Boolean]",QK="[object Date]",JK="[object Error]",ZK="[object Map]",eX="[object Number]",tX="[object RegExp]",nX="[object Set]",rX="[object String]",iX="[object Symbol]",aX="[object ArrayBuffer]",oX="[object DataView]",JT=YT?YT.prototype:void 0,xy=JT?JT.valueOf:void 0;function sX(t,e,n,r,i,a,o){switch(n){case oX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case aX:return!(t.byteLength!=e.byteLength||!a(new QT(t),new QT(e)));case YK:case QK:case eX:return WK(+t,+e);case JK:return t.name==e.name&&t.message==e.message;case tX:case rX:return t==e+"";case ZK:var s=HK;case nX:var l=r&KK;if(s||(s=GK),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=XK,o.set(t,e);var c=qK(s(t),s(e),r,i,a,o);return o.delete(t),c;case iX:if(xy)return xy.call(t)==xy.call(e)}return!1}var lX=sX;function uX(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var pj=uX,cX=pj,fX=vn;function hX(t,e,n){var r=e(t);return fX(t)?r:cX(r,n(t))}var dX=hX;function pX(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var mX=pX;function gX(){return[]}var yX=gX,vX=mX,bX=yX,_X=Object.prototype,wX=_X.propertyIsEnumerable,ZT=Object.getOwnPropertySymbols,xX=ZT?function(t){return t==null?[]:(t=Object(t),vX(ZT(t),function(e){return wX.call(t,e)}))}:bX,EX=xX;function SX(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var TX=SX,AX=yi,PX=vi,IX="[object Arguments]";function OX(t){return PX(t)&&AX(t)==IX}var CX=OX,eA=CX,kX=vi,mj=Object.prototype,NX=mj.hasOwnProperty,RX=mj.propertyIsEnumerable,jX=eA(function(){return arguments}())?eA:function(t){return kX(t)&&NX.call(t,"callee")&&!RX.call(t,"callee")},Yw=jX,Kd={exports:{}};function MX(){return!1}var DX=MX;Kd.exports;(function(t,e){var n=Lr,r=DX,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Kd,Kd.exports);var gj=Kd.exports,$X=9007199254740991,LX=/^(?:0|[1-9]\d*)$/;function VX(t,e){var n=typeof t;return e=e??$X,!!e&&(n=="number"||n!="symbol"&&LX.test(t))&&t>-1&&t%1==0&&t<e}var Qw=VX,FX=9007199254740991;function UX(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FX}var Jw=UX,BX=yi,zX=Jw,WX=vi,qX="[object Arguments]",HX="[object Array]",GX="[object Boolean]",KX="[object Date]",XX="[object Error]",YX="[object Function]",QX="[object Map]",JX="[object Number]",ZX="[object Object]",eY="[object RegExp]",tY="[object Set]",nY="[object String]",rY="[object WeakMap]",iY="[object ArrayBuffer]",aY="[object DataView]",oY="[object Float32Array]",sY="[object Float64Array]",lY="[object Int8Array]",uY="[object Int16Array]",cY="[object Int32Array]",fY="[object Uint8Array]",hY="[object Uint8ClampedArray]",dY="[object Uint16Array]",pY="[object Uint32Array]",He={};He[oY]=He[sY]=He[lY]=He[uY]=He[cY]=He[fY]=He[hY]=He[dY]=He[pY]=!0;He[qX]=He[HX]=He[iY]=He[GX]=He[aY]=He[KX]=He[XX]=He[YX]=He[QX]=He[JX]=He[ZX]=He[eY]=He[tY]=He[nY]=He[rY]=!1;function mY(t){return WX(t)&&zX(t.length)&&!!He[BX(t)]}var gY=mY;function yY(t){return function(e){return t(e)}}var yj=yY,Xd={exports:{}};Xd.exports;(function(t,e){var n=T2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Xd,Xd.exports);var vY=Xd.exports,bY=gY,_Y=yj,tA=vY,nA=tA&&tA.isTypedArray,wY=nA?_Y(nA):bY,vj=wY,xY=TX,EY=Yw,SY=vn,TY=gj,AY=Qw,PY=vj,IY=Object.prototype,OY=IY.hasOwnProperty;function CY(t,e){var n=SY(t),r=!n&&EY(t),i=!n&&!r&&TY(t),a=!n&&!r&&!i&&PY(t),o=n||r||i||a,s=o?xY(t.length,String):[],l=s.length;for(var u in t)(e||OY.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||AY(u,l)))&&s.push(u);return s}var kY=CY,NY=Object.prototype;function RY(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||NY;return t===n}var jY=RY;function MY(t,e){return function(n){return t(e(n))}}var bj=MY,DY=bj,$Y=DY(Object.keys,Object),LY=$Y,VY=jY,FY=LY,UY=Object.prototype,BY=UY.hasOwnProperty;function zY(t){if(!VY(t))return FY(t);var e=[];for(var n in Object(t))BY.call(t,n)&&n!="constructor"&&e.push(n);return e}var WY=zY,qY=Rw,HY=Jw;function GY(t){return t!=null&&HY(t.length)&&!qY(t)}var xf=GY,KY=kY,XY=WY,YY=xf;function QY(t){return YY(t)?KY(t):XY(t)}var qm=QY,JY=dX,ZY=EX,eQ=qm;function tQ(t){return JY(t,eQ,ZY)}var nQ=tQ,rA=nQ,rQ=1,iQ=Object.prototype,aQ=iQ.hasOwnProperty;function oQ(t,e,n,r,i,a){var o=n&rQ,s=rA(t),l=s.length,u=rA(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:aQ.call(e,d)))return!1}var p=a.get(t),_=a.get(e);if(p&&_)return p==e&&_==t;var g=!0;a.set(t,e),a.set(e,t);for(var y=o;++f<l;){d=s[f];var w=t[d],v=e[d];if(r)var x=o?r(v,w,d,e,t,a):r(w,v,d,t,e,a);if(!(x===void 0?w===v||i(w,v,n,r,a):x)){g=!1;break}y||(y=d=="constructor")}if(g&&!y){var O=t.constructor,T=e.constructor;O!=T&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(g=!1)}return a.delete(t),a.delete(e),g}var sQ=oQ,lQ=Co,uQ=Lr,cQ=lQ(uQ,"DataView"),fQ=cQ,hQ=Co,dQ=Lr,pQ=hQ(dQ,"Promise"),mQ=pQ,gQ=Co,yQ=Lr,vQ=gQ(yQ,"Set"),_j=vQ,bQ=Co,_Q=Lr,wQ=bQ(_Q,"WeakMap"),xQ=wQ,C0=fQ,k0=Mw,N0=mQ,R0=_j,j0=xQ,wj=yi,Al=P2,iA="[object Map]",EQ="[object Object]",aA="[object Promise]",oA="[object Set]",sA="[object WeakMap]",lA="[object DataView]",SQ=Al(C0),TQ=Al(k0),AQ=Al(N0),PQ=Al(R0),IQ=Al(j0),Fa=wj;(C0&&Fa(new C0(new ArrayBuffer(1)))!=lA||k0&&Fa(new k0)!=iA||N0&&Fa(N0.resolve())!=aA||R0&&Fa(new R0)!=oA||j0&&Fa(new j0)!=sA)&&(Fa=function(t){var e=wj(t),n=e==EQ?t.constructor:void 0,r=n?Al(n):"";if(r)switch(r){case SQ:return lA;case TQ:return iA;case AQ:return aA;case PQ:return oA;case IQ:return sA}return e});var OQ=Fa,Ey=uj,CQ=dj,kQ=lX,NQ=sQ,uA=OQ,cA=vn,fA=gj,RQ=vj,jQ=1,hA="[object Arguments]",dA="[object Array]",dh="[object Object]",MQ=Object.prototype,pA=MQ.hasOwnProperty;function DQ(t,e,n,r,i,a){var o=cA(t),s=cA(e),l=o?dA:uA(t),u=s?dA:uA(e);l=l==hA?dh:l,u=u==hA?dh:u;var c=l==dh,f=u==dh,d=l==u;if(d&&fA(t)){if(!fA(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Ey),o||RQ(t)?CQ(t,e,n,r,i,a):kQ(t,e,l,n,r,i,a);if(!(n&jQ)){var p=c&&pA.call(t,"__wrapped__"),_=f&&pA.call(e,"__wrapped__");if(p||_){var g=p?t.value():t,y=_?e.value():e;return a||(a=new Ey),i(g,y,n,r,a)}}return d?(a||(a=new Ey),NQ(t,e,n,r,i,a)):!1}var $Q=DQ,LQ=$Q,mA=vi;function xj(t,e,n,r,i){return t===e?!0:t==null||e==null||!mA(t)&&!mA(e)?t!==t&&e!==e:LQ(t,e,n,r,xj,i)}var Zw=xj,VQ=uj,FQ=Zw,UQ=1,BQ=2;function zQ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new VQ;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?FQ(c,u,UQ|BQ,r,f):d))return!1}}return!0}var WQ=zQ,qQ=Ea;function HQ(t){return t===t&&!qQ(t)}var Ej=HQ,GQ=Ej,KQ=qm;function XQ(t){for(var e=KQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,GQ(i)]}return e}var YQ=XQ;function QQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Sj=QQ,JQ=WQ,ZQ=YQ,eJ=Sj;function tJ(t){var e=ZQ(t);return e.length==1&&e[0][2]?eJ(e[0][0],e[0][1]):function(n){return n===t||JQ(n,t,e)}}var nJ=tJ;function rJ(t,e){return t!=null&&e in Object(t)}var iJ=rJ,aJ=N2,oJ=Yw,sJ=vn,lJ=Qw,uJ=Jw,cJ=Cm;function fJ(t,e,n){e=aJ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=cJ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&uJ(i)&&lJ(o,i)&&(sJ(t)||oJ(t)))}var hJ=fJ,dJ=iJ,pJ=hJ;function mJ(t,e){return t!=null&&pJ(t,e,dJ)}var gJ=mJ,yJ=Zw,vJ=R2,bJ=gJ,_J=Nw,wJ=Ej,xJ=Sj,EJ=Cm,SJ=1,TJ=2;function AJ(t,e){return _J(t)&&wJ(e)?xJ(EJ(t),e):function(n){var r=vJ(n,t);return r===void 0&&r===e?bJ(n,t):yJ(e,r,SJ|TJ)}}var PJ=AJ;function IJ(t){return t}var Pl=IJ;function OJ(t){return function(e){return e==null?void 0:e[t]}}var CJ=OJ,kJ=Vw;function NJ(t){return function(e){return kJ(e,t)}}var RJ=NJ,jJ=CJ,MJ=RJ,DJ=Nw,$J=Cm;function LJ(t){return DJ(t)?jJ($J(t)):MJ(t)}var VJ=LJ,FJ=nJ,UJ=PJ,BJ=Pl,zJ=vn,WJ=VJ;function qJ(t){return typeof t=="function"?t:t==null?BJ:typeof t=="object"?zJ(t)?UJ(t[0],t[1]):FJ(t):WJ(t)}var Sa=qJ;function HJ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Tj=HJ;function GJ(t){return t!==t}var KJ=GJ;function XJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var YJ=XJ,QJ=Tj,JJ=KJ,ZJ=YJ;function eZ(t,e,n){return e===e?ZJ(t,e,n):QJ(t,JJ,n)}var tZ=eZ,nZ=tZ;function rZ(t,e){var n=t==null?0:t.length;return!!n&&nZ(t,e,0)>-1}var iZ=rZ;function aZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var oZ=aZ;function sZ(){}var lZ=sZ,Sy=_j,uZ=lZ,cZ=Xw,fZ=1/0,hZ=Sy&&1/cZ(new Sy([,-0]))[1]==fZ?function(t){return new Sy(t)}:uZ,dZ=hZ,pZ=cj,mZ=iZ,gZ=oZ,yZ=hj,vZ=dZ,bZ=Xw,_Z=200;function wZ(t,e,n){var r=-1,i=mZ,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=gZ;else if(a>=_Z){var u=e?null:vZ(t);if(u)return bZ(u);o=!1,i=yZ,l=new pZ}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var xZ=wZ,EZ=Sa,SZ=xZ;function TZ(t,e){return t&&t.length?SZ(t,EZ(e)):[]}var AZ=TZ;const gA=De(AZ);function Aj(t,e,n){return e===!0?gA(t,n):ge(e)?gA(t,e):t}function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}var PZ=["ref"];function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){Hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ij(r.key),r)}}function OZ(t,e,n){return e&&vA(t.prototype,e),n&&vA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CZ(t,e,n){return e=Yd(e),kZ(t,Pj()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function kZ(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NZ(t)}function NZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pj=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function RZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M0(t,e)}function M0(t,e){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M0(t,e)}function Hm(t,e,n){return e=Ij(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ij(t){var e=jZ(t,"string");return Bs(e)=="symbol"?e:e+""}function jZ(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function MZ(t,e){if(t==null)return{};var n=DZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $Z(t){return t.value}function LZ(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=MZ(e,PZ);return M.createElement(Kw,n)}var bA=1,Za=function(t){function e(){var n;IZ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=CZ(this,e,[].concat(i)),Hm(n,"lastBoundingBox",{width:-1,height:-1}),n}return RZ(e,t),OZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bA||Math.abs(i.height-this.lastBoundingBox.height)>bA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var _=this.getBBoxSnapshot();d={top:((c||0)-_.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Fr(Fr({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Fr(Fr({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},LZ(a,Fr(Fr({},this.props),{},{payload:Aj(c,u,$Z)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Fr(Fr({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Z(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Hm(Za,"displayName","Legend");Hm(Za,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _A=bf,VZ=Yw,FZ=vn,wA=_A?_A.isConcatSpreadable:void 0;function UZ(t){return FZ(t)||VZ(t)||!!(wA&&t&&t[wA])}var BZ=UZ,zZ=pj,WZ=BZ;function Oj(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=WZ),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?Oj(s,e-1,n,r,i):zZ(i,s):r||(i[i.length]=s)}return i}var Cj=Oj;function qZ(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var HZ=qZ,GZ=HZ,KZ=GZ(),XZ=KZ,YZ=XZ,QZ=qm;function JZ(t,e){return t&&YZ(t,e,QZ)}var kj=JZ,ZZ=xf;function eee(t,e){return function(n,r){if(n==null)return n;if(!ZZ(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var tee=eee,nee=kj,ree=tee,iee=ree(nee),ex=iee,aee=ex,oee=xf;function see(t,e){var n=-1,r=oee(t)?Array(t.length):[];return aee(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var Nj=see;function lee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var uee=lee,xA=_l;function cee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=xA(t),o=e!==void 0,s=e===null,l=e===e,u=xA(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var fee=cee,hee=fee;function dee(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=hee(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var pee=dee,Ty=Lw,mee=Vw,gee=Sa,yee=Nj,vee=uee,bee=yj,_ee=pee,wee=Pl,xee=vn;function Eee(t,e,n){e.length?e=Ty(e,function(a){return xee(a)?function(o){return mee(o,a.length===1?a[0]:a)}:a}):e=[wee];var r=-1;e=Ty(e,bee(gee));var i=yee(t,function(a,o,s){var l=Ty(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return vee(i,function(a,o){return _ee(a,o,n)})}var See=Eee;function Tee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Aee=Tee,Pee=Aee,EA=Math.max;function Iee(t,e,n){return e=EA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=EA(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Pee(t,this,s)}}var Oee=Iee;function Cee(t){return function(){return t}}var kee=Cee,Nee=Co,Ree=function(){try{var t=Nee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Rj=Ree,jee=kee,SA=Rj,Mee=Pl,Dee=SA?function(t,e){return SA(t,"toString",{configurable:!0,enumerable:!1,value:jee(e),writable:!0})}:Mee,$ee=Dee,Lee=800,Vee=16,Fee=Date.now;function Uee(t){var e=0,n=0;return function(){var r=Fee(),i=Vee-(r-n);if(n=r,i>0){if(++e>=Lee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Bee=Uee,zee=$ee,Wee=Bee,qee=Wee(zee),Hee=qee,Gee=Pl,Kee=Oee,Xee=Hee;function Yee(t,e){return Xee(Kee(t,e,Gee),t+"")}var Qee=Yee,Jee=jw,Zee=xf,ete=Qw,tte=Ea;function nte(t,e,n){if(!tte(n))return!1;var r=typeof e;return(r=="number"?Zee(n)&&ete(e,n.length):r=="string"&&e in n)?Jee(n[e],t):!1}var Gm=nte,rte=Cj,ite=See,ate=Qee,TA=Gm,ote=ate(function(t,e){if(t==null)return[];var n=e.length;return n>1&&TA(t,e[0],e[1])?e=[]:n>2&&TA(e[0],e[1],e[2])&&(e=[e[0]]),ite(t,rte(e,1),[])}),ste=ote;const tx=De(ste);function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D0.apply(this,arguments)}function lte(t,e){return hte(t)||fte(t,e)||cte(t,e)||ute()}function ute(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hte(t){if(Array.isArray(t))return t}function PA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return e=pte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=mte(t,"string");return _c(e)=="symbol"?e:e+""}function mte(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gte(t){return Array.isArray(t)&&St(t[0])&&St(t[1])?t.join(" ~ "):t}var yte=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,_=e.labelClassName,g=e.label,y=e.labelFormatter,w=e.accessibilityLayer,v=w===void 0?!1:w,x=function(){if(c&&c.length){var j={padding:0,margin:0},N=(d?tx(c,d):c).map(function(F,U){if(F.type==="none")return null;var q=Ay({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),G=F.formatter||f||gte,L=F.value,z=F.name,X=L,ee=z;if(G&&X!=null&&ee!=null){var Q=G(L,z,F,U,c);if(Array.isArray(Q)){var oe=lte(Q,2);X=oe[0],ee=oe[1]}else X=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:q},St(ee)?M.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,St(ee)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},X),M.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},O=Ay({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Ay({margin:0},u),I=!ve(g),E=I?g:"",S=Pe("recharts-default-tooltip",p),P=Pe("recharts-tooltip-label",_);I&&y&&c!==void 0&&c!==null&&(E=y(g,c));var k=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",D0({className:S,style:O},k),M.createElement("p",{className:P,style:T},M.isValidElement(E)?E:"".concat(E)),x())};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function ph(t,e,n){return e=vte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vte(t){var e=bte(t,"string");return wc(e)=="symbol"?e:e+""}function bte(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ru="recharts-tooltip-wrapper",_te={visibility:"hidden"};function wte(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Pe(ru,ph(ph(ph(ph({},"".concat(ru,"-right"),Z(n)&&e&&Z(e.x)&&n>=e.x),"".concat(ru,"-left"),Z(n)&&e&&Z(e.x)&&n<e.x),"".concat(ru,"-bottom"),Z(r)&&e&&Z(e.y)&&r>=e.y),"".concat(ru,"-top"),Z(r)&&e&&Z(e.y)&&r<e.y))}function IA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Z(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var _=f+s,g=l[r]+u;return _>g?Math.max(c,l[r]):Math.max(f,l[r])}function xte(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ete(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=IA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=IA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=xte({translateX:c,translateY:f,useTranslate3d:s})):u=_te,{cssProperties:u,cssClasses:wte({translateX:c,translateY:f,coordinate:n})}}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function OA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(n),!0).forEach(function(r){L0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mj(r.key),r)}}function Ate(t,e,n){return e&&Tte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pte(t,e,n){return e=Qd(e),Ite(t,jj()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function Ite(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ote(t)}function Ote(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jj=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function Cte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$0(t,e)}function L0(t,e,n){return e=Mj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mj(t){var e=kte(t,"string");return zs(e)=="symbol"?e:e+""}function kte(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kA=1,Nte=function(t){function e(){var n;Ste(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pte(this,e,[].concat(i)),L0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L0(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Cte(e,t),Ate(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>kA||Math.abs(r.height-this.state.lastBoundingBox.height)>kA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,_=i.position,g=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,v=i.wrapperStyle,x=Ete({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:_,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),O=x.cssClasses,T=x.cssProperties,I=CA(CA({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return M.createElement("div",{tabIndex:-1,className:O,style:I,ref:function(S){r.wrapperNode=S}},u)}}])}($.PureComponent),Rte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Il={isSsr:Rte()};function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function NA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(n),!0).forEach(function(r){nx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$j(r.key),r)}}function Dte(t,e,n){return e&&Mte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $te(t,e,n){return e=Jd(e),Lte(t,Dj()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function Lte(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vte(t)}function Vte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dj=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function Fte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V0(t,e)}function nx(t,e,n){return e=$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $j(t){var e=Ute(t,"string");return Ws(e)=="symbol"?e:e+""}function Ute(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bte(t){return t.dataKey}function zte(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(yte,e)}var Dn=function(t){function e(){return jte(this,e),$te(this,e,arguments)}return Fte(e,t),Dte(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,_=i.payload,g=i.payloadUniqBy,y=i.position,w=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,O=i.wrapperStyle,T=_??[];f&&T.length&&(T=Aj(_.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),g,Bte));var I=T.length>0;return M.createElement(Nte,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:c,hasPayload:I,offset:p,position:y,reverseDirection:w,useTranslate3d:v,viewBox:x,wrapperStyle:O},zte(u,RA(RA({},this.props),{},{payload:T})))}}])}($.PureComponent);nx(Dn,"displayName","Tooltip");nx(Dn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Il.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Wte=Lr,qte=function(){return Wte.Date.now()},Hte=qte,Gte=/\s/;function Kte(t){for(var e=t.length;e--&&Gte.test(t.charAt(e)););return e}var Xte=Kte,Yte=Xte,Qte=/^\s+/;function Jte(t){return t&&t.slice(0,Yte(t)+1).replace(Qte,"")}var Zte=Jte,ene=Zte,jA=Ea,tne=_l,MA=NaN,nne=/^[-+]0x[0-9a-f]+$/i,rne=/^0b[01]+$/i,ine=/^0o[0-7]+$/i,ane=parseInt;function one(t){if(typeof t=="number")return t;if(tne(t))return MA;if(jA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ene(t);var n=rne.test(t);return n||ine.test(t)?ane(t.slice(2),n?2:8):nne.test(t)?MA:+t}var Lj=one,sne=Ea,Py=Hte,DA=Lj,lne="Expected a function",une=Math.max,cne=Math.min;function fne(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(lne);e=DA(e)||0,sne(n)&&(c=!!n.leading,f="maxWait"in n,a=f?une(DA(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d);function p(I){var E=r,S=i;return r=i=void 0,u=I,o=t.apply(S,E),o}function _(I){return u=I,s=setTimeout(w,e),c?p(I):o}function g(I){var E=I-l,S=I-u,P=e-E;return f?cne(P,a-S):P}function y(I){var E=I-l,S=I-u;return l===void 0||E>=e||E<0||f&&S>=a}function w(){var I=Py();if(y(I))return v(I);s=setTimeout(w,g(I))}function v(I){return s=void 0,d&&r?p(I):(r=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?o:v(Py())}function T(){var I=Py(),E=y(I);if(r=arguments,i=this,l=I,E){if(s===void 0)return _(l);if(f)return clearTimeout(s),s=setTimeout(w,e),p(l)}return s===void 0&&(s=setTimeout(w,e)),o}return T.cancel=x,T.flush=O,T}var hne=fne,dne=hne,pne=Ea,mne="Expected a function";function gne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(mne);return pne(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dne(t,e,{leading:r,maxWait:e,trailing:i})}var yne=gne;const Vj=De(yne);function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e,n){return e=bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=_ne(t,"string");return xc(e)=="symbol"?e:e+""}function _ne(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wne(t,e){return Tne(t)||Sne(t,e)||Ene(t,e)||xne()}function xne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(t,e){if(t){if(typeof t=="string")return LA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(t,e)}}function LA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tne(t){if(Array.isArray(t))return t}var F0=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,_=t.debounce,g=_===void 0?0:_,y=t.id,w=t.className,v=t.onResize,x=t.style,O=x===void 0?{}:x,T=$.useRef(null),I=$.useRef();I.current=v,$.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=$.useState({containerWidth:i.width,containerHeight:i.height}),S=wne(E,2),P=S[0],k=S[1],C=$.useCallback(function(N,F){k(function(U){var q=Math.round(N),G=Math.round(F);return U.containerWidth===q&&U.containerHeight===G?U:{containerWidth:q,containerHeight:G}})},[]);$.useEffect(function(){var N=function(z){var X,ee=z[0].contentRect,Q=ee.width,oe=ee.height;C(Q,oe),(X=I.current)===null||X===void 0||X.call(I,Q,oe)};g>0&&(N=Vj(N,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(N),U=T.current.getBoundingClientRect(),q=U.width,G=U.height;return C(q,G),F.observe(T.current),function(){F.disconnect()}},[C,g]);var j=$.useMemo(function(){var N=P.containerWidth,F=P.containerHeight;if(N<0||F<0)return null;ei(Ha(o)||Ha(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Ha(o)?N:o,q=Ha(l)?F:l;n&&n>0&&(U?q=U/n:q&&(U=q*n),d&&q>d&&(q=d)),ei(U>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,q,o,l,c,f,n);var G=!Array.isArray(p)&&Zr(p.type).endsWith("Chart");return M.Children.map(p,function(L){return M.isValidElement(L)?$.cloneElement(L,mh({width:U,height:q},G?{style:mh({height:"100%",width:"100%",maxHeight:q,maxWidth:U},L.props.style)}:{})):L})},[n,p,l,d,f,c,P,o]);return M.createElement("div",{id:y?"".concat(y):void 0,className:Pe("recharts-responsive-container",w),style:mh(mh({},O),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:T},j)}),Fj=function(e){return null};Fj.displayName="Cell";function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return e=Pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Ine(t,"string");return Ec(e)=="symbol"?e:e+""}function Ine(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vo={widthCache:{},cacheCount:0},One=2e3,Cne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FA="recharts_measurement_span";function kne(t){var e=U0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Lu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Il.isSsr)return{width:0,height:0};var r=kne(n),i=JSON.stringify({text:e,copyStyle:r});if(Vo.widthCache[i])return Vo.widthCache[i];try{var a=document.getElementById(FA);a||(a=document.createElement("span"),a.setAttribute("id",FA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=U0(U0({},Cne),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Vo.widthCache[i]=l,++Vo.cacheCount>One&&(Vo.cacheCount=0,Vo.widthCache={}),l}catch{return{width:0,height:0}}},Nne=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function Zd(t,e){return Dne(t)||Mne(t,e)||jne(t,e)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(t,e){if(t){if(typeof t=="string")return UA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UA(t,e)}}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Dne(t){if(Array.isArray(t))return t}function $ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vne(r.key),r)}}function Lne(t,e,n){return e&&BA(t.prototype,e),n&&BA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vne(t){var e=Fne(t,"string");return Sc(e)=="symbol"?e:e+""}function Fne(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Une=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Uj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zne=Object.keys(Uj),os="NaN";function Wne(t,e){return t*Uj[e]}var gh=function(){function t(e,n){$ne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Une.test(n)&&(this.num=NaN,this.unit=""),zne.includes(n)&&(this.num=Wne(e,n),this.unit="px")}return Lne(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Bne.exec(n))!==null&&r!==void 0?r:[],a=Zd(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function Bj(t){if(t.includes(os))return os;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=zA.exec(e))!==null&&n!==void 0?n:[],i=Zd(r,4),a=i[1],o=i[2],s=i[3],l=gh.parse(a??""),u=gh.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return os;e=e.replace(zA,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=WA.exec(e))!==null&&f!==void 0?f:[],p=Zd(d,4),_=p[1],g=p[2],y=p[3],w=gh.parse(_??""),v=gh.parse(y??""),x=g==="+"?w.add(v):w.subtract(v);if(x.isNaN())return os;e=e.replace(WA,x.toString())}return e}var qA=/\(([^()]*)\)/;function qne(t){for(var e=t;e.includes("(");){var n=qA.exec(e),r=Zd(n,2),i=r[1];e=e.replace(qA,Bj(i))}return e}function Hne(t){var e=t.replace(/\s+/g,"");return e=qne(e),e=Bj(e),e}function Gne(t){try{return Hne(t)}catch{return os}}function Iy(t){var e=Gne(t.slice(5,-1));return e===os?"":e}var Kne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xne=["dx","dy","angle","className","breakAll"];function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function HA(t,e){if(t==null)return{};var n=Yne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GA(t,e){return ere(t)||Zne(t,e)||Jne(t,e)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jne(t,e){if(t){if(typeof t=="string")return KA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(t,e)}}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ere(t){if(Array.isArray(t))return t}var zj=/[ \f\n\r\t\v\u2028\u2029]+/,Wj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ve(n)||(r?a=n.toString().split(""):a=n.toString().split(zj));var o=a.map(function(l){return{word:l,width:Lu(l,i).width}}),s=r?0:Lu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},tre=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Z(o),f=s,d=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(q,G){var L=G.word,z=G.width,X=q[q.length-1];if(X&&(i==null||a||X.width+z+r<Number(i)))X.words.push(L),X.width+=z+r;else{var ee={words:[L],width:z};q.push(ee)}return q},[])},p=d(n),_=function(U){return U.reduce(function(q,G){return q.width>G.width?q:G})};if(!c)return p;for(var g="",y=function(U){var q=f.slice(0,U),G=Wj({breakAll:u,style:l,children:q+g}).wordsWithComputedWidth,L=d(G),z=L.length>o||_(L).width>Number(i);return[z,L]},w=0,v=f.length-1,x=0,O;w<=v&&x<=f.length-1;){var T=Math.floor((w+v)/2),I=T-1,E=y(I),S=GA(E,2),P=S[0],k=S[1],C=y(T),j=GA(C,1),N=j[0];if(!P&&!N&&(w=T+1),P&&N&&(v=T-1),!P&&N){O=k;break}x++}return O||p},XA=function(e){var n=ve(e)?[]:e.toString().split(zj);return[{words:n}]},nre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Il.isSsr){var l,u,c=Wj({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return XA(i);return tre({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return XA(i)},YA="#808080",ep=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,_=e.verticalAnchor,g=_===void 0?"end":_,y=e.fill,w=y===void 0?YA:y,v=HA(e,Kne),x=$.useMemo(function(){return nre({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),O=v.dx,T=v.dy,I=v.angle,E=v.className,S=v.breakAll,P=HA(v,Xne);if(!St(r)||!St(a))return null;var k=r+(Z(O)?O:0),C=a+(Z(T)?T:0),j;switch(g){case"start":j=Iy("calc(".concat(u,")"));break;case"middle":j=Iy("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=Iy("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(f){var F=x[0].width,U=v.width;N.push("scale(".concat((Z(U)?U/F:1)/F,")"))}return I&&N.push("rotate(".concat(I,", ").concat(k,", ").concat(C,")")),N.length&&(P.transform=N.join(" ")),M.createElement("text",B0({},Se(P,!0),{x:k,y:C,className:Pe("recharts-text",E),textAnchor:p,fill:w.includes("url")?YA:w}),x.map(function(q,G){var L=q.words.join(S?"":" ");return M.createElement("tspan",{x:k,dy:G===0?j:s,key:"".concat(L,"-").concat(G)},L)}))};function ia(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rx(t){let e,n,r;t.length!==2?(e=ia,n=(s,l)=>ia(t(s),l),r=(s,l)=>t(s)-l):(e=t===ia||t===rre?t:ire,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function ire(){return 0}function qj(t){return t===null?NaN:+t}function*are(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ore=rx(ia),Ef=ore.right;rx(qj).center;class QA extends Map{constructor(e,n=ure){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(JA(this,e))}has(e){return super.has(JA(this,e))}set(e,n){return super.set(sre(this,e),n)}delete(e){return super.delete(lre(this,e))}}function JA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function lre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ure(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cre(t=ia){if(t===ia)return Hj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Hj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fre=Math.sqrt(50),hre=Math.sqrt(10),dre=Math.sqrt(2);function tp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=fre?10:a>=hre?5:a>=dre?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?tp(t,e,n*2):[s,l,u]}function z0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?tp(e,t,n):tp(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function W0(t,e,n){return e=+e,t=+t,n=+n,tp(t,e,n)[2]}function q0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?W0(e,t,n):W0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ZA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Gj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Hj:cre(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),_=Math.min(r,Math.floor(e+(l-u)*f/l+d));Gj(t,e,p,_,i)}const a=t[e];let o=n,s=r;for(iu(t,n,e),i(t[r],a)>0&&iu(t,n,r);o<s;){for(iu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?iu(t,n,s):(++s,iu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function iu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pre(t,e,n){if(t=Float64Array.from(are(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return eP(t);if(e>=1)return ZA(t);var r,i=(r-1)*e,a=Math.floor(i),o=ZA(Gj(t,a).subarray(0,a+1)),s=eP(t.subarray(a+1));return o+(s-o)*(i-a)}}function mre(t,e,n=qj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function gre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Qn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const H0=Symbol("implicit");function ix(){var t=new QA,e=[],n=[],r=H0;function i(a){let o=t.get(a);if(o===void 0){if(r!==H0)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new QA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ix(e,n).unknown(r)},Qn.apply(i,arguments),i}function Tc(){var t=ix().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,_=p?i:r,g=p?r:i;a=(g-_)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),_+=(g-_-a*(d-l))*c,o=a*(1-l),s&&(_=Math.round(_),o=Math.round(o));var y=gre(d).map(function(w){return _+a*w});return n(p?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Tc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Qn.apply(f(),arguments)}function Kj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Kj(e())},t}function Vu(){return Kj(Tc.apply(null,arguments).paddingInner(1))}function ax(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Xj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sf(){}var Ac=.7,np=1/Ac,ws="\\s*([+-]?\\d+)\\s*",Pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yre=/^#([0-9a-f]{3,8})$/,vre=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),bre=new RegExp(`^rgb\\(${jr},${jr},${jr}\\)$`),_re=new RegExp(`^rgba\\(${ws},${ws},${ws},${Pc}\\)$`),wre=new RegExp(`^rgba\\(${jr},${jr},${jr},${Pc}\\)$`),xre=new RegExp(`^hsl\\(${Pc},${jr},${jr}\\)$`),Ere=new RegExp(`^hsla\\(${Pc},${jr},${jr},${Pc}\\)$`),tP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ax(Sf,Ic,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nP,formatHex:nP,formatHex8:Sre,formatHsl:Tre,formatRgb:rP,toString:rP});function nP(){return this.rgb().formatHex()}function Sre(){return this.rgb().formatHex8()}function Tre(){return Yj(this).formatHsl()}function rP(){return this.rgb().formatRgb()}function Ic(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iP(e):n===3?new pn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vre.exec(t))?new pn(e[1],e[2],e[3],1):(e=bre.exec(t))?new pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_re.exec(t))?yh(e[1],e[2],e[3],e[4]):(e=wre.exec(t))?yh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xre.exec(t))?sP(e[1],e[2]/100,e[3]/100,1):(e=Ere.exec(t))?sP(e[1],e[2]/100,e[3]/100,e[4]):tP.hasOwnProperty(t)?iP(tP[t]):t==="transparent"?new pn(NaN,NaN,NaN,0):null}function iP(t){return new pn(t>>16&255,t>>8&255,t&255,1)}function yh(t,e,n,r){return r<=0&&(t=e=n=NaN),new pn(t,e,n,r)}function Are(t){return t instanceof Sf||(t=Ic(t)),t?(t=t.rgb(),new pn(t.r,t.g,t.b,t.opacity)):new pn}function G0(t,e,n,r){return arguments.length===1?Are(t):new pn(t,e,n,r??1)}function pn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ax(pn,G0,Xj(Sf,{brighter(t){return t=t==null?np:Math.pow(np,t),new pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ac:Math.pow(Ac,t),new pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pn(eo(this.r),eo(this.g),eo(this.b),rp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aP,formatHex:aP,formatHex8:Pre,formatRgb:oP,toString:oP}));function aP(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}`}function Pre(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}${Ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function oP(){const t=rp(this.opacity);return`${t===1?"rgb(":"rgba("}${eo(this.r)}, ${eo(this.g)}, ${eo(this.b)}${t===1?")":`, ${t})`}`}function rp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function eo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ga(t){return t=eo(t),(t<16?"0":"")+t.toString(16)}function sP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lr(t,e,n,r)}function Yj(t){if(t instanceof lr)return new lr(t.h,t.s,t.l,t.opacity);if(t instanceof Sf||(t=Ic(t)),!t)return new lr;if(t instanceof lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new lr(o,s,l,t.opacity)}function Ire(t,e,n,r){return arguments.length===1?Yj(t):new lr(t,e,n,r??1)}function lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ax(lr,Ire,Xj(Sf,{brighter(t){return t=t==null?np:Math.pow(np,t),new lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ac:Math.pow(Ac,t),new lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new pn(Oy(t>=240?t-240:t+120,i,r),Oy(t,i,r),Oy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new lr(lP(this.h),vh(this.s),vh(this.l),rp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rp(this.opacity);return`${t===1?"hsl(":"hsla("}${lP(this.h)}, ${vh(this.s)*100}%, ${vh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lP(t){return t=(t||0)%360,t<0?t+360:t}function vh(t){return Math.max(0,Math.min(1,t||0))}function Oy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ox=t=>()=>t;function Ore(t,e){return function(n){return t+n*e}}function Cre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function kre(t){return(t=+t)==1?Qj:function(e,n){return n-e?Cre(e,n,t):ox(isNaN(e)?n:e)}}function Qj(t,e){var n=e-t;return n?Ore(t,n):ox(isNaN(t)?e:t)}const uP=function t(e){var n=kre(e);function r(i,a){var o=n((i=G0(i)).r,(a=G0(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=Qj(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Nre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Rre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ol(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Mre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ip(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Dre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ol(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var K0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cy=new RegExp(K0.source,"g");function $re(t){return function(){return t}}function Lre(t){return function(e){return t(e)+""}}function Vre(t,e){var n=K0.lastIndex=Cy.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=K0.exec(t))&&(i=Cy.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:ip(r,i)})),n=Cy.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Lre(l[0].x):$re(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Ol(t,e){var n=typeof e,r;return e==null||n==="boolean"?ox(e):(n==="number"?ip:n==="string"?(r=Ic(e))?(e=r,uP):Vre:e instanceof Ic?uP:e instanceof Date?Mre:Rre(e)?Nre:Array.isArray(e)?jre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Dre:ip)(t,e)}function sx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Fre(t,e){e===void 0&&(e=t,t=Ol);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Ure(t){return function(){return t}}function ap(t){return+t}var cP=[0,1];function an(t){return t}function X0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ure(isNaN(e)?NaN:.5)}function Bre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function zre(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=X0(i,r),a=n(o,a)):(r=X0(r,i),a=n(a,o)),function(s){return a(r(s))}}function Wre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=X0(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Ef(t,s,1,r)-1;return a[l](i[l](s))}}function Tf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Km(){var t=cP,e=cP,n=Ol,r,i,a,o=an,s,l,u;function c(){var d=Math.min(t.length,e.length);return o!==an&&(o=Bre(t[0],t[d-1])),s=d>2?Wre:zre,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=s(t.map(r),e,n)))(r(o(d)))}return f.invert=function(d){return o(i((u||(u=s(e,t.map(r),ip)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,ap),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=sx,c()},f.clamp=function(d){return arguments.length?(o=d?!0:an,c()):o!==an},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,p){return r=d,i=p,c()}}function lx(){return Km()(an,an)}function qre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function op(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qs(t){return t=op(Math.abs(t)),t?t[1]:NaN}function Hre(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Gre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Kre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oc(t){if(!(e=Kre.exec(t)))throw new Error("invalid format: "+t);var e;return new ux({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oc.prototype=ux.prototype;function ux(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ux.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Jj;function Yre(t,e){var n=op(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Jj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+op(t,Math.max(0,e+a-1))[0]}function fP(t,e){var n=op(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fP(t*100,e),r:fP,s:Yre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dP(t){return t}var pP=Array.prototype.map,mP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qre(t){var e=t.grouping===void 0||t.thousands===void 0?dP:Hre(pP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?dP:Gre(pP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Oc(f);var d=f.fill,p=f.align,_=f.sign,g=f.symbol,y=f.zero,w=f.width,v=f.comma,x=f.precision,O=f.trim,T=f.type;T==="n"?(v=!0,T="g"):hP[T]||(x===void 0&&(x=12),O=!0,T="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var I=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=g==="$"?r:/[%p]/.test(T)?o:"",S=hP[T],P=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(C){var j=I,N=E,F,U,q;if(T==="c")N=S(C)+N,C="";else{C=+C;var G=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),x),O&&(C=Xre(C)),G&&+C==0&&_!=="+"&&(G=!1),j=(G?_==="("?_:s:_==="-"||_==="("?"":_)+j,N=(T==="s"?mP[8+Jj/3]:"")+N+(G&&_==="("?")":""),P){for(F=-1,U=C.length;++F<U;)if(q=C.charCodeAt(F),48>q||q>57){N=(q===46?i+C.slice(F+1):C.slice(F))+N,C=C.slice(0,F);break}}}v&&!y&&(C=e(C,1/0));var L=j.length+C.length+N.length,z=L<w?new Array(w-L+1).join(d):"";switch(v&&y&&(C=e(z+C,z.length?w-N.length:1/0),z=""),p){case"<":C=j+C+N+z;break;case"=":C=j+z+C+N;break;case"^":C=z.slice(0,L=z.length>>1)+j+C+N+z.slice(L);break;default:C=z+j+C+N;break}return a(C)}return k.toString=function(){return f+""},k}function c(f,d){var p=u((f=Oc(f),f.type="f",f)),_=Math.max(-8,Math.min(8,Math.floor(qs(d)/3)))*3,g=Math.pow(10,-_),y=mP[8+_/3];return function(w){return p(g*w)+y}}return{format:u,formatPrefix:c}}var bh,cx,Zj;Jre({thousands:",",grouping:[3],currency:["$",""]});function Jre(t){return bh=Qre(t),cx=bh.format,Zj=bh.formatPrefix,bh}function Zre(t){return Math.max(0,-qs(Math.abs(t)))}function eie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qs(e)/3)))*3-qs(Math.abs(t)))}function tie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qs(e)-qs(t))+1}function eM(t,e,n,r){var i=q0(t,e,n),a;switch(r=Oc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=eie(i,o))&&(r.precision=a),Zj(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=tie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Zre(i))&&(r.precision=a-(r.type==="%")*2);break}}return cx(r)}function Ta(t){var e=t.domain;return t.ticks=function(n){var r=e();return z0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return eM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=W0(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function sp(){var t=lx();return t.copy=function(){return Tf(t,sp())},Qn.apply(t,arguments),Ta(t)}function tM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ap),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return tM(t).unknown(e)},t=arguments.length?Array.from(t,ap):[0,1],Ta(n)}function nM(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function gP(t){return Math.log(t)}function yP(t){return Math.exp(t)}function nie(t){return-Math.log(-t)}function rie(t){return-Math.exp(-t)}function iie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function aie(t){return t===10?iie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function oie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vP(t){return(e,n)=>-t(-e,n)}function fx(t){const e=t(gP,yP),n=e.domain;let r=10,i,a;function o(){return i=oie(r),a=aie(r),n()[0]<0?(i=vP(i),a=vP(a),t(nie,rie)):t(gP,yP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),_,g;const y=s==null?10:+s;let w=[];if(!(r%1)&&p-d<y){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(_=1;_<r;++_)if(g=d<0?_/a(-d):_*a(d),!(g<u)){if(g>c)break;w.push(g)}}else for(;d<=p;++d)for(_=r-1;_>=1;--_)if(g=d>0?_/a(-d):_*a(d),!(g<u)){if(g>c)break;w.push(g)}w.length*2<y&&(w=z0(u,c,y))}else w=z0(d,p,Math.min(p-d,y)).map(a);return f?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Oc(l)).precision==null&&(l.trim=!0),l=cx(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(nM(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function rM(){const t=fx(Km()).domain([1,10]);return t.copy=()=>Tf(t,rM()).base(t.base()),Qn.apply(t,arguments),t}function bP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _P(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hx(t){var e=1,n=t(bP(e),_P(e));return n.constant=function(r){return arguments.length?t(bP(e=+r),_P(e)):e},Ta(n)}function iM(){var t=hx(Km());return t.copy=function(){return Tf(t,iM()).constant(t.constant())},Qn.apply(t,arguments)}function wP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lie(t){return t<0?-t*t:t*t}function dx(t){var e=t(an,an),n=1;function r(){return n===1?t(an,an):n===.5?t(sie,lie):t(wP(n),wP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ta(e)}function px(){var t=dx(Km());return t.copy=function(){return Tf(t,px()).exponent(t.exponent())},Qn.apply(t,arguments),t}function uie(){return px.apply(null,arguments).exponent(.5)}function xP(t){return Math.sign(t)*t*t}function cie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function aM(){var t=lx(),e=[0,1],n=!1,r;function i(a){var o=cie(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(xP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ap)).map(xP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return aM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Qn.apply(i,arguments),Ta(i)}function oM(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=mre(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Ef(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ia),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return oM().domain(t).range(e).unknown(r)},Qn.apply(a,arguments)}function sM(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Ef(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return sM().domain([t,e]).range(i).unknown(a)},Qn.apply(Ta(o),arguments)}function lM(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ef(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lM().domain(t).range(e).unknown(n)},Qn.apply(i,arguments)}const ky=new Date,Ny=new Date;function Pt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Pt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(ky.setTime(+a),Ny.setTime(+o),t(ky),t(Ny),Math.floor(n(ky,Ny))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const lp=Pt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):lp);lp.range;const Gr=1e3,Bn=Gr*60,Kr=Bn*60,ci=Kr*24,mx=ci*7,EP=ci*30,Ry=ci*365,Ka=Pt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getUTCSeconds());Ka.range;const gx=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gr)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getMinutes());gx.range;const yx=Pt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getUTCMinutes());yx.range;const vx=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gr-t.getMinutes()*Bn)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getHours());vx.range;const bx=Pt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCHours());bx.range;const Af=Pt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bn)/ci,t=>t.getDate()-1);Af.range;const Xm=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ci,t=>t.getUTCDate()-1);Xm.range;const uM=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ci,t=>Math.floor(t/ci));uM.range;function ko(t){return Pt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Bn)/mx)}const Ym=ko(0),up=ko(1),fie=ko(2),hie=ko(3),Hs=ko(4),die=ko(5),pie=ko(6);Ym.range;up.range;fie.range;hie.range;Hs.range;die.range;pie.range;function No(t){return Pt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/mx)}const Qm=No(0),cp=No(1),mie=No(2),gie=No(3),Gs=No(4),yie=No(5),vie=No(6);Qm.range;cp.range;mie.range;gie.range;Gs.range;yie.range;vie.range;const _x=Pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_x.range;const wx=Pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wx.range;const fi=Pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});fi.range;const hi=Pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});hi.range;function cM(t,e,n,r,i,a){const o=[[Ka,1,Gr],[Ka,5,5*Gr],[Ka,15,15*Gr],[Ka,30,30*Gr],[a,1,Bn],[a,5,5*Bn],[a,15,15*Bn],[a,30,30*Bn],[i,1,Kr],[i,3,3*Kr],[i,6,6*Kr],[i,12,12*Kr],[r,1,ci],[r,2,2*ci],[n,1,mx],[e,1,EP],[e,3,3*EP],[t,1,Ry]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),_=p?p.range(u,+c+1):[];return d?_.reverse():_}function l(u,c,f){const d=Math.abs(c-u)/f,p=rx(([,,y])=>y).right(o,d);if(p===o.length)return t.every(q0(u/Ry,c/Ry,f));if(p===0)return lp.every(Math.max(q0(u,c,f),1));const[_,g]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return _.every(g)}return[s,l]}const[bie,_ie]=cM(hi,wx,Qm,uM,bx,yx),[wie,xie]=cM(fi,_x,Ym,Af,vx,gx);function jy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function My(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function au(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Eie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=ou(i),c=su(i),f=ou(a),d=su(a),p=ou(o),_=su(o),g=ou(s),y=su(s),w=ou(l),v=su(l),x={a:G,A:L,b:z,B:X,c:null,d:OP,e:OP,f:Hie,g:nae,G:iae,H:zie,I:Wie,j:qie,L:fM,m:Gie,M:Kie,p:ee,q:Q,Q:NP,s:RP,S:Xie,u:Yie,U:Qie,V:Jie,w:Zie,W:eae,x:null,X:null,y:tae,Y:rae,Z:aae,"%":kP},O={a:oe,A:ye,b:Re,B:ze,c:null,d:CP,e:CP,f:uae,g:bae,G:wae,H:oae,I:sae,j:lae,L:dM,m:cae,M:fae,p:Wt,q:It,Q:NP,s:RP,S:hae,u:dae,U:pae,V:mae,w:gae,W:yae,x:null,X:null,y:vae,Y:_ae,Z:xae,"%":kP},T={a:k,A:C,b:j,B:N,c:F,d:PP,e:PP,f:Vie,g:AP,G:TP,H:IP,I:IP,j:Mie,L:Lie,m:jie,M:Die,p:P,q:Rie,Q:Uie,s:Bie,S:$ie,u:Iie,U:Oie,V:Cie,w:Pie,W:kie,x:U,X:q,y:AP,Y:TP,Z:Nie,"%":Fie};x.x=I(n,x),x.X=I(r,x),x.c=I(e,x),O.x=I(n,O),O.X=I(r,O),O.c=I(e,O);function I(te,de){return function(pe){var K=[],Ve=-1,_e=0,ot=te.length,Qe,Ot,Jn;for(pe instanceof Date||(pe=new Date(+pe));++Ve<ot;)te.charCodeAt(Ve)===37&&(K.push(te.slice(_e,Ve)),(Ot=SP[Qe=te.charAt(++Ve)])!=null?Qe=te.charAt(++Ve):Ot=Qe==="e"?" ":"0",(Jn=de[Qe])&&(Qe=Jn(pe,Ot)),K.push(Qe),_e=Ve+1);return K.push(te.slice(_e,Ve)),K.join("")}}function E(te,de){return function(pe){var K=au(1900,void 0,1),Ve=S(K,te,pe+="",0),_e,ot;if(Ve!=pe.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(de&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(_e=My(au(K.y,0,1)),ot=_e.getUTCDay(),_e=ot>4||ot===0?cp.ceil(_e):cp(_e),_e=Xm.offset(_e,(K.V-1)*7),K.y=_e.getUTCFullYear(),K.m=_e.getUTCMonth(),K.d=_e.getUTCDate()+(K.w+6)%7):(_e=jy(au(K.y,0,1)),ot=_e.getDay(),_e=ot>4||ot===0?up.ceil(_e):up(_e),_e=Af.offset(_e,(K.V-1)*7),K.y=_e.getFullYear(),K.m=_e.getMonth(),K.d=_e.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ot="Z"in K?My(au(K.y,0,1)).getUTCDay():jy(au(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ot+5)%7:K.w+K.U*7-(ot+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,My(K)):jy(K)}}function S(te,de,pe,K){for(var Ve=0,_e=de.length,ot=pe.length,Qe,Ot;Ve<_e;){if(K>=ot)return-1;if(Qe=de.charCodeAt(Ve++),Qe===37){if(Qe=de.charAt(Ve++),Ot=T[Qe in SP?de.charAt(Ve++):Qe],!Ot||(K=Ot(te,pe,K))<0)return-1}else if(Qe!=pe.charCodeAt(K++))return-1}return K}function P(te,de,pe){var K=u.exec(de.slice(pe));return K?(te.p=c.get(K[0].toLowerCase()),pe+K[0].length):-1}function k(te,de,pe){var K=p.exec(de.slice(pe));return K?(te.w=_.get(K[0].toLowerCase()),pe+K[0].length):-1}function C(te,de,pe){var K=f.exec(de.slice(pe));return K?(te.w=d.get(K[0].toLowerCase()),pe+K[0].length):-1}function j(te,de,pe){var K=w.exec(de.slice(pe));return K?(te.m=v.get(K[0].toLowerCase()),pe+K[0].length):-1}function N(te,de,pe){var K=g.exec(de.slice(pe));return K?(te.m=y.get(K[0].toLowerCase()),pe+K[0].length):-1}function F(te,de,pe){return S(te,e,de,pe)}function U(te,de,pe){return S(te,n,de,pe)}function q(te,de,pe){return S(te,r,de,pe)}function G(te){return o[te.getDay()]}function L(te){return a[te.getDay()]}function z(te){return l[te.getMonth()]}function X(te){return s[te.getMonth()]}function ee(te){return i[+(te.getHours()>=12)]}function Q(te){return 1+~~(te.getMonth()/3)}function oe(te){return o[te.getUTCDay()]}function ye(te){return a[te.getUTCDay()]}function Re(te){return l[te.getUTCMonth()]}function ze(te){return s[te.getUTCMonth()]}function Wt(te){return i[+(te.getUTCHours()>=12)]}function It(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var de=I(te+="",x);return de.toString=function(){return te},de},parse:function(te){var de=E(te+="",!1);return de.toString=function(){return te},de},utcFormat:function(te){var de=I(te+="",O);return de.toString=function(){return te},de},utcParse:function(te){var de=E(te+="",!0);return de.toString=function(){return te},de}}}var SP={"-":"",_:" ",0:"0"},Mt=/^\s*\d+/,Sie=/^%/,Tie=/[\\^$*+?|[\]().{}]/g;function Ie(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Aie(t){return t.replace(Tie,"\\$&")}function ou(t){return new RegExp("^(?:"+t.map(Aie).join("|")+")","i")}function su(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Pie(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Iie(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Oie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Cie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function kie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function TP(t,e,n){var r=Mt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function AP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Nie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rie(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function PP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Mie(t,e,n){var r=Mt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function IP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Die(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $ie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Lie(t,e,n){var r=Mt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Vie(t,e,n){var r=Mt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fie(t,e,n){var r=Sie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Uie(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Bie(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OP(t,e){return Ie(t.getDate(),e,2)}function zie(t,e){return Ie(t.getHours(),e,2)}function Wie(t,e){return Ie(t.getHours()%12||12,e,2)}function qie(t,e){return Ie(1+Af.count(fi(t),t),e,3)}function fM(t,e){return Ie(t.getMilliseconds(),e,3)}function Hie(t,e){return fM(t,e)+"000"}function Gie(t,e){return Ie(t.getMonth()+1,e,2)}function Kie(t,e){return Ie(t.getMinutes(),e,2)}function Xie(t,e){return Ie(t.getSeconds(),e,2)}function Yie(t){var e=t.getDay();return e===0?7:e}function Qie(t,e){return Ie(Ym.count(fi(t)-1,t),e,2)}function hM(t){var e=t.getDay();return e>=4||e===0?Hs(t):Hs.ceil(t)}function Jie(t,e){return t=hM(t),Ie(Hs.count(fi(t),t)+(fi(t).getDay()===4),e,2)}function Zie(t){return t.getDay()}function eae(t,e){return Ie(up.count(fi(t)-1,t),e,2)}function tae(t,e){return Ie(t.getFullYear()%100,e,2)}function nae(t,e){return t=hM(t),Ie(t.getFullYear()%100,e,2)}function rae(t,e){return Ie(t.getFullYear()%1e4,e,4)}function iae(t,e){var n=t.getDay();return t=n>=4||n===0?Hs(t):Hs.ceil(t),Ie(t.getFullYear()%1e4,e,4)}function aae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ie(e/60|0,"0",2)+Ie(e%60,"0",2)}function CP(t,e){return Ie(t.getUTCDate(),e,2)}function oae(t,e){return Ie(t.getUTCHours(),e,2)}function sae(t,e){return Ie(t.getUTCHours()%12||12,e,2)}function lae(t,e){return Ie(1+Xm.count(hi(t),t),e,3)}function dM(t,e){return Ie(t.getUTCMilliseconds(),e,3)}function uae(t,e){return dM(t,e)+"000"}function cae(t,e){return Ie(t.getUTCMonth()+1,e,2)}function fae(t,e){return Ie(t.getUTCMinutes(),e,2)}function hae(t,e){return Ie(t.getUTCSeconds(),e,2)}function dae(t){var e=t.getUTCDay();return e===0?7:e}function pae(t,e){return Ie(Qm.count(hi(t)-1,t),e,2)}function pM(t){var e=t.getUTCDay();return e>=4||e===0?Gs(t):Gs.ceil(t)}function mae(t,e){return t=pM(t),Ie(Gs.count(hi(t),t)+(hi(t).getUTCDay()===4),e,2)}function gae(t){return t.getUTCDay()}function yae(t,e){return Ie(cp.count(hi(t)-1,t),e,2)}function vae(t,e){return Ie(t.getUTCFullYear()%100,e,2)}function bae(t,e){return t=pM(t),Ie(t.getUTCFullYear()%100,e,2)}function _ae(t,e){return Ie(t.getUTCFullYear()%1e4,e,4)}function wae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Gs(t):Gs.ceil(t),Ie(t.getUTCFullYear()%1e4,e,4)}function xae(){return"+0000"}function kP(){return"%"}function NP(t){return+t}function RP(t){return Math.floor(+t/1e3)}var Fo,mM,gM;Eae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eae(t){return Fo=Eie(t),mM=Fo.format,Fo.parse,gM=Fo.utcFormat,Fo.utcParse,Fo}function Sae(t){return new Date(t)}function Tae(t){return t instanceof Date?+t:+new Date(+t)}function xx(t,e,n,r,i,a,o,s,l,u){var c=lx(),f=c.invert,d=c.domain,p=u(".%L"),_=u(":%S"),g=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),v=u("%b %d"),x=u("%B"),O=u("%Y");function T(I){return(l(I)<I?p:s(I)<I?_:o(I)<I?g:a(I)<I?y:r(I)<I?i(I)<I?w:v:n(I)<I?x:O)(I)}return c.invert=function(I){return new Date(f(I))},c.domain=function(I){return arguments.length?d(Array.from(I,Tae)):d().map(Sae)},c.ticks=function(I){var E=d();return t(E[0],E[E.length-1],I??10)},c.tickFormat=function(I,E){return E==null?T:u(E)},c.nice=function(I){var E=d();return(!I||typeof I.range!="function")&&(I=e(E[0],E[E.length-1],I??10)),I?d(nM(E,I)):c},c.copy=function(){return Tf(c,xx(t,e,n,r,i,a,o,s,l,u))},c}function Aae(){return Qn.apply(xx(wie,xie,fi,_x,Ym,Af,vx,gx,Ka,mM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pae(){return Qn.apply(xx(bie,_ie,hi,wx,Qm,Xm,bx,yx,Ka,gM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jm(){var t=0,e=1,n,r,i,a,o=an,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(d){var p,_;return arguments.length?([p,_]=d,o=f(p,_),u):[o(0),o(1)]}}return u.range=c(Ol),u.rangeRound=c(sx),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Aa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yM(){var t=Ta(Jm()(an));return t.copy=function(){return Aa(t,yM())},bi.apply(t,arguments)}function vM(){var t=fx(Jm()).domain([1,10]);return t.copy=function(){return Aa(t,vM()).base(t.base())},bi.apply(t,arguments)}function bM(){var t=hx(Jm());return t.copy=function(){return Aa(t,bM()).constant(t.constant())},bi.apply(t,arguments)}function Ex(){var t=dx(Jm());return t.copy=function(){return Aa(t,Ex()).exponent(t.exponent())},bi.apply(t,arguments)}function Iae(){return Ex.apply(null,arguments).exponent(.5)}function _M(){var t=[],e=an;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ef(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ia),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>pre(t,a/r))},n.copy=function(){return _M(e).domain(t)},bi.apply(n,arguments)}function Zm(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=an,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function _(g){return function(y){var w,v,x;return arguments.length?([w,v,x]=y,u=Fre(g,[w,v,x]),p):[u(0),u(.5),u(1)]}}return p.range=_(Ol),p.rangeRound=_(sx),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),a=g(e),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function wM(){var t=Ta(Zm()(an));return t.copy=function(){return Aa(t,wM())},bi.apply(t,arguments)}function xM(){var t=fx(Zm()).domain([.1,1,10]);return t.copy=function(){return Aa(t,xM()).base(t.base())},bi.apply(t,arguments)}function EM(){var t=hx(Zm());return t.copy=function(){return Aa(t,EM()).constant(t.constant())},bi.apply(t,arguments)}function Sx(){var t=dx(Zm());return t.copy=function(){return Aa(t,Sx()).exponent(t.exponent())},bi.apply(t,arguments)}function Oae(){return Sx.apply(null,arguments).exponent(.5)}const jP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tc,scaleDiverging:wM,scaleDivergingLog:xM,scaleDivergingPow:Sx,scaleDivergingSqrt:Oae,scaleDivergingSymlog:EM,scaleIdentity:tM,scaleImplicit:H0,scaleLinear:sp,scaleLog:rM,scaleOrdinal:ix,scalePoint:Vu,scalePow:px,scaleQuantile:oM,scaleQuantize:sM,scaleRadial:aM,scaleSequential:yM,scaleSequentialLog:vM,scaleSequentialPow:Ex,scaleSequentialQuantile:_M,scaleSequentialSqrt:Iae,scaleSequentialSymlog:bM,scaleSqrt:uie,scaleSymlog:iM,scaleThreshold:lM,scaleTime:Aae,scaleUtc:Pae,tickFormat:eM},Symbol.toStringTag,{value:"Module"}));var Cae=_l;function kae(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Cae(o):n(o,s)))var s=o,l=a}return l}var SM=kae;function Nae(t,e){return t>e}var Rae=Nae,jae=SM,Mae=Rae,Dae=Pl;function $ae(t){return t&&t.length?jae(t,Dae,Mae):void 0}var Lae=$ae;const eg=De(Lae);function Vae(t,e){return t<e}var Fae=Vae,Uae=SM,Bae=Fae,zae=Pl;function Wae(t){return t&&t.length?Uae(t,zae,Bae):void 0}var qae=Wae;const tg=De(qae);var Hae=Lw,Gae=Sa,Kae=Nj,Xae=vn;function Yae(t,e){var n=Xae(t)?Hae:Kae;return n(t,Gae(e))}var Qae=Yae,Jae=Cj,Zae=Qae;function eoe(t,e){return Jae(Zae(t,e),1)}var toe=eoe;const noe=De(toe);var roe=Zw;function ioe(t,e){return roe(t,e)}var aoe=ioe;const ng=De(aoe);var Cl=1e9,ooe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ax,Ye=!0,Xn="[DecimalError] ",to=Xn+"Invalid argument: ",Tx=Xn+"Exponent out of range: ",kl=Math.floor,Ua=Math.pow,soe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sn,Nt=1e7,Ge=7,TM=9007199254740991,fp=kl(TM/Ge),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ge;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return ti(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Le(ti(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return vt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Sn))throw Error(Xn+"NaN");if(n.s<1)throw Error(Xn+(n.s?"NaN":"-Infinity"));return n.eq(Sn)?new r(0):(Ye=!1,e=ti(Cc(n,a),Cc(t,a),a),Ye=!0,Le(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?IM(e,t):AM(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Xn+"NaN");return n.s?(Ye=!1,e=ti(n,t,0,1).times(t),Ye=!0,n.minus(e)):Le(new r(n),i)};ae.naturalExponential=ae.exp=function(){return PM(this)};ae.naturalLogarithm=ae.ln=function(){return Cc(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AM(e,t):IM(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(to+t);if(e=vt(i)+1,r=i.d.length-1,n=r*Ge+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Xn+"NaN")}for(t=vt(s),Ye=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Tr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=kl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(ti(s,a,o+2)).times(.5),Tr(a.d).slice(0,o)===(e=Tr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Le(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Ye=!0,Le(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(a=d,d=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*d[i-r-1]+e,a[i--]=s%Nt|0,e=s/Nt|0;a[i]=(a[i]+e)%Nt|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ye?Le(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($r(t,0,Cl),e===void 0?e=r.rounding:$r(e,0,8),Le(n,t+vt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=go(r,!0):($r(t,0,Cl),e===void 0?e=i.rounding:$r(e,0,8),r=Le(new i(r),t+1,e),n=go(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?go(i):($r(t,0,Cl),e===void 0?e=a.rounding:$r(e,0,8),r=Le(new a(i),t+vt(i)+1,e),n=go(r.abs(),!1,t+vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Le(new e(t),vt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Sn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Xn+"Infinity");return s}if(s.eq(Sn))return s;if(r=l.precision,t.eq(Sn))return Le(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=TM){for(i=new l(Sn),e=Math.ceil(r/Ge+4),Ye=!1;n%2&&(i=i.times(s),DP(i.d,e)),n=kl(n/2),n!==0;)s=s.times(s),DP(s.d,e);return Ye=!0,t.s<0?new l(Sn).div(i):Le(i,r)}}else if(a<0)throw Error(Xn+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ye=!1,i=t.times(Cc(s,r+u)),Ye=!0,i=PM(i),i.s=a,i};ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=vt(i),r=go(i,n<=a.toExpNeg||n>=a.toExpPos)):($r(t,1,Cl),e===void 0?e=a.rounding:$r(e,0,8),i=Le(new a(i),t,e),n=vt(i),r=go(i,t<=n||n<=a.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($r(t,1,Cl),e===void 0?e=r.rounding:$r(e,0,8)),Le(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vt(t),n=t.constructor;return go(t,e<=n.toExpNeg||e>=n.toExpPos)};function AM(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ye?Le(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/Ge),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Nt|0,l[a]%=Nt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ye?Le(e,f):e}function $r(t,e,n){if(t!==~~t||t<e||t>n)throw Error(to+t)}function Tr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Ge-r.length,n&&(a+=ki(n)),a+=r;o=t[e],r=o+"",n=Ge-r.length,n&&(a+=ki(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ti=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Nt|0,o=a/Nt|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Nt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,d,p,_,g,y,w,v,x,O,T,I,E,S,P=r.constructor,k=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Xn+"Division by zero");for(l=r.e-i.e,E=j.length,T=C.length,p=new P(k),_=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,a==null?v=a=P.precision:o?v=a+(vt(r)-vt(i))+1:v=a,v<0)return new P(0);if(v=v/Ge+2|0,u=0,E==1)for(c=0,j=j[0],v++;(u<T||c)&&v--;u++)x=c*Nt+(C[u]||0),_[u]=x/j|0,c=x%j|0;else{for(c=Nt/(j[0]+1)|0,c>1&&(j=t(j,c),C=t(C,c),E=j.length,T=C.length),O=E,g=C.slice(0,E),y=g.length;y<E;)g[y++]=0;S=j.slice(),S.unshift(0),I=j[0],j[1]>=Nt/2&&++I;do c=0,s=e(j,g,E,y),s<0?(w=g[0],E!=y&&(w=w*Nt+(g[1]||0)),c=w/I|0,c>1?(c>=Nt&&(c=Nt-1),f=t(j,c),d=f.length,y=g.length,s=e(f,g,d,y),s==1&&(c--,n(f,E<d?S:j,d))):(c==0&&(s=c=1),f=j.slice()),d=f.length,d<y&&f.unshift(0),n(g,f,y),s==-1&&(y=g.length,s=e(j,g,E,y),s<1&&(c++,n(g,E<y?S:j,y))),y=g.length):s===0&&(c++,g=[0]),_[u++]=c,s&&g[0]?g[y++]=C[O]||0:(g=[C[O]],y=1);while((O++<T||g[0]!==void 0)&&v--)}return _[0]||_.shift(),p.e=l,Le(p,o?a+vt(p)+1:a)}}();function PM(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(vt(t)>16)throw Error(Tx+vt(t));if(!t.s)return new c(Sn);for(Ye=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Ua(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Sn),c.precision=s;;){if(i=Le(i.times(t),s),n=n.times(++l),o=a.plus(ti(i,n,s)),Tr(o.d).slice(0,s)===Tr(a.d).slice(0,s)){for(;u--;)a=Le(a.times(a),s);return c.precision=f,e==null?(Ye=!0,Le(a,f)):a}a=o}}function vt(t){for(var e=t.e*Ge,n=t.d[0];n>=10;n/=10)e++;return e}function Dy(t,e,n){if(e>t.LN10.sd())throw Ye=!0,n&&(t.precision=n),Error(Xn+"LN10 precision limit exceeded");return Le(new t(t.LN10),e)}function ki(t){for(var e="";t--;)e+="0";return e}function Cc(t,e){var n,r,i,a,o,s,l,u,c,f=1,d=10,p=t,_=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Xn+(p.s?"NaN":"-Infinity"));if(p.eq(Sn))return new g(0);if(e==null?(Ye=!1,u=y):u=e,p.eq(10))return e==null&&(Ye=!0),Dy(g,u);if(u+=d,g.precision=u,n=Tr(_),r=n.charAt(0),a=vt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Tr(p.d),r=n.charAt(0),f++;a=vt(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=Dy(g,u+2,y).times(a+""),p=Cc(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=y,e==null?(Ye=!0,Le(p,y)):p;for(s=o=p=ti(p.minus(Sn),p.plus(Sn),u),c=Le(p.times(p),u),i=3;;){if(o=Le(o.times(c),u),l=s.plus(ti(o,new g(i),u)),Tr(l.d).slice(0,u)===Tr(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Dy(g,u+2,y).times(a+""))),s=ti(s,new g(f),u),g.precision=y,e==null?(Ye=!0,Le(s,y)):s;s=l,i+=2}}function MP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=kl(n/Ge),t.d=[],r=(n+1)%Ge,n<0&&(r+=Ge),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ge;r<i;)t.d.push(+e.slice(r,r+=Ge));e=e.slice(r),r=Ge-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ye&&(t.e>fp||t.e<-fp))throw Error(Tx+n)}else t.s=0,t.e=0,t.d=[0];return t}function Le(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Ge,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Ge),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=Ge,i=r-Ge+o}if(n!==void 0&&(a=Ua(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ua(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=vt(t),f.length=1,e=e-a-1,f[0]=Ua(10,(Ge-e%Ge)%Ge),t.e=kl(-e/Ge)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Ua(10,Ge-r),f[c]=i>0?(u/Ua(10,o-i)%Ua(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Nt&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Nt)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ye&&(t.e>fp||t.e<-fp))throw Error(Tx+vt(t));return t}function IM(t,e){var n,r,i,a,o,s,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Ye?Le(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Ge),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Nt-1;--l[a],l[i]+=Nt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ye?Le(e,p):e):new d(0)}function go(t,e,n){var r,i=vt(t),a=Tr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ki(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ki(-i-1)+a,n&&(r=n-o)>0&&(a+=ki(r))):i>=o?(a+=ki(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ki(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ki(r))),t.s<0?"-"+a:a}function DP(t,e){if(t.length>e)return t.length=e,!0}function OM(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(to+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return MP(o,a.toString())}else if(typeof a!="string")throw Error(to+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,soe.test(a))MP(o,a);else throw Error(to+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=OM,i.config=i.set=loe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function loe(t){if(!t||typeof t!="object")throw Error(Xn+"Object expected");var e,n,r,i=["precision",1,Cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(kl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(to+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(to+n+": "+r);return this}var Ax=OM(ooe);Sn=new Ax(1);const je=Ax;function uoe(t){return doe(t)||hoe(t)||foe(t)||coe()}function coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function foe(t,e){if(t){if(typeof t=="string")return Y0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y0(t,e)}}function hoe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function doe(t){if(Array.isArray(t))return Y0(t)}function Y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var poe=function(e){return e},CM={},kM=function(e){return e===CM},$P=function(e){return function n(){return arguments.length===0||arguments.length===1&&kM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},moe=function t(e,n){return e===1?n:$P(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==CM}).length;return o>=e?n.apply(void 0,i):t(e-o,$P(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return kM(f)?l.shift():f});return n.apply(void 0,uoe(c).concat(l))}))})},rg=function(e){return moe(e.length,e)},Q0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},goe=rg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),yoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return poe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},J0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},NM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function voe(t){var e;return t===0?e=1:e=Math.floor(new je(t).abs().log(10).toNumber())+1,e}function boe(t,e,n){for(var r=new je(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var _oe=rg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),woe=rg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),xoe=rg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ig={rangeStep:boe,getDigitCount:voe,interpolateNumber:_oe,uninterpolateNumber:woe,uninterpolateTruncation:xoe};function Z0(t){return Toe(t)||Soe(t)||RM(t)||Eoe()}function Eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Toe(t){if(Array.isArray(t))return eb(t)}function kc(t,e){return Ioe(t)||Poe(t,e)||RM(t,e)||Aoe()}function Aoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RM(t,e){if(t){if(typeof t=="string")return eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eb(t,e)}}function eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Poe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Ioe(t){if(Array.isArray(t))return t}function jM(t){var e=kc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function MM(t,e,n){if(t.lte(0))return new je(0);var r=ig.getDigitCount(t.toNumber()),i=new je(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new je(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new je(Math.ceil(l))}function Ooe(t,e,n){var r=1,i=new je(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new je(10).pow(ig.getDigitCount(t)-1),i=new je(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new je(Math.floor(t)))}else t===0?i=new je(Math.floor((e-1)/2)):n||(i=new je(Math.floor(t)));var o=Math.floor((e-1)/2),s=yoe(goe(function(l){return i.add(new je(l-o).mul(r)).toNumber()}),Q0);return s(0,e)}function DM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var a=MM(new je(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new je(0):(o=new je(t).add(e).div(2),o=o.sub(new je(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new je(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?DM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new je(s).mul(a)),tickMax:o.add(new je(l).mul(a))})}function Coe(t){var e=kc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=jM([n,r]),l=kc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Z0(Q0(0,i-1).map(function(){return 1/0}))):[].concat(Z0(Q0(0,i-1).map(function(){return-1/0})),[c]);return n>r?J0(f):f}if(u===c)return Ooe(u,i,a);var d=DM(u,c,o,a),p=d.step,_=d.tickMin,g=d.tickMax,y=ig.rangeStep(_,g.add(new je(.1).mul(p)),p);return n>r?J0(y):y}function koe(t,e){var n=kc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=jM([r,i]),s=kc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=MM(new je(u).sub(l).div(c-1),a,0),d=[].concat(Z0(ig.rangeStep(new je(l),new je(u).sub(new je(.99).mul(f)),f)),[u]);return r>i?J0(d):d}var Noe=NM(Coe),Roe=NM(koe),joe="Invariant failed";function yo(t,e){throw new Error(joe)}var Moe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function Doe(t,e){return Foe(t)||Voe(t,e)||Loe(t,e)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(t,e){if(t){if(typeof t=="string")return LP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(t,e)}}function LP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Voe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Foe(t){if(Array.isArray(t))return t}function Uoe(t,e){if(t==null)return{};var n=Boe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Boe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Woe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VM(r.key),r)}}function qoe(t,e,n){return e&&Woe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hoe(t,e,n){return e=dp(e),Goe(t,$M()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function Goe(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Koe(t)}function Koe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($M=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function Xoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function LM(t,e,n){return e=VM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VM(t){var e=Yoe(t,"string");return Ks(e)=="symbol"?e:e+""}function Yoe(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pf=function(t){function e(){return zoe(this,e),Hoe(this,e,arguments)}return Xoe(e,t),qoe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=Uoe(r,Moe),p=Se(d,!1);this.props.direction==="x"&&c.type!=="number"&&yo();var _=l.map(function(g){var y=u(g,s),w=y.x,v=y.y,x=y.value,O=y.errorVal;if(!O)return null;var T=[],I,E;if(Array.isArray(O)){var S=Doe(O,2);I=S[0],E=S[1]}else I=E=O;if(a==="vertical"){var P=c.scale,k=v+i,C=k+o,j=k-o,N=P(x-I),F=P(x+E);T.push({x1:F,y1:C,x2:F,y2:j}),T.push({x1:N,y1:k,x2:F,y2:k}),T.push({x1:N,y1:C,x2:N,y2:j})}else if(a==="horizontal"){var U=f.scale,q=w+i,G=q-o,L=q+o,z=U(x-I),X=U(x+E);T.push({x1:G,y1:X,x2:L,y2:X}),T.push({x1:q,y1:z,x2:q,y2:X}),T.push({x1:G,y1:z,x2:L,y2:z})}return M.createElement(ut,hp({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),T.map(function(ee){return M.createElement("line",hp({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return M.createElement(ut,{className:"recharts-errorBars"},_)}}])}(M.Component);LM(Pf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LM(Pf,"displayName","ErrorBar");function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){Qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qoe(t,e,n){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Zoe(t,"string");return Nc(e)=="symbol"?e:e+""}function Zoe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=En(n,Za);if(!o)return null;var s=Za.defaultProps,l=s!==void 0?Ma(Ma({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,_=p.sectors||p.data||[];return c.concat(_.map(function(g){return{type:o.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Ma(Ma({},d),f.props):{},_=p.dataKey,g=p.name,y=p.legendType,w=p.hide;return{inactive:w,dataKey:_,type:l.iconType||y||"square",color:Px(f),value:g||_,payload:p}}),Ma(Ma(Ma({},l),Za.getWithHeight(o,i)),{},{payload:u,item:o})};function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function FP(t){return rse(t)||nse(t)||tse(t)||ese()}function ese(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tse(t,e){if(t){if(typeof t=="string")return nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(t,e)}}function nse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rse(t){if(Array.isArray(t))return nb(t)}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){xs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xs(t,e,n){return e=ise(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ise(t){var e=ase(t,"string");return Rc(e)=="symbol"?e:e+""}function ase(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function On(t,e,n){return ve(t)||ve(e)?n:St(e)?qn(t,e,n):ge(e)?e(t):n}function Fu(t,e,n,r){var i=noe(t,function(s){return On(s,e)});if(n==="number"){var a=i.filter(function(s){return Z(s)||parseFloat(s)});return a.length?[tg(a),eg(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!ve(s)}):i;return o.map(function(s){return St(s)||s instanceof Date?s:""})}var ose=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(cr(f-c)!==cr(d-f)){var _=[];if(cr(d-f)===cr(l[1]-l[0])){p=d;var g=f+l[1]-l[0];_[0]=Math.min(g,(g+c)/2),_[1]=Math.max(g,(g+c)/2)}else{p=c;var y=d+l[1]-l[0];_[0]=Math.min(f,(y+f)/2),_[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=_[0]&&e<=_[1]){o=i[u].index;break}}else{var v=Math.min(c,d),x=Math.max(c,d);if(e>(v+f)/2&&e<=(x+f)/2){o=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},Px=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?at(at({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},sse=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var _=c[f[d]],g=_.items,y=_.cateAxisId,w=g.filter(function(E){return Zr(E.type).indexOf("Bar")>=0});if(w&&w.length){var v=w[0].type.defaultProps,x=v!==void 0?at(at({},v),w[0].props):w[0].props,O=x.barSize,T=x[y];o[T]||(o[T]=[]);var I=ve(O)?n:O;o[T].push({item:w[0],stackList:w.slice(1),barSize:ve(I)?void 0:mo(I,r,0)})}}return o},lse=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=mo(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=i/l,_=o.reduce(function(O,T){return O+T.barSize||0},0);_+=(l-1)*u,_>=i&&(_-=(l-1)*u,u=0),_>=i&&p>0&&(d=!0,p*=.9,_=l*p);var g=(i-_)/2>>0,y={offset:g-u,size:0};c=o.reduce(function(O,T){var I={item:T.item,position:{offset:y.offset+y.size+u,size:d?p:T.barSize}},E=[].concat(FP(O),[I]);return y=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:y})}),E},f)}else{var w=mo(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var v=(i-2*w-(l-1)*u)/l;v>1&&(v>>=0);var x=s===+s?Math.min(v,s):v;c=o.reduce(function(O,T,I){var E=[].concat(FP(O),[{item:T.item,position:{offset:w+(v+u)*I+(v-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return c},use=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=FM({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,_=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&_==="middle")&&p!=="center"&&Z(e[p]))return at(at({},e),{},xs({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&_!=="middle"&&Z(e[_]))return at(at({},e),{},xs({},_,e[_]+(d||0)))}return e},cse=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},UM=function(e,n,r,i,a){var o=n.props.children,s=Hn(o,Pf).filter(function(u){return cse(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=On(c,r);if(ve(f))return u;var d=Array.isArray(f)?[tg(f),eg(f)]:[f,f],p=l.reduce(function(_,g){var y=On(c,g,0),w=d[0]-Math.abs(Array.isArray(y)?y[0]:y),v=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,_[0]),Math.max(v,_[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},fse=function(e,n,r,i,a){var o=n.map(function(s){return UM(e,s,r,a,i)}).filter(function(s){return!ve(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},BM=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&UM(e,l,u,i)||Fu(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},zM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},WM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Xr=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?cr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!_f(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:a?a[f]:f,index:d,offset:u}})},$y=new WeakMap,_h=function(e,n){if(typeof n!="function")return e;$y.has(e)||$y.set(e,new WeakMap);var r=$y.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},hse=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Tc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:sp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Vu(),realScaleType:"point"}:a==="category"?{scale:Tc(),realScaleType:"band"}:{scale:sp(),realScaleType:"linear"};if(po(i)){var l="scale".concat(Um(i));return{scale:(jP[l]||Vu)(),realScaleType:jP[l]?l:"point"}}return ge(i)?{scale:i}:{scale:Vu(),realScaleType:"point"}},BP=1e-4,dse=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-BP,o=Math.max(i[0],i[1])+BP,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},pse=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},mse=function(e,n){if(!n||n.length!==2||!Z(n[0])||!Z(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(a[0]=r),(!Z(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},gse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=_f(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},yse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=_f(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},vse={sign:gse,expand:RG,none:Fs,silhouette:jG,wiggle:MG,positive:yse},bse=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=vse[r],o=NG().keys(i).value(function(s,l){return+On(s,l,0)}).order(A0).offset(a);return o(e)},_se=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,d){var p,_=(p=d.type)!==null&&p!==void 0&&p.defaultProps?at(at({},d.type.defaultProps),d.props):d.props,g=_.stackId,y=_.hide;if(y)return f;var w=_[r],v=f[w]||{hasStack:!1,stackGroups:{}};if(St(g)){var x=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),v.hasStack=!0,v.stackGroups[g]=x}else v.stackGroups[wf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return at(at({},f),{},xs({},w,v))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var _={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var w=p.stackGroups[y];return at(at({},g),{},xs({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:bse(e,w.items,a)}))},_)}return at(at({},f),{},xs({},d,p))},c)},wse=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Noe(u,a,s);return e.domain([tg(c),eg(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),d=Roe(f,a,s);return{niceTicks:d}}return null};function zP(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=Ld(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=On(i,ve(o)?e.dataKey:o);return ve(l)?null:e.scale(l)}var WP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=On(o,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-a/2+i},xse=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Ese=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?at(at({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(St(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Sse=function(e){return e.reduce(function(n,r){return[tg(r.concat([n[0]]).filter(Z)),eg(r.concat([n[1]]).filter(Z))]},[1/0,-1/0])},qM=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=Sse(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},qP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rb=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Z(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(qP.test(e[0])){var a=+qP.exec(e[0])[1];i[0]=n[0]-a}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Z(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(HP.test(e[1])){var o=+HP.exec(e[1])[1];i[1]=n[1]+o}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},pp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=tx(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},GP=function(e,n,r){return!e||!e.length||ng(e,qn(r,"type.defaultProps.domain"))?n:e},HM=function(e,n){var r=e.type.defaultProps?at(at({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return at(at({},Se(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Px(e),value:On(n,i),type:l,payload:n,chartType:u,hide:c})};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tse(t,e,n){return e=Ase(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ase(t){var e=Pse(t,"string");return jc(e)=="symbol"?e:e+""}function Pse(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mp=Math.PI/180,Ise=function(e){return e*180/Math.PI},Ft=function(e,n,r,i){return{x:e+Math.cos(-mp*i)*r,y:n+Math.sin(-mp*i)*r}},Ose=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Cse=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Ose({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Ise(u),angleInRadian:u}},kse=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Nse=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},YP=function(e,n){var r=e.x,i=e.y,a=Cse({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=kse(n),f=c.startAngle,d=c.endAngle,p=s,_;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;_=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;_=p>=d&&p<=f}return _?XP(XP({},n),{},{radius:o,angle:Nse(p,n)}):null};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}var Rse=["offset"];function jse(t){return Lse(t)||$se(t)||Dse(t)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dse(t,e){if(t){if(typeof t=="string")return ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ib(t,e)}}function $se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lse(t){if(Array.isArray(t))return ib(t)}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vse(t,e){if(t==null)return{};var n=Fse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Use(t,e,n){return e=Bse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=zse(t,"string");return Mc(e)=="symbol"?e:e+""}function zse(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}var Wse=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return ge(r)?r(i):i},qse=function(e,n){var r=cr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Hse=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,_=l.endAngle,g=l.clockWise,y=(f+d)/2,w=qse(p,_),v=w>=0?1:-1,x,O;i==="insideStart"?(x=p+v*o,O=g):i==="insideEnd"?(x=_-v*o,O=!g):i==="end"&&(x=_+v*o,O=g),O=w<=0?O:!O;var T=Ft(u,c,y,x),I=Ft(u,c,y,x+(O?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),S=ve(e.id)?wf("recharts-radial-line-"):e.id;return M.createElement("text",Dc({},r,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:S,d:E})),M.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Gse=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,d=(c+f)/2;if(i==="outside"){var p=Ft(o,s,u+r,d),_=p.x,g=p.y;return{x:_,y:g,textAnchor:_>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=Ft(o,s,y,d),v=w.x,x=w.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Kse=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",_=f>0?"start":"end",g=u>=0?1:-1,y=g*i,w=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return wt(wt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var O={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:_};return wt(wt({},O),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var T={x:s-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return wt(wt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(a==="right"){var I={x:s+u+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return wt(wt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?wt({x:s+y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideRight"?wt({x:s+u-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):a==="insideTop"?wt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:_},E):a==="insideBottom"?wt({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?wt({x:s+y,y:l+d,textAnchor:v,verticalAnchor:_},E):a==="insideTopRight"?wt({x:s+u-y,y:l+d,textAnchor:w,verticalAnchor:_},E):a==="insideBottomLeft"?wt({x:s+y,y:l+c-d,textAnchor:v,verticalAnchor:p},E):a==="insideBottomRight"?wt({x:s+u-y,y:l+c-d,textAnchor:w,verticalAnchor:p},E):wl(a)&&(Z(a.x)||Ha(a.x))&&(Z(a.y)||Ha(a.y))?wt({x:s+mo(a.x,u),y:l+mo(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):wt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Xse=function(e){return"cx"in e&&Z(e.cx)};function Jt(t){var e=t.offset,n=e===void 0?5:e,r=Vse(t,Rse),i=wt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!a||ve(s)&&ve(l)&&!$.isValidElement(u)&&!ge(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(ge(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=Wse(i);var _=Xse(a),g=Se(i,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Hse(i,p,g);var y=_?Gse(i):Kse(i);return M.createElement(ep,Dc({className:Pe("recharts-label",f)},g,y,{breakAll:d}),p)}Jt.displayName="Label";var GM=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,_=e.left,g=e.width,y=e.height,w=e.clockWise,v=e.labelViewBox;if(v)return v;if(Z(g)&&Z(y)){if(Z(f)&&Z(d))return{x:f,y:d,width:g,height:y};if(Z(p)&&Z(_))return{x:p,y:_,width:g,height:y}}return Z(f)&&Z(d)?{x:f,y:d,width:0,height:0}:Z(n)&&Z(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Yse=function(e,n){return e?e===!0?M.createElement(Jt,{key:"label-implicit",viewBox:n}):St(e)?M.createElement(Jt,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===Jt?$.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):ge(e)?M.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):wl(e)?M.createElement(Jt,Dc({viewBox:n},e,{key:"label-implicit"})):null:null},Qse=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=GM(e),o=Hn(i,Jt).map(function(l,u){return $.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Yse(e.label,n||a);return[s].concat(jse(o))};Jt.parseViewBox=GM;Jt.renderCallByParent=Qse;function Jse(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Zse=Jse;const ele=De(Zse);function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var tle=["valueAccessor"],nle=["data","dataKey","clockWise","id","textBreakAll"];function rle(t){return sle(t)||ole(t)||ale(t)||ile()}function ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(t,e){if(t){if(typeof t=="string")return ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(t,e)}}function ole(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sle(t){if(Array.isArray(t))return ab(t)}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(this,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lle(t,e,n){return e=ule(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ule(t){var e=cle(t,"string");return $c(e)=="symbol"?e:e+""}function cle(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eI(t,e){if(t==null)return{};var n=fle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hle=function(e){return Array.isArray(e.value)?ele(e.value):e.value};function aa(t){var e=t.valueAccessor,n=e===void 0?hle:e,r=eI(t,tle),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=eI(r,nle);return!i||!i.length?null:M.createElement(ut,{className:"recharts-label-list"},i.map(function(c,f){var d=ve(a)?n(c,f):On(c&&c.payload,a),p=ve(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(Jt,gp({},Se(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:Jt.parseViewBox(ve(o)?c:ZP(ZP({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}aa.displayName="LabelList";function dle(t,e){return t?t===!0?M.createElement(aa,{key:"labelList-implicit",data:e}):M.isValidElement(t)||ge(t)?M.createElement(aa,{key:"labelList-implicit",data:e,content:t}):wl(t)?M.createElement(aa,gp({data:e},t,{key:"labelList-implicit"})):null:null}function ple(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Hn(r,aa).map(function(o,s){return $.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=dle(t.label,e);return[a].concat(rle(i))}aa.renderCallByParent=ple;function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(this,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e,n){return e=gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return Lc(e)=="symbol"?e:e+""}function yle(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vle=function(e,n){var r=cr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},wh=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/mp,d=u?a:a+o*f,p=Ft(n,r,c,d),_=Ft(n,r,i,d),g=u?a-o*f:a,y=Ft(n,r,c*Math.cos(f*mp),g);return{center:p,circleTangency:_,lineTangency:y,theta:f}},KM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=vle(o,s),u=o+l,c=Ft(n,r,a,o),f=Ft(n,r,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ft(n,r,i,o),_=Ft(n,r,i,u);d+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},ble=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=cr(c-u),d=wh({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=d.circleTangency,_=d.lineTangency,g=d.theta,y=wh({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),w=y.circleTangency,v=y.lineTangency,x=y.theta,O=l?Math.abs(u-c):Math.abs(u-c)-g-x;if(O<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):KM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var T="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var I=wh({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=I.circleTangency,S=I.lineTangency,P=I.theta,k=wh({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=k.circleTangency,j=k.lineTangency,N=k.theta,F=l?Math.abs(u-c):Math.abs(u-c)-P-N;if(F<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},_le={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XM=function(e){var n=nI(nI({},_le),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(o<a||c===f)return null;var p=Pe("recharts-sector",d),_=o-a,g=mo(s,_,0,!0),y;return g>0&&Math.abs(c-f)<360?y=ble({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,_/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=KM({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),M.createElement("path",ob({},Se(n,!0),{className:p,d:y,role:"img"}))};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return e=xle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xle(t){var e=Ele(t,"string");return Vc(e)=="symbol"?e:e+""}function Ele(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aI={curveBasisClosed:wG,curveBasisOpen:xG,curveBasis:_G,curveBumpX:oG,curveBumpY:sG,curveLinearClosed:EG,curveLinear:zm,curveMonotoneX:SG,curveMonotoneY:TG,curveNatural:AG,curveStep:PG,curveStepAfter:OG,curveStepBefore:IG},xh=function(e){return e.x===+e.x&&e.y===+e.y},lu=function(e){return e.x},uu=function(e){return e.y},Sle=function(e,n){if(ge(e))return e;var r="curve".concat(Um(e));return(r==="curveMonotone"||r==="curveBump")&&n?aI["".concat(r).concat(n==="vertical"?"Y":"X")]:aI[r]||zm},Tle=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Sle(r,s),f=u?a.filter(function(g){return xh(g)}):a,d;if(Array.isArray(o)){var p=u?o.filter(function(g){return xh(g)}):o,_=f.map(function(g,y){return iI(iI({},g),{},{base:p[y]})});return s==="vertical"?d=hh().y(uu).x1(lu).x0(function(g){return g.base.x}):d=hh().x(lu).y1(uu).y0(function(g){return g.base.y}),d.defined(xh).curve(c),d(_)}return s==="vertical"&&Z(o)?d=hh().y(uu).x1(lu).x0(o):Z(o)?d=hh().x(lu).y1(uu).y0(o):d=X2().x(lu).y(uu),d.defined(xh).curve(c),d(f)},lb=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Tle(e):i;return $.createElement("path",sb({},Se(e,!1),Vd(e),{className:Pe("recharts-curve",n),d:o,ref:a}))},YM={exports:{}},Ale="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ple=Ale,Ile=Ple;function QM(){}function JM(){}JM.resetWarningCache=QM;var Ole=function(){function t(r,i,a,o,s,l){if(l!==Ile){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:JM,resetWarningCache:QM};return n.PropTypes=n,n};YM.exports=Ole();var Cle=YM.exports;const Oe=De(Cle);var kle=Object.getOwnPropertyNames,Nle=Object.getOwnPropertySymbols,Rle=Object.prototype.hasOwnProperty;function oI(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Eh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function jle(t){return t!=null?t[Symbol.toStringTag]:void 0}function sI(t){return kle(t).concat(Nle(t))}var Mle=Object.hasOwn||function(t,e){return Rle.call(t,e)};function Ro(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Dle="__v",$le="__o",Lle="_owner",lI=Object.getOwnPropertyDescriptor,uI=Object.keys;function Vle(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Fle(t,e){return Ro(t.getTime(),e.getTime())}function Ule(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ble(t,e){return t===e}function cI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var d=o.value,p=s.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var zle=Ro;function Wle(t,e,n){var r=uI(t),i=r.length;if(uI(e).length!==i)return!1;for(;i-- >0;)if(!ZM(t,e,n,r[i]))return!1;return!0}function cu(t,e,n){var r=sI(t),i=r.length;if(sI(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!ZM(t,e,n,a)||(o=lI(t,a),s=lI(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function qle(t,e){return Ro(t.valueOf(),e.valueOf())}function Hle(t,e){return t.source===e.source&&t.flags===e.flags}function fI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Gle(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Kle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ZM(t,e,n,r){return(r===Lle||r===$le||r===Dle)&&(t.$$typeof||e.$$typeof)?!0:Mle(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Xle="[object Arguments]",Yle="[object Boolean]",Qle="[object Date]",Jle="[object Error]",Zle="[object Map]",eue="[object Number]",tue="[object Object]",nue="[object RegExp]",rue="[object Set]",iue="[object String]",aue="[object URL]",oue=Array.isArray,hI=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,dI=Object.assign,sue=Object.prototype.toString.call.bind(Object.prototype.toString);function lue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual,p=t.unknownTagComparators;return function(g,y,w){if(g===y)return!0;if(g==null||y==null)return!1;var v=typeof g;if(v!==typeof y)return!1;if(v!=="object")return v==="number"?o(g,y,w):v==="function"?i(g,y,w):!1;var x=g.constructor;if(x!==y.constructor)return!1;if(x===Object)return s(g,y,w);if(oue(g))return e(g,y,w);if(hI!=null&&hI(g))return f(g,y,w);if(x===Date)return n(g,y,w);if(x===RegExp)return u(g,y,w);if(x===Map)return a(g,y,w);if(x===Set)return c(g,y,w);var O=sue(g);if(O===Qle)return n(g,y,w);if(O===nue)return u(g,y,w);if(O===Zle)return a(g,y,w);if(O===rue)return c(g,y,w);if(O===tue)return typeof g.then!="function"&&typeof y.then!="function"&&s(g,y,w);if(O===aue)return d(g,y,w);if(O===Jle)return r(g,y,w);if(O===Xle)return s(g,y,w);if(O===Yle||O===eue||O===iue)return l(g,y,w);if(p){var T=p[O];if(!T){var I=jle(g);I&&(T=p[I])}if(T)return T(g,y,w)}return!1}}function uue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?cu:Vle,areDatesEqual:Fle,areErrorsEqual:Ule,areFunctionsEqual:Ble,areMapsEqual:r?oI(cI,cu):cI,areNumbersEqual:zle,areObjectsEqual:r?cu:Wle,arePrimitiveWrappersEqual:qle,areRegExpsEqual:Hle,areSetsEqual:r?oI(fI,cu):fI,areTypedArraysEqual:r?cu:Gle,areUrlsEqual:Kle,unknownTagComparators:void 0};if(n&&(i=dI({},i,n(i))),e){var a=Eh(i.areArraysEqual),o=Eh(i.areMapsEqual),s=Eh(i.areObjectsEqual),l=Eh(i.areSetsEqual);i=dI({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function cue(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function fue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var hue=Pa();Pa({strict:!0});Pa({circular:!0});Pa({circular:!0,strict:!0});Pa({createInternalComparator:function(){return Ro}});Pa({strict:!0,createInternalComparator:function(){return Ro}});Pa({circular:!0,createInternalComparator:function(){return Ro}});Pa({circular:!0,createInternalComparator:function(){return Ro},strict:!0});function Pa(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=uue(t),l=lue(s),u=r?r(l):cue(l);return fue({circular:n,comparator:l,createState:i,equals:u,strict:o})}function due(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):due(i)};requestAnimationFrame(r)}function ub(t){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}function pue(t){return vue(t)||yue(t)||gue(t)||mue()}function mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(t,e){if(t){if(typeof t=="string")return mI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(t,e)}}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vue(t){if(Array.isArray(t))return t}function bue(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=pue(o),l=s[0],u=s.slice(1);if(typeof l=="number"){pI(i.bind(null,u),l);return}i(l),pI(i.bind(null,u));return}ub(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){eD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eD(t,e,n){return e=_ue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ue(t){var e=wue(t,"string");return Fc(e)==="symbol"?e:String(e)}function wue(t,e){if(Fc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Eue=function(e){return e},Sue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Uu=function(e,n){return Object.keys(n).reduce(function(r,i){return yI(yI({},r),{},eD({},i,e(i,n[i])))},{})},vI=function(e,n,r){return e.map(function(i){return"".concat(Sue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Tue(t,e){return Iue(t)||Pue(t,e)||tD(t,e)||Aue()}function Aue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Iue(t){if(Array.isArray(t))return t}function Oue(t){return Nue(t)||kue(t)||tD(t)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tD(t,e){if(t){if(typeof t=="string")return cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(t,e)}}function kue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nue(t){if(Array.isArray(t))return cb(t)}function cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yp=1e-4,nD=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},rD=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},bI=function(e,n){return function(r){var i=nD(e,n);return rD(i,r)}},Rue=function(e,n){return function(r){var i=nD(e,n),a=[].concat(Oue(i.map(function(o,s){return o*s}).slice(1)),[0]);return rD(a,r)}},_I=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=Tue(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=bI(i,o),d=bI(a,s),p=Rue(i,o),_=function(w){return w>1?1:w<0?0:w},g=function(w){for(var v=w>1?1:w,x=v,O=0;O<8;++O){var T=f(x)-v,I=p(x);if(Math.abs(T-v)<yp||I<yp)return d(x);x=_(x-T/I)}return d(x)};return g.isStepper=!1,g},jue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,d){var p=-(c-f)*r,_=d*a,g=d+(p-_)*s/1e3,y=d*s/1e3+c;return Math.abs(y-f)<yp&&Math.abs(g)<yp?[f,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},Mue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _I(i);case"spring":return jue();default:if(i.split("(")[0]==="cubic-bezier")return _I(i)}return typeof i=="function"?i:null};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function wI(t){return Lue(t)||$ue(t)||iD(t)||Due()}function Due(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lue(t){if(Array.isArray(t))return hb(t)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){fb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fb(t,e,n){return e=Vue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Fue(t,"string");return Uc(e)==="symbol"?e:String(e)}function Fue(t,e){if(Uc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uue(t,e){return Wue(t)||zue(t,e)||iD(t,e)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iD(t,e){if(t){if(typeof t=="string")return hb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(t,e)}}function hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Wue(t){if(Array.isArray(t))return t}var vp=function(e,n,r){return e+(n-e)*r},db=function(e){var n=e.from,r=e.to;return n!==r},que=function t(e,n,r){var i=Uu(function(a,o){if(db(o)){var s=e(o.from,o.to,o.velocity),l=Uue(s,2),u=l[0],c=l[1];return Dt(Dt({},o),{},{from:u,velocity:c})}return o},n);return r<1?Uu(function(a,o){return db(o)?Dt(Dt({},o),{},{velocity:vp(o.velocity,i[a].velocity,r),from:vp(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Hue=function(t,e,n,r,i){var a=xue(t,e),o=a.reduce(function(y,w){return Dt(Dt({},y),{},fb({},w,[t[w],e[w]]))},{}),s=a.reduce(function(y,w){return Dt(Dt({},y),{},fb({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Uu(function(w,v){return v.from},s)},p=function(){return!Object.values(s).filter(db).length},_=function(w){u||(u=w);var v=w-u,x=v/n.dt;s=que(n,s,x),i(Dt(Dt(Dt({},t),e),d())),u=w,p()||(l=requestAnimationFrame(f))},g=function(w){c||(c=w);var v=(w-c)/r,x=Uu(function(T,I){return vp.apply(void 0,wI(I).concat([n(v)]))},o);if(i(Dt(Dt(Dt({},t),e),x)),v<1)l=requestAnimationFrame(f);else{var O=Uu(function(T,I){return vp.apply(void 0,wI(I).concat([n(1)]))},o);i(Dt(Dt(Dt({},t),e),O))}};return f=n.isStepper?_:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}var Gue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kue(t,e){if(t==null)return{};var n=Xue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ly(t){return Zue(t)||Jue(t)||Que(t)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(t,e){if(t){if(typeof t=="string")return pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pb(t,e)}}function Jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zue(t){if(Array.isArray(t))return pb(t)}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){xu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xu(t,e,n){return e=aD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aD(r.key),r)}}function nce(t,e,n){return e&&tce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aD(t){var e=rce(t,"string");return Xs(e)==="symbol"?e:String(e)}function rce(t,e){if(Xs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ice(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(t,e)}function ace(t){var e=oce();return function(){var r=bp(t),i;if(e){var a=bp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return gb(this,i)}}function gb(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yb(t)}function yb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bp(t)}var di=function(t){ice(n,t);var e=ace(n);function n(r,i){var a;ece(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,d=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(yb(a)),a.changeStyle=a.changeStyle.bind(yb(a)),!s||p<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:c}),gb(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof d=="function")return a.state={style:u},gb(a);a.state={style:l?xu({},l,u):u}}else a.state={style:{}};return a}return nce(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,d=this.state.style;if(s){if(!o){var p={style:l?xu({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(hue(i.to,c)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=_||u?f:i.to;if(this.state&&d){var y={style:l?xu({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(y)}this.runAnimation(er(er({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Hue(o,s,Mue(u),l,this.changeStyle),_=function(){a.stopJSAnimation=p()};this.manager.start([d,c,_,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,y,w){if(w===0)return g;var v=y.duration,x=y.easing,O=x===void 0?"ease":x,T=y.style,I=y.properties,E=y.onAnimationEnd,S=w>0?o[w-1]:y,P=I||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(Ly(g),[a.runJSAnimation.bind(a,{from:S.style,to:T,duration:v,easing:O}),v]);var k=vI(P,v,O),C=er(er(er({},S.style),T),{},{transition:k});return[].concat(Ly(g),[C,v,E]).filter(Eue)};return this.manager.start([l].concat(Ly(o.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=bue());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?xu({},s,l):l,y=vI(Object.keys(g),o,u);_.start([c,a,er(er({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Kue(i,Gue),u=$.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var _=p.props,g=_.style,y=g===void 0?{}:g,w=_.className,v=$.cloneElement(p,er(er({},l),{},{style:er(er({},y),c),className:w}));return v};return u===1?f($.Children.only(a)):M.createElement("div",null,$.Children.map(a,function(d){return f(d)}))}}]),n}($.PureComponent);di.displayName="Animate";di.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};di.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function sce(t,e){return fce(t)||cce(t,e)||uce(t,e)||lce()}function lce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uce(t,e){if(t){if(typeof t=="string")return SI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(t,e)}}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fce(t){if(Array.isArray(t))return t}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return e=dce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t){var e=pce(t,"string");return Bc(e)=="symbol"?e:e+""}function pce(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PI=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=a[d]>o?o:a[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);c="M ".concat(e,",").concat(n+s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+l*_,",").concat(n,`
            L `).concat(e+r-l*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*_,`
            L `).concat(e+r,",").concat(n+i-s*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r-l*_,",").concat(n+i,`
            L `).concat(e+l*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*_," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},mce=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),d=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},gce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ix=function(e){var n=AI(AI({},gce),e),r=$.useRef(),i=$.useState(-1),a=sce(i,2),o=a[0],s=a[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,_=n.animationEasing,g=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var x=Pe("recharts-rectangle",p);return v?M.createElement(di,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:_,isActive:v},function(O){var T=O.width,I=O.height,E=O.x,S=O.y;return M.createElement(di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:w,easing:_},M.createElement("path",_p({},Se(n,!0),{className:x,d:PI(E,S,T,I,d),ref:r})))}):M.createElement("path",_p({},Se(n,!0),{className:x,d:PI(l,u,c,f,d)}))};function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vb.apply(this,arguments)}var Ox=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Pe("recharts-dot",a);return n===+n&&r===+r&&i===+i?$.createElement("circle",vb({},Se(e,!1),Vd(e),{className:o,cx:n,cy:r,r:i})):null};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var yce=["x","y","top","left","width","height","className"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e,n){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=wce(t,"string");return zc(e)=="symbol"?e:e+""}function wce(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xce(t,e){if(t==null)return{};var n=Ece(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ece(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Sce=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Tce=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,_=e.className,g=xce(e,yce),y=vce({x:r,y:a,top:s,left:u,width:f,height:p},g);return!Z(r)||!Z(a)||!Z(f)||!Z(p)||!Z(s)||!Z(u)?null:M.createElement("path",bb({},Se(y,!0),{className:Pe("recharts-cross",_),d:Sce(r,a,f,p,s,u)}))},Ace=bj,Pce=Ace(Object.getPrototypeOf,Object),Ice=Pce,Oce=yi,Cce=Ice,kce=vi,Nce="[object Object]",Rce=Function.prototype,jce=Object.prototype,oD=Rce.toString,Mce=jce.hasOwnProperty,Dce=oD.call(Object);function $ce(t){if(!kce(t)||Oce(t)!=Nce)return!1;var e=Cce(t);if(e===null)return!0;var n=Mce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&oD.call(n)==Dce}var Lce=$ce;const Vce=De(Lce);var Fce=yi,Uce=vi,Bce="[object Boolean]";function zce(t){return t===!0||t===!1||Uce(t)&&Fce(t)==Bce}var Wce=zce;const qce=De(Wce);function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function Hce(t,e){return Yce(t)||Xce(t,e)||Kce(t,e)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){if(t){if(typeof t=="string")return OI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OI(t,e)}}function OI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yce(t){if(Array.isArray(t))return t}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){Qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qce(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Zce(t,"string");return Wc(e)=="symbol"?e:e+""}function Zce(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},efe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tfe=function(e){var n=kI(kI({},efe),e),r=$.useRef(),i=$.useState(-1),a=Hce(i,2),o=a[0],s=a[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,_=n.animationEasing,g=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var v=Pe("recharts-trapezoid",p);return w?M.createElement(di,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:_,isActive:w},function(x){var O=x.upperWidth,T=x.lowerWidth,I=x.height,E=x.x,S=x.y;return M.createElement(di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:_},M.createElement("path",wp({},Se(n,!0),{className:v,d:NI(E,S,O,T,I),ref:r})))}):M.createElement("g",null,M.createElement("path",wp({},Se(n,!0),{className:v,d:NI(l,u,c,f,d)})))},nfe=["option","shapeType","propTransformer","activeClassName","isActive"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function rfe(t,e){if(t==null)return{};var n=ife(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function afe(t,e,n){return e=ofe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ofe(t){var e=sfe(t,"string");return qc(e)=="symbol"?e:e+""}function sfe(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lfe(t,e){return xp(xp({},e),t)}function ufe(t,e){return t==="symbols"}function jI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(Ix,n);case"trapezoid":return M.createElement(tfe,n);case"sector":return M.createElement(XM,n);case"symbols":if(ufe(e))return M.createElement(Gw,n);break;default:return null}}function cfe(t){return $.isValidElement(t)?t.props:t}function ffe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?lfe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=rfe(t,nfe),u;if($.isValidElement(e))u=$.cloneElement(e,xp(xp({},l),cfe(e)));else if(ge(e))u=e(l);else if(Vce(e)&&!qce(e)){var c=i(e,l);u=M.createElement(jI,{shapeType:n,elementProps:c})}else{var f=l;u=M.createElement(jI,{shapeType:n,elementProps:f})}return s?M.createElement(ut,{className:o},u):u}function ag(t,e){return e!=null&&"trapezoids"in t.props}function og(t,e){return e!=null&&"sectors"in t.props}function Hc(t,e){return e!=null&&"points"in t.props}function hfe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function dfe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function pfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function mfe(t,e){var n;return ag(t,e)?n=hfe:og(t,e)?n=dfe:Hc(t,e)&&(n=pfe),n}function gfe(t,e){var n;return ag(t,e)?n="trapezoids":og(t,e)?n="sectors":Hc(t,e)&&(n="points"),n}function yfe(t,e){if(ag(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(og(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Hc(t,e)?e.payload:{}}function vfe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=gfe(n,e),a=yfe(n,e),o=r.filter(function(l,u){var c=ng(a,l),f=n.props[i].filter(function(_){var g=mfe(n,e);return g(_,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var bfe=Math.ceil,_fe=Math.max;function wfe(t,e,n,r){for(var i=-1,a=_fe(bfe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var xfe=wfe,Efe=Lj,MI=1/0,Sfe=17976931348623157e292;function Tfe(t){if(!t)return t===0?t:0;if(t=Efe(t),t===MI||t===-MI){var e=t<0?-1:1;return e*Sfe}return t===t?t:0}var sD=Tfe,Afe=xfe,Pfe=Gm,Vy=sD;function Ife(t){return function(e,n,r){return r&&typeof r!="number"&&Pfe(e,n,r)&&(n=r=void 0),e=Vy(e),n===void 0?(n=e,e=0):n=Vy(n),r=r===void 0?e<n?1:-1:Vy(r),Afe(e,n,r,t)}}var Ofe=Ife,Cfe=Ofe,kfe=Cfe(),Nfe=kfe;const Ep=De(Nfe);function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){lD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lD(t,e,n){return e=Rfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rfe(t){var e=jfe(t,"string");return Gc(e)=="symbol"?e:e+""}function jfe(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mfe=["Webkit","Moz","O","ms"],Dfe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Mfe.reduce(function(a,o){return $I($I({},a),{},lD({},o+r,n))},{});return i[e]=n,i};function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){wn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cD(r.key),r)}}function Lfe(t,e,n){return e&&VI(t.prototype,e),n&&VI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vfe(t,e,n){return e=Tp(e),Ffe(t,uD()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function Ffe(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ufe(t)}function Ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function Bfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function wn(t,e,n){return e=cD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cD(t){var e=zfe(t,"string");return Ys(e)=="symbol"?e:e+""}function zfe(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Vu().domain(Ep(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},FI=function(e){return e.changedTouches&&!!e.changedTouches.length},Qs=function(t){function e(n){var r;return $fe(this,e),r=Vfe(this,e,[n]),wn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),wn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),wn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),wn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),wn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),wn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),wn(r,"handleSlideDragStart",function(i){var a=FI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Bfe(e,t),Lfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),d=Math.max(i,a),p=e.getIndexInRange(o,f),_=e.getIndexInRange(o,d);return{startIndex:p-p%l,endIndex:_===c?c:_-_%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=On(a[r],s,r);return ge(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,_=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+c-f-s,u+c-f-o):g<0&&(g=Math.max(g,u-o,u-s));var y=this.getIndex({startX:o+g,endX:s+g});(y.startIndex!==d||y.endIndex!==p)&&_&&_(y),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=FI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,_=c.onChange,g=c.gap,y=c.data,w={startX:this.state.startX,endX:this.state.endX},v=r.pageX-a;v>0?v=Math.min(v,f+d-p-u):v<0&&(v=Math.max(v,f-u)),w[o]=u+v;var x=this.getIndex(w),O=x.startIndex,T=x.endIndex,I=function(){var S=y.length-1;return o==="startX"&&(s>l?O%g===0:T%g===0)||s<l&&T===S||o==="endX"&&(s>l?T%g===0:O%g===0)||s>l&&T===S};this.setState(wn(wn({},o,u+v),"brushMoveStartX",r.pageX),function(){_&&I()&&_(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(wn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=$.Children.only(u);return f?M.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,_=l.data,g=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),v=Fy(Fy({},Se(this.props,!1)),{},{x:w,y:u,width:c,height:f}),x=p||"Min value: ".concat((a=_[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=_[y])===null||o===void 0?void 0:o.name);return M.createElement(ut,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,_={pointerEvents:"none",fill:u};return M.createElement(ut,{className:"recharts-brush-texts"},M.createElement(ep,Sp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:o+s/2},_),this.getTextOfTick(i)),M.createElement(ep,Sp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:o+s/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,_=d.endX,g=d.isTextActive,y=d.isSlideMoving,w=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!Z(s)||!Z(l)||!Z(u)||!Z(c)||u<=0||c<=0)return null;var x=Pe("recharts-brush",a),O=M.Children.count(o)===1,T=Dfe("userSelect","none");return M.createElement(ut,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,_),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(_,"endX"),(g||y||w||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):ge(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Fy({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Wfe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}($.PureComponent);wn(Qs,"displayName","Brush");wn(Qs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qfe=ex;function Hfe(t,e){var n;return qfe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Gfe=Hfe,Kfe=fj,Xfe=Sa,Yfe=Gfe,Qfe=vn,Jfe=Gm;function Zfe(t,e,n){var r=Qfe(t)?Kfe:Yfe;return n&&Jfe(t,e,n)&&(e=void 0),r(t,Xfe(e))}var ehe=Zfe;const the=De(ehe);var Mr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},UI=Rj;function nhe(t,e,n){e=="__proto__"&&UI?UI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var rhe=nhe,ihe=rhe,ahe=kj,ohe=Sa;function she(t,e){var n={};return e=ohe(e),ahe(t,function(r,i,a){ihe(n,i,e(r,i,a))}),n}var lhe=she;const uhe=De(lhe);function che(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var fhe=che,hhe=ex;function dhe(t,e){var n=!0;return hhe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var phe=dhe,mhe=fhe,ghe=phe,yhe=Sa,vhe=vn,bhe=Gm;function _he(t,e,n){var r=vhe(t)?mhe:ghe;return n&&bhe(t,e,n)&&(e=void 0),r(t,yhe(e))}var whe=_he;const fD=De(whe);var xhe=["x","y"];function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(this,arguments)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){Ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e,n){return e=She(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=The(t,"string");return Kc(e)=="symbol"?e:e+""}function The(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ahe(t,e){if(t==null)return{};var n=Phe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Phe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ihe(t,e){var n=t.x,r=t.y,i=Ahe(t,xhe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return fu(fu(fu(fu(fu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function zI(t){return M.createElement(ffe,wb({shapeType:"rectangle",propTransformer:Ihe,activeClassName:"recharts-active-bar"},t))}var Ohe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Z(r)||qq(r);return a?e(r,i):(a||yo(),n)}},Che=["value","background"],hD;function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function khe(t,e){if(t==null)return{};var n=Nhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pD(r.key),r)}}function jhe(t,e,n){return e&&qI(t.prototype,e),n&&qI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mhe(t,e,n){return e=Pp(e),Dhe(t,dD()?Reflect.construct(e,n||[],Pp(t).constructor):e.apply(t,n))}function Dhe(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $he(t)}function $he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(t)}function Lhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xb(t,e)}function zi(t,e,n){return e=pD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pD(t){var e=Vhe(t,"string");return Js(e)=="symbol"?e:e+""}function Vhe(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ia=function(t){function e(){var n;Rhe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Mhe(this,e,[].concat(i)),zi(n,"state",{isAnimationFinished:!1}),zi(n,"id",wf("recharts-bar-")),zi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),zi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Lhe(e,t),jhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Se(this.props,!1);return r&&r.map(function(f,d){var p=d===l,_=p?u:o,g=pt(pt(pt({},c),f),{},{isActive:p,option:_,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(ut,Ap({className:"recharts-bar-rectangle"},Fd(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),M.createElement(zI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return M.createElement(di,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var _=p.t,g=a.map(function(y,w){var v=d&&d[w];if(v){var x=sr(v.x,y.x),O=sr(v.y,y.y),T=sr(v.width,y.width),I=sr(v.height,y.height);return pt(pt({},y),{},{x:x(_),y:O(_),width:T(_),height:I(_)})}if(o==="horizontal"){var E=sr(0,y.height),S=E(_);return pt(pt({},y),{},{y:y.y+y.height-S,height:S})}var P=sr(0,y.width),k=P(_);return pt(pt({},y),{},{width:k})});return M.createElement(ut,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ng(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Se(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,d=khe(u,Che);if(!f)return null;var p=pt(pt(pt(pt(pt({},d),{},{fill:"#eee"},f),l),Fd(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return M.createElement(zI,Ap({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Hn(c,Pf);if(!f)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,w){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:On(y,w)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ut,_,f.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,_=r.background,g=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,w=Pe("recharts-bar",o),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,O=v||x,T=ve(g)?this.id:g;return M.createElement(ut,{className:w},v||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:v?u:u-f/2,y:x?c:c-d/2,width:v?f:f*2,height:x?d:d*2}))):null,M.createElement(ut,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!p||y)&&aa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);hD=Ia;zi(Ia,"displayName","Bar");zi(Ia,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Il.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zi(Ia,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=pse(r,n);if(!p)return null;var _=e.layout,g=n.type.defaultProps,y=g!==void 0?pt(pt({},g),n.props):n.props,w=y.dataKey,v=y.children,x=y.minPointSize,O=_==="horizontal"?o:a,T=u?O.scale.domain():null,I=xse({numericAxis:O}),E=Hn(v,Fj),S=f.map(function(P,k){var C,j,N,F,U,q;u?C=mse(u[c+k],T):(C=On(P,w),Array.isArray(C)||(C=[I,C]));var G=Ohe(x,hD.defaultProps.minPointSize)(C[1],k);if(_==="horizontal"){var L,z=[o.scale(C[0]),o.scale(C[1])],X=z[0],ee=z[1];j=WP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:P,index:k}),N=(L=ee??X)!==null&&L!==void 0?L:void 0,F=p.size;var Q=X-ee;if(U=Number.isNaN(Q)?0:Q,q={x:j,y:o.y,width:F,height:o.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var oe=cr(U||G)*(Math.abs(G)-Math.abs(U));N-=oe,U+=oe}}else{var ye=[a.scale(C[0]),a.scale(C[1])],Re=ye[0],ze=ye[1];if(j=Re,N=WP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:k}),F=ze-Re,U=p.size,q={x:a.x,y:N,width:a.width,height:U},Math.abs(G)>0&&Math.abs(F)<Math.abs(G)){var Wt=cr(F||G)*(Math.abs(G)-Math.abs(F));F+=Wt}}return pt(pt(pt({},P),{},{x:j,y:N,width:F,height:U,value:u?C:C[1],payload:P,background:q},E&&E[k]&&E[k].props),{},{tooltipPayload:[HM(n,P)],tooltipPosition:{x:j+F/2,y:N+U/2}})});return pt({data:S,layout:_},d)});function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Fhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function Uhe(t,e,n){return e&&HI(t.prototype,e),n&&HI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sg(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=Bhe(t,"string");return Xc(e)=="symbol"?e:e+""}function Bhe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gD=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!En(u,Ia);return c.reduce(function(p,_){var g=n[_],y=g.orientation,w=g.domain,v=g.padding,x=v===void 0?{}:v,O=g.mirror,T=g.reversed,I="".concat(y).concat(O?"Mirror":""),E,S,P,k,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var j=w[1]-w[0],N=1/0,F=g.categoricalDomain.sort(Kq);if(F.forEach(function(ye,Re){Re>0&&(N=Math.min((ye||0)-(F[Re-1]||0),N))}),Number.isFinite(N)){var U=N/j,q=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(E=U*q/2),g.padding==="no-gap"){var G=mo(e.barCategoryGap,U*q),L=U*q/2;E=L-G-(L-G)/q*G}}}i==="xAxis"?S=[r.left+(x.left||0)+(E||0),r.left+r.width-(x.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(E||0),r.top+r.height-(x.bottom||0)-(E||0)]:S=g.range,T&&(S=[S[1],S[0]]);var z=hse(g,a,d),X=z.scale,ee=z.realScaleType;X.domain(w).range(S),dse(X);var Q=wse(X,ir(ir({},g),{},{realScaleType:ee}));i==="xAxis"?(C=y==="top"&&!O||y==="bottom"&&O,P=r.left,k=f[I]-C*g.height):i==="yAxis"&&(C=y==="left"&&!O||y==="right"&&O,P=f[I]-C*g.width,k=r.top);var oe=ir(ir(ir({},g),Q),{},{realScaleType:ee,x:P,y:k,scale:X,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return oe.bandSize=pp(oe,Q),!g.hide&&i==="xAxis"?f[I]+=(C?-1:1)*oe.height:g.hide||(f[I]+=(C?-1:1)*oe.width),ir(ir({},p),{},sg({},_,oe))},{})},yD=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},zhe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return yD({x:n,y:r},{x:i,y:a})},vD=function(){function t(e){Fhe(this,t),this.scale=e}return Uhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();sg(vD,"EPS",1e-4);var Cx=function(e){var n=Object.keys(e).reduce(function(r,i){return ir(ir({},r),{},sg({},i,vD.create(e[i])))},{});return ir(ir({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return uhe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return fD(i,function(a,o){return n[o].isInRange(a)})}})};function Whe(t){return(t%180+180)%180}var qhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Whe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Hhe=Sa,Ghe=xf,Khe=qm;function Xhe(t){return function(e,n,r){var i=Object(e);if(!Ghe(e)){var a=Hhe(n);e=Khe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Yhe=Xhe,Qhe=sD;function Jhe(t){var e=Qhe(t),n=e%1;return e===e?n?e-n:e:0}var Zhe=Jhe,ede=Tj,tde=Sa,nde=Zhe,rde=Math.max;function ide(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:nde(n);return i<0&&(i=rde(r+i,0)),ede(t,tde(e),i)}var ade=ide,ode=Yhe,sde=ade,lde=ode(sde),ude=lde;const cde=De(ude);var fde=QW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),kx=$.createContext(void 0),Nx=$.createContext(void 0),bD=$.createContext(void 0),_D=$.createContext({}),wD=$.createContext(void 0),xD=$.createContext(0),ED=$.createContext(0),KI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=fde(a);return M.createElement(kx.Provider,{value:r},M.createElement(Nx.Provider,{value:i},M.createElement(_D.Provider,{value:a},M.createElement(bD.Provider,{value:c},M.createElement(wD.Provider,{value:o},M.createElement(xD.Provider,{value:u},M.createElement(ED.Provider,{value:l},s)))))))},hde=function(){return $.useContext(wD)},SD=function(e){var n=$.useContext(kx);n==null&&yo();var r=n[e];return r==null&&yo(),r},dde=function(){var e=$.useContext(kx);return Li(e)},pde=function(){var e=$.useContext(Nx),n=cde(e,function(r){return fD(r.domain,Number.isFinite)});return n||Li(e)},TD=function(e){var n=$.useContext(Nx);n==null&&yo();var r=n[e];return r==null&&yo(),r},mde=function(){var e=$.useContext(bD);return e},gde=function(){return $.useContext(_D)},Rx=function(){return $.useContext(ED)},jx=function(){return $.useContext(xD)};function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PD(r.key),r)}}function bde(t,e,n){return e&&vde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _de(t,e,n){return e=Ip(e),wde(t,AD()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function wde(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xde(t)}function xde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AD=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function Ede(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eb(t,e)}function Eb(t,e){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Eb(t,e)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Mx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mx(t,e,n){return e=PD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PD(t){var e=Sde(t,"string");return Zs(e)=="symbol"?e:e+""}function Sde(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tde(t,e){return Ode(t)||Ide(t,e)||Pde(t,e)||Ade()}function Ade(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pde(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ide(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ode(t){if(Array.isArray(t))return t}function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(this,arguments)}var Cde=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):ge(e)?r=e(n):r=M.createElement("line",Sb({},n,{className:"recharts-reference-line-line"})),r},kde=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,d=a.width,p=a.height;if(r){var _=u.y,g=e.y.apply(_,{position:o});if(Mr(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?y.reverse():y}if(n){var w=u.x,v=e.x.apply(w,{position:o});if(Mr(u,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:f+p},{x:v,y:f}];return s==="top"?x.reverse():x}if(i){var O=u.segment,T=O.map(function(I){return e.apply(I,{position:o})});return Mr(u,"discard")&&the(T,function(I){return!e.isInRange(I)})?null:T}return null};function Nde(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=hde(),c=SD(i),f=TD(a),d=mde();if(!u||!d)return null;ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Cx({x:c.scale,y:f.scale}),_=St(e),g=St(n),y=r&&r.length===2,w=kde(p,_,g,y,d,t.position,c.orientation,f.orientation,t);if(!w)return null;var v=Tde(w,2),x=v[0],O=x.x,T=x.y,I=v[1],E=I.x,S=I.y,P=Mr(t,"hidden")?"url(#".concat(u,")"):void 0,k=YI(YI({clipPath:P},Se(t,!0)),{},{x1:O,y1:T,x2:E,y2:S});return M.createElement(ut,{className:Pe("recharts-reference-line",s)},Cde(o,k),Jt.renderCallByParent(t,zhe({x1:O,y1:T,x2:E,y2:S})))}var Dx=function(t){function e(){return yde(this,e),_de(this,e,arguments)}return Ede(e,t),bde(e,[{key:"render",value:function(){return M.createElement(Nde,this.props)}}])}(M.Component);Mx(Dx,"displayName","ReferenceLine");Mx(Dx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OD(r.key),r)}}function Mde(t,e,n){return e&&jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dde(t,e,n){return e=Op(e),$de(t,ID()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function $de(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lde(t)}function Lde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ID(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function Vde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ab(t,e)}function Ab(t,e){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ab(t,e)}function lg(t,e,n){return e=OD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OD(t){var e=Fde(t,"string");return el(e)=="symbol"?e:e+""}function Fde(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ude=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=Cx({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Mr(e,"discard")&&!o.isInRange(s)?null:s},ug=function(t){function e(){return Rde(this,e),Dde(this,e,arguments)}return Vde(e,t),Mde(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=St(i),c=St(a);if(ei(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Ude(this.props);if(!f)return null;var d=f.x,p=f.y,_=this.props,g=_.shape,y=_.className,w=Mr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=ZI(ZI({clipPath:w},Se(this.props,!0)),{},{cx:d,cy:p});return M.createElement(ut,{className:Pe("recharts-reference-dot",y)},e.renderDot(g,v),Jt.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(M.Component);lg(ug,"displayName","ReferenceDot");lg(ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lg(ug,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):ge(t)?n=t(e):n=M.createElement(Ox,Tb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function Wde(t,e,n){return e&&zde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qde(t,e,n){return e=Cp(e),Hde(t,CD()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Hde(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gde(t)}function Gde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function Kde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ib(t,e)}function cg(t,e,n){return e=kD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kD(t){var e=Xde(t,"string");return tl(e)=="symbol"?e:e+""}function Xde(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yde=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var d=Cx({x:c.scale,y:f.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},_={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Mr(a,"discard")&&(!d.isInRange(p)||!d.isInRange(_))?null:yD(p,_)},fg=function(t){function e(){return Bde(this,e),qde(this,e,arguments)}return Kde(e,t),Wde(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=St(i),d=St(a),p=St(o),_=St(s),g=this.props.shape;if(!f&&!d&&!p&&!_&&!g)return null;var y=Yde(f,d,p,_,this.props);if(!y&&!g)return null;var w=Mr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(ut,{className:Pe("recharts-reference-area",l)},e.renderRect(g,tO(tO({clipPath:w},Se(this.props,!0)),y)),Jt.renderCallByParent(this.props,y))}}])}(M.Component);cg(fg,"displayName","ReferenceArea");cg(fg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cg(fg,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):ge(t)?n=t(e):n=M.createElement(Ix,Pb({},e,{className:"recharts-reference-area-rect"})),n});function ND(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Qde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qhe(r,n)}function Jde(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function kp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Zde(t,e){return ND(t,e+1)}function epe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var _=r==null?void 0:r[l];if(_===void 0)return{v:ND(r,u)};var g=l,y,w=function(){return y===void 0&&(y=n(_,g)),y},v=_.coordinate,x=l===0||kp(t,v,w,c,s);x||(l=0,c=o,u+=1),x&&(c=v+t*(w()/2+i),l+=u)},d;u<=a.length;)if(d=f(),d)return d.v;return[]}function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tpe(t,e,n){return e=npe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function npe(t){var e=rpe(t,"string");return Yc(e)=="symbol"?e:e+""}function rpe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ipe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(d){var p=a[d],_,g=function(){return _===void 0&&(_=n(p,d)),_};if(d===o-1){var y=t*(p.coordinate+t*g()/2-l);a[d]=p=Kt(Kt({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else a[d]=p=Kt(Kt({},p),{},{tickCoord:p.coordinate});var w=kp(t,p.tickCoord,g,s,l);w&&(l=p.tickCoord-t*(g()/2+i),a[d]=Kt(Kt({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function ape(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);o[s-1]=c=Kt(Kt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=kp(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=Kt(Kt({},c),{},{isShow:!0}))}for(var _=a?s-1:s,g=function(v){var x=o[v],O,T=function(){return O===void 0&&(O=n(x,v)),O};if(v===0){var I=t*(x.coordinate-t*T()/2-l);o[v]=x=Kt(Kt({},x),{},{tickCoord:I<0?x.coordinate-I*t:x.coordinate})}else o[v]=x=Kt(Kt({},x),{},{tickCoord:x.coordinate});var E=kp(t,x.tickCoord,T,l,u);E&&(l=x.tickCoord+t*(T()/2+i),o[v]=Kt(Kt({},x),{},{isShow:!0}))},y=0;y<_;y++)g(y);return o}function $x(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Z(l)||Il.isSsr)return Zde(i,typeof l=="number"&&Z(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",_=c&&p==="width"?Lu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,O){var T=ge(u)?u(x.value,O):x.value;return p==="width"?Qde(Lu(T,{fontSize:e,letterSpacing:n}),_,f):Lu(T,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?cr(i[1].coordinate-i[0].coordinate):1,w=Jde(a,y,p);return l==="equidistantPreserveStart"?epe(y,w,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=ape(y,w,g,i,o,l==="preserveStartEnd"):d=ipe(y,w,g,i,o),d.filter(function(v){return v.isShow}))}var ope=["viewBox"],spe=["viewBox"],lpe=["ticks"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){Lx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uy(t,e){if(t==null)return{};var n=upe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jD(r.key),r)}}function fpe(t,e,n){return e&&iO(t.prototype,e),n&&iO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hpe(t,e,n){return e=Np(e),dpe(t,RD()?Reflect.construct(e,n||[],Np(t).constructor):e.apply(t,n))}function dpe(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ppe(t)}function ppe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(t)}function mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ob(t,e)}function Ob(t,e){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ob(t,e)}function Lx(t,e,n){return e=jD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jD(t){var e=gpe(t,"string");return nl(e)=="symbol"?e:e+""}function gpe(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nl=function(t){function e(n){var r;return cpe(this,e),r=hpe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return mpe(e,t),fpe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Uy(r,ope),s=this.props,l=s.viewBox,u=Uy(s,spe);return!_s(a,l)||!_s(o,u)||!_s(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,_,g,y,w,v,x=f?-1:1,O=r.tickSize||c,T=Z(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=_=r.coordinate,y=o+ +!f*l,g=y-x*O,v=g-x*d,w=T;break;case"left":g=y=r.coordinate,_=a+ +!f*s,p=_-x*O,w=p-x*d,v=T;break;case"right":g=y=r.coordinate,_=a+ +f*s,p=_+x*O,w=p+x*d,v=T;break;default:p=_=r.coordinate,y=o+ +f*l,g=y+x*O,v=g+x*d,w=T;break}return{line:{x1:p,y1:g,x2:_,y2:y},tick:{x:w,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=_t(_t(_t({},Se(this.props,!1)),Se(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=_t(_t({},f),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=_t(_t({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return M.createElement("line",ss({},f,{className:Pe("recharts-cartesian-axis-line",qn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=$x(_t(_t({},this.props),{},{ticks:r}),i,a),_=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Se(this.props,!1),w=Se(c,!1),v=_t(_t({},y),{},{fill:"none"},Se(l,!1)),x=p.map(function(O,T){var I=o.getTickLineCoord(O),E=I.line,S=I.tick,P=_t(_t(_t(_t({textAnchor:_,verticalAnchor:g},y),{},{stroke:"none",fill:u},w),S),{},{index:T,payload:O,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(ut,ss({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Fd(o.props,O,T)),l&&M.createElement("line",ss({},v,E,{className:Pe("recharts-cartesian-axis-tick-line",qn(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(ge(f)?f(O.value,T):O.value).concat(d||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=Uy(f,lpe),_=d;return ge(l)&&(_=d&&d.length>0?l(this.props):l(p)),o<=0||s<=0||!_||!_.length?null:M.createElement(ut,{className:Pe("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Pe(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?o=M.cloneElement(r,_t(_t({},i),{},{className:s})):ge(r)?o=r(_t(_t({},i),{},{className:s})):o=M.createElement(ep,ss({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}($.Component);Lx(Nl,"displayName","CartesianAxis");Lx(Nl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ype=["x1","y1","x2","y2","key"],vpe=["offset"];function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bpe(t,e,n){return e=_pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _pe(t){var e=wpe(t,"string");return vo(e)=="symbol"?e:e+""}function wpe(t,e){if(vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}function oO(t,e){if(t==null)return{};var n=xpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Epe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function MD(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=oO(e,ype),u=Se(l,!1);u.offset;var c=oO(u,vpe);n=M.createElement("line",Xa({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Spe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Zt(Zt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return MD(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Tpe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Zt(Zt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return MD(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Ape(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var _=!c[p+1],g=_?i+o-d:c[p+1]-d;if(g<=0)return null;var y=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ppe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,p){return d-p});a!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var _=!c[p+1],g=_?a+s-d:c[p+1]-d;if(g<=0)return null;var y=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:d,y:o,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ipe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return WM($x(Zt(Zt(Zt({},Nl.defaultProps),r),{},{ticks:Xr(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Ope=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return WM($x(Zt(Zt(Zt({},Nl.defaultProps),r),{},{ticks:Xr(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Uo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Rp(t){var e,n,r,i,a,o,s=Rx(),l=jx(),u=gde(),c=Zt(Zt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Uo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Uo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Uo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Uo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Uo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Uo.verticalFill,x:Z(t.x)?t.x:u.left,y:Z(t.y)?t.y:u.top,width:Z(t.width)?t.width:u.width,height:Z(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,_=c.height,g=c.syncWithTicks,y=c.horizontalValues,w=c.verticalValues,v=dde(),x=pde();if(!Z(p)||p<=0||!Z(_)||_<=0||!Z(f)||f!==+f||!Z(d)||d!==+d)return null;var O=c.verticalCoordinatesGenerator||Ipe,T=c.horizontalCoordinatesGenerator||Ope,I=c.horizontalPoints,E=c.verticalPoints;if((!I||!I.length)&&ge(T)){var S=y&&y.length,P=T({yAxis:x?Zt(Zt({},x),{},{ticks:S?y:x.ticks}):void 0,width:s,height:l,offset:u},S?!0:g);ei(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vo(P),"]")),Array.isArray(P)&&(I=P)}if((!E||!E.length)&&ge(O)){var k=w&&w.length,C=O({xAxis:v?Zt(Zt({},v),{},{ticks:k?w:v.ticks}):void 0,width:s,height:l,offset:u},k?!0:g);ei(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vo(C),"]")),Array.isArray(C)&&(E=C)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Epe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),M.createElement(Spe,Xa({},c,{offset:u,horizontalPoints:I,xAxis:v,yAxis:x})),M.createElement(Tpe,Xa({},c,{offset:u,verticalPoints:E,xAxis:v,yAxis:x})),M.createElement(Ape,Xa({},c,{horizontalPoints:I})),M.createElement(Ppe,Xa({},c,{verticalPoints:E})))}Rp.displayName="CartesianGrid";var Cpe=["type","layout","connectNulls","ref"],kpe=["key"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function sO(t,e){if(t==null)return{};var n=Npe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Npe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bu.apply(this,arguments)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){ar(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bo(t){return Dpe(t)||Mpe(t)||jpe(t)||Rpe()}function Rpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpe(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function Mpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dpe(t){if(Array.isArray(t))return Cb(t)}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$D(r.key),r)}}function Lpe(t,e,n){return e&&uO(t.prototype,e),n&&uO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vpe(t,e,n){return e=jp(e),Fpe(t,DD()?Reflect.construct(e,n||[],jp(t).constructor):e.apply(t,n))}function Fpe(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Upe(t)}function Upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function Bpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kb(t,e)}function kb(t,e){return kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kb(t,e)}function ar(t,e,n){return e=$D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $D(t){var e=zpe(t,"string");return rl(e)=="symbol"?e:e+""}function zpe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var If=function(t){function e(){var n;$pe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Vpe(this,e,[].concat(i)),ar(n,"state",{isAnimationFinished:!0,totalLength:0}),ar(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),ar(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(w,v){return w+v});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,d=s-o,p=[],_=0,g=0;_<l.length;g+=l[_],++_)if(g+l[_]>f){p=[].concat(Bo(l.slice(0,_)),[f-g]);break}var y=p.length%2===0?[0,d]:[d];return[].concat(Bo(e.repeat(l,c)),Bo(p),y).map(function(w){return"".concat(w,"px")}).join(", ")}),ar(n,"id",wf("recharts-line-")),ar(n,"pathRef",function(o){n.mainCurve=o}),ar(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ar(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Bpe(e,t),Lpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Hn(c,Pf);if(!f)return null;var d=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:On(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ut,p,f.map(function(_){return M.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Se(this.props,!1),d=Se(l,!0),p=u.map(function(g,y){var w=_n(_n(_n({key:"dot-".concat(y),r:3},f),d),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,w)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ut,Bu({className:"recharts-line-dots",key:"dots"},_),p)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=sO(s,Cpe),d=_n(_n(_n({},Se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return M.createElement(lb,Bu({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,d=o.animationEasing,p=o.animationId,_=o.animateNewValues,g=o.width,y=o.height,w=this.state,v=w.prevPoints,x=w.totalLength;return M.createElement(di,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(v){var I=v.length/s.length,E=s.map(function(j,N){var F=Math.floor(N*I);if(v[F]){var U=v[F],q=sr(U.x,j.x),G=sr(U.y,j.y);return _n(_n({},j),{},{x:q(T),y:G(T)})}if(_){var L=sr(g*2,j.x),z=sr(y/2,j.y);return _n(_n({},j),{},{x:L(T),y:z(T)})}return _n(_n({},j),{},{x:j.x,y:j.y})});return a.renderCurveStatically(E,r,i)}var S=sr(0,x),P=S(T),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});k=a.getStrokeDasharray(P,x,C)}else k=a.generateSimpleStrokeDasharray(x,P);return a.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!ng(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,_=i.height,g=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var w=this.state.isAnimationFinished,v=s.length===1,x=Pe("recharts-line",l),O=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,I=O||T,E=ve(y)?this.id:y,S=(r=Se(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=S.r,k=P===void 0?3:P,C=S.strokeWidth,j=C===void 0?2:C,N=rH(o)?o:{},F=N.clipDot,U=F===void 0?!0:F,q=k*2+j;return M.createElement(ut,{className:x},O||T?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(E)},M.createElement("rect",{x:O?d:d-p/2,y:T?f:f-_/2,width:O?p:p*2,height:T?_:_*2})),!U&&M.createElement("clipPath",{id:"clipPath-dots-".concat(E)},M.createElement("rect",{x:d-q/2,y:f-q/2,width:p+q,height:_+q}))):null,!v&&this.renderCurve(I,E),this.renderErrorBar(I,E),(v||o)&&this.renderDots(I,U,E),(!g||w)&&aa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Bo(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Bo(o),Bo(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(M.isValidElement(r))a=M.cloneElement(r,i);else if(ge(r))a=r(i);else{var o=i.key,s=sO(i,kpe),l=Pe("recharts-line-dot",typeof r!="boolean"?r.className:"");a=M.createElement(Ox,Bu({key:o},s,{className:l}))}return a}}])}($.PureComponent);ar(If,"displayName","Line");ar(If,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Il.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ar(If,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var _=On(d,o);return c==="horizontal"?{x:zP({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:ve(_)?null:r.scale(_),value:_,payload:d}:{x:ve(_)?null:n.scale(_),y:zP({axis:r,ticks:a,bandSize:s,entry:d,index:p}),value:_,payload:d}});return _n({points:f,layout:c},u)});function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function Wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FD(r.key),r)}}function Hpe(t,e,n){return e&&qpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gpe(t,e,n){return e=Mp(e),Kpe(t,LD()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function Kpe(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpe(t)}function Xpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LD=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function Ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nb(t,e)}function Nb(t,e){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nb(t,e)}function VD(t,e,n){return e=FD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FD(t){var e=Qpe(t,"string");return il(e)=="symbol"?e:e+""}function Qpe(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(this,arguments)}function Jpe(t){var e=t.xAxisId,n=Rx(),r=jx(),i=SD(e);return i==null?null:$.createElement(Nl,Rb({},i,{className:Pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Xr(o,!0)}}))}var bo=function(t){function e(){return Wpe(this,e),Gpe(this,e,arguments)}return Ype(e,t),Hpe(e,[{key:"render",value:function(){return $.createElement(Jpe,this.props)}}])}($.Component);VD(bo,"displayName","XAxis");VD(bo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Zpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zD(r.key),r)}}function tme(t,e,n){return e&&eme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,n){return e=Dp(e),rme(t,UD()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function rme(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ime(t)}function ime(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function ame(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jb(t,e)}function BD(t,e,n){return e=zD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zD(t){var e=ome(t,"string");return al(e)=="symbol"?e:e+""}function ome(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(this,arguments)}var sme=function(e){var n=e.yAxisId,r=Rx(),i=jx(),a=TD(n);return a==null?null:$.createElement(Nl,Mb({},a,{className:Pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Xr(s,!0)}}))},_o=function(t){function e(){return Zpe(this,e),nme(this,e,arguments)}return ame(e,t),tme(e,[{key:"render",value:function(){return $.createElement(sme,this.props)}}])}($.Component);BD(_o,"displayName","YAxis");BD(_o,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cO(t){return fme(t)||cme(t)||ume(t)||lme()}function lme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ume(t,e){if(t){if(typeof t=="string")return Db(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Db(t,e)}}function cme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fme(t){if(Array.isArray(t))return Db(t)}function Db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $b=function(e,n,r,i,a){var o=Hn(e,Dx),s=Hn(e,ug),l=[].concat(cO(o),cO(s)),u=Hn(e,fg),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,y){if(y.props[c]===r&&Mr(y.props,"extendDomain")&&Z(y.props[f])){var w=y.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},d)),u.length){var p="".concat(f,"1"),_="".concat(f,"2");d=u.reduce(function(g,y){if(y.props[c]===r&&Mr(y.props,"extendDomain")&&Z(y.props[p])&&Z(y.props[_])){var w=y.props[p],v=y.props[_];return[Math.min(g[0],w,v),Math.max(g[1],w,v)]}return g},d)}return a&&a.length&&(d=a.reduce(function(g,y){return Z(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},d)),d},WD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],p]:l._events[_].push(p):(l._events[_]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,_=new Array(p);d<p;d++)_[d]=f[d].fn;return _},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,_){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,x;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,d),!0;case 5:return y.fn.call(y.context,c,f,d,p),!0;case 6:return y.fn.call(y.context,c,f,d,p,_),!0}for(x=1,v=new Array(w-1);x<w;x++)v[x-1]=arguments[x];y.fn.apply(y.context,v)}else{var O=y.length,T;for(x=0;x<O;x++)switch(y[x].once&&this.removeListener(u,y[x].fn,void 0,!0),w){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,c);break;case 3:y[x].fn.call(y[x].context,c,f);break;case 4:y[x].fn.call(y[x].context,c,f,d);break;default:if(!v)for(T=1,v=new Array(w-1);T<w;T++)v[T-1]=arguments[T];y[x].fn.apply(y[x].context,v)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var _=this._events[p];if(_.fn)_.fn===c&&(!d||_.once)&&(!f||_.context===f)&&o(this,p);else{for(var g=0,y=[],w=_.length;g<w;g++)(_[g].fn!==c||d&&!_[g].once||f&&_[g].context!==f)&&y.push(_[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(WD);var hme=WD.exports;const dme=De(hme);var By=new dme,zy="recharts.syncMouseEvents";function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qD(r.key),r)}}function gme(t,e,n){return e&&mme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wy(t,e,n){return e=qD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qD(t){var e=yme(t,"string");return Qc(e)=="symbol"?e:e+""}function yme(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vme=function(){function t(){pme(this,t),Wy(this,"activeIndex",0),Wy(this,"coordinateList",[]),Wy(this,"layout","horizontal")}return gme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,d=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function bme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Z(r)&&Z(i))return!0}return!1}function _me(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function HD(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Ft(e,n,r,i),s=Ft(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function wme(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Ft(s,l,u,f),p=Ft(s,l,c,f);r=d.x,i=d.y,a=p.x,o=p.y}else return HD(e);return[{x:r,y:i},{x:a,y:o}]}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e,n){return e=Eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eme(t){var e=Sme(t,"string");return Jc(e)=="symbol"?e:e+""}function Sme(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tme(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var _,g=lb;if(d==="ScatterChart")_=o,g=Tce;else if(d==="BarChart")_=_me(f,o,l,c),g=Ix;else if(f==="radial"){var y=HD(o),w=y.cx,v=y.cy,x=y.radius,O=y.startAngle,T=y.endAngle;_={cx:w,cy:v,startAngle:O,endAngle:T,innerRadius:x,outerRadius:x},g=XM}else _={points:wme(f,o,l)},g=lb;var I=Sh(Sh(Sh(Sh({stroke:"#ccc",pointerEvents:"none"},l),_),Se(p,!1)),{},{payload:s,payloadIndex:u,className:Pe("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,I):$.createElement(g,I)}var Ame=["item"],Pme=["children","className","width","height","style","compact","title","desc"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ls.apply(this,arguments)}function hO(t,e){return Cme(t)||Ome(t,e)||KD(t,e)||Ime()}function Ime(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ome(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Cme(t){if(Array.isArray(t))return t}function dO(t,e){if(t==null)return{};var n=kme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XD(r.key),r)}}function jme(t,e,n){return e&&Rme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mme(t,e,n){return e=$p(e),Dme(t,GD()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function Dme(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $me(t)}function $me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function Lme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lb(t,e)}function Lb(t,e){return Lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lb(t,e)}function sl(t){return Ume(t)||Fme(t)||KD(t)||Vme()}function Vme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(t,e){if(t){if(typeof t=="string")return Vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vb(t,e)}}function Fme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ume(t){if(Array.isArray(t))return Vb(t)}function Vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function le(t,e,n){return e=XD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XD(t){var e=Bme(t,"string");return ol(e)=="symbol"?e:e+""}function Bme(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zme={xAxis:["bottom","top"],yAxis:["left","right"]},Wme={width:"100%",height:"100%"},YD={x:0,y:0};function Th(t){return t}var qme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Hme=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return B(B(B({},i),Ft(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return B(B(B({},i),Ft(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return YD},hg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(sl(s),sl(u)):s},[]);return o.length>0?o:e&&e.length&&Z(i)&&Z(a)?e.slice(i,a+1):[]};function QD(t){return t==="number"?[0,"auto"]:void 0}var Fb=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=hg(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;d=Ld(p,o.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(sl(l),[HM(u,d)]):l},[])},mO=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=qme(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=ose(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=Fb(e,n,c,f),p=Hme(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},Gme=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=zM(c,a);return r.reduce(function(_,g){var y,w=g.type.defaultProps!==void 0?B(B({},g.type.defaultProps),g.props):g.props,v=w.type,x=w.dataKey,O=w.allowDataOverflow,T=w.allowDuplicatedCategory,I=w.scale,E=w.ticks,S=w.includeHidden,P=w[o];if(_[P])return _;var k=hg(e.data,{graphicalItems:i.filter(function(Q){var oe,ye=o in Q.props?Q.props[o]:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe[o];return ye===P}),dataStartIndex:l,dataEndIndex:u}),C=k.length,j,N,F;bme(w.domain,O,v)&&(j=rb(w.domain,null,O),p&&(v==="number"||I!=="auto")&&(F=Fu(k,x,"category")));var U=QD(v);if(!j||j.length===0){var q,G=(q=w.domain)!==null&&q!==void 0?q:U;if(x){if(j=Fu(k,x,v),v==="category"&&p){var L=Gq(j);T&&L?(N=j,j=Ep(0,C)):T||(j=GP(G,j,g).reduce(function(Q,oe){return Q.indexOf(oe)>=0?Q:[].concat(sl(Q),[oe])},[]))}else if(v==="category")T?j=j.filter(function(Q){return Q!==""&&!ve(Q)}):j=GP(G,j,g).reduce(function(Q,oe){return Q.indexOf(oe)>=0||oe===""||ve(oe)?Q:[].concat(sl(Q),[oe])},[]);else if(v==="number"){var z=fse(k,i.filter(function(Q){var oe,ye,Re=o in Q.props?Q.props[o]:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe[o],ze="hide"in Q.props?Q.props.hide:(ye=Q.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Re===P&&(S||!ze)}),x,a,c);z&&(j=z)}p&&(v==="number"||I!=="auto")&&(F=Fu(k,x,"category"))}else p?j=Ep(0,C):s&&s[P]&&s[P].hasStack&&v==="number"?j=d==="expand"?[0,1]:qM(s[P].stackGroups,l,u):j=BM(k,i.filter(function(Q){var oe=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ye="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return oe===P&&(S||!ye)}),v,c,!0);if(v==="number")j=$b(f,j,P,a,E),G&&(j=rb(G,j,O));else if(v==="category"&&G){var X=G,ee=j.every(function(Q){return X.indexOf(Q)>=0});ee&&(j=X)}}return B(B({},_),{},le({},P,B(B({},w),{},{axisType:a,domain:j,categoricalDomain:F,duplicateDomain:N,originalDomain:(y=w.domain)!==null&&y!==void 0?y:U,isCategorical:p,layout:c})))},{})},Kme=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=hg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,_=zM(c,a),g=-1;return r.reduce(function(y,w){var v=w.type.defaultProps!==void 0?B(B({},w.type.defaultProps),w.props):w.props,x=v[o],O=QD("number");if(!y[x]){g++;var T;return _?T=Ep(0,p):s&&s[x]&&s[x].hasStack?(T=qM(s[x].stackGroups,l,u),T=$b(f,T,x,a)):(T=rb(O,BM(d,r.filter(function(I){var E,S,P=o in I.props?I.props[o]:(E=I.type.defaultProps)===null||E===void 0?void 0:E[o],k="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===x&&!k}),"number",c),i.defaultProps.allowDataOverflow),T=$b(f,T,x,a)),B(B({},y),{},le({},x,B(B({axisType:a},i.defaultProps),{},{hide:!0,orientation:qn(zme,"".concat(a,".").concat(g%2),null),domain:T,originalDomain:O,isCategorical:_,layout:c})))}return y},{})},Xme=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=Hn(c,a),p={};return d&&d.length?p=Gme(e,{axes:d,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=Kme(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Yme=function(e){var n=Li(e),r=Xr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:tx(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:pp(n,r)}},gO=function(e){var n=e.children,r=e.defaultShowTooltip,i=En(n,Qs),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Qme=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zr(n&&n.type);return r&&r.indexOf("Bar")>=0})},yO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Jme=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=En(f,Qs),_=En(f,Za),g=Object.keys(l).reduce(function(T,I){var E=l[I],S=E.orientation;return!E.mirror&&!E.hide?B(B({},T),{},le({},S,T[S]+E.width)):T},{left:d.left||0,right:d.right||0}),y=Object.keys(o).reduce(function(T,I){var E=o[I],S=E.orientation;return!E.mirror&&!E.hide?B(B({},T),{},le({},S,qn(T,"".concat(S))+E.height)):T},{top:d.top||0,bottom:d.bottom||0}),w=B(B({},y),g),v=w.bottom;p&&(w.bottom+=p.props.height||Qs.defaultProps.height),_&&n&&(w=use(w,i,r,n));var x=u-w.left-w.right,O=c-w.top-w.bottom;return B(B({brushBottom:v},w),{},{width:Math.max(x,0),height:Math.max(O,0)})},Zme=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},JD=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(w,v){var x=v.graphicalItems,O=v.stackGroups,T=v.offset,I=v.updateId,E=v.dataStartIndex,S=v.dataEndIndex,P=w.barSize,k=w.layout,C=w.barGap,j=w.barCategoryGap,N=w.maxBarSize,F=yO(k),U=F.numericAxisName,q=F.cateAxisName,G=Qme(x),L=[];return x.forEach(function(z,X){var ee=hg(w.data,{graphicalItems:[z],dataStartIndex:E,dataEndIndex:S}),Q=z.type.defaultProps!==void 0?B(B({},z.type.defaultProps),z.props):z.props,oe=Q.dataKey,ye=Q.maxBarSize,Re=Q["".concat(U,"Id")],ze=Q["".concat(q,"Id")],Wt={},It=l.reduce(function(Nn,Vr){var jo=v["".concat(Vr.axisType,"Map")],Of=Q["".concat(Vr.axisType,"Id")];jo&&jo[Of]||Vr.axisType==="zAxis"||yo();var _i=jo[Of];return B(B({},Nn),{},le(le({},Vr.axisType,_i),"".concat(Vr.axisType,"Ticks"),Xr(_i)))},Wt),te=It[q],de=It["".concat(q,"Ticks")],pe=O&&O[Re]&&O[Re].hasStack&&Ese(z,O[Re].stackGroups),K=Zr(z.type).indexOf("Bar")>=0,Ve=pp(te,de),_e=[],ot=G&&sse({barSize:P,stackGroups:O,totalSize:Zme(It,q)});if(K){var Qe,Ot,Jn=ve(ye)?N:ye,Je=(Qe=(Ot=pp(te,de,!0))!==null&&Ot!==void 0?Ot:Jn)!==null&&Qe!==void 0?Qe:0;_e=lse({barGap:C,barCategoryGap:j,bandSize:Je!==Ve?Je:Ve,sizeList:ot[ze],maxBarSize:Jn}),Je!==Ve&&(_e=_e.map(function(Nn){return B(B({},Nn),{},{position:B(B({},Nn.position),{},{offset:Nn.position.offset-Je/2})})}))}var ht=z&&z.type&&z.type.getComposedData;ht&&L.push({props:B(B({},ht(B(B({},It),{},{displayedData:ee,props:w,dataKey:oe,item:z,bandSize:Ve,barPosition:_e,offset:T,stackedData:pe,layout:k,dataStartIndex:E,dataEndIndex:S}))),{},le(le(le({key:z.key||"item-".concat(X)},U,It[U]),q,It[q]),"animationId",I)),childIndex:oH(z,w.children),item:z})}),L},p=function(w,v){var x=w.props,O=w.dataStartIndex,T=w.dataEndIndex,I=w.updateId;if(!FT({props:x}))return null;var E=x.children,S=x.layout,P=x.stackOffset,k=x.data,C=x.reverseStackOrder,j=yO(S),N=j.numericAxisName,F=j.cateAxisName,U=Hn(E,r),q=_se(k,U,"".concat(N,"Id"),"".concat(F,"Id"),P,C),G=l.reduce(function(Q,oe){var ye="".concat(oe.axisType,"Map");return B(B({},Q),{},le({},ye,Xme(x,B(B({},oe),{},{graphicalItems:U,stackGroups:oe.axisType===N&&q,dataStartIndex:O,dataEndIndex:T}))))},{}),L=Jme(B(B({},G),{},{props:x,graphicalItems:U}),v==null?void 0:v.legendBBox);Object.keys(G).forEach(function(Q){G[Q]=c(x,G[Q],L,Q.replace("Map",""),n)});var z=G["".concat(F,"Map")],X=Yme(z),ee=d(x,B(B({},G),{},{dataStartIndex:O,dataEndIndex:T,updateId:I,graphicalItems:U,stackGroups:q,offset:L}));return B(B({formattedGraphicalItems:ee,graphicalItems:U,offset:L,stackGroups:q},X),G)},_=function(y){function w(v){var x,O,T;return Nme(this,w),T=Mme(this,w,[v]),le(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(T,"accessibilityManager",new vme),le(T,"handleLegendBBoxUpdate",function(I){if(I){var E=T.state,S=E.dataStartIndex,P=E.dataEndIndex,k=E.updateId;T.setState(B({legendBBox:I},p({props:T.props,dataStartIndex:S,dataEndIndex:P,updateId:k},B(B({},T.state),{},{legendBBox:I}))))}}),le(T,"handleReceiveSyncEvent",function(I,E,S){if(T.props.syncId===I){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),le(T,"handleBrushChange",function(I){var E=I.startIndex,S=I.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var P=T.state.updateId;T.setState(function(){return B({dataStartIndex:E,dataEndIndex:S},p({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:P},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),le(T,"handleMouseEnter",function(I){var E=T.getMouseInfo(I);if(E){var S=B(B({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var P=T.props.onMouseEnter;ge(P)&&P(S,I)}}),le(T,"triggeredAfterMouseMove",function(I){var E=T.getMouseInfo(I),S=E?B(B({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var P=T.props.onMouseMove;ge(P)&&P(S,I)}),le(T,"handleItemMouseEnter",function(I){T.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),le(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),le(T,"handleMouseMove",function(I){I.persist(),T.throttleTriggeredAfterMouseMove(I)}),le(T,"handleMouseLeave",function(I){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;ge(S)&&S(E,I)}),le(T,"handleOuterEvent",function(I){var E=aH(I),S=qn(T.props,"".concat(E));if(E&&ge(S)){var P,k;/.*touch.*/i.test(E)?k=T.getMouseInfo(I.changedTouches[0]):k=T.getMouseInfo(I),S((P=k)!==null&&P!==void 0?P:{},I)}}),le(T,"handleClick",function(I){var E=T.getMouseInfo(I);if(E){var S=B(B({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var P=T.props.onClick;ge(P)&&P(S,I)}}),le(T,"handleMouseDown",function(I){var E=T.props.onMouseDown;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleMouseUp",function(I){var E=T.props.onMouseUp;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),le(T,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseDown(I.changedTouches[0])}),le(T,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseUp(I.changedTouches[0])}),le(T,"handleDoubleClick",function(I){var E=T.props.onDoubleClick;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleContextMenu",function(I){var E=T.props.onContextMenu;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"triggerSyncEvent",function(I){T.props.syncId!==void 0&&By.emit(zy,T.props.syncId,I,T.eventEmitterSymbol)}),le(T,"applySyncEvent",function(I){var E=T.props,S=E.layout,P=E.syncMethod,k=T.state.updateId,C=I.dataStartIndex,j=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)T.setState(B({dataStartIndex:C,dataEndIndex:j},p({props:T.props,dataStartIndex:C,dataEndIndex:j,updateId:k},T.state)));else if(I.activeTooltipIndex!==void 0){var N=I.chartX,F=I.chartY,U=I.activeTooltipIndex,q=T.state,G=q.offset,L=q.tooltipTicks;if(!G)return;if(typeof P=="function")U=P(L,I);else if(P==="value"){U=-1;for(var z=0;z<L.length;z++)if(L[z].value===I.activeLabel){U=z;break}}var X=B(B({},G),{},{x:G.left,y:G.top}),ee=Math.min(N,X.x+X.width),Q=Math.min(F,X.y+X.height),oe=L[U]&&L[U].value,ye=Fb(T.state,T.props.data,U),Re=L[U]?{x:S==="horizontal"?L[U].coordinate:ee,y:S==="horizontal"?Q:L[U].coordinate}:YD;T.setState(B(B({},I),{},{activeLabel:oe,activeCoordinate:Re,activePayload:ye,activeTooltipIndex:U}))}else T.setState(I)}),le(T,"renderCursor",function(I){var E,S=T.state,P=S.isTooltipActive,k=S.activeCoordinate,C=S.activePayload,j=S.offset,N=S.activeTooltipIndex,F=S.tooltipAxisBandSize,U=T.getTooltipEventType(),q=(E=I.props.active)!==null&&E!==void 0?E:P,G=T.props.layout,L=I.key||"_recharts-cursor";return M.createElement(Tme,{key:L,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:I,isActive:q,layout:G,offset:j,tooltipAxisBandSize:F,tooltipEventType:U})}),le(T,"renderPolarAxis",function(I,E,S){var P=qn(I,"type.axisType"),k=qn(T.state,"".concat(P,"Map")),C=I.type.defaultProps,j=C!==void 0?B(B({},C),I.props):I.props,N=k&&k[j["".concat(P,"Id")]];return $.cloneElement(I,B(B({},N),{},{className:Pe(P,N.className),key:I.key||"".concat(E,"-").concat(S),ticks:Xr(N,!0)}))}),le(T,"renderPolarGrid",function(I){var E=I.props,S=E.radialLines,P=E.polarAngles,k=E.polarRadius,C=T.state,j=C.radiusAxisMap,N=C.angleAxisMap,F=Li(j),U=Li(N),q=U.cx,G=U.cy,L=U.innerRadius,z=U.outerRadius;return $.cloneElement(I,{polarAngles:Array.isArray(P)?P:Xr(U,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:Xr(F,!0).map(function(X){return X.coordinate}),cx:q,cy:G,innerRadius:L,outerRadius:z,key:I.key||"polar-grid",radialLines:S})}),le(T,"renderLegend",function(){var I=T.state.formattedGraphicalItems,E=T.props,S=E.children,P=E.width,k=E.height,C=T.props.margin||{},j=P-(C.left||0)-(C.right||0),N=FM({children:S,formattedGraphicalItems:I,legendWidth:j,legendContent:u});if(!N)return null;var F=N.item,U=dO(N,Ame);return $.cloneElement(F,B(B({},U),{},{chartWidth:P,chartHeight:k,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),le(T,"renderTooltip",function(){var I,E=T.props,S=E.children,P=E.accessibilityLayer,k=En(S,Dn);if(!k)return null;var C=T.state,j=C.isTooltipActive,N=C.activeCoordinate,F=C.activePayload,U=C.activeLabel,q=C.offset,G=(I=k.props.active)!==null&&I!==void 0?I:j;return $.cloneElement(k,{viewBox:B(B({},q),{},{x:q.left,y:q.top}),active:G,label:U,payload:G?F:[],coordinate:N,accessibilityLayer:P})}),le(T,"renderBrush",function(I){var E=T.props,S=E.margin,P=E.data,k=T.state,C=k.offset,j=k.dataStartIndex,N=k.dataEndIndex,F=k.updateId;return $.cloneElement(I,{key:I.key||"_recharts-brush",onChange:_h(T.handleBrushChange,I.props.onChange),data:P,x:Z(I.props.x)?I.props.x:C.left,y:Z(I.props.y)?I.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:Z(I.props.width)?I.props.width:C.width,startIndex:j,endIndex:N,updateId:"brush-".concat(F)})}),le(T,"renderReferenceElement",function(I,E,S){if(!I)return null;var P=T,k=P.clipPathId,C=T.state,j=C.xAxisMap,N=C.yAxisMap,F=C.offset,U=I.type.defaultProps||{},q=I.props,G=q.xAxisId,L=G===void 0?U.xAxisId:G,z=q.yAxisId,X=z===void 0?U.yAxisId:z;return $.cloneElement(I,{key:I.key||"".concat(E,"-").concat(S),xAxis:j[L],yAxis:N[X],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:k})}),le(T,"renderActivePoints",function(I){var E=I.item,S=I.activePoint,P=I.basePoint,k=I.childIndex,C=I.isRange,j=[],N=E.props.key,F=E.item.type.defaultProps!==void 0?B(B({},E.item.type.defaultProps),E.item.props):E.item.props,U=F.activeDot,q=F.dataKey,G=B(B({index:k,dataKey:q,cx:S.x,cy:S.y,r:4,fill:Px(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Se(U,!1)),Vd(U));return j.push(w.renderActiveDot(U,G,"".concat(N,"-activePoint-").concat(k))),P?j.push(w.renderActiveDot(U,B(B({},G),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(k))):C&&j.push(null),j}),le(T,"renderGraphicChild",function(I,E,S){var P=T.filterFormatItem(I,E,S);if(!P)return null;var k=T.getTooltipEventType(),C=T.state,j=C.isTooltipActive,N=C.tooltipAxis,F=C.activeTooltipIndex,U=C.activeLabel,q=T.props.children,G=En(q,Dn),L=P.props,z=L.points,X=L.isRange,ee=L.baseLine,Q=P.item.type.defaultProps!==void 0?B(B({},P.item.type.defaultProps),P.item.props):P.item.props,oe=Q.activeDot,ye=Q.hide,Re=Q.activeBar,ze=Q.activeShape,Wt=!!(!ye&&j&&G&&(oe||Re||ze)),It={};k!=="axis"&&G&&G.props.trigger==="click"?It={onClick:_h(T.handleItemMouseEnter,I.props.onClick)}:k!=="axis"&&(It={onMouseLeave:_h(T.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:_h(T.handleItemMouseEnter,I.props.onMouseEnter)});var te=$.cloneElement(I,B(B({},P.props),It));function de(Vr){return typeof N.dataKey=="function"?N.dataKey(Vr.payload):null}if(Wt)if(F>=0){var pe,K;if(N.dataKey&&!N.allowDuplicatedCategory){var Ve=typeof N.dataKey=="function"?de:"payload.".concat(N.dataKey.toString());pe=Ld(z,Ve,U),K=X&&ee&&Ld(ee,Ve,U)}else pe=z==null?void 0:z[F],K=X&&ee&&ee[F];if(ze||Re){var _e=I.props.activeIndex!==void 0?I.props.activeIndex:F;return[$.cloneElement(I,B(B(B({},P.props),It),{},{activeIndex:_e})),null,null]}if(!ve(pe))return[te].concat(sl(T.renderActivePoints({item:P,activePoint:pe,basePoint:K,childIndex:F,isRange:X})))}else{var ot,Qe=(ot=T.getItemByXY(T.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:te},Ot=Qe.graphicalItem,Jn=Ot.item,Je=Jn===void 0?I:Jn,ht=Ot.childIndex,Nn=B(B(B({},P.props),It),{},{activeIndex:ht});return[$.cloneElement(Je,Nn),null,null]}return X?[te,null,null]:[te,null]}),le(T,"renderCustomized",function(I,E,S){return $.cloneElement(I,B(B({key:"recharts-customized-".concat(S)},T.props),T.state))}),le(T,"renderMap",{CartesianGrid:{handler:Th,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Th},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Th},YAxis:{handler:Th},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:wf("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=Vj(T.triggeredAfterMouseMove,(O=v.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return Lme(w,y),jme(w,[{key:"componentDidMount",value:function(){var x,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,O=x.children,T=x.data,I=x.height,E=x.layout,S=En(O,Dn);if(S){var P=S.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=Fb(this.state,T,P,k),j=this.state.tooltipTicks[P].coordinate,N=(this.state.offset.top+I)/2,F=E==="horizontal",U=F?{x:j,y:N}:{y:j,x:N},q=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});q&&(U=B(B({},U),q.props.points[P].tooltipPosition),C=q.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:U};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,I;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(x){y0([En(x.children,Dn)],[En(this.props.children,Dn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=En(this.props.children,Dn);if(x&&typeof x.props.shared=="boolean"){var O=x.props.shared?"axis":"item";return s.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),I=Nne(T),E={chartX:Math.round(x.pageX-I.left),chartY:Math.round(x.pageY-I.top)},S=T.width/O.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,S);if(!P)return null;var k=this.state,C=k.xAxisMap,j=k.yAxisMap,N=this.getTooltipEventType(),F=mO(this.state,this.props.data,this.props.layout,P);if(N!=="axis"&&C&&j){var U=Li(C).scale,q=Li(j).scale,G=U&&U.invert?U.invert(E.chartX):null,L=q&&q.invert?q.invert(E.chartY):null;return B(B({},E),{},{xValue:G,yValue:L},F)}return F?B(B({},E),F):null}},{key:"inRange",value:function(x,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,E=x/T,S=O/T;if(I==="horizontal"||I==="vertical"){var P=this.state.offset,k=E>=P.left&&E<=P.left+P.width&&S>=P.top&&S<=P.top+P.height;return k?{x:E,y:S}:null}var C=this.state,j=C.angleAxisMap,N=C.radiusAxisMap;if(j&&N){var F=Li(j);return YP({x:E,y:S},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,O=this.getTooltipEventType(),T=En(x,Dn),I={};T&&O==="axis"&&(T.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Vd(this.props,this.handleOuterEvent);return B(B({},E),I)}},{key:"addListener",value:function(){By.on(zy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){By.removeListener(zy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,O,T){for(var I=this.state.formattedGraphicalItems,E=0,S=I.length;E<S;E++){var P=I[E];if(P.item===x||P.props.key===x.key||O===Zr(P.item.type)&&T===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,O=this.state.offset,T=O.left,I=O.top,E=O.height,S=O.width;return M.createElement("defs",null,M.createElement("clipPath",{id:x},M.createElement("rect",{x:T,y:I,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(O,T){var I=hO(T,2),E=I[0],S=I[1];return B(B({},O),{},le({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(O,T){var I=hO(T,2),E=I[0],S=I[1];return B(B({},O),{},le({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(x){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(x){var O=this.state,T=O.formattedGraphicalItems,I=O.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var P=T[E],k=P.props,C=P.item,j=C.type.defaultProps!==void 0?B(B({},C.type.defaultProps),C.props):C.props,N=Zr(C.type);if(N==="Bar"){var F=(k.data||[]).find(function(L){return mce(x,L)});if(F)return{graphicalItem:P,payload:F}}else if(N==="RadialBar"){var U=(k.data||[]).find(function(L){return YP(x,L)});if(U)return{graphicalItem:P,payload:U}}else if(ag(P,I)||og(P,I)||Hc(P,I)){var q=vfe({graphicalItem:P,activeTooltipItem:I,itemData:j.data}),G=j.activeIndex===void 0?q:j.activeIndex;return{graphicalItem:B(B({},P),{},{childIndex:G}),payload:Hc(P,I)?j.data[q]:P.props.data[q]}}}return null}},{key:"render",value:function(){var x=this;if(!FT(this))return null;var O=this.props,T=O.children,I=O.className,E=O.width,S=O.height,P=O.style,k=O.compact,C=O.title,j=O.desc,N=dO(O,Pme),F=Se(N,!1);if(k)return M.createElement(KI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(b0,ls({},F,{width:E,height:S,title:C,desc:j}),this.renderClipPath(),BT(T,this.renderMap)));if(this.props.accessibilityLayer){var U,q;F.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,F.role=(q=this.props.role)!==null&&q!==void 0?q:"application",F.onKeyDown=function(L){x.accessibilityManager.keyboardEvent(L)},F.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return M.createElement(KI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",ls({className:Pe("recharts-wrapper",I),style:B({position:"relative",cursor:"default",width:E,height:S},P)},G,{ref:function(z){x.container=z}}),M.createElement(b0,ls({},F,{width:E,height:S,title:C,desc:j,style:Wme}),this.renderClipPath(),BT(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);le(_,"displayName",n),le(_,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),le(_,"getDerivedStateFromProps",function(y,w){var v=y.dataKey,x=y.data,O=y.children,T=y.width,I=y.height,E=y.layout,S=y.stackOffset,P=y.margin,k=w.dataStartIndex,C=w.dataEndIndex;if(w.updateId===void 0){var j=gO(y);return B(B(B({},j),{},{updateId:0},p(B(B({props:y},j),{},{updateId:0}),w)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:P,prevChildren:O})}if(v!==w.prevDataKey||x!==w.prevData||T!==w.prevWidth||I!==w.prevHeight||E!==w.prevLayout||S!==w.prevStackOffset||!_s(P,w.prevMargin)){var N=gO(y),F={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},U=B(B({},mO(w,x,E)),{},{updateId:w.updateId+1}),q=B(B(B({},N),F),U);return B(B(B({},q),p(B({props:y},q),w)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:P,prevChildren:O})}if(!y0(O,w.prevChildren)){var G,L,z,X,ee=En(O,Qs),Q=ee&&(G=(L=ee.props)===null||L===void 0?void 0:L.startIndex)!==null&&G!==void 0?G:k,oe=ee&&(z=(X=ee.props)===null||X===void 0?void 0:X.endIndex)!==null&&z!==void 0?z:C,ye=Q!==k||oe!==C,Re=!ve(x),ze=Re&&!ye?w.updateId:w.updateId+1;return B(B({updateId:ze},p(B(B({props:y},w),{},{updateId:ze,dataStartIndex:Q,dataEndIndex:oe}),w)),{},{prevChildren:O,dataStartIndex:Q,dataEndIndex:oe})}return null}),le(_,"renderActiveDot",function(y,w,v){var x;return $.isValidElement(y)?x=$.cloneElement(y,w):ge(y)?x=y(w):x=M.createElement(Ox,w),M.createElement(ut,{className:"recharts-active-dot",key:v},x)});var g=$.forwardRef(function(w,v){return M.createElement(_,ls({},w,{ref:v}))});return g.displayName=_.displayName,g},ege=JD({chartName:"LineChart",GraphicalChild:If,axisComponents:[{axisType:"xAxis",AxisComp:bo},{axisType:"yAxis",AxisComp:_o}],formatAxisMap:gD}),ZD=JD({chartName:"BarChart",GraphicalChild:Ia,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bo},{axisType:"yAxis",AxisComp:_o}],formatAxisMap:gD});const tge=()=>{const{records:t}=xa(),[e,n]=M.useState(new Date().getMonth()+1),[r,i]=M.useState(new Date().getFullYear()),a=document.documentElement.classList.contains("dark"),o=a?"#9ca3af":"rgba(0,0,0,0.5)",s=a?"#e5e7eb":"#374151",l=a?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",u=a?"#1f2937":"#fff",c=a?"#374151":"#e5e7eb",f=a?"#e5e7eb":"#111827",d=t.filter(x=>parseInt(x.month)===e&&x.year===r),p=w2(d),_=x2(d),g=d8(d),y=E2(t),w=p8(d),v=Object.entries(g).map(([x,O])=>({name:x.charAt(0).toUpperCase()+x.slice(1),value:parseFloat(O.toFixed(2))}));return m.jsxs("div",{className:"space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Dashboard"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Monitor your organization's carbon emissions"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("select",{value:e,onChange:x=>n(Number(x.target.value)),className:"input-base px-6 py-3 text-lg rounded-xl border-2 border-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-200 bg-white w-40 text-left truncate",children:Array.from({length:12},(x,O)=>O+1).map(x=>m.jsx("option",{value:x,children:new Date(2024,x-1).toLocaleString("en-US",{month:"long"})},x))}),m.jsx("select",{value:r,onChange:x=>i(Number(x.target.value)),className:"input-base py-2",children:[2023,2024,2025].map(x=>m.jsx("option",{value:x,children:x},x))})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(fh,{title:"Total Emissions",value:p,unit:"kg COe",icon:"",trend:w.trend,trendDirection:w.trend>0?"up":"down"}),m.jsx(fh,{title:"Scope 1",value:_.scope1,unit:"kg COe",icon:"",trend:5.2,trendDirection:"up"}),m.jsx(fh,{title:"Scope 2",value:_.scope2,unit:"kg COe",icon:"",trend:3.1,trendDirection:"down"}),m.jsx(fh,{title:"Scope 3",value:_.scope3,unit:"kg COe",icon:"",trend:2.8,trendDirection:"down"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold text-neutral-900 dark:text-white mb-4",children:"Emissions Trend (Last 12 Months)"}),y.length>0?m.jsx(F0,{width:"100%",height:300,children:m.jsxs(ege,{data:y,children:[m.jsx(Rp,{strokeDasharray:"3 3",stroke:l}),m.jsx(bo,{dataKey:"month",stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(_o,{stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(Dn,{contentStyle:{backgroundColor:u,border:`1px solid ${c}`,borderRadius:"8px",color:f},labelStyle:{color:f},itemStyle:{color:f}}),m.jsx(Za,{wrapperStyle:{color:s}}),m.jsx(If,{type:"monotone",dataKey:"total",stroke:"#00a86b",strokeWidth:2,dot:{fill:"#00a86b",r:4},activeDot:{r:6}})]})}):m.jsx("div",{className:"h-80 flex items-center justify-center text-neutral-500",children:"No data available"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold text-neutral-900 dark:text-white mb-4",children:"Emissions by Category"}),v.length>0?m.jsx(F0,{width:"100%",height:300,children:m.jsxs(ZD,{data:v,children:[m.jsx(Rp,{strokeDasharray:"3 3",stroke:l}),m.jsx(bo,{dataKey:"name",stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(_o,{stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(Dn,{contentStyle:{backgroundColor:u,border:`1px solid ${c}`,borderRadius:"8px",color:f},labelStyle:{color:f},itemStyle:{color:f}}),m.jsx(Ia,{dataKey:"value",fill:"#00a86b",radius:[8,8,0,0]})]})}):m.jsx("div",{className:"h-80 flex items-center justify-center text-neutral-500",children:"No data available"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"Statistics"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Average"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:w.average.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Minimum"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:w.minimum.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Maximum"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:w.maximum.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Total Records"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:t.length}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"entries"})]})]})]})]})},Es=t=>{const{label:e,type:n="text",value:r,onChange:i,placeholder:a,required:o=!1,error:s,disabled:l=!1,min:u,max:c,step:f,className:d=""}=t;return m.jsxs("div",{className:`w-full ${d}`,children:[e&&m.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:[e,o&&m.jsx("span",{className:"text-error ml-1",children:"*"})]}),m.jsx("input",{type:n,value:r,onChange:i,placeholder:a,required:o,disabled:l,min:u,max:c,step:f,className:`
          w-full px-4 py-2.5 rounded-lg border-2
          bg-white dark:bg-neutral-700
          text-neutral-900 dark:text-white
          placeholder:text-neutral-500 dark:placeholder:text-neutral-400
          border-neutral-200 dark:border-neutral-600
          focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-900
          focus:outline-none transition-all duration-200
          disabled:bg-neutral-100 dark:disabled:bg-neutral-800
          disabled:text-neutral-500 dark:disabled:text-neutral-400
          disabled:cursor-not-allowed
          ${s?"border-error focus:border-error focus:ring-error focus:ring-opacity-20":""}
        `}),s&&m.jsx("p",{className:"mt-1 text-sm text-error",children:s})]})};class nge{constructor(){}async calculateElectricity(e,n){try{const r=n==="india"?.68:.4,i=e*r;return{success:!0,data:{type:"electricity",value:e,unit:"kWh",co2e:parseFloat(i.toFixed(2)),co2eUnit:"kg",factors:{gridFactor:r,region:n||"average",notes:`Based on ${n||"global average"} grid carbon intensity`}}}}catch{return{success:!1,error:"Failed to calculate electricity emissions"}}}async calculateFuel(e,n="diesel"){try{const i={diesel:2.68,petrol:2.31,lpg:1.5,cng:2.31}[n]||2.31,a=e*i;return{success:!0,data:{type:"fuel",value:e,unit:"liters",co2e:parseFloat(a.toFixed(2)),co2eUnit:"kg",factors:{fuelType:n,emissionFactor:i,notes:`${n.toUpperCase()} - Standard emission factor`}}}}catch{return{success:!1,error:"Failed to calculate fuel emissions"}}}async calculateTravel(e,n="car"){try{const i={flight:.255,car:.17,train:.035,bus:.089}[n]||.17,a=e*i;return{success:!0,data:{type:"travel",value:e,unit:"km",co2e:parseFloat(a.toFixed(2)),co2eUnit:"kg",factors:{mode:n,emissionFactor:i,notes:`${n.toUpperCase()} - Per kilometer emission`}}}}catch{return{success:!1,error:"Failed to calculate travel emissions"}}}async calculateWaste(e,n="landfill"){try{const i={organic:.005,recycled:.002,landfill:.015}[n]||.015,a=e*i;return{success:!0,data:{type:"waste",value:e,unit:"kg",co2e:parseFloat(a.toFixed(2)),co2eUnit:"kg",factors:{wasteType:n,emissionFactor:i,notes:`${n.toUpperCase()} waste treatment`}}}}catch{return{success:!1,error:"Failed to calculate waste emissions"}}}async calculateWater(e){try{const r=e*.25;return{success:!0,data:{type:"water",value:e,unit:"m",co2e:parseFloat(r.toFixed(2)),co2eUnit:"kg",factors:{emissionFactor:.25,notes:"Average water treatment and supply carbon intensity"}}}}catch{return{success:!1,error:"Failed to calculate water emissions"}}}}const Sr=new nge,rge=()=>{const{records:t,addRecord:e,updateRecord:n,deleteRecord:r,setError:i,setSuccess:a,error:o}=xa(),[s,l]=M.useState("electricity"),[u,c]=M.useState(new Date().getMonth()+1),[f,d]=M.useState(new Date().getFullYear()),[p,_]=M.useState(""),[g,y]=M.useState("kWh"),[w,v]=M.useState(!1),[x,O]=M.useState(null),T={electricity:["kWh","MWh"],fuel:["liters","gallons"],water:["m","liters"],waste:["kg","tons"],travel:["km","miles"]},I=async P=>{if(P.preventDefault(),!p||Number(p)<=0){i("Please enter a valid value");return}v(!0);try{let k;switch(s){case"electricity":k=await Sr.calculateElectricity(Number(p),"IN");break;case"fuel":k=await Sr.calculateFuel(Number(p),"diesel");break;case"water":k=await Sr.calculateWater(Number(p));break;case"waste":k=await Sr.calculateWaste(Number(p),"landfill");break;case"travel":k=await Sr.calculateTravel(Number(p),"car");break}k.success&&k.data?(x?(await n(x,{month:u.toString(),year:f,category:s,value:Number(p),unit:g,co2e:k.data.co2e,notes:`Auto-calculated from ${s}`}),a(`Record updated! COe: ${cn(k.data.co2e)} kg`)):(await e({month:u.toString(),year:f,category:s,value:Number(p),unit:g,co2e:k.data.co2e,notes:`Auto-calculated from ${s}`}),a(`Record added! COe: ${cn(k.data.co2e)} kg`)),_(""),O(null),setTimeout(()=>a(null),3e3)):i(k.error||"Failed to calculate emissions")}catch{i("An error occurred. Please try again.")}finally{v(!1)}},E=P=>{c(Number(P.month)),d(Number(P.year)),_(P.value.toString()),y(P.unit),l(P.category),O(P.id)},S=P=>{window.confirm("Are you sure you want to delete this record?")&&(r(P),a("Record deleted."),setTimeout(()=>a(null),2e3))};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Data Entry"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Enter monthly activity data for emissions calculation"})]}),o&&m.jsx("div",{className:"bg-error text-white p-4 rounded-lg",children:o}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6 text-neutral-900 dark:text-white",children:"Add New Record"}),m.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:["electricity","fuel","water","waste","travel"].map(P=>m.jsx("button",{onClick:()=>l(P),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${s===P?"bg-primary-500 text-white":"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))}),m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(Es,{label:"Month",type:"number",value:u,onChange:P=>c(Number(P.target.value)),min:1,max:12}),m.jsx(Es,{label:"Year",type:"number",value:f,onChange:P=>d(Number(P.target.value)),min:2020})]}),m.jsx(Es,{label:`${s.charAt(0).toUpperCase()+s.slice(1)} Value`,type:"number",value:p,onChange:P=>_(P.target.value),placeholder:"Enter value",required:!0,step:.01,min:0}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Unit"}),m.jsx("select",{value:g,onChange:P=>y(P.target.value),className:"input-base",children:T[s].map(P=>m.jsx("option",{value:P,children:P},P))})]}),m.jsx("button",{type:"submit",disabled:w,className:"w-full btn-primary",children:w?"Calculating...":"Add Record"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6 text-neutral-900 dark:text-white",children:"Recent Records"}),t.length===0?m.jsx("div",{className:"text-center py-12 text-neutral-500",children:m.jsx("p",{children:"No records yet. Add your first entry above!"})}):m.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.slice(-10).reverse().map(P=>m.jsx("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-700 rounded-lg",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:P.category.charAt(0).toUpperCase()+P.category.slice(1)}),m.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[P.month,"/",P.year]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-bold text-primary-600 dark:text-primary-400",children:[cn(P.value)," ",P.unit]}),m.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[cn(P.co2e||0)," kg COe"]}),m.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[m.jsx("button",{className:"px-2 py-1 text-xs rounded bg-primary-500 text-white hover:bg-primary-600",onClick:()=>E(P),children:"Edit"}),m.jsx("button",{className:"px-2 py-1 text-xs rounded bg-error text-white hover:bg-red-600",onClick:()=>S(P.id),children:"Delete"})]})]})]})},P.id))})]})]})]})},ige=()=>{const[t,e]=M.useState("electricity"),[n,r]=M.useState(""),[i,a]=M.useState(null),[o,s]=M.useState(!1),l=async u=>{if(u.preventDefault(),!(!n||Number(n)<=0)){s(!0);try{let c;switch(t){case"electricity":c=await Sr.calculateElectricity(Number(n),"IN");break;case"fuel":c=await Sr.calculateFuel(Number(n),"diesel");break;case"travel":c=await Sr.calculateTravel(Number(n),"car");break;case"waste":c=await Sr.calculateWaste(Number(n),"landfill");break;case"water":c=await Sr.calculateWater(Number(n));break}c.success&&a(c.data)}catch(c){console.error(c)}finally{s(!1)}}};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Carbon Calculator"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Convert your activities into CO equivalents"})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6",children:"Calculate Emissions"}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Activity Type"}),m.jsxs("select",{value:t,onChange:u=>e(u.target.value),className:"input-base",children:[m.jsx("option",{value:"electricity",children:"Electricity (kWh)"}),m.jsx("option",{value:"fuel",children:"Fuel (liters)"}),m.jsx("option",{value:"travel",children:"Travel (km)"}),m.jsx("option",{value:"waste",children:"Waste (kg)"}),m.jsx("option",{value:"water",children:"Water (m)"})]})]}),m.jsx(Es,{label:"Value",type:"number",value:n,onChange:u=>r(u.target.value),placeholder:"Enter value",step:.01,min:0}),m.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary",children:o?"Calculating...":"Calculate COe"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6",children:"Results"}),i?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"text-center p-6 bg-primary-50 dark:bg-primary-900 rounded-lg",children:[m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 uppercase tracking-wide",children:"CO Emissions"}),m.jsx("p",{className:"text-5xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:cn(i.co2e,2)}),m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Input:"}),m.jsxs("span",{className:"font-medium",children:[cn(i.value,2)," ",i.unit]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Activity:"}),m.jsx("span",{className:"font-medium capitalize",children:i.type})]})]}),i.factors&&m.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-700 rounded-lg text-sm",children:[m.jsx("p",{className:"font-medium mb-2",children:"Calculation Details:"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:i.factors.notes})]})]}):m.jsx("div",{className:"text-center py-12 text-neutral-500",children:m.jsx("p",{children:"Enter values and calculate to see results"})})]})]})]})};class age{async getIndustryBenchmark(e,n="IN"){var r,i;try{const a={manufacturing:{IN:{industry:"Manufacturing",region:"India",year:2023,avgEmissions:2.5,unit:"tCOe/employee/year",dataSource:"World Bank"},US:{industry:"Manufacturing",region:"USA",year:2023,avgEmissions:1.8,unit:"tCOe/employee/year",dataSource:"World Bank"}},it:{IN:{industry:"IT",region:"India",year:2023,avgEmissions:.8,unit:"tCOe/employee/year",dataSource:"World Bank"},US:{industry:"IT",region:"USA",year:2023,avgEmissions:1.2,unit:"tCOe/employee/year",dataSource:"World Bank"}},hospitality:{IN:{industry:"Hospitality",region:"India",year:2023,avgEmissions:3.2,unit:"tCOe/employee/year",dataSource:"World Bank"},US:{industry:"Hospitality",region:"USA",year:2023,avgEmissions:2.9,unit:"tCOe/employee/year",dataSource:"World Bank"}}},o=e.toLowerCase(),s=n.toUpperCase();return{success:!0,data:((r=a[o])==null?void 0:r[s])||((i=a[o])==null?void 0:i.IN)||a.manufacturing.IN}}catch{return{success:!1,error:"Failed to fetch benchmark data"}}}async getRegionalBenchmarks(){try{return{success:!0,data:[{industry:"India Average",region:"India",year:2023,avgEmissions:1.9,unit:"tCOe/capita/year",dataSource:"India Statistics"},{industry:"USA Average",region:"USA",year:2023,avgEmissions:14.2,unit:"tCOe/capita/year",dataSource:"US EPA"},{industry:"EU Average",region:"Europe",year:2023,avgEmissions:6.8,unit:"tCOe/capita/year",dataSource:"Eurostat"},{industry:"Global Average",region:"World",year:2023,avgEmissions:4.5,unit:"tCOe/capita/year",dataSource:"IPCC"}]}}catch{return{success:!1,error:"Failed to fetch regional benchmarks"}}}}const oge=new age,sge=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(!0);M.useEffect(()=>{(async()=>{const o=await oge.getRegionalBenchmarks();o.success&&e(o.data||[]),r(!1)})()},[]);const i=t.slice(0,4).map(a=>({name:a.industry,emissions:a.avgEmissions}));return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Benchmarks"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Compare your emissions with industry standards"})]}),n?m.jsx("div",{className:"text-center py-12",children:"Loading..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Emissions Comparison"}),i.length>0&&m.jsx(F0,{width:"100%",height:300,children:m.jsxs(ZD,{data:i,children:[m.jsx(Rp,{strokeDasharray:"3 3"}),m.jsx(bo,{dataKey:"name"}),m.jsx(_o,{}),m.jsx(Dn,{}),m.jsx(Ia,{dataKey:"emissions",fill:"#00a86b"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft overflow-x-auto",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Regional Benchmarks"}),m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Industry"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Region"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Avg Emissions"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Unit"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Source"})]})}),m.jsx("tbody",{children:t.map((a,o)=>m.jsxs("tr",{className:"border-b border-neutral-100 dark:border-neutral-700",children:[m.jsx("td",{className:"py-3 px-4",children:a.industry}),m.jsx("td",{className:"py-3 px-4",children:a.region}),m.jsx("td",{className:"py-3 px-4 font-medium",children:cn(a.avgEmissions,2)}),m.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:a.unit}),m.jsx("td",{className:"py-3 px-4 text-primary-600 dark:text-primary-400",children:a.dataSource})]},o))})]})]})]})]})},lge=[{id:"1",title:"Shift Peak Load Operations",description:"Your grid carbon intensity is high between 2-6 PM",impact:4,cost:"low",category:"Energy",estimatedSavings:15,details:"Rescheduling energy-intensive operations to 10 AM - 1 PM can reduce emissions by 12-15%."},{id:"2",title:"Upgrade to LED Lighting",description:"Replace incandescent and fluorescent with LED bulbs",impact:4,cost:"medium",category:"Efficiency",estimatedSavings:20,details:"LED bulbs consume 75% less energy and last 25x longer than incandescent bulbs."},{id:"3",title:"Implement Renewable Energy",description:"Install solar panels on facility rooftops",impact:5,cost:"high",category:"Renewable",estimatedSavings:40,details:"Solar panels can offset 30-50% of your facility's electricity consumption."},{id:"4",title:"Optimize Transportation",description:"Encourage carpooling and public transit for employee commutes",impact:3,cost:"low",category:"Travel",estimatedSavings:10,details:"Reducing individual car commutes by 50% can cut transportation emissions significantly."},{id:"5",title:"Waste Reduction Program",description:"Implement a comprehensive waste segregation system",impact:2,cost:"low",category:"Waste",estimatedSavings:8,details:"Proper waste management and recycling can reduce landfill emissions by 60%."}],uge=()=>{const[t,e]=M.useState(null),[n,r]=M.useState("all"),[i,a]=M.useState("all"),o=lge.filter(u=>{const c=n==="all"||u.impact>=Number(n),f=i==="all"||u.cost===i;return c&&f}),s=u=>"".repeat(u),l=u=>{switch(u){case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return""}};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Recommendations"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Actionable steps to reduce your carbon emissions"})]}),m.jsxs("div",{className:"flex gap-4 flex-wrap bg-white dark:bg-neutral-800 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block mb-2",children:"Min Impact"}),m.jsxs("select",{value:n,onChange:u=>r(u.target.value),className:"input-base text-sm",children:[m.jsx("option",{value:"all",children:"All"}),m.jsx("option",{value:"3",children:"3+"}),m.jsx("option",{value:"4",children:"4+"}),m.jsx("option",{value:"5",children:"5"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block mb-2",children:"Cost"}),m.jsxs("select",{value:i,onChange:u=>a(u.target.value),className:"input-base text-sm",children:[m.jsx("option",{value:"all",children:"All"}),m.jsx("option",{value:"low",children:"Low"}),m.jsx("option",{value:"medium",children:"Medium"}),m.jsx("option",{value:"high",children:"High"})]})]})]}),m.jsx("div",{className:"space-y-3",children:o.map(u=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-soft overflow-hidden",children:[m.jsxs("button",{onClick:()=>e(t===u.id?null:u.id),className:"w-full p-4 flex justify-between items-start hover:bg-neutral-50 dark:hover:bg-neutral-700 transition-colors text-left",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-heading font-bold text-neutral-900 dark:text-white",children:u.title}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:u.description}),m.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[m.jsx("span",{className:"text-xs bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 px-2 py-1 rounded",children:s(u.impact)}),m.jsxs("span",{className:`text-xs px-2 py-1 rounded capitalize ${l(u.cost)}`,children:[u.cost," Cost"]}),m.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:u.category})]})]}),m.jsx("span",{className:"ml-4 text-2xl",children:t===u.id?"":"+"})]}),t===u.id&&m.jsxs("div",{className:"px-4 py-3 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700",children:[m.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 mb-3",children:u.details}),u.estimatedSavings&&m.jsxs("div",{className:"text-sm font-medium text-primary-600 dark:text-primary-400",children:["Estimated Savings: ",u.estimatedSavings,"% reduction"]})]})]},u.id))}),o.length===0&&m.jsx("div",{className:"text-center py-12 text-neutral-500",children:"No recommendations match your filters"})]})},cge=()=>{const{records:t}=xa(),[e,n]=M.useState(1),[r,i]=M.useState(2024),[a,o]=M.useState(12),[s,l]=M.useState(2024),u=t.filter(g=>{const y=new Date(Number(g.year),Number(g.month)-1),w=new Date(r,e-1),v=new Date(s,a-1);return y>=w&&y<=v}),c=w2(u),f=x2(u),d=E2(u),p=()=>{const y=[["Month","Total","Scope 1","Scope 2","Scope 3"],...d.map(v=>[v.month,v.total,v.scope1,v.scope2,v.scope3])].map(v=>v.join(",")).join(`
`),w=document.createElement("a");w.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(y)),w.setAttribute("download",`emissions-report-${r}-${s}.csv`),w.style.display="none",document.body.appendChild(w),w.click(),document.body.removeChild(w)},_=()=>{alert("PDF download would be implemented with a library like jsPDF")};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Reports"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Generate and export emissions reports"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Report Filters"}),m.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Month"}),m.jsx("select",{value:e,onChange:g=>n(Number(g.target.value)),className:"input-base",children:Array.from({length:12},(g,y)=>y+1).map(g=>m.jsx("option",{value:g,children:new Date(2024,g-1).toLocaleString("en-US",{month:"long"})},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Year"}),m.jsx("select",{value:r,onChange:g=>i(Number(g.target.value)),className:"input-base",children:[2023,2024,2025].map(g=>m.jsx("option",{value:g,children:g},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Month"}),m.jsx("select",{value:a,onChange:g=>o(Number(g.target.value)),className:"input-base",children:Array.from({length:12},(g,y)=>y+1).map(g=>m.jsx("option",{value:g,children:new Date(2024,g-1).toLocaleString("en-US",{month:"long"})},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Year"}),m.jsx("select",{value:s,onChange:g=>l(Number(g.target.value)),className:"input-base",children:[2023,2024,2025].map(g=>m.jsx("option",{value:g,children:g},g))})]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 uppercase",children:"Total Emissions"}),m.jsx("p",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:cn(c,2)}),m.jsx("p",{className:"text-xs text-primary-700 dark:text-primary-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 uppercase",children:"Scope 1 & 2"}),m.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:cn(f.scope1+f.scope2,2)}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"bg-green-50 dark:bg-green-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 uppercase",children:"Scope 3"}),m.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:cn(f.scope3,2)}),m.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"kg COe"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft overflow-x-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Monthly Breakdown"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:p,className:"btn-sm btn-primary",children:"Download CSV"}),m.jsx("button",{onClick:_,className:"btn-sm btn-secondary",children:"Download PDF"})]})]}),d.length===0?m.jsx("div",{className:"text-center py-8 text-neutral-500",children:"No data for the selected period"}):m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Month"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 1"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 2"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 3"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Total"})]})}),m.jsx("tbody",{children:d.map((g,y)=>m.jsxs("tr",{className:"border-b border-neutral-100 dark:border-neutral-700",children:[m.jsx("td",{className:"py-3 px-4",children:g.month}),m.jsx("td",{className:"text-right py-3 px-4",children:cn(g.scope1,2)}),m.jsx("td",{className:"text-right py-3 px-4",children:cn(g.scope2,2)}),m.jsx("td",{className:"text-right py-3 px-4",children:cn(g.scope3,2)}),m.jsx("td",{className:"text-right py-3 px-4 font-bold text-primary-600 dark:text-primary-400",children:cn(g.total,2)})]},y))})]})]})]})},fge=()=>{var l,u,c;const{company:t,setCompany:e,theme:n,setTheme:r}=xa(),[i,a]=M.useState({companyName:(t==null?void 0:t.name)||"",industry:(t==null?void 0:t.industry)||"manufacturing",region:(t==null?void 0:t.region)||"IN",employees:(t==null?void 0:t.employees)||0,emailAlerts:((l=t==null?void 0:t.settings)==null?void 0:l.emailAlerts)||!1,currency:((u=t==null?void 0:t.settings)==null?void 0:u.currency)||"USD",measurementUnit:((c=t==null?void 0:t.settings)==null?void 0:c.measurementUnit)||"metric_tons"}),o=(f,d)=>{a({...i,[f]:d})},s=()=>{const f={id:(t==null?void 0:t.id)||`company_${Date.now()}`,name:i.companyName,industry:i.industry,region:i.region,employees:i.employees,settings:{theme:n,emailAlerts:i.emailAlerts,currency:i.currency,measurementUnit:i.measurementUnit}};e(f),alert("Settings saved successfully!")};return m.jsxs("div",{className:"space-y-6 animate-fade-in max-w-2xl",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Settings"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Manage your account and preferences"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft space-y-4",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Company Information"}),m.jsx(Es,{label:"Company Name",value:i.companyName,onChange:f=>o("companyName",f.target.value),placeholder:"Enter company name"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Industry Type"}),m.jsxs("select",{value:i.industry,onChange:f=>o("industry",f.target.value),className:"input-base",children:[m.jsx("option",{value:"manufacturing",children:"Manufacturing"}),m.jsx("option",{value:"it",children:"IT & Technology"}),m.jsx("option",{value:"hospitality",children:"Hospitality"}),m.jsx("option",{value:"retail",children:"Retail"}),m.jsx("option",{value:"energy",children:"Energy"}),m.jsx("option",{value:"other",children:"Other"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Region"}),m.jsxs("select",{value:i.region,onChange:f=>o("region",f.target.value),className:"input-base",children:[m.jsx("option",{value:"IN",children:"India"}),m.jsx("option",{value:"US",children:"United States"}),m.jsx("option",{value:"UK",children:"United Kingdom"}),m.jsx("option",{value:"EU",children:"European Union"}),m.jsx("option",{value:"CN",children:"China"}),m.jsx("option",{value:"JP",children:"Japan"})]})]}),m.jsx(Es,{label:"Number of Employees",type:"number",value:i.employees,onChange:f=>o("employees",f.target.value),placeholder:"Enter number"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft space-y-6",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Preferences"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Currency"}),m.jsxs("select",{value:i.currency,onChange:f=>o("currency",f.target.value),className:"input-base",children:[m.jsx("option",{value:"USD",children:"USD ($)"}),m.jsx("option",{value:"EUR",children:"EUR ()"}),m.jsx("option",{value:"GBP",children:"GBP ()"}),m.jsx("option",{value:"INR",children:"INR ()"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Measurement Unit"}),m.jsxs("select",{value:i.measurementUnit,onChange:f=>o("measurementUnit",f.target.value),className:"input-base",children:[m.jsx("option",{value:"metric_tons",children:"Metric Tons (tCOe)"}),m.jsx("option",{value:"kilograms",children:"Kilograms (kg COe)"})]})]}),m.jsxs("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:"Email Alerts"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Receive notifications for emission spikes"})]}),m.jsx(p0,{checked:i.emailAlerts,onChange:f=>o("emailAlerts",f)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:"Dark Mode"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Enable dark theme"})]}),m.jsx(p0,{checked:n==="dark",onChange:f=>r(f?"dark":"light")})]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:s,className:"btn-primary flex-1",children:"Save Settings"}),m.jsx("button",{className:"btn-secondary flex-1",children:"Cancel"})]}),m.jsxs("div",{className:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 rounded p-6",children:[m.jsx("h3",{className:"font-heading font-bold text-red-900 dark:text-red-200 mb-2",children:"Danger Zone"}),m.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 mb-4",children:"Irreversible actions are taken here."}),m.jsx("button",{className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Delete All Data"})]})]})},hge=()=>{const t=af(),[e,n]=M.useState("emissions"),[r,i]=M.useState(null),a=[{id:"emissions",label:"Carbon Emissions",icon:""},{id:"credits",label:"Carbon Credits",icon:""},{id:"scopes",label:"Emission Scopes",icon:""},{id:"reduction",label:"How to Reduce",icon:""}],o=[{question:"What is net-zero emissions?",answer:"Net-zero emissions means balancing the amount of greenhouse gases emitted with the amount removed from the atmosphere, resulting in zero net emissions."},{question:"How are carbon emissions measured?",answer:"Carbon emissions are typically measured in CO equivalent (COe), which includes all greenhouse gases converted to the equivalent amount of carbon dioxide."},{question:"What is the Paris Agreement target?",answer:"The Paris Agreement aims to limit global warming to well below 2C, preferably to 1.5C, compared to pre-industrial levels."},{question:"Can individuals buy carbon credits?",answer:"Yes, individuals can purchase carbon credits to offset their personal carbon footprint through various platforms and organizations.",details:m.jsxs("div",{className:"mt-4 space-y-4",children:[m.jsx("h5",{className:"font-bold text-neutral-900 dark:text-white",children:"How to Buy Carbon Credits - Step by Step:"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"1"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Calculate Your Carbon Footprint"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Use a carbon calculator to determine your annual emissions from activities like travel, energy use, and lifestyle choices. Most calculators provide results in tons of COe."})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"2"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Choose a Verified Platform"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Select a reputable carbon offset provider. Look for certifications like Gold Standard, Verified Carbon Standard (VCS), or Climate Action Reserve (CAR)."}),m.jsxs("div",{className:"mt-2 text-xs bg-neutral-100 dark:bg-neutral-700 p-2 rounded",children:[m.jsx("strong",{children:"Popular Platforms:"})," Cloverly, Cool Effect, Terrapass, Carbon Footprint Ltd, Offsetra"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"3"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Select a Project Type"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Choose which type of carbon offset project you want to support:"}),m.jsxs("ul",{className:"text-xs mt-1 space-y-1 text-neutral-600 dark:text-neutral-400",children:[m.jsx("li",{children:" Renewable Energy (wind, solar farms)"}),m.jsx("li",{children:" Reforestation & Forest Conservation"}),m.jsx("li",{children:" Methane Capture (landfills, agriculture)"}),m.jsx("li",{children:" Clean Water & Cookstoves"}),m.jsx("li",{children:" Direct Air Capture Technology"})]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"4"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Determine Quantity & Budget"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Carbon credits typically cost between $10-$50 per ton of COe. Calculate how many credits you need based on your footprint and budget."}),m.jsxs("div",{className:"mt-2 text-xs bg-blue-50 dark:bg-blue-900/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:[m.jsx("strong",{children:"Example:"})," Average US individual emits ~16 tons/year. Full offset = $160-$800/year"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"5"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Make Your Purchase"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Complete the transaction through the platform. Most accept credit cards or PayPal. You'll receive a certificate showing the credits retired on your behalf."})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"6"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Track & Verify"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Keep records of your purchase. Many platforms provide tracking dashboards showing project progress and environmental impact metrics."})]})]})]}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-l-4 border-yellow-500 mt-4",children:[m.jsx("h6",{className:"font-bold text-sm text-neutral-900 dark:text-white mb-1",children:" Important Tips:"}),m.jsxs("ul",{className:"text-xs space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Look for third-party verified projects (avoid greenwashing)"}),m.jsx("li",{children:' Ensure credits are "retired" and not double-counted'}),m.jsx("li",{children:" Consider additionality - projects that wouldn't happen without carbon finance"}),m.jsx("li",{children:" Buying credits doesn't replace the need to reduce emissions"})]})]})]})}];return m.jsxs("div",{className:"space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"relative bg-gradient-to-r from-primary-600 to-green-600 dark:from-primary-700 dark:to-green-700 rounded-2xl p-8 md:p-12 text-white overflow-visible min-h-[200px] flex items-center",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4",children:"Understanding Carbon Emissions"}),m.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-3xl",children:"Learn about carbon footprints, credits, and how you can make a positive impact on our planet."})]}),m.jsx("div",{className:"absolute right-[-20px] md:right-4 top-15 -translate-y-1/2 opacity-60 text-[100px] md:text-[140px] animate-spin-slow drop-shadow-[0_20px_40px_rgba(0,0,0,0.6)] hover:scale-110 hover:opacity-80 transition-all duration-500 z-0 flex items-center justify-center",children:""})]}),m.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 bg-white dark:bg-neutral-800 p-2 rounded-xl shadow-soft",children:a.map(s=>m.jsxs("button",{onClick:()=>n(s.id),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all duration-300 ${e===s.id?"bg-primary-600 text-white shadow-md scale-105":"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-600"}`,children:[m.jsx("span",{className:"mr-2",children:s.icon}),m.jsx("span",{className:"hidden md:inline",children:s.label})]},s.id))}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 md:p-8 shadow-soft",children:[e==="emissions"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"What are Carbon Emissions?"}),m.jsx("div",{className:"prose dark:prose-invert max-w-none",children:m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"Carbon emissions refer to the release of carbon dioxide (CO) and other greenhouse gases into the atmosphere. These gases trap heat and contribute to global warming and climate change."})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[m.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 p-6 rounded-xl border-2 border-red-200 dark:border-red-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Industrial Sources"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Factories, manufacturing plants, and industrial processes are major contributors to carbon emissions through fossil fuel combustion and chemical reactions."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-6 rounded-xl border-2 border-blue-200 dark:border-blue-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Transportation"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Vehicles, planes, ships, and trains burning gasoline, diesel, and jet fuel account for a significant portion of global emissions."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 p-6 rounded-xl border-2 border-yellow-200 dark:border-yellow-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Energy Production"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Power plants burning coal, oil, and natural gas to generate electricity are among the largest sources of CO emissions worldwide."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-6 rounded-xl border-2 border-green-200 dark:border-green-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Agriculture"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Livestock farming, rice cultivation, and agricultural practices release methane and nitrous oxide, potent greenhouse gases."})]})]}),m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-6 rounded-xl mt-8 border-l-4 border-primary-600",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Did You Know?"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"CO can remain in the atmosphere for hundreds to thousands of years, making emission reduction critical for long-term climate stability."})]})]}),e==="credits"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"Understanding Carbon Credits"}),m.jsx("div",{className:"prose dark:prose-invert max-w-none",children:m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"A carbon credit represents the right to emit one metric ton of CO or equivalent greenhouse gas. They are used in cap-and-trade systems to incentivize emission reductions."})}),m.jsxs("div",{className:"bg-gradient-to-r from-primary-100 to-green-100 dark:from-primary-900/30 dark:to-green-900/30 p-8 rounded-xl mt-6",children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-4",children:"How Carbon Credits Work"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"1"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Emission Cap"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Governments or regulatory bodies set a limit on total emissions allowed."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"2"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Credit Allocation"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Credits are distributed or auctioned to companies that produce emissions."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"3"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Trading System"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Companies can buy, sell, or trade credits based on their needs and performance."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"4"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Emission Reduction"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Companies are incentivized to reduce emissions to save money on credits."})]})]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-700 p-6 rounded-xl border-2 border-green-300 dark:border-green-700",children:[m.jsx("h4",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-3",children:" Benefits"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Market-based emission reduction"}),m.jsx("li",{children:" Financial incentive for clean technology"}),m.jsx("li",{children:" Flexibility in achieving targets"}),m.jsx("li",{children:" Supports renewable energy projects"}),m.jsx("li",{children:" Encourages innovation"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-700 p-6 rounded-xl border-2 border-yellow-300 dark:border-yellow-700",children:[m.jsx("h4",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-3",children:" Challenges"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Price volatility in markets"}),m.jsx("li",{children:" Verification and monitoring costs"}),m.jsx("li",{children:" Potential for greenwashing"}),m.jsx("li",{children:" Unequal global implementation"}),m.jsx("li",{children:" Complexity of regulations"})]})]})]})]}),e==="scopes"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"The Three Scopes of Emissions"}),m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"The Greenhouse Gas Protocol categorizes emissions into three scopes to help organizations measure and manage their carbon footprint comprehensively."}),m.jsxs("div",{className:"space-y-6 mt-8",children:[m.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 md:p-8 rounded-xl border-l-8 border-red-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 1: Direct Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from sources you own or control"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Company vehicles and fleet fuel combustion"}),m.jsx("li",{children:" On-site fuel burning for heating or manufacturing"}),m.jsx("li",{children:" Emissions from chemical reactions in production"}),m.jsx("li",{children:" Refrigerant leaks from air conditioning systems"})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-6 md:p-8 rounded-xl border-l-8 border-yellow-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 2: Indirect Energy Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from purchased energy"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Electricity purchased from the grid"}),m.jsx("li",{children:" Purchased steam for industrial processes"}),m.jsx("li",{children:" Purchased heating and cooling"}),m.jsx("li",{children:" Office and facility electricity consumption"})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 md:p-8 rounded-xl border-l-8 border-blue-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 3: Other Indirect Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from your value chain"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Business travel (flights, hotels, rental cars)"}),m.jsx("li",{children:" Employee commuting"}),m.jsx("li",{children:" Purchased goods and services from suppliers"}),m.jsx("li",{children:" Waste disposal and treatment"}),m.jsx("li",{children:" Transportation and distribution"}),m.jsx("li",{children:" Use of sold products by customers"})]})]})]})]}),m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-6 rounded-xl mt-8",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Why This Matters"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Understanding these scopes helps organizations identify their biggest emission sources and develop targeted reduction strategies. Scope 3 often represents the largest portion (up to 90%) of a company's total carbon footprint."})]})]}),e==="reduction"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"How to Reduce Carbon Emissions"}),m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"Both individuals and organizations can take meaningful action to reduce their carbon footprint. Here are proven strategies that make a real difference."}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 mt-8",children:[{icon:"",title:"Energy Efficiency",description:"Switch to LED lighting, upgrade insulation, use energy-efficient appliances",impact:"High Impact"},{icon:"",title:"Renewable Energy",description:"Install solar panels, purchase renewable energy credits, choose green energy providers",impact:"High Impact"},{icon:"",title:"Sustainable Transport",description:"Walk, bike, carpool, use public transit, switch to electric vehicles",impact:"Medium Impact"},{icon:"",title:"Waste Reduction",description:"Recycle, compost, reduce single-use plastics, buy less packaging",impact:"Medium Impact"},{icon:"",title:"Plant-Based Diet",description:"Reduce meat consumption, buy local produce, minimize food waste",impact:"Medium Impact"},{icon:"",title:"Remote Work",description:"Work from home when possible, reduce office energy use, virtual meetings",impact:"Low-Medium Impact"}].map((s,l)=>m.jsxs("div",{className:"bg-gradient-to-br from-white to-neutral-50 dark:from-neutral-700 dark:to-neutral-800 p-6 rounded-xl border-2 border-neutral-200 dark:border-neutral-600 hover:border-primary-500 dark:hover:border-primary-500 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[m.jsx("div",{className:"text-4xl mb-3",children:s.icon}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:s.title}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300 text-sm mb-3",children:s.description}),m.jsx("span",{className:"inline-block px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded-full text-xs font-medium",children:s.impact})]},l))}),m.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-8 rounded-xl mt-8 border-2 border-green-300 dark:border-green-700",children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-4",children:" Quick Wins for Businesses"}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Immediate Actions:"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Conduct an energy audit"}),m.jsx("li",{children:" Switch to cloud computing"}),m.jsx("li",{children:" Implement recycling programs"}),m.jsx("li",{children:" Optimize delivery routes"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Long-term Strategies:"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Set science-based targets"}),m.jsx("li",{children:" Invest in green technology"}),m.jsx("li",{children:" Engage suppliers on emissions"}),m.jsx("li",{children:" Develop circular economy models"})]})]})]})]}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-xl border-l-4 border-yellow-500",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Remember"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Every action counts! Even small changes, when multiplied across millions of people and thousands of companies, create significant positive impact on our climate."})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 md:p-8 shadow-soft",children:[m.jsx("h2",{className:"text-2xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"Frequently Asked Questions"}),m.jsx("div",{className:"space-y-3",children:o.map((s,l)=>m.jsxs("div",{className:"border-2 border-neutral-200 dark:border-neutral-700 rounded-lg overflow-hidden hover:border-primary-400 dark:hover:border-primary-600 transition-colors",children:[m.jsxs("button",{onClick:()=>i(r===l?null:l),className:"w-full px-6 py-4 flex items-center justify-between bg-neutral-50 dark:bg-neutral-700/50 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[m.jsx("span",{className:"font-medium text-left text-neutral-900 dark:text-white",children:s.question}),m.jsx("span",{className:`text-2xl transition-transform duration-300 ${r===l?"rotate-180":""}`,children:""})]}),r===l&&m.jsxs("div",{className:"px-6 py-4 bg-white dark:bg-neutral-800 animate-fade-in",children:[m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:s.answer}),s.details&&m.jsx("div",{className:"mt-2",children:s.details})]})]},l))})]}),m.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-green-600 dark:from-primary-700 dark:to-green-700 rounded-xl p-8 md:p-12 text-white text-center",children:[m.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Take Action?"}),m.jsx("p",{className:"text-lg mb-6 text-white/90",children:"Start tracking your carbon emissions today and make data-driven decisions for a sustainable future."}),m.jsx("button",{onClick:()=>t("/data-entry"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-bold hover:bg-neutral-100 transition-colors shadow-lg",children:"Start Tracking Now "})]})]})},dge=()=>{const t=af(),{setUser:e}=xa(),[n,r]=M.useState(!1),[i,a]=M.useState(!1),[o,s]=M.useState(""),[l,u]=M.useState({email:"",password:"",confirmPassword:"",displayName:""}),c=async d=>{d.preventDefault(),s(""),a(!0);try{if(n){if(l.password!==l.confirmPassword)throw new Error("Passwords do not match");if(l.password.length<6)throw new Error("Password must be at least 6 characters");const p=await o8(l.email,l.password,l.displayName);e(p),t("/")}else{const p=await s8(l.email,l.password);e(p),t("/")}}catch(p){s(p.message||"An error occurred")}finally{a(!1)}},f=d=>{u({...l,[d.target.name]:d.target.value})};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-green-50 dark:from-neutral-900 dark:to-neutral-800 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-6xl mb-4",children:""}),m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white",children:n?"Create Account":"Welcome Back"}),m.jsx("p",{className:"mt-2 text-neutral-600 dark:text-neutral-400",children:n?"Start tracking your carbon footprint":"Sign in to access your dashboard"})]}),o&&m.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-4 rounded",children:m.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:o})}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[m.jsxs("div",{className:"space-y-4",children:[n&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),m.jsx("input",{id:"displayName",name:"displayName",type:"text",required:n,value:l.displayName,onChange:f,className:"input-base",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:f,className:"input-base",placeholder:"you@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:l.password,onChange:f,className:"input-base",placeholder:""})]}),n&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),m.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:n,value:l.confirmPassword,onChange:f,className:"input-base",placeholder:""})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:i?m.jsxs("span",{className:"flex items-center justify-center gap-2",children:[m.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n?"Creating account...":"Signing in..."]}):m.jsx("span",{children:n?"Create Account":"Sign In"})})})]}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>{r(!n),s(""),u({email:"",password:"",confirmPassword:"",displayName:""})},className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})})},pge=()=>{const{theme:t,setUser:e,loadRecords:n}=xa();return M.useEffect(()=>{const r=u8(i=>{e(i),i&&n()});return()=>r()},[e,n]),M.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),m.jsx(YV,{children:m.jsxs("div",{className:"flex flex-col min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[m.jsx(c8,{}),m.jsx("main",{className:"flex-1 max-w-7xl mx-auto w-full py-8 px-4 sm:px-6 lg:px-8",children:m.jsxs(zV,{children:[m.jsx(tr,{path:"/login",element:m.jsx(dge,{})}),m.jsx(tr,{path:"/",element:m.jsx(ja,{children:m.jsx(tge,{})})}),m.jsx(tr,{path:"/data-entry",element:m.jsx(ja,{children:m.jsx(rge,{})})}),m.jsx(tr,{path:"/calculator",element:m.jsx(ja,{children:m.jsx(ige,{})})}),m.jsx(tr,{path:"/benchmarks",element:m.jsx(ja,{children:m.jsx(sge,{})})}),m.jsx(tr,{path:"/recommendations",element:m.jsx(ja,{children:m.jsx(uge,{})})}),m.jsx(tr,{path:"/reports",element:m.jsx(ja,{children:m.jsx(cge,{})})}),m.jsx(tr,{path:"/learn",element:m.jsx(hge,{})}),m.jsx(tr,{path:"/settings",element:m.jsx(ja,{children:m.jsx(fge,{})})}),m.jsx(tr,{path:"*",element:m.jsx(Vk,{to:"/",replace:!0})})]})}),m.jsx(f8,{})]})})};qy.createRoot(document.getElementById("root")).render(m.jsx(M.StrictMode,{children:m.jsx(pge,{})}));
