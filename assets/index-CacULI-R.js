var O$=Object.defineProperty;var C$=(t,e,n)=>e in t?O$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xl=(t,e,n)=>C$(t,typeof e!="symbol"?e+"":e,n);function k$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Me(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xO={exports:{}},Fp={},EO={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=Symbol.for("react.element"),N$=Symbol.for("react.portal"),R$=Symbol.for("react.fragment"),j$=Symbol.for("react.strict_mode"),D$=Symbol.for("react.profiler"),M$=Symbol.for("react.provider"),$$=Symbol.for("react.context"),L$=Symbol.for("react.forward_ref"),V$=Symbol.for("react.suspense"),F$=Symbol.for("react.memo"),U$=Symbol.for("react.lazy"),DE=Symbol.iterator;function B$(t){return t===null||typeof t!="object"?null:(t=DE&&t[DE]||t["@@iterator"],typeof t=="function"?t:null)}var SO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TO=Object.assign,AO={};function ul(t,e,n){this.props=t,this.context=e,this.refs=AO,this.updater=n||SO}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PO(){}PO.prototype=ul.prototype;function Wb(t,e,n){this.props=t,this.context=e,this.refs=AO,this.updater=n||SO}var Hb=Wb.prototype=new PO;Hb.constructor=Wb;TO(Hb,ul.prototype);Hb.isPureReactComponent=!0;var ME=Array.isArray,IO=Object.prototype.hasOwnProperty,qb={current:null},OO={key:!0,ref:!0,__self:!0,__source:!0};function CO(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)IO.call(e,r)&&!OO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:tf,type:t,key:a,ref:o,props:i,_owner:qb.current}}function z$(t,e){return{$$typeof:tf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gb(t){return typeof t=="object"&&t!==null&&t.$$typeof===tf}function W$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $E=/\/+/g;function Ng(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W$(""+t.key):e.toString(36)}function Ih(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tf:case N$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ng(o,0):r,ME(i)?(n="",t!=null&&(n=t.replace($E,"$&/")+"/"),Ih(i,e,n,"",function(u){return u})):i!=null&&(Gb(i)&&(i=z$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($E,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ME(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+Ng(a,s);o+=Ih(a,e,n,l,i)}else if(l=B$(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+Ng(a,s++),o+=Ih(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wf(t,e,n){if(t==null)return t;var r=[],i=0;return Ih(t,r,"","",function(a){return e.call(n,a,i++)}),r}function H$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},Oh={transition:null},q$={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:Oh,ReactCurrentOwner:qb};function kO(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Wf,forEach:function(t,e,n){Wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wf(t,function(){e++}),e},toArray:function(t){return Wf(t,function(e){return e})||[]},only:function(t){if(!Gb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=ul;be.Fragment=R$;be.Profiler=D$;be.PureComponent=Wb;be.StrictMode=j$;be.Suspense=V$;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q$;be.act=kO;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=qb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)IO.call(e,l)&&!OO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:tf,type:t.type,key:i,ref:a,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:$$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M$,_context:t},t.Consumer=t};be.createElement=CO;be.createFactory=function(t){var e=CO.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:L$,render:t}};be.isValidElement=Gb;be.lazy=function(t){return{$$typeof:U$,_payload:{_status:-1,_result:t},_init:H$}};be.memo=function(t,e){return{$$typeof:F$,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Oh.transition;Oh.transition={};try{t()}finally{Oh.transition=e}};be.unstable_act=kO;be.useCallback=function(t,e){return ln.current.useCallback(t,e)};be.useContext=function(t){return ln.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};be.useEffect=function(t,e){return ln.current.useEffect(t,e)};be.useId=function(){return ln.current.useId()};be.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return ln.current.useMemo(t,e)};be.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};be.useRef=function(t){return ln.current.useRef(t)};be.useState=function(t){return ln.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return ln.current.useTransition()};be.version="18.3.1";EO.exports=be;var $=EO.exports;const D=Me($),G$=k$({__proto__:null,default:D},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K$=$,X$=Symbol.for("react.element"),Y$=Symbol.for("react.fragment"),Q$=Object.prototype.hasOwnProperty,J$=K$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z$={key:!0,ref:!0,__self:!0,__source:!0};function NO(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Q$.call(e,r)&&!Z$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X$,type:t,key:a,ref:o,props:i,_owner:J$.current}}Fp.Fragment=Y$;Fp.jsx=NO;Fp.jsxs=NO;xO.exports=Fp;var m=xO.exports,Gy={},RO={exports:{}},kn={},jO={exports:{}},DO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var X=L.length;L.push(z);e:for(;0<X;){var ee=X-1>>>1,Q=L[ee];if(0<i(Q,z))L[ee]=z,L[X]=Q,X=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],X=L.pop();if(X!==z){L[0]=X;e:for(var ee=0,Q=L.length,oe=Q>>>1;ee<oe;){var ye=2*(ee+1)-1,Re=L[ye],ze=ye+1,Ht=L[ze];if(0>i(Re,X))ze<Q&&0>i(Ht,Re)?(L[ee]=Ht,L[ze]=X,ee=ze):(L[ee]=Re,L[ye]=X,ee=ye);else if(ze<Q&&0>i(Ht,X))L[ee]=Ht,L[ze]=X,ee=ze;else break e}}return z}function i(L,z){var X=L.sortIndex-z.sortIndex;return X!==0?X:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,c=null,d=3,p=!1,b=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function O(L){if(g=!1,x(L),!b)if(n(l)!==null)b=!0,H(T);else{var z=n(u);z!==null&&G(O,z.startTime-L)}}function T(L,z){b=!1,g&&(g=!1,_(S),S=-1),p=!0;var X=d;try{for(x(z),c=n(l);c!==null&&(!(c.expirationTime>z)||L&&!C());){var ee=c.callback;if(typeof ee=="function"){c.callback=null,d=c.priorityLevel;var Q=ee(c.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?c.callback=Q:c===n(l)&&r(l),x(z)}else r(l);c=n(l)}if(c!==null)var oe=!0;else{var ye=n(u);ye!==null&&G(O,ye.startTime-z),oe=!1}return oe}finally{c=null,d=X,p=!1}}var I=!1,E=null,S=-1,P=5,k=-1;function C(){return!(t.unstable_now()-k<P)}function j(){if(E!==null){var L=t.unstable_now();k=L;var z=!0;try{z=E(!0,L)}finally{z?N():(I=!1,E=null)}}else I=!1}var N;if(typeof v=="function")N=function(){v(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=j,N=function(){U.postMessage(null)}}else N=function(){y(j,0)};function H(L){E=L,I||(I=!0,N())}function G(L,z){S=y(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,H(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var X=d;d=z;try{return L()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=d;d=L;try{return z()}finally{d=X}},t.unstable_scheduleCallback=function(L,z,X){var ee=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,L={id:f++,callback:z,priorityLevel:L,startTime:X,expirationTime:Q,sortIndex:-1},X>ee?(L.sortIndex=X,e(u,L),n(l)===null&&L===n(u)&&(g?(_(S),S=-1):g=!0,G(O,X-ee))):(L.sortIndex=Q,e(l,L),b||p||(b=!0,H(T))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var z=d;return function(){var X=d;d=z;try{return L.apply(this,arguments)}finally{d=X}}}})(DO);jO.exports=DO;var eL=jO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tL=$,On=eL;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MO=new Set,Hu={};function xo(t,e){Ts(t,e),Ts(t+"Capture",e)}function Ts(t,e){for(Hu[t]=e,t=0;t<e.length;t++)MO.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ky=Object.prototype.hasOwnProperty,nL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LE={},VE={};function rL(t){return Ky.call(VE,t)?!0:Ky.call(LE,t)?!1:nL.test(t)?VE[t]=!0:(LE[t]=!0,!1)}function iL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aL(t,e,n,r){if(e===null||typeof e>"u"||iL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kb=/[\-:]([a-z])/g;function Xb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kb,Xb);zt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kb,Xb);zt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kb,Xb);zt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yb(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aL(e,n,i,r)&&(n=null),r||i===null?rL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mi=tL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hf=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Qb=Symbol.for("react.strict_mode"),Xy=Symbol.for("react.profiler"),$O=Symbol.for("react.provider"),LO=Symbol.for("react.context"),Jb=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Qy=Symbol.for("react.suspense_list"),Zb=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),VO=Symbol.for("react.offscreen"),FE=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=FE&&t[FE]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,Rg;function pu(t){if(Rg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rg=e&&e[1]||""}return`
`+Rg+t}var jg=!1;function Dg(t,e){if(!t||jg)return"";jg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{jg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pu(t):""}function oL(t){switch(t.tag){case 5:return pu(t.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return t=Dg(t.type,!1),t;case 11:return t=Dg(t.type.render,!1),t;case 1:return t=Dg(t.type,!0),t;default:return""}}function Jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Ko:return"Portal";case Xy:return"Profiler";case Qb:return"StrictMode";case Yy:return"Suspense";case Qy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LO:return(t.displayName||"Context")+".Consumer";case $O:return(t._context.displayName||"Context")+".Provider";case Jb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zb:return e=t.displayName||null,e!==null?e:Jy(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return Jy(t(e))}catch{}}return null}function sL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jy(e);case 8:return e===Qb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lL(t){var e=FO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qf(t){t._valueTracker||(t._valueTracker=lL(t))}function UO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zy(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function UE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BO(t,e){e=e.checked,e!=null&&Yb(t,"checked",e,!1)}function ev(t,e){BO(t,e);var n=sa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tv(t,e.type,n):e.hasOwnProperty("defaultValue")&&tv(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function BE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tv(t,e,n){(e!=="number"||Yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mu=Array.isArray;function cs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(mu(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sa(n)}}function zO(t,e){var n=sa(e.value),r=sa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gf,HO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gf=Gf||document.createElement("div"),Gf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uL=["Webkit","ms","Moz","O"];Object.keys(Tu).forEach(function(t){uL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tu[e]=Tu[t]})});function qO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tu.hasOwnProperty(t)&&Tu[t]?(""+e).trim():e+"px"}function GO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cL=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iv(t,e){if(e){if(cL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function av(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function ew(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sv=null,fs=null,hs=null;function HE(t){if(t=af(t)){if(typeof sv!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Hp(e),sv(t.stateNode,t.type,e))}}function KO(t){fs?hs?hs.push(t):hs=[t]:fs=t}function XO(){if(fs){var t=fs,e=hs;if(hs=fs=null,HE(t),e)for(t=0;t<e.length;t++)HE(e[t])}}function YO(t,e){return t(e)}function QO(){}var Mg=!1;function JO(t,e,n){if(Mg)return t(e,n);Mg=!0;try{return YO(t,e,n)}finally{Mg=!1,(fs!==null||hs!==null)&&(QO(),XO())}}function Gu(t,e){var n=t.stateNode;if(n===null)return null;var r=Hp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var lv=!1;if(ri)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){lv=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{lv=!1}function fL(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Au=!1,Qh=null,Jh=!1,uv=null,hL={onError:function(t){Au=!0,Qh=t}};function dL(t,e,n,r,i,a,o,s,l){Au=!1,Qh=null,fL.apply(hL,arguments)}function pL(t,e,n,r,i,a,o,s,l){if(dL.apply(this,arguments),Au){if(Au){var u=Qh;Au=!1,Qh=null}else throw Error(Y(198));Jh||(Jh=!0,uv=u)}}function Eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qE(t){if(Eo(t)!==t)throw Error(Y(188))}function mL(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qE(i),t;if(a===r)return qE(i),e;a=a.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function eC(t){return t=mL(t),t!==null?tC(t):null}function tC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tC(t);if(e!==null)return e;t=t.sibling}return null}var nC=On.unstable_scheduleCallback,GE=On.unstable_cancelCallback,gL=On.unstable_shouldYield,yL=On.unstable_requestPaint,ut=On.unstable_now,vL=On.unstable_getCurrentPriorityLevel,tw=On.unstable_ImmediatePriority,rC=On.unstable_UserBlockingPriority,Zh=On.unstable_NormalPriority,bL=On.unstable_LowPriority,iC=On.unstable_IdlePriority,Up=null,Pr=null;function wL(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Up,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:EL,_L=Math.log,xL=Math.LN2;function EL(t){return t>>>=0,t===0?32:31-(_L(t)/xL|0)|0}var Kf=64,Xf=4194304;function gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ed(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=gu(s):(a&=o,a!==0&&(r=gu(a)))}else o=n&~i,o!==0?r=gu(o):a!==0&&(r=gu(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function SL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-hr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=SL(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function cv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aC(){var t=Kf;return Kf<<=1,!(Kf&4194240)&&(Kf=64),t}function $g(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function AL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function nw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function oC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sC,rw,lC,uC,cC,fv=!1,Yf=[],Hi=null,qi=null,Gi=null,Ku=new Map,Xu=new Map,Ri=[],PL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KE(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(e.pointerId)}}function Jl(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=af(e),e!==null&&rw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IL(t,e,n,r,i){switch(e){case"focusin":return Hi=Jl(Hi,t,e,n,r,i),!0;case"dragenter":return qi=Jl(qi,t,e,n,r,i),!0;case"mouseover":return Gi=Jl(Gi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ku.set(a,Jl(Ku.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Xu.set(a,Jl(Xu.get(a)||null,t,e,n,r,i)),!0}return!1}function fC(t){var e=za(t.target);if(e!==null){var n=Eo(e);if(n!==null){if(e=n.tag,e===13){if(e=ZO(n),e!==null){t.blockedOn=e,cC(t.priority,function(){lC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ch(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ov=r,n.target.dispatchEvent(r),ov=null}else return e=af(n),e!==null&&rw(e),t.blockedOn=n,!1;e.shift()}return!0}function XE(t,e,n){Ch(t)&&n.delete(e)}function OL(){fv=!1,Hi!==null&&Ch(Hi)&&(Hi=null),qi!==null&&Ch(qi)&&(qi=null),Gi!==null&&Ch(Gi)&&(Gi=null),Ku.forEach(XE),Xu.forEach(XE)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,fv||(fv=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,OL)))}function Yu(t){function e(i){return Zl(i,t)}if(0<Yf.length){Zl(Yf[0],t);for(var n=1;n<Yf.length;n++){var r=Yf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hi!==null&&Zl(Hi,t),qi!==null&&Zl(qi,t),Gi!==null&&Zl(Gi,t),Ku.forEach(e),Xu.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)fC(n),n.blockedOn===null&&Ri.shift()}var ds=mi.ReactCurrentBatchConfig,td=!0;function CL(t,e,n,r){var i=ke,a=ds.transition;ds.transition=null;try{ke=1,iw(t,e,n,r)}finally{ke=i,ds.transition=a}}function kL(t,e,n,r){var i=ke,a=ds.transition;ds.transition=null;try{ke=4,iw(t,e,n,r)}finally{ke=i,ds.transition=a}}function iw(t,e,n,r){if(td){var i=hv(t,e,n,r);if(i===null)Gg(t,e,r,nd,n),KE(t,r);else if(IL(i,t,e,n,r))r.stopPropagation();else if(KE(t,r),e&4&&-1<PL.indexOf(t)){for(;i!==null;){var a=af(i);if(a!==null&&sC(a),a=hv(t,e,n,r),a===null&&Gg(t,e,r,nd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Gg(t,e,r,null,n)}}var nd=null;function hv(t,e,n,r){if(nd=null,t=ew(r),t=za(t),t!==null)if(e=Eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nd=t,null}function hC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vL()){case tw:return 1;case rC:return 4;case Zh:case bL:return 16;case iC:return 536870912;default:return 16}default:return 16}}var Fi=null,aw=null,kh=null;function dC(){if(kh)return kh;var t,e=aw,n=e.length,r,i="value"in Fi?Fi.value:Fi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return kh=i.slice(t,1<r?1-r:void 0)}function Nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qf(){return!0}function YE(){return!1}function Nn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qf:YE,this.isPropagationStopped=YE,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qf)},persist:function(){},isPersistent:Qf}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ow=Nn(cl),rf=nt({},cl,{view:0,detail:0}),NL=Nn(rf),Lg,Vg,eu,Bp=nt({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eu&&(eu&&t.type==="mousemove"?(Lg=t.screenX-eu.screenX,Vg=t.screenY-eu.screenY):Vg=Lg=0,eu=t),Lg)},movementY:function(t){return"movementY"in t?t.movementY:Vg}}),QE=Nn(Bp),RL=nt({},Bp,{dataTransfer:0}),jL=Nn(RL),DL=nt({},rf,{relatedTarget:0}),Fg=Nn(DL),ML=nt({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),$L=Nn(ML),LL=nt({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VL=Nn(LL),FL=nt({},cl,{data:0}),JE=Nn(FL),UL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zL[t])?!!e[t]:!1}function sw(){return WL}var HL=nt({},rf,{key:function(t){if(t.key){var e=UL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sw,charCode:function(t){return t.type==="keypress"?Nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qL=Nn(HL),GL=nt({},Bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZE=Nn(GL),KL=nt({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sw}),XL=Nn(KL),YL=nt({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),QL=Nn(YL),JL=nt({},Bp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZL=Nn(JL),e4=[9,13,27,32],lw=ri&&"CompositionEvent"in window,Pu=null;ri&&"documentMode"in document&&(Pu=document.documentMode);var t4=ri&&"TextEvent"in window&&!Pu,pC=ri&&(!lw||Pu&&8<Pu&&11>=Pu),e1=" ",t1=!1;function mC(t,e){switch(t){case"keyup":return e4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yo=!1;function n4(t,e){switch(t){case"compositionend":return gC(e);case"keypress":return e.which!==32?null:(t1=!0,e1);case"textInput":return t=e.data,t===e1&&t1?null:t;default:return null}}function r4(t,e){if(Yo)return t==="compositionend"||!lw&&mC(t,e)?(t=dC(),kh=aw=Fi=null,Yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pC&&e.locale!=="ko"?null:e.data;default:return null}}var i4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i4[t.type]:e==="textarea"}function yC(t,e,n,r){KO(r),e=rd(e,"onChange"),0<e.length&&(n=new ow("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,Qu=null;function a4(t){IC(t,0)}function zp(t){var e=Zo(t);if(UO(e))return t}function o4(t,e){if(t==="change")return e}var vC=!1;if(ri){var Ug;if(ri){var Bg="oninput"in document;if(!Bg){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),Bg=typeof r1.oninput=="function"}Ug=Bg}else Ug=!1;vC=Ug&&(!document.documentMode||9<document.documentMode)}function i1(){Iu&&(Iu.detachEvent("onpropertychange",bC),Qu=Iu=null)}function bC(t){if(t.propertyName==="value"&&zp(Qu)){var e=[];yC(e,Qu,t,ew(t)),JO(a4,e)}}function s4(t,e,n){t==="focusin"?(i1(),Iu=e,Qu=n,Iu.attachEvent("onpropertychange",bC)):t==="focusout"&&i1()}function l4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zp(Qu)}function u4(t,e){if(t==="click")return zp(e)}function c4(t,e){if(t==="input"||t==="change")return zp(e)}function f4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:f4;function Ju(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ky.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function a1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o1(t,e){var n=a1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a1(n)}}function wC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _C(){for(var t=window,e=Yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yh(t.document)}return e}function uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h4(t){var e=_C(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wC(n.ownerDocument.documentElement,n)){if(r!==null&&uw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=o1(n,a);var o=o1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d4=ri&&"documentMode"in document&&11>=document.documentMode,Qo=null,dv=null,Ou=null,pv=!1;function s1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pv||Qo==null||Qo!==Yh(r)||(r=Qo,"selectionStart"in r&&uw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ou&&Ju(Ou,r)||(Ou=r,r=rd(dv,"onSelect"),0<r.length&&(e=new ow("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qo)))}function Jf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jo={animationend:Jf("Animation","AnimationEnd"),animationiteration:Jf("Animation","AnimationIteration"),animationstart:Jf("Animation","AnimationStart"),transitionend:Jf("Transition","TransitionEnd")},zg={},xC={};ri&&(xC=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Wp(t){if(zg[t])return zg[t];if(!Jo[t])return t;var e=Jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xC)return zg[t]=e[n];return t}var EC=Wp("animationend"),SC=Wp("animationiteration"),TC=Wp("animationstart"),AC=Wp("transitionend"),PC=new Map,l1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(t,e){PC.set(t,e),xo(e,[t])}for(var Wg=0;Wg<l1.length;Wg++){var Hg=l1[Wg],p4=Hg.toLowerCase(),m4=Hg[0].toUpperCase()+Hg.slice(1);ma(p4,"on"+m4)}ma(EC,"onAnimationEnd");ma(SC,"onAnimationIteration");ma(TC,"onAnimationStart");ma("dblclick","onDoubleClick");ma("focusin","onFocus");ma("focusout","onBlur");ma(AC,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function u1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pL(r,e,void 0,t),t.currentTarget=null}function IC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;u1(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;u1(i,s,u),a=l}}}if(Jh)throw t=uv,Jh=!1,uv=null,t}function qe(t,e){var n=e[bv];n===void 0&&(n=e[bv]=new Set);var r=t+"__bubble";n.has(r)||(OC(e,t,2,!1),n.add(r))}function qg(t,e,n){var r=0;e&&(r|=4),OC(n,t,r,e)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Zu(t){if(!t[Zf]){t[Zf]=!0,MO.forEach(function(n){n!=="selectionchange"&&(g4.has(n)||qg(n,!1,t),qg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zf]||(e[Zf]=!0,qg("selectionchange",!1,e))}}function OC(t,e,n,r){switch(hC(e)){case 1:var i=CL;break;case 4:i=kL;break;default:i=iw}n=i.bind(null,e,n,t),i=void 0,!lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gg(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=za(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}JO(function(){var u=a,f=ew(n),c=[];e:{var d=PC.get(t);if(d!==void 0){var p=ow,b=t;switch(t){case"keypress":if(Nh(n)===0)break e;case"keydown":case"keyup":p=qL;break;case"focusin":b="focus",p=Fg;break;case"focusout":b="blur",p=Fg;break;case"beforeblur":case"afterblur":p=Fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=QE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XL;break;case EC:case SC:case TC:p=$L;break;case AC:p=QL;break;case"scroll":p=NL;break;case"wheel":p=ZL;break;case"copy":case"cut":case"paste":p=VL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ZE}var g=(e&4)!==0,y=!g&&t==="scroll",_=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,x;v!==null;){x=v;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,_!==null&&(O=Gu(v,_),O!=null&&g.push(ec(v,O,x)))),y)break;v=v.return}0<g.length&&(d=new p(d,b,null,n,f),c.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==ov&&(b=n.relatedTarget||n.fromElement)&&(za(b)||b[ii]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?za(b):null,b!==null&&(y=Eo(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(g=QE,O="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=ZE,O="onPointerLeave",_="onPointerEnter",v="pointer"),y=p==null?d:Zo(p),x=b==null?d:Zo(b),d=new g(O,v+"leave",p,n,f),d.target=y,d.relatedTarget=x,O=null,za(f)===u&&(g=new g(_,v+"enter",b,n,f),g.target=x,g.relatedTarget=y,O=g),y=O,p&&b)t:{for(g=p,_=b,v=0,x=g;x;x=Vo(x))v++;for(x=0,O=_;O;O=Vo(O))x++;for(;0<v-x;)g=Vo(g),v--;for(;0<x-v;)_=Vo(_),x--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=Vo(g),_=Vo(_)}g=null}else g=null;p!==null&&c1(c,d,p,g,!1),b!==null&&y!==null&&c1(c,y,b,g,!0)}}e:{if(d=u?Zo(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=o4;else if(n1(d))if(vC)T=c4;else{T=l4;var I=s4}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=u4);if(T&&(T=T(t,u))){yC(c,T,n,f);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&tv(d,"number",d.value)}switch(I=u?Zo(u):window,t){case"focusin":(n1(I)||I.contentEditable==="true")&&(Qo=I,dv=u,Ou=null);break;case"focusout":Ou=dv=Qo=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,s1(c,n,f);break;case"selectionchange":if(d4)break;case"keydown":case"keyup":s1(c,n,f)}var E;if(lw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Yo?mC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(pC&&n.locale!=="ko"&&(Yo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Yo&&(E=dC()):(Fi=f,aw="value"in Fi?Fi.value:Fi.textContent,Yo=!0)),I=rd(u,S),0<I.length&&(S=new JE(S,t,null,n,f),c.push({event:S,listeners:I}),E?S.data=E:(E=gC(n),E!==null&&(S.data=E)))),(E=t4?n4(t,n):r4(t,n))&&(u=rd(u,"onBeforeInput"),0<u.length&&(f=new JE("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=E))}IC(c,e)})}function ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Gu(t,n),a!=null&&r.unshift(ec(t,a,i)),a=Gu(t,e),a!=null&&r.push(ec(t,a,i))),t=t.return}return r}function Vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c1(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Gu(n,a),l!=null&&o.unshift(ec(n,l,s))):i||(l=Gu(n,a),l!=null&&o.push(ec(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y4=/\r\n?/g,v4=/\u0000|\uFFFD/g;function f1(t){return(typeof t=="string"?t:""+t).replace(y4,`
`).replace(v4,"")}function eh(t,e,n){if(e=f1(e),f1(t)!==e&&n)throw Error(Y(425))}function id(){}var mv=null,gv=null;function yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vv=typeof setTimeout=="function"?setTimeout:void 0,b4=typeof clearTimeout=="function"?clearTimeout:void 0,h1=typeof Promise=="function"?Promise:void 0,w4=typeof queueMicrotask=="function"?queueMicrotask:typeof h1<"u"?function(t){return h1.resolve(null).then(t).catch(_4)}:vv;function _4(t){setTimeout(function(){throw t})}function Kg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yu(e)}function Ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Sr="__reactFiber$"+fl,tc="__reactProps$"+fl,ii="__reactContainer$"+fl,bv="__reactEvents$"+fl,x4="__reactListeners$"+fl,E4="__reactHandles$"+fl;function za(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d1(t);t!==null;){if(n=t[Sr])return n;t=d1(t)}return e}t=n,n=t.parentNode}return null}function af(t){return t=t[Sr]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Hp(t){return t[tc]||null}var wv=[],es=-1;function ga(t){return{current:t}}function Xe(t){0>es||(t.current=wv[es],wv[es]=null,es--)}function Be(t,e){es++,wv[es]=t.current,t.current=e}var la={},tn=ga(la),gn=ga(!1),ro=la;function As(t,e){var n=t.type.contextTypes;if(!n)return la;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function ad(){Xe(gn),Xe(tn)}function p1(t,e,n){if(tn.current!==la)throw Error(Y(168));Be(tn,e),Be(gn,n)}function CC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,sL(t)||"Unknown",i));return nt({},n,r)}function od(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,ro=tn.current,Be(tn,t),Be(gn,gn.current),!0}function m1(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=CC(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,Xe(gn),Xe(tn),Be(tn,t)):Xe(gn),Be(gn,n)}var zr=null,qp=!1,Xg=!1;function kC(t){zr===null?zr=[t]:zr.push(t)}function S4(t){qp=!0,kC(t)}function ya(){if(!Xg&&zr!==null){Xg=!0;var t=0,e=ke;try{var n=zr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,qp=!1}catch(i){throw zr!==null&&(zr=zr.slice(t+1)),nC(tw,ya),i}finally{ke=e,Xg=!1}}return null}var ts=[],ns=0,sd=null,ld=0,Ln=[],Vn=0,io=null,Wr=1,Hr="";function $a(t,e){ts[ns++]=ld,ts[ns++]=sd,sd=t,ld=e}function NC(t,e,n){Ln[Vn++]=Wr,Ln[Vn++]=Hr,Ln[Vn++]=io,io=t;var r=Wr;t=Hr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var a=32-hr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wr=1<<32-hr(e)+i|n<<i|r,Hr=a+t}else Wr=1<<a|n<<i|r,Hr=t}function cw(t){t.return!==null&&($a(t,1),NC(t,1,0))}function fw(t){for(;t===sd;)sd=ts[--ns],ts[ns]=null,ld=ts[--ns],ts[ns]=null;for(;t===io;)io=Ln[--Vn],Ln[Vn]=null,Hr=Ln[--Vn],Ln[Vn]=null,Wr=Ln[--Vn],Ln[Vn]=null}var In=null,An=null,Ye=!1,sr=null;function RC(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function g1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,An=Ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=io!==null?{id:Wr,overflow:Hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,An=null,!0):!1;default:return!1}}function _v(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xv(t){if(Ye){var e=An;if(e){var n=e;if(!g1(t,e)){if(_v(t))throw Error(Y(418));e=Ki(n.nextSibling);var r=In;e&&g1(t,e)?RC(r,n):(t.flags=t.flags&-4097|2,Ye=!1,In=t)}}else{if(_v(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ye=!1,In=t}}}function y1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function th(t){if(t!==In)return!1;if(!Ye)return y1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yv(t.type,t.memoizedProps)),e&&(e=An)){if(_v(t))throw jC(),Error(Y(418));for(;e;)RC(t,e),e=Ki(e.nextSibling)}if(y1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=Ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=In?Ki(t.stateNode.nextSibling):null;return!0}function jC(){for(var t=An;t;)t=Ki(t.nextSibling)}function Ps(){An=In=null,Ye=!1}function hw(t){sr===null?sr=[t]:sr.push(t)}var T4=mi.ReactCurrentBatchConfig;function tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function nh(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v1(t){var e=t._init;return e(t._payload)}function DC(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=Ji(_,v),_.index=0,_.sibling=null,_}function a(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,v,x,O){return v===null||v.tag!==6?(v=ny(x,_.mode,O),v.return=_,v):(v=i(v,x),v.return=_,v)}function l(_,v,x,O){var T=x.type;return T===Xo?f(_,v,x.props.children,O,x.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ci&&v1(T)===v.type)?(O=i(v,x.props),O.ref=tu(_,v,x),O.return=_,O):(O=Vh(x.type,x.key,x.props,null,_.mode,O),O.ref=tu(_,v,x),O.return=_,O)}function u(_,v,x,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=ry(x,_.mode,O),v.return=_,v):(v=i(v,x.children||[]),v.return=_,v)}function f(_,v,x,O,T){return v===null||v.tag!==7?(v=Ja(x,_.mode,O,T),v.return=_,v):(v=i(v,x),v.return=_,v)}function c(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ny(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hf:return x=Vh(v.type,v.key,v.props,null,_.mode,x),x.ref=tu(_,null,v),x.return=_,x;case Ko:return v=ry(v,_.mode,x),v.return=_,v;case Ci:var O=v._init;return c(_,O(v._payload),x)}if(mu(v)||Yl(v))return v=Ja(v,_.mode,x,null),v.return=_,v;nh(_,v)}return null}function d(_,v,x,O){var T=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:s(_,v,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hf:return x.key===T?l(_,v,x,O):null;case Ko:return x.key===T?u(_,v,x,O):null;case Ci:return T=x._init,d(_,v,T(x._payload),O)}if(mu(x)||Yl(x))return T!==null?null:f(_,v,x,O,null);nh(_,x)}return null}function p(_,v,x,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(x)||null,s(v,_,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Hf:return _=_.get(O.key===null?x:O.key)||null,l(v,_,O,T);case Ko:return _=_.get(O.key===null?x:O.key)||null,u(v,_,O,T);case Ci:var I=O._init;return p(_,v,x,I(O._payload),T)}if(mu(O)||Yl(O))return _=_.get(x)||null,f(v,_,O,T,null);nh(v,O)}return null}function b(_,v,x,O){for(var T=null,I=null,E=v,S=v=0,P=null;E!==null&&S<x.length;S++){E.index>S?(P=E,E=null):P=E.sibling;var k=d(_,E,x[S],O);if(k===null){E===null&&(E=P);break}t&&E&&k.alternate===null&&e(_,E),v=a(k,v,S),I===null?T=k:I.sibling=k,I=k,E=P}if(S===x.length)return n(_,E),Ye&&$a(_,S),T;if(E===null){for(;S<x.length;S++)E=c(_,x[S],O),E!==null&&(v=a(E,v,S),I===null?T=E:I.sibling=E,I=E);return Ye&&$a(_,S),T}for(E=r(_,E);S<x.length;S++)P=p(E,_,S,x[S],O),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?S:P.key),v=a(P,v,S),I===null?T=P:I.sibling=P,I=P);return t&&E.forEach(function(C){return e(_,C)}),Ye&&$a(_,S),T}function g(_,v,x,O){var T=Yl(x);if(typeof T!="function")throw Error(Y(150));if(x=T.call(x),x==null)throw Error(Y(151));for(var I=T=null,E=v,S=v=0,P=null,k=x.next();E!==null&&!k.done;S++,k=x.next()){E.index>S?(P=E,E=null):P=E.sibling;var C=d(_,E,k.value,O);if(C===null){E===null&&(E=P);break}t&&E&&C.alternate===null&&e(_,E),v=a(C,v,S),I===null?T=C:I.sibling=C,I=C,E=P}if(k.done)return n(_,E),Ye&&$a(_,S),T;if(E===null){for(;!k.done;S++,k=x.next())k=c(_,k.value,O),k!==null&&(v=a(k,v,S),I===null?T=k:I.sibling=k,I=k);return Ye&&$a(_,S),T}for(E=r(_,E);!k.done;S++,k=x.next())k=p(E,_,S,k.value,O),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?S:k.key),v=a(k,v,S),I===null?T=k:I.sibling=k,I=k);return t&&E.forEach(function(j){return e(_,j)}),Ye&&$a(_,S),T}function y(_,v,x,O){if(typeof x=="object"&&x!==null&&x.type===Xo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Hf:e:{for(var T=x.key,I=v;I!==null;){if(I.key===T){if(T=x.type,T===Xo){if(I.tag===7){n(_,I.sibling),v=i(I,x.props.children),v.return=_,_=v;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ci&&v1(T)===I.type){n(_,I.sibling),v=i(I,x.props),v.ref=tu(_,I,x),v.return=_,_=v;break e}n(_,I);break}else e(_,I);I=I.sibling}x.type===Xo?(v=Ja(x.props.children,_.mode,O,x.key),v.return=_,_=v):(O=Vh(x.type,x.key,x.props,null,_.mode,O),O.ref=tu(_,v,x),O.return=_,_=O)}return o(_);case Ko:e:{for(I=x.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=i(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=ry(x,_.mode,O),v.return=_,_=v}return o(_);case Ci:return I=x._init,y(_,v,I(x._payload),O)}if(mu(x))return b(_,v,x,O);if(Yl(x))return g(_,v,x,O);nh(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,x),v.return=_,_=v):(n(_,v),v=ny(x,_.mode,O),v.return=_,_=v),o(_)):n(_,v)}return y}var Is=DC(!0),MC=DC(!1),ud=ga(null),cd=null,rs=null,dw=null;function pw(){dw=rs=cd=null}function mw(t){var e=ud.current;Xe(ud),t._currentValue=e}function Ev(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ps(t,e){cd=t,dw=rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(dw!==t)if(t={context:t,memoizedValue:e,next:null},rs===null){if(cd===null)throw Error(Y(308));rs=t,cd.dependencies={lanes:0,firstContext:t}}else rs=rs.next=t;return e}var Wa=null;function gw(t){Wa===null?Wa=[t]:Wa.push(t)}function $C(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ai(t,r)}function ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ki=!1;function yw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ai(t,n)}return i=r.interleaved,i===null?(e.next=e,gw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ai(t,n)}function Rh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nw(t,n)}}function b1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fd(t,e,n,r){var i=t.updateQueue;ki=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(a!==null){var c=i.baseState;o=0,f=u=l=null,s=a;do{var d=s.lane,p=s.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=t,g=s;switch(d=e,p=n,g.tag){case 1:if(b=g.payload,typeof b=="function"){c=b.call(p,c,d);break e}c=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,d=typeof b=="function"?b.call(p,c,d):b,d==null)break e;c=nt({},c,d);break e;case 2:ki=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,l=c):f=f.next=p,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=c}}function w1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var of={},Ir=ga(of),nc=ga(of),rc=ga(of);function Ha(t){if(t===of)throw Error(Y(174));return t}function vw(t,e){switch(Be(rc,e),Be(nc,t),Be(Ir,of),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rv(e,t)}Xe(Ir),Be(Ir,e)}function Os(){Xe(Ir),Xe(nc),Xe(rc)}function VC(t){Ha(rc.current);var e=Ha(Ir.current),n=rv(e,t.type);e!==n&&(Be(nc,t),Be(Ir,n))}function bw(t){nc.current===t&&(Xe(Ir),Xe(nc))}var et=ga(0);function hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yg=[];function ww(){for(var t=0;t<Yg.length;t++)Yg[t]._workInProgressVersionPrimary=null;Yg.length=0}var jh=mi.ReactCurrentDispatcher,Qg=mi.ReactCurrentBatchConfig,ao=0,tt=null,Et=null,jt=null,dd=!1,Cu=!1,ic=0,A4=0;function qt(){throw Error(Y(321))}function _w(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function xw(t,e,n,r,i,a){if(ao=a,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jh.current=t===null||t.memoizedState===null?C4:k4,t=n(r,i),Cu){a=0;do{if(Cu=!1,ic=0,25<=a)throw Error(Y(301));a+=1,jt=Et=null,e.updateQueue=null,jh.current=N4,t=n(r,i)}while(Cu)}if(jh.current=pd,e=Et!==null&&Et.next!==null,ao=0,jt=Et=tt=null,dd=!1,e)throw Error(Y(300));return t}function Ew(){var t=ic!==0;return ic=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?tt.memoizedState=jt=t:jt=jt.next=t,jt}function Xn(){if(Et===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=jt===null?tt.memoizedState:jt.next;if(e!==null)jt=e,Et=t;else{if(t===null)throw Error(Y(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},jt===null?tt.memoizedState=jt=t:jt=jt.next=t}return jt}function ac(t,e){return typeof e=="function"?e(t):e}function Jg(t){var e=Xn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var f=u.lane;if((ao&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,o=r):l=l.next=c,tt.lanes|=f,oo|=f}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,pr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,tt.lanes|=a,oo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zg(t){var e=Xn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);pr(a,e.memoizedState)||(pn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function FC(){}function UC(t,e){var n=tt,r=Xn(),i=e(),a=!pr(r.memoizedState,i);if(a&&(r.memoizedState=i,pn=!0),r=r.queue,Sw(WC.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,oc(9,zC.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(Y(349));ao&30||BC(n,e,i)}return i}function BC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zC(t,e,n,r){e.value=n,e.getSnapshot=r,HC(e)&&qC(t)}function WC(t,e,n){return n(function(){HC(e)&&qC(t)})}function HC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function qC(t){var e=ai(t,1);e!==null&&dr(e,t,1,-1)}function _1(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:t},e.queue=t,t=t.dispatch=O4.bind(null,tt,t),[e.memoizedState,t]}function oc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GC(){return Xn().memoizedState}function Dh(t,e,n,r){var i=xr();tt.flags|=t,i.memoizedState=oc(1|e,n,void 0,r===void 0?null:r)}function Gp(t,e,n,r){var i=Xn();r=r===void 0?null:r;var a=void 0;if(Et!==null){var o=Et.memoizedState;if(a=o.destroy,r!==null&&_w(r,o.deps)){i.memoizedState=oc(e,n,a,r);return}}tt.flags|=t,i.memoizedState=oc(1|e,n,a,r)}function x1(t,e){return Dh(8390656,8,t,e)}function Sw(t,e){return Gp(2048,8,t,e)}function KC(t,e){return Gp(4,2,t,e)}function XC(t,e){return Gp(4,4,t,e)}function YC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QC(t,e,n){return n=n!=null?n.concat([t]):null,Gp(4,4,YC.bind(null,e,t),n)}function Tw(){}function JC(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_w(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZC(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_w(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ek(t,e,n){return ao&21?(pr(n,e)||(n=aC(),tt.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function P4(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Qg.transition;Qg.transition={};try{t(!1),e()}finally{ke=n,Qg.transition=r}}function tk(){return Xn().memoizedState}function I4(t,e,n){var r=Qi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nk(t))rk(e,n);else if(n=$C(t,e,n,r),n!==null){var i=sn();dr(n,t,r,i),ik(n,e,r)}}function O4(t,e,n){var r=Qi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nk(t))rk(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,pr(s,o)){var l=e.interleaved;l===null?(i.next=i,gw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$C(t,e,i,r),n!==null&&(i=sn(),dr(n,t,r,i),ik(n,e,r))}}function nk(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function rk(t,e){Cu=dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ik(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nw(t,n)}}var pd={readContext:Kn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},C4={readContext:Kn,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:x1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dh(4194308,4,YC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dh(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=I4.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:_1,useDebugValue:Tw,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=_1(!1),e=t[0];return t=P4.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=xr();if(Ye){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Dt===null)throw Error(Y(349));ao&30||BC(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,x1(WC.bind(null,r,a,t),[t]),r.flags|=2048,oc(9,zC.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=xr(),e=Dt.identifierPrefix;if(Ye){var n=Hr,r=Wr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ic++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k4={readContext:Kn,useCallback:JC,useContext:Kn,useEffect:Sw,useImperativeHandle:QC,useInsertionEffect:KC,useLayoutEffect:XC,useMemo:ZC,useReducer:Jg,useRef:GC,useState:function(){return Jg(ac)},useDebugValue:Tw,useDeferredValue:function(t){var e=Xn();return ek(e,Et.memoizedState,t)},useTransition:function(){var t=Jg(ac)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:FC,useSyncExternalStore:UC,useId:tk,unstable_isNewReconciler:!1},N4={readContext:Kn,useCallback:JC,useContext:Kn,useEffect:Sw,useImperativeHandle:QC,useInsertionEffect:KC,useLayoutEffect:XC,useMemo:ZC,useReducer:Zg,useRef:GC,useState:function(){return Zg(ac)},useDebugValue:Tw,useDeferredValue:function(t){var e=Xn();return Et===null?e.memoizedState=t:ek(e,Et.memoizedState,t)},useTransition:function(){var t=Zg(ac)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:FC,useSyncExternalStore:UC,useId:tk,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kp={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Qi(t),a=Qr(r,i);a.payload=e,n!=null&&(a.callback=n),e=Xi(t,a,i),e!==null&&(dr(e,t,i,r),Rh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Qi(t),a=Qr(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Xi(t,a,i),e!==null&&(dr(e,t,i,r),Rh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=Qi(t),i=Qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,r),e!==null&&(dr(e,t,r,n),Rh(e,t,r))}};function E1(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Ju(n,r)||!Ju(i,a):!0}function ak(t,e,n){var r=!1,i=la,a=e.contextType;return typeof a=="object"&&a!==null?a=Kn(a):(i=yn(e)?ro:tn.current,r=e.contextTypes,a=(r=r!=null)?As(t,i):la),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function S1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kp.enqueueReplaceState(e,e.state,null)}function Tv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Kn(a):(a=yn(e)?ro:tn.current,i.context=As(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Sv(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kp.enqueueReplaceState(i,i.state,null),fd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,e){try{var n="",r=e;do n+=oL(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ey(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Av(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R4=typeof WeakMap=="function"?WeakMap:Map;function ok(t,e,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gd||(gd=!0,Mv=r),Av(t,e)},n}function sk(t,e,n){n=Qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Av(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Av(t,e),typeof r!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function T1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=G4.bind(null,t,e,n),e.then(t,t))}function A1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qr(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var j4=mi.ReactCurrentOwner,pn=!1;function an(t,e,n,r){e.child=t===null?MC(e,null,n,r):Is(e,t.child,n,r)}function I1(t,e,n,r,i){n=n.render;var a=e.ref;return ps(e,i),r=xw(t,e,n,r,a,i),n=Ew(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(Ye&&n&&cw(e),e.flags|=1,an(t,e,r,i),e.child)}function O1(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Rw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,lk(t,e,a,r,i)):(t=Vh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ju,n(o,r)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Ji(a,r),t.ref=e.ref,t.return=e,e.child=t}function lk(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Ju(a,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,oi(t,e,i)}return Pv(t,e,n,r,i)}function uk(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(as,En),En|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(as,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Be(as,En),En|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Be(as,En),En|=r;return an(t,e,i,n),e.child}function ck(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pv(t,e,n,r,i){var a=yn(n)?ro:tn.current;return a=As(e,a),ps(e,i),n=xw(t,e,n,r,a,i),r=Ew(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(Ye&&r&&cw(e),e.flags|=1,an(t,e,n,i),e.child)}function C1(t,e,n,r,i){if(yn(n)){var a=!0;od(e)}else a=!1;if(ps(e,i),e.stateNode===null)Mh(t,e),ak(e,n,r),Tv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kn(u):(u=yn(n)?ro:tn.current,u=As(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&S1(e,o,r,u),ki=!1;var d=e.memoizedState;o.state=d,fd(e,r,o,i),l=e.memoizedState,s!==r||d!==l||gn.current||ki?(typeof f=="function"&&(Sv(e,n,f,r),l=e.memoizedState),(s=ki||E1(e,n,s,r,d,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:rr(e.type,s),o.props=u,c=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=yn(n)?ro:tn.current,l=As(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==c||d!==l)&&S1(e,o,r,l),ki=!1,d=e.memoizedState,o.state=d,fd(e,r,o,i);var b=e.memoizedState;s!==c||d!==b||gn.current||ki?(typeof p=="function"&&(Sv(e,n,p,r),b=e.memoizedState),(u=ki||E1(e,n,u,r,d,b,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Iv(t,e,n,r,a,i)}function Iv(t,e,n,r,i,a){ck(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&m1(e,n,!1),oi(t,e,a);r=e.stateNode,j4.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Is(e,t.child,null,a),e.child=Is(e,null,s,a)):an(t,e,s,a),e.memoizedState=r.state,i&&m1(e,n,!0),e.child}function fk(t){var e=t.stateNode;e.pendingContext?p1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p1(t,e.context,!1),vw(t,e.containerInfo)}function k1(t,e,n,r,i){return Ps(),hw(i),e.flags|=256,an(t,e,n,r),e.child}var Ov={dehydrated:null,treeContext:null,retryLane:0};function Cv(t){return{baseLanes:t,cachePool:null,transitions:null}}function hk(t,e,n){var r=e.pendingProps,i=et.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(et,i&1),t===null)return xv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Qp(o,r,0,null),t=Ja(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Cv(n),e.memoizedState=Ov,t):Aw(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return D4(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ji(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ji(s,a):(a=Ja(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Cv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Ov,r}return a=t.child,t=a.sibling,r=Ji(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Aw(t,e){return e=Qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rh(t,e,n,r){return r!==null&&hw(r),Is(e,t.child,null,n),t=Aw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D4(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=ey(Error(Y(422))),rh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Qp({mode:"visible",children:r.children},i,0,null),a=Ja(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Is(e,t.child,null,o),e.child.memoizedState=Cv(o),e.memoizedState=Ov,a);if(!(e.mode&1))return rh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Y(419)),r=ey(a,r,void 0),rh(t,e,o,r)}if(s=(o&t.childLanes)!==0,pn||s){if(r=Dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ai(t,i),dr(r,t,i,-1))}return Nw(),r=ey(Error(Y(421))),rh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K4.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,An=Ki(i.nextSibling),In=e,Ye=!0,sr=null,t!==null&&(Ln[Vn++]=Wr,Ln[Vn++]=Hr,Ln[Vn++]=io,Wr=t.id,Hr=t.overflow,io=e),e=Aw(e,r.children),e.flags|=4096,e)}function N1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ev(t.return,e,n)}function ty(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function dk(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(an(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N1(t,n,e);else if(t.tag===19)N1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ty(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ty(e,!0,n,null,a);break;case"together":ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function M4(t,e,n){switch(e.tag){case 3:fk(e),Ps();break;case 5:VC(e);break;case 1:yn(e.type)&&od(e);break;case 4:vw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(ud,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?hk(t,e,n):(Be(et,et.current&1),t=oi(t,e,n),t!==null?t.sibling:null);Be(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,uk(t,e,n)}return oi(t,e,n)}var pk,kv,mk,gk;pk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kv=function(){};mk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(Ir.current);var a=null;switch(n){case"input":i=Zy(t,i),r=Zy(t,r),a=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),a=[];break;case"textarea":i=nv(t,i),r=nv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=id)}iv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};gk=function(t,e,n,r){n!==r&&(e.flags|=4)};function nu(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $4(t,e,n){var r=e.pendingProps;switch(fw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return yn(e.type)&&ad(),Gt(e),null;case 3:return r=e.stateNode,Os(),Xe(gn),Xe(tn),ww(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sr!==null&&(Vv(sr),sr=null))),kv(t,e),Gt(e),null;case 5:bw(e);var i=Ha(rc.current);if(n=e.type,t!==null&&e.stateNode!=null)mk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Gt(e),null}if(t=Ha(Ir.current),th(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Sr]=e,r[tc]=a,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<yu.length;i++)qe(yu[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":UE(r,a),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qe("invalid",r);break;case"textarea":zE(r,a),qe("invalid",r)}iv(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&eh(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&eh(r.textContent,s,t),i=["children",""+s]):Hu.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":qf(r),BE(r,a,!0);break;case"textarea":qf(r),WE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=id)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sr]=e,t[tc]=r,pk(t,e,!1,!1),e.stateNode=t;e:{switch(o=av(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<yu.length;i++)qe(yu[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":UE(t,r),i=Zy(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":zE(t,r),i=nv(t,r),qe("invalid",t);break;default:i=r}iv(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?GO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HO(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qu(t,l):typeof l=="number"&&qu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hu.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qe("scroll",t):l!=null&&Yb(t,a,l,o))}switch(n){case"input":qf(t),BE(t,r,!1);break;case"textarea":qf(t),WE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sa(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?cs(t,!!r.multiple,a,!1):r.defaultValue!=null&&cs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)gk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Ha(rc.current),Ha(Ir.current),th(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(a=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:eh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eh(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return Gt(e),null;case 13:if(Xe(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&An!==null&&e.mode&1&&!(e.flags&128))jC(),Ps(),e.flags|=98560,a=!1;else if(a=th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Y(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Y(317));a[Sr]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),a=!1}else sr!==null&&(Vv(sr),sr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?St===0&&(St=3):Nw())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Os(),kv(t,e),t===null&&Zu(e.stateNode.containerInfo),Gt(e),null;case 10:return mw(e.type._context),Gt(e),null;case 17:return yn(e.type)&&ad(),Gt(e),null;case 19:if(Xe(et),a=e.memoizedState,a===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)nu(a,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hd(t),o!==null){for(e.flags|=128,nu(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(et,et.current&1|2),e.child}t=t.sibling}a.tail!==null&&ut()>ks&&(e.flags|=128,r=!0,nu(a,!1),e.lanes=4194304)}else{if(!r)if(t=hd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ye)return Gt(e),null}else 2*ut()-a.renderingStartTime>ks&&n!==1073741824&&(e.flags|=128,r=!0,nu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ut(),e.sibling=null,n=et.current,Be(et,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return kw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function L4(t,e){switch(fw(e),e.tag){case 1:return yn(e.type)&&ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),Xe(gn),Xe(tn),ww(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bw(e),null;case 13:if(Xe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(et),null;case 4:return Os(),null;case 10:return mw(e.type._context),null;case 22:case 23:return kw(),null;case 24:return null;default:return null}}var ih=!1,Qt=!1,V4=typeof WeakSet=="function"?WeakSet:Set,ie=null;function is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Nv(t,e,n){try{n()}catch(r){at(t,e,r)}}var R1=!1;function F4(t,e){if(mv=td,t=_C(),uw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,f=0,c=t,d=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(s=o+i),c!==a||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)d=c,c=p;for(;;){if(c===t)break t;if(d===n&&++u===i&&(s=o),d===a&&++f===r&&(l=o),(p=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gv={focusedElem:t,selectionRange:n},td=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,y=b.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:rr(e.type,g),y);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(O){at(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return b=R1,R1=!1,b}function ku(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Nv(e,n,a)}i=i.next}while(i!==r)}}function Xp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Rv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yk(t){var e=t.alternate;e!==null&&(t.alternate=null,yk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[tc],delete e[bv],delete e[x4],delete e[E4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vk(t){return t.tag===5||t.tag===3||t.tag===4}function j1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=id));else if(r!==4&&(t=t.child,t!==null))for(jv(t,e,n),t=t.sibling;t!==null;)jv(t,e,n),t=t.sibling}function Dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dv(t,e,n),t=t.sibling;t!==null;)Dv(t,e,n),t=t.sibling}var Lt=null,ir=!1;function Ii(t,e,n){for(n=n.child;n!==null;)bk(t,e,n),n=n.sibling}function bk(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Up,n)}catch{}switch(n.tag){case 5:Qt||is(n,e);case 6:var r=Lt,i=ir;Lt=null,Ii(t,e,n),Lt=r,ir=i,Lt!==null&&(ir?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(ir?(t=Lt,n=n.stateNode,t.nodeType===8?Kg(t.parentNode,n):t.nodeType===1&&Kg(t,n),Yu(t)):Kg(Lt,n.stateNode));break;case 4:r=Lt,i=ir,Lt=n.stateNode.containerInfo,ir=!0,Ii(t,e,n),Lt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Nv(n,e,o),i=i.next}while(i!==r)}Ii(t,e,n);break;case 1:if(!Qt&&(is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){at(n,e,s)}Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Ii(t,e,n),Qt=r):Ii(t,e,n);break;default:Ii(t,e,n)}}function D1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new V4),e.forEach(function(r){var i=X4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Lt=s.stateNode,ir=!1;break e;case 3:Lt=s.stateNode.containerInfo,ir=!0;break e;case 4:Lt=s.stateNode.containerInfo,ir=!0;break e}s=s.return}if(Lt===null)throw Error(Y(160));bk(a,o,i),Lt=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wk(e,t),e=e.sibling}function wk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),_r(t),r&4){try{ku(3,t,t.return),Xp(3,t)}catch(g){at(t,t.return,g)}try{ku(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:er(e,t),_r(t),r&512&&n!==null&&is(n,n.return);break;case 5:if(er(e,t),_r(t),r&512&&n!==null&&is(n,n.return),t.flags&32){var i=t.stateNode;try{qu(i,"")}catch(g){at(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&BO(i,a),av(s,o);var u=av(s,a);for(o=0;o<l.length;o+=2){var f=l[o],c=l[o+1];f==="style"?GO(i,c):f==="dangerouslySetInnerHTML"?HO(i,c):f==="children"?qu(i,c):Yb(i,f,c,u)}switch(s){case"input":ev(i,a);break;case"textarea":zO(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?cs(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?cs(i,!!a.multiple,a.defaultValue,!0):cs(i,!!a.multiple,a.multiple?[]:"",!1))}i[tc]=a}catch(g){at(t,t.return,g)}}break;case 6:if(er(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){at(t,t.return,g)}}break;case 3:if(er(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yu(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:er(e,t),_r(t);break;case 13:er(e,t),_r(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ow=ut())),r&4&&D1(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||f,er(e,t),Qt=u):er(e,t),_r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ie=t,f=t.child;f!==null;){for(c=ie=f;ie!==null;){switch(d=ie,p=d.child,d.tag){case 0:case 11:case 14:case 15:ku(4,d,d.return);break;case 1:is(d,d.return);var b=d.stateNode;if(typeof b.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(g){at(r,n,g)}}break;case 5:is(d,d.return);break;case 22:if(d.memoizedState!==null){$1(c);continue}}p!==null?(p.return=d,ie=p):$1(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=qO("display",o))}catch(g){at(t,t.return,g)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(g){at(t,t.return,g)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:er(e,t),_r(t),r&4&&D1(t);break;case 21:break;default:er(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vk(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qu(i,""),r.flags&=-33);var a=j1(t);Dv(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=j1(t);jv(t,s,o);break;default:throw Error(Y(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U4(t,e,n){ie=t,_k(t)}function _k(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ih;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qt;s=ih;var u=Qt;if(ih=o,(Qt=l)&&!u)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?L1(i):l!==null?(l.return=o,ie=l):L1(i);for(;a!==null;)ie=a,_k(a),a=a.sibling;ie=i,ih=s,Qt=u}M1(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ie=a):M1(t)}}function M1(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Xp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&w1(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w1(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Yu(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Qt||e.flags&512&&Rv(e)}catch(d){at(e,e.return,d)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function $1(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function L1(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xp(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var a=e.return;try{Rv(e)}catch(l){at(e,a,l)}break;case 5:var o=e.return;try{Rv(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var B4=Math.ceil,md=mi.ReactCurrentDispatcher,Pw=mi.ReactCurrentOwner,Wn=mi.ReactCurrentBatchConfig,Ae=0,Dt=null,gt=null,Bt=0,En=0,as=ga(0),St=0,sc=null,oo=0,Yp=0,Iw=0,Nu=null,hn=null,Ow=0,ks=1/0,Br=null,gd=!1,Mv=null,Yi=null,ah=!1,Ui=null,yd=0,Ru=0,$v=null,$h=-1,Lh=0;function sn(){return Ae&6?ut():$h!==-1?$h:$h=ut()}function Qi(t){return t.mode&1?Ae&2&&Bt!==0?Bt&-Bt:T4.transition!==null?(Lh===0&&(Lh=aC()),Lh):(t=ke,t!==0||(t=window.event,t=t===void 0?16:hC(t.type)),t):1}function dr(t,e,n,r){if(50<Ru)throw Ru=0,$v=null,Error(Y(185));nf(t,n,r),(!(Ae&2)||t!==Dt)&&(t===Dt&&(!(Ae&2)&&(Yp|=n),St===4&&ji(t,Bt)),vn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(ks=ut()+500,qp&&ya()))}function vn(t,e){var n=t.callbackNode;TL(t,e);var r=ed(t,t===Dt?Bt:0);if(r===0)n!==null&&GE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&GE(n),e===1)t.tag===0?S4(V1.bind(null,t)):kC(V1.bind(null,t)),w4(function(){!(Ae&6)&&ya()}),n=null;else{switch(oC(r)){case 1:n=tw;break;case 4:n=rC;break;case 16:n=Zh;break;case 536870912:n=iC;break;default:n=Zh}n=Ok(n,xk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xk(t,e){if($h=-1,Lh=0,Ae&6)throw Error(Y(327));var n=t.callbackNode;if(ms()&&t.callbackNode!==n)return null;var r=ed(t,t===Dt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vd(t,r);else{e=r;var i=Ae;Ae|=2;var a=Sk();(Dt!==t||Bt!==e)&&(Br=null,ks=ut()+500,Qa(t,e));do try{H4();break}catch(s){Ek(t,s)}while(!0);pw(),md.current=a,Ae=i,gt!==null?e=0:(Dt=null,Bt=0,e=St)}if(e!==0){if(e===2&&(i=cv(t),i!==0&&(r=i,e=Lv(t,i))),e===1)throw n=sc,Qa(t,0),ji(t,r),vn(t,ut()),n;if(e===6)ji(t,r);else{if(i=t.current.alternate,!(r&30)&&!z4(i)&&(e=vd(t,r),e===2&&(a=cv(t),a!==0&&(r=a,e=Lv(t,a))),e===1))throw n=sc,Qa(t,0),ji(t,r),vn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:La(t,hn,Br);break;case 3:if(ji(t,r),(r&130023424)===r&&(e=Ow+500-ut(),10<e)){if(ed(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vv(La.bind(null,t,hn,Br),e);break}La(t,hn,Br);break;case 4:if(ji(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B4(r/1960))-r,10<r){t.timeoutHandle=vv(La.bind(null,t,hn,Br),r);break}La(t,hn,Br);break;case 5:La(t,hn,Br);break;default:throw Error(Y(329))}}}return vn(t,ut()),t.callbackNode===n?xk.bind(null,t):null}function Lv(t,e){var n=Nu;return t.current.memoizedState.isDehydrated&&(Qa(t,e).flags|=256),t=vd(t,e),t!==2&&(e=hn,hn=n,e!==null&&Vv(e)),t}function Vv(t){hn===null?hn=t:hn.push.apply(hn,t)}function z4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!pr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ji(t,e){for(e&=~Iw,e&=~Yp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function V1(t){if(Ae&6)throw Error(Y(327));ms();var e=ed(t,0);if(!(e&1))return vn(t,ut()),null;var n=vd(t,e);if(t.tag!==0&&n===2){var r=cv(t);r!==0&&(e=r,n=Lv(t,r))}if(n===1)throw n=sc,Qa(t,0),ji(t,e),vn(t,ut()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,La(t,hn,Br),vn(t,ut()),null}function Cw(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(ks=ut()+500,qp&&ya())}}function so(t){Ui!==null&&Ui.tag===0&&!(Ae&6)&&ms();var e=Ae;Ae|=1;var n=Wn.transition,r=ke;try{if(Wn.transition=null,ke=1,t)return t()}finally{ke=r,Wn.transition=n,Ae=e,!(Ae&6)&&ya()}}function kw(){En=as.current,Xe(as)}function Qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,b4(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(fw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ad();break;case 3:Os(),Xe(gn),Xe(tn),ww();break;case 5:bw(r);break;case 4:Os();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:mw(r.type._context);break;case 22:case 23:kw()}n=n.return}if(Dt=t,gt=t=Ji(t.current,null),Bt=En=e,St=0,sc=null,Iw=Yp=oo=0,hn=Nu=null,Wa!==null){for(e=0;e<Wa.length;e++)if(n=Wa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Wa=null}return t}function Ek(t,e){do{var n=gt;try{if(pw(),jh.current=pd,dd){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dd=!1}if(ao=0,jt=Et=tt=null,Cu=!1,ic=0,Pw.current=null,n===null||n.return===null){St=1,sc=e,gt=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Bt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=A1(o);if(p!==null){p.flags&=-257,P1(p,o,s,a,e),p.mode&1&&T1(a,u,e),e=p,l=u;var b=e.updateQueue;if(b===null){var g=new Set;g.add(l),e.updateQueue=g}else b.add(l);break e}else{if(!(e&1)){T1(a,u,e),Nw();break e}l=Error(Y(426))}}else if(Ye&&s.mode&1){var y=A1(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),P1(y,o,s,a,e),hw(Cs(l,s));break e}}a=l=Cs(l,s),St!==4&&(St=2),Nu===null?Nu=[a]:Nu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=ok(a,l,e);b1(a,_);break e;case 1:s=l;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yi===null||!Yi.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var O=sk(a,s,e);b1(a,O);break e}}a=a.return}while(a!==null)}Ak(n)}catch(T){e=T,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function Sk(){var t=md.current;return md.current=pd,t===null?pd:t}function Nw(){(St===0||St===3||St===2)&&(St=4),Dt===null||!(oo&268435455)&&!(Yp&268435455)||ji(Dt,Bt)}function vd(t,e){var n=Ae;Ae|=2;var r=Sk();(Dt!==t||Bt!==e)&&(Br=null,Qa(t,e));do try{W4();break}catch(i){Ek(t,i)}while(!0);if(pw(),Ae=n,md.current=r,gt!==null)throw Error(Y(261));return Dt=null,Bt=0,St}function W4(){for(;gt!==null;)Tk(gt)}function H4(){for(;gt!==null&&!gL();)Tk(gt)}function Tk(t){var e=Ik(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?Ak(t):gt=e,Pw.current=null}function Ak(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L4(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,gt=null;return}}else if(n=$4(n,e,En),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);St===0&&(St=5)}function La(t,e,n){var r=ke,i=Wn.transition;try{Wn.transition=null,ke=1,q4(t,e,n,r)}finally{Wn.transition=i,ke=r}return null}function q4(t,e,n,r){do ms();while(Ui!==null);if(Ae&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(AL(t,a),t===Dt&&(gt=Dt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ah||(ah=!0,Ok(Zh,function(){return ms(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wn.transition,Wn.transition=null;var o=ke;ke=1;var s=Ae;Ae|=4,Pw.current=null,F4(t,n),wk(n,t),h4(gv),td=!!mv,gv=mv=null,t.current=n,U4(n),yL(),Ae=s,ke=o,Wn.transition=a}else t.current=n;if(ah&&(ah=!1,Ui=t,yd=i),a=t.pendingLanes,a===0&&(Yi=null),wL(n.stateNode),vn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gd)throw gd=!1,t=Mv,Mv=null,t;return yd&1&&t.tag!==0&&ms(),a=t.pendingLanes,a&1?t===$v?Ru++:(Ru=0,$v=t):Ru=0,ya(),null}function ms(){if(Ui!==null){var t=oC(yd),e=Wn.transition,n=ke;try{if(Wn.transition=null,ke=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,yd=0,Ae&6)throw Error(Y(331));var i=Ae;for(Ae|=4,ie=t.current;ie!==null;){var a=ie,o=a.child;if(ie.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ie=u;ie!==null;){var f=ie;switch(f.tag){case 0:case 11:case 15:ku(8,f,a)}var c=f.child;if(c!==null)c.return=f,ie=c;else for(;ie!==null;){f=ie;var d=f.sibling,p=f.return;if(yk(f),f===u){ie=null;break}if(d!==null){d.return=p,ie=d;break}ie=p}}}var b=a.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ie=o;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ku(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,ie=_;break e}ie=a.return}}var v=t.current;for(ie=v;ie!==null;){o=ie;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ie=x;else e:for(o=v;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Xp(9,s)}}catch(T){at(s,s.return,T)}if(s===o){ie=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,ie=O;break e}ie=s.return}}if(Ae=i,ya(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Up,t)}catch{}r=!0}return r}finally{ke=n,Wn.transition=e}}return!1}function F1(t,e,n){e=Cs(n,e),e=ok(t,e,1),t=Xi(t,e,1),e=sn(),t!==null&&(nf(t,1,e),vn(t,e))}function at(t,e,n){if(t.tag===3)F1(t,t,n);else for(;e!==null;){if(e.tag===3){F1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){t=Cs(n,t),t=sk(e,t,1),e=Xi(e,t,1),t=sn(),e!==null&&(nf(e,1,t),vn(e,t));break}}e=e.return}}function G4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Bt&n)===n&&(St===4||St===3&&(Bt&130023424)===Bt&&500>ut()-Ow?Qa(t,0):Iw|=n),vn(t,e)}function Pk(t,e){e===0&&(t.mode&1?(e=Xf,Xf<<=1,!(Xf&130023424)&&(Xf=4194304)):e=1);var n=sn();t=ai(t,e),t!==null&&(nf(t,e,n),vn(t,n))}function K4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pk(t,n)}function X4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),Pk(t,n)}var Ik;Ik=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,M4(t,e,n);pn=!!(t.flags&131072)}else pn=!1,Ye&&e.flags&1048576&&NC(e,ld,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mh(t,e),t=e.pendingProps;var i=As(e,tn.current);ps(e,n),i=xw(null,e,r,t,i,n);var a=Ew();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(a=!0,od(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yw(e),i.updater=Kp,e.stateNode=i,i._reactInternals=e,Tv(e,r,t,n),e=Iv(null,e,r,!0,a,n)):(e.tag=0,Ye&&a&&cw(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Q4(r),t=rr(r,t),i){case 0:e=Pv(null,e,r,t,n);break e;case 1:e=C1(null,e,r,t,n);break e;case 11:e=I1(null,e,r,t,n);break e;case 14:e=O1(null,e,r,rr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Pv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),C1(t,e,r,i,n);case 3:e:{if(fk(e),t===null)throw Error(Y(387));r=e.pendingProps,a=e.memoizedState,i=a.element,LC(t,e),fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Cs(Error(Y(423)),e),e=k1(t,e,r,n,i);break e}else if(r!==i){i=Cs(Error(Y(424)),e),e=k1(t,e,r,n,i);break e}else for(An=Ki(e.stateNode.containerInfo.firstChild),In=e,Ye=!0,sr=null,n=MC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===i){e=oi(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return VC(e),t===null&&xv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,yv(r,i)?o=null:a!==null&&yv(r,a)&&(e.flags|=32),ck(t,e),an(t,e,o,n),e.child;case 6:return t===null&&xv(e),null;case 13:return hk(t,e,n);case 4:return vw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Is(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),I1(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Be(ud,r._currentValue),r._currentValue=o,a!==null)if(pr(a.value,o)){if(a.children===i.children&&!gn.current){e=oi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Qr(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ev(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Y(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Ev(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ps(e,n),i=Kn(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),O1(t,e,r,i,n);case 15:return lk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Mh(t,e),e.tag=1,yn(r)?(t=!0,od(e)):t=!1,ps(e,n),ak(e,r,i),Tv(e,r,i,n),Iv(null,e,r,!0,t,n);case 19:return dk(t,e,n);case 22:return uk(t,e,n)}throw Error(Y(156,e.tag))};function Ok(t,e){return nC(t,e)}function Y4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new Y4(t,e,n,r)}function Rw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q4(t){if(typeof t=="function")return Rw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jb)return 11;if(t===Zb)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vh(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")Rw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xo:return Ja(n.children,i,a,e);case Qb:o=8,i|=8;break;case Xy:return t=Bn(12,n,e,i|2),t.elementType=Xy,t.lanes=a,t;case Yy:return t=Bn(13,n,e,i),t.elementType=Yy,t.lanes=a,t;case Qy:return t=Bn(19,n,e,i),t.elementType=Qy,t.lanes=a,t;case VO:return Qp(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $O:o=10;break e;case LO:o=9;break e;case Jb:o=11;break e;case Zb:o=14;break e;case Ci:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ja(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function Qp(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=VO,t.lanes=n,t.stateNode={isHidden:!1},t}function ny(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function ry(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$g(0),this.expirationTimes=$g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jw(t,e,n,r,i,a,o,s,l){return t=new J4(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Bn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yw(a),t}function Z4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ck(t){if(!t)return la;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(yn(n))return CC(t,n,e)}return e}function kk(t,e,n,r,i,a,o,s,l){return t=jw(n,r,!0,t,i,a,o,s,l),t.context=Ck(null),n=t.current,r=sn(),i=Qi(n),a=Qr(r,i),a.callback=e??null,Xi(n,a,i),t.current.lanes=i,nf(t,i,r),vn(t,r),t}function Jp(t,e,n,r){var i=e.current,a=sn(),o=Qi(i);return n=Ck(n),e.context===null?e.context=n:e.pendingContext=n,e=Qr(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(i,e,o),t!==null&&(dr(t,i,o,a),Rh(t,i,o)),o}function bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dw(t,e){U1(t,e),(t=t.alternate)&&U1(t,e)}function e3(){return null}var Nk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mw(t){this._internalRoot=t}Zp.prototype.render=Mw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Jp(t,e,null,null)};Zp.prototype.unmount=Mw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;so(function(){Jp(null,t,null,null)}),e[ii]=null}};function Zp(t){this._internalRoot=t}Zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=uC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&fC(t)}};function $w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B1(){}function t3(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=bd(o);a.call(u)}}var o=kk(e,r,t,0,null,!1,!1,"",B1);return t._reactRootContainer=o,t[ii]=o.current,Zu(t.nodeType===8?t.parentNode:t),so(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=bd(l);s.call(u)}}var l=jw(t,0,!1,null,null,!1,!1,"",B1);return t._reactRootContainer=l,t[ii]=l.current,Zu(t.nodeType===8?t.parentNode:t),so(function(){Jp(e,l,n,r)}),l}function tm(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=bd(o);s.call(l)}}Jp(e,o,t,i)}else o=t3(n,e,t,i,r);return bd(o)}sC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gu(e.pendingLanes);n!==0&&(nw(e,n|1),vn(e,ut()),!(Ae&6)&&(ks=ut()+500,ya()))}break;case 13:so(function(){var r=ai(t,1);if(r!==null){var i=sn();dr(r,t,1,i)}}),Dw(t,1)}};rw=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var n=sn();dr(e,t,134217728,n)}Dw(t,134217728)}};lC=function(t){if(t.tag===13){var e=Qi(t),n=ai(t,e);if(n!==null){var r=sn();dr(n,t,e,r)}Dw(t,e)}};uC=function(){return ke};cC=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};sv=function(t,e,n){switch(e){case"input":if(ev(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hp(r);if(!i)throw Error(Y(90));UO(r),ev(r,i)}}}break;case"textarea":zO(t,n);break;case"select":e=n.value,e!=null&&cs(t,!!n.multiple,e,!1)}};YO=Cw;QO=so;var n3={usingClientEntryPoint:!1,Events:[af,Zo,Hp,KO,XO,Cw]},ru={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r3={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eC(t),t===null?null:t.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||e3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Up=oh.inject(r3),Pr=oh}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n3;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$w(e))throw Error(Y(200));return Z4(t,e,null,n)};kn.createRoot=function(t,e){if(!$w(t))throw Error(Y(299));var n=!1,r="",i=Nk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jw(t,1,!1,null,null,n,!1,r,i),t[ii]=e.current,Zu(t.nodeType===8?t.parentNode:t),new Mw(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=eC(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return so(t)};kn.hydrate=function(t,e,n){if(!em(e))throw Error(Y(200));return tm(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!$w(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=Nk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kk(e,null,t,1,n??null,i,!1,a,o),t[ii]=e.current,Zu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zp(e)};kn.render=function(t,e,n){if(!em(e))throw Error(Y(200));return tm(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!em(t))throw Error(Y(40));return t._reactRootContainer?(so(function(){tm(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};kn.unstable_batchedUpdates=Cw;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!em(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return tm(t,e,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function Rk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rk)}catch(t){console.error(t)}}Rk(),RO.exports=kn;var i3=RO.exports,z1=i3;Gy.createRoot=z1.createRoot,Gy.hydrateRoot=z1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const W1="popstate";function a3(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=So(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Fv("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:wd(a))}function r(i,a){nm(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return s3(e,n,r,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o3(){return Math.random().toString(36).substr(2,8)}function H1(t,e){return{usr:t.state,key:t.key,idx:e}}function Fv(t,e,n,r){return n===void 0&&(n=null),lc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?So(e):e,{state:n,key:e&&e.key||r||o3()})}function wd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function So(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function s3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Bi.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(lc({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function c(){s=Bi.Pop;let y=f(),_=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:_})}function d(y,_){s=Bi.Push;let v=Fv(g.location,y,_);n&&n(v,y),u=f()+1;let x=H1(v,u),O=g.createHref(v);try{o.pushState(x,"",O)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(O)}a&&l&&l({action:s,location:g.location,delta:1})}function p(y,_){s=Bi.Replace;let v=Fv(g.location,y,_);n&&n(v,y),u=f();let x=H1(v,u),O=g.createHref(v);o.replaceState(x,"",O),a&&l&&l({action:s,location:g.location,delta:0})}function b(y){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:wd(y);return v=v.replace(/ $/,"%20"),ht(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let g={get action(){return s},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(W1,c),l=y,()=>{i.removeEventListener(W1,c),l=null}},createHref(y){return e(i,y)},createURL:b,encodeLocation(y){let _=b(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:p,go(y){return o.go(y)}};return g}var q1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(q1||(q1={}));function l3(t,e,n){return n===void 0&&(n="/"),u3(t,e,n)}function u3(t,e,n,r){let i=typeof e=="string"?So(e):e,a=Lw(i.pathname||"/",n);if(a==null)return null;let o=jk(t);c3(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=x3(a);s=b3(o[l],u)}return s}function jk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Zi([r,l.relativePath]),f=n.concat(l);a.children&&a.children.length>0&&(ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jk(a.children,e,f,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:y3(u,a.index),routesMeta:f})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of Dk(a.path))i(a,o,l)}),e}function Dk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Dk(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function c3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:v3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const f3=/^:[\w-]+$/,h3=3,d3=2,p3=1,m3=10,g3=-2,G1=t=>t==="*";function y3(t,e){let n=t.split("/"),r=n.length;return n.some(G1)&&(r+=g3),e&&(r+=d3),n.filter(i=>!G1(i)).reduce((i,a)=>i+(f3.test(a)?h3:a===""?p3:m3),r)}function v3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function b3(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",c=w3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),d=l.route;if(!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:Zi([a,c.pathname]),pathnameBase:P3(Zi([a,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(a=Zi([a,c.pathnameBase]))}return o}function w3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,f,c)=>{let{paramName:d,isOptional:p}=f;if(d==="*"){let g=s[c]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const b=s[c];return p&&!b?u[d]=void 0:u[d]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function _3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function x3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const E3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S3=t=>E3.test(t);function T3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?So(t):t,a;if(n)if(S3(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),nm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=K1(n.substring(1),"/"):a=K1(n,e)}else a=e;return{pathname:a,search:I3(r),hash:O3(i)}}function K1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vw(t,e){let n=A3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=So(t):(i=lc({},t),ht(!i.pathname||!i.pathname.includes("?"),iy("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),iy("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),iy("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let c=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),c-=1;i.pathname=d.join("/")}s=c>=0?e[c]:"/"}let l=T3(i,s),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),P3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,O3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Mk=["post","put","patch","delete"];new Set(Mk);const k3=["get",...Mk];new Set(k3);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}const Uw=$.createContext(null),N3=$.createContext(null),va=$.createContext(null),rm=$.createContext(null),ba=$.createContext({outlet:null,matches:[],isDataRoute:!1}),$k=$.createContext(null);function R3(t,e){let{relative:n}=e===void 0?{}:e;hl()||ht(!1);let{basename:r,navigator:i}=$.useContext(va),{hash:a,pathname:o,search:s}=Vk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zi([r,o])),i.createHref({pathname:l,search:s,hash:a})}function hl(){return $.useContext(rm)!=null}function To(){return hl()||ht(!1),$.useContext(rm).location}function Lk(t){$.useContext(va).static||$.useLayoutEffect(t)}function sf(){let{isDataRoute:t}=$.useContext(ba);return t?q3():j3()}function j3(){hl()||ht(!1);let t=$.useContext(Uw),{basename:e,future:n,navigator:r}=$.useContext(va),{matches:i}=$.useContext(ba),{pathname:a}=To(),o=JSON.stringify(Vw(i,n.v7_relativeSplatPath)),s=$.useRef(!1);return Lk(()=>{s.current=!0}),$.useCallback(function(u,f){if(f===void 0&&(f={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let c=Fw(u,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Zi([e,c.pathname])),(f.replace?r.replace:r.push)(c,f.state,f)},[e,r,o,a,t])}function Vk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(va),{matches:i}=$.useContext(ba),{pathname:a}=To(),o=JSON.stringify(Vw(i,r.v7_relativeSplatPath));return $.useMemo(()=>Fw(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function D3(t,e){return M3(t,e)}function M3(t,e,n,r){hl()||ht(!1);let{navigator:i}=$.useContext(va),{matches:a}=$.useContext(ba),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=To(),f;if(e){var c;let y=typeof e=="string"?So(e):e;l==="/"||(c=y.pathname)!=null&&c.startsWith(l)||ht(!1),f=y}else f=u;let d=f.pathname||"/",p=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=l3(t,{pathname:p}),g=U3(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Zi([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Zi([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&g?$.createElement(rm.Provider,{value:{location:uc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Bi.Pop}},g):g}function $3(){let t=H3(),e=C3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const L3=$.createElement($3,null);class V3 extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(ba.Provider,{value:this.props.routeContext},$.createElement($k.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F3(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(Uw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(ba.Provider,{value:e},r)}function U3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let f=o.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);f>=0||ht(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let c=o[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=f),c.route.id){let{loaderData:d,errors:p}=n,b=c.route.loader&&d[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,c,d)=>{let p,b=!1,g=null,y=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||L3,l&&(u<0&&d===0?(G3("route-fallback"),b=!0,y=null):u===d&&(b=!0,y=c.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,d+1)),v=()=>{let x;return p?x=g:b?x=y:c.route.Component?x=$.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=f,$.createElement(F3,{match:c,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:x})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?$.createElement(V3,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var Fk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Fk||{}),Uk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Uk||{});function B3(t){let e=$.useContext(Uw);return e||ht(!1),e}function z3(t){let e=$.useContext(N3);return e||ht(!1),e}function W3(t){let e=$.useContext(ba);return e||ht(!1),e}function Bk(t){let e=W3(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function H3(){var t;let e=$.useContext($k),n=z3(),r=Bk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function q3(){let{router:t}=B3(Fk.UseNavigateStable),e=Bk(Uk.UseNavigateStable),n=$.useRef(!1);return Lk(()=>{n.current=!0}),$.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,uc({fromRouteId:e},a)))},[t,e])}const X1={};function G3(t,e,n){X1[t]||(X1[t]=!0)}function K3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zk(t){let{to:e,replace:n,state:r,relative:i}=t;hl()||ht(!1);let{future:a,static:o}=$.useContext(va),{matches:s}=$.useContext(ba),{pathname:l}=To(),u=sf(),f=Fw(e,Vw(s,a.v7_relativeSplatPath),l,i==="path"),c=JSON.stringify(f);return $.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function nr(t){ht(!1)}function X3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bi.Pop,navigator:a,static:o=!1,future:s}=t;hl()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:a,static:o,future:uc({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=So(r));let{pathname:f="/",search:c="",hash:d="",state:p=null,key:b="default"}=r,g=$.useMemo(()=>{let y=Lw(f,l);return y==null?null:{location:{pathname:y,search:c,hash:d,state:p,key:b},navigationType:i}},[l,f,c,d,p,b,i]);return g==null?null:$.createElement(va.Provider,{value:u},$.createElement(rm.Provider,{children:n,value:g}))}function Y3(t){let{children:e,location:n}=t;return D3(Uv(e),n)}new Promise(()=>{});function Uv(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let a=[...e,i];if(r.type===$.Fragment){n.push.apply(n,Uv(r.props.children,a));return}r.type!==nr&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Uv(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function Q3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function J3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z3(t,e){return t.button===0&&(!e||e==="_self")&&!J3(t)}const eV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tV="6";try{window.__reactRouterVersion=tV}catch{}const nV="startTransition",Y1=G$[nV];function rV(t){let{basename:e,children:n,future:r,window:i}=t,a=$.useRef();a.current==null&&(a.current=a3({window:i,v5Compat:!0}));let o=a.current,[s,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=$.useCallback(c=>{u&&Y1?Y1(()=>l(c)):l(c)},[l,u]);return $.useLayoutEffect(()=>o.listen(f),[o,f]),$.useEffect(()=>K3(r),[r]),$.createElement(X3,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const iV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ay=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:f,viewTransition:c}=e,d=Q3(e,eV),{basename:p}=$.useContext(va),b,g=!1;if(typeof u=="string"&&aV.test(u)&&(b=u,iV))try{let x=new URL(window.location.href),O=u.startsWith("//")?new URL(x.protocol+u):new URL(u),T=Lw(O.pathname,p);O.origin===x.origin&&T!=null?u=T+O.search+O.hash:g=!0}catch{}let y=R3(u,{relative:i}),_=oV(u,{replace:o,state:s,target:l,preventScrollReset:f,relative:i,viewTransition:c});function v(x){r&&r(x),x.defaultPrevented||_(x)}return $.createElement("a",Bv({},d,{href:b||y,onClick:g||a?r:v,ref:n,target:l}))});var Q1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Q1||(Q1={}));var J1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J1||(J1={}));function oV(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=sf(),u=To(),f=Vk(t,{relative:o});return $.useCallback(c=>{if(Z3(c,n)){c.preventDefault();let d=r!==void 0?r:wd(u)===wd(f);l(t,{replace:d,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,f,r,i,n,t,a,o,s])}const sV={},Z1=t=>{let e;const n=new Set,r=(f,c)=>{const d=typeof f=="function"?f(e):f;if(!Object.is(d,e)){const p=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(b=>b(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(sV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},lV=t=>t?Z1(t):Z1;var Wk={exports:{}},Hk={},qk={exports:{}},Gk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=$;function uV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cV=typeof Object.is=="function"?Object.is:uV,fV=Ns.useState,hV=Ns.useEffect,dV=Ns.useLayoutEffect,pV=Ns.useDebugValue;function mV(t,e){var n=e(),r=fV({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return dV(function(){i.value=n,i.getSnapshot=e,oy(i)&&a({inst:i})},[t,n,e]),hV(function(){return oy(i)&&a({inst:i}),t(function(){oy(i)&&a({inst:i})})},[t]),pV(n),n}function oy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cV(t,n)}catch{return!0}}function gV(t,e){return e()}var yV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gV:mV;Gk.useSyncExternalStore=Ns.useSyncExternalStore!==void 0?Ns.useSyncExternalStore:yV;qk.exports=Gk;var vV=qk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=$,bV=vV;function wV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _V=typeof Object.is=="function"?Object.is:wV,xV=bV.useSyncExternalStore,EV=im.useRef,SV=im.useEffect,TV=im.useMemo,AV=im.useDebugValue;Hk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=EV(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=TV(function(){function l(p){if(!u){if(u=!0,f=p,p=r(p),i!==void 0&&o.hasValue){var b=o.value;if(i(b,p))return c=b}return c=p}if(b=c,_V(f,p))return b;var g=r(p);return i!==void 0&&i(b,g)?(f=p,b):(f=p,c=g)}var u=!1,f,c,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var s=xV(t,a[0],a[1]);return SV(function(){o.hasValue=!0,o.value=s},[s]),AV(s),s};Wk.exports=Hk;var PV=Wk.exports;const IV=Me(PV),Kk={},{useDebugValue:OV}=D,{useSyncExternalStoreWithSelector:CV}=IV;let eS=!1;const kV=t=>t;function NV(t,e=kV,n){(Kk?"production":void 0)!=="production"&&n&&!eS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),eS=!0);const r=CV(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return OV(r),r}const RV=t=>{(Kk?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?lV(t):t,n=(r,i)=>NV(e,r,i);return Object.assign(n,e),n},jV=t=>RV,DV={};function MV(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=n.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const cc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return cc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return cc(r)(n)}}}},$V=(t,e)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,_)=>({..._,...y}),...e},o=!1;const s=new Set,l=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},r,i);const f=cc(a.serialize),c=()=>{const y=a.partialize({...r()});let _;const v=f({state:y,version:a.version}).then(x=>u.setItem(a.name,x)).catch(x=>{_=x});if(_)throw _;return v},d=i.setState;i.setState=(y,_)=>{d(y,_),c()};const p=t((...y)=>{n(...y),c()},r,i);let b;const g=()=>{var y;if(!u)return;o=!1,s.forEach(v=>v(r()));const _=((y=a.onRehydrateStorage)==null?void 0:y.call(a,r()))||void 0;return cc(u.getItem.bind(u))(a.name).then(v=>{if(v)return a.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return a.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var x;return b=a.merge(v,(x=r())!=null?x:p),n(b,!0),c()}).then(()=>{_==null||_(b,void 0),o=!0,l.forEach(v=>v(b))}).catch(v=>{_==null||_(void 0,v)})};return i.persist={setOptions:y=>{a={...a,...y},y.getStorage&&(u=y.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(s.add(y),()=>{s.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},g(),b||p},LV=(t,e)=>(n,r,i)=>{let a={storage:MV(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},o=!1;const s=new Set,l=new Set;let u=a.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...g)},r,i);const f=()=>{const g=a.partialize({...r()});return u.setItem(a.name,{state:g,version:a.version})},c=i.setState;i.setState=(g,y)=>{c(g,y),f()};const d=t((...g)=>{n(...g),f()},r,i);i.getInitialState=()=>d;let p;const b=()=>{var g,y;if(!u)return;o=!1,s.forEach(v=>{var x;return v((x=r())!=null?x:d)});const _=((y=a.onRehydrateStorage)==null?void 0:y.call(a,(g=r())!=null?g:d))||void 0;return cc(u.getItem.bind(u))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return[!0,a.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var x;const[O,T]=v;if(p=a.merge(T,(x=r())!=null?x:d),n(p,!0),O)return f()}).then(()=>{_==null||_(p,void 0),p=r(),o=!0,l.forEach(v=>v(p))}).catch(v=>{_==null||_(void 0,v)})};return i.persist={setOptions:g=>{a={...a,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:g=>(s.add(g),()=>{s.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},a.skipHydration||b(),p||d},VV=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((DV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),$V(t,e)):LV(t,e),FV=VV,UV=()=>{};var tS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Yk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=a>>2,c=(a&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[f],n[c],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||c==null)throw new zV;const d=a<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),c!==64){const b=u<<6&192|c;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WV=function(t){const e=Xk(t);return Yk.encodeByteArray(e,!0)},_d=function(t){return WV(t).replace(/\./g,"")},Qk=function(t){try{return Yk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=()=>HV().__FIREBASE_DEFAULTS__,GV=()=>{if(typeof process>"u"||typeof tS>"u")return;const t=tS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qk(t[1]);return e&&JSON.parse(e)},am=()=>{try{return UV()||qV()||GV()||KV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jk=t=>{var e,n;return(n=(e=am())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},XV=t=>{const e=Jk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zk=()=>{var t;return(t=am())==null?void 0:t.config},e2=t=>{var e;return(e=am())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_d(JSON.stringify(n)),_d(JSON.stringify(o)),""].join(".")}const ju={};function JV(){const t={prod:[],emulator:[]};for(const e of Object.keys(ju))ju[e]?t.emulator.push(e):t.prod.push(e);return t}function ZV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nS=!1;function n2(t,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||ju[t]===e||ju[t]||nS)return;ju[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=JV().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function s(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{nS=!0,o()},d}function f(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function c(){const d=ZV(r),p=n("text"),b=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const x=d.element;s(x),f(y,g);const O=u();l(v,_),x.append(v,b,y,O),document.body.appendChild(x)}a?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",c):c()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function tF(){var e;const t=(e=am())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aF(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oF(){return!tF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sF(){try{return typeof indexedDB=="object"}catch{return!1}}function lF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="FirebaseError";class gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uF,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?cF(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new gi(i,s,r)}}function cF(t,e){return t.replace(fF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fF=/\{\$([^}]+)}/g;function hF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(rS(a)&&rS(o)){if(!lo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dF(t,e){const n=new pF(t,e);return n.subscribe.bind(n)}class pF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sy),i.error===void 0&&(i.error=sy),i.complete===void 0&&(i.complete=sy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vF(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yF(t){return t===Va?void 0:t}function vF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const wF={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},_F=_e.INFO,xF={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},EF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bw{constructor(e){this.name=e,this._logLevel=_F,this._logHandler=EF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const SF=(t,e)=>e.some(n=>t instanceof n);let iS,aS;function TF(){return iS||(iS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AF(){return aS||(aS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r2=new WeakMap,zv=new WeakMap,i2=new WeakMap,ly=new WeakMap,zw=new WeakMap;function PF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ea(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&r2.set(n,t)}).catch(()=>{}),zw.set(e,t),e}function IF(t){if(zv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});zv.set(t,e)}let Wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OF(t){Wv=t(Wv)}function CF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uy(this),e,...n);return i2.set(r,e.sort?e.sort():[e]),ea(r)}:AF().includes(t)?function(...e){return t.apply(uy(this),e),ea(r2.get(this))}:function(...e){return ea(t.apply(uy(this),e))}}function kF(t){return typeof t=="function"?CF(t):(t instanceof IDBTransaction&&IF(t),SF(t,TF())?new Proxy(t,Wv):t)}function ea(t){if(t instanceof IDBRequest)return PF(t);if(ly.has(t))return ly.get(t);const e=kF(t);return e!==t&&(ly.set(t,e),zw.set(e,t)),e}const uy=t=>zw.get(t);function NF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=ea(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ea(o.result),l.oldVersion,l.newVersion,ea(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const RF=["get","getKey","getAll","getAllKeys","count"],jF=["put","add","delete","clear"],cy=new Map;function oS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RF.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return cy.set(e,a),a}OF(t=>({...t,get:(e,n,r)=>oS(e,n)||t.get(e,n,r),has:(e,n)=>!!oS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hv="@firebase/app",sS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Bw("@firebase/app"),$F="@firebase/app-compat",LF="@firebase/analytics-compat",VF="@firebase/analytics",FF="@firebase/app-check-compat",UF="@firebase/app-check",BF="@firebase/auth",zF="@firebase/auth-compat",WF="@firebase/database",HF="@firebase/data-connect",qF="@firebase/database-compat",GF="@firebase/functions",KF="@firebase/functions-compat",XF="@firebase/installations",YF="@firebase/installations-compat",QF="@firebase/messaging",JF="@firebase/messaging-compat",ZF="@firebase/performance",e6="@firebase/performance-compat",t6="@firebase/remote-config",n6="@firebase/remote-config-compat",r6="@firebase/storage",i6="@firebase/storage-compat",a6="@firebase/firestore",o6="@firebase/ai",s6="@firebase/firestore-compat",l6="firebase",u6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="[DEFAULT]",c6={[Hv]:"fire-core",[$F]:"fire-core-compat",[VF]:"fire-analytics",[LF]:"fire-analytics-compat",[UF]:"fire-app-check",[FF]:"fire-app-check-compat",[BF]:"fire-auth",[zF]:"fire-auth-compat",[WF]:"fire-rtdb",[HF]:"fire-data-connect",[qF]:"fire-rtdb-compat",[GF]:"fire-fn",[KF]:"fire-fn-compat",[XF]:"fire-iid",[YF]:"fire-iid-compat",[QF]:"fire-fcm",[JF]:"fire-fcm-compat",[ZF]:"fire-perf",[e6]:"fire-perf-compat",[t6]:"fire-rc",[n6]:"fire-rc-compat",[r6]:"fire-gcs",[i6]:"fire-gcs-compat",[a6]:"fire-fst",[s6]:"fire-fst-compat",[o6]:"fire-vertex","fire-js":"fire-js",[l6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Map,f6=new Map,Gv=new Map;function lS(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rs(t){const e=t.name;if(Gv.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Gv.set(e,t);for(const n of xd.values())lS(n,t);for(const n of f6.values())lS(n,t);return!0}function Ww(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new lf("app","Firebase",h6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=u6;function a2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ta.create("bad-app-name",{appName:String(i)});if(n||(n=Zk()),!n)throw ta.create("no-options");const a=xd.get(i);if(a){if(lo(n,a.options)&&lo(r,a.config))return a;throw ta.create("duplicate-app",{appName:i})}const o=new bF(i);for(const l of Gv.values())o.addComponent(l);const s=new d6(n,r,o);return xd.set(i,s),s}function o2(t=qv){const e=xd.get(t);if(!e&&t===qv&&Zk())return a2();if(!e)throw ta.create("no-app",{appName:t});return e}function na(t,e,n){let r=c6[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(o.join(" "));return}Rs(new uo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="firebase-heartbeat-database",m6=1,fc="firebase-heartbeat-store";let fy=null;function s2(){return fy||(fy=NF(p6,m6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ta.create("idb-open",{originalErrorMessage:t.message})})),fy}async function g6(t){try{const n=(await s2()).transaction(fc),r=await n.objectStore(fc).get(l2(t));return await n.done,r}catch(e){if(e instanceof gi)si.warn(e.message);else{const n=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function uS(t,e){try{const r=(await s2()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,l2(t)),await r.done}catch(n){if(n instanceof gi)si.warn(n.message);else{const r=ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function l2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=1024,v6=30;class b6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>v6){const o=x6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cS(),{heartbeatsToSend:r,unsentEntries:i}=w6(this._heartbeatsCache.heartbeats),a=_d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return si.warn(n),""}}}function cS(){return new Date().toISOString().substring(0,10)}function w6(t,e=y6){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),fS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sF()?lF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fS(t){return _d(JSON.stringify({version:2,heartbeats:t})).length}function x6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){Rs(new uo("platform-logger",e=>new DF(e),"PRIVATE")),Rs(new uo("heartbeat",e=>new b6(e),"PRIVATE")),na(Hv,sS,t),na(Hv,sS,"esm2020"),na("fire-js","")}E6("");var hS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,u2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function P(){}P.prototype=S.prototype,E.F=S.prototype,E.prototype=new P,E.prototype.constructor=E,E.D=function(k,C,j){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return S.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,P){P||(P=0);const k=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)k[C]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(C=0;C<16;++C)k[C]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=E.g[0],P=E.g[1],C=E.g[2];let j=E.g[3],N;N=S+(j^P&(C^j))+k[0]+3614090360&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[2]+606105819&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[3]+3250441966&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[4]+4118548399&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[6]+2821735955&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[7]+4249261313&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[8]+1770035416&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[10]+4294925233&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[11]+2304563134&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(j^P&(C^j))+k[12]+1804603682&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(C^S&(P^C))+k[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(P^j&(S^P))+k[14]+2792965006&4294967295,C=j+(N<<17&4294967295|N>>>15),N=P+(S^C&(j^S))+k[15]+1236535329&4294967295,P=C+(N<<22&4294967295|N>>>10),N=S+(C^j&(P^C))+k[1]+4129170786&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[11]+643717713&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[0]+3921069994&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[5]+3593408605&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[15]+3634488961&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[4]+3889429448&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[9]+568446438&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[3]+4107603335&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[8]+1163531501&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(P^C))+k[13]+2850285829&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^C&(S^P))+k[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^P&(j^S))+k[7]+1735328473&4294967295,C=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(C^j))+k[12]+2368359562&4294967295,P=C+(N<<20&4294967295|N>>>12),N=S+(P^C^j)+k[5]+4294588738&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[11]+1839030562&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[14]+4259657740&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[1]+2763975236&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[7]+4139469664&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[10]+3200236656&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[13]+681279174&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[3]+3572445317&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[6]+76029189&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(P^C^j)+k[9]+3654602809&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^C)+k[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^P)+k[15]+530742520&4294967295,C=j+(N<<16&4294967295|N>>>16),N=P+(C^j^S)+k[2]+3299628645&4294967295,P=C+(N<<23&4294967295|N>>>9),N=S+(C^(P|~j))+k[0]+4096336452&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[14]+2878612391&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[5]+4237533241&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[12]+1700485571&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[10]+4293915773&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[1]+2240044497&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[8]+1873313359&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[6]+2734768916&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[13]+1309151649&4294967295,P=C+(N<<21&4294967295|N>>>11),N=S+(C^(P|~j))+k[4]+4149444226&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~C))+k[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~P))+k[2]+718787259&4294967295,C=j+(N<<15&4294967295|N>>>17),N=P+(j^(C|~S))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.v=function(E,S){S===void 0&&(S=E.length);const P=S-this.blockSize,k=this.C;let C=this.h,j=0;for(;j<S;){if(C==0)for(;j<=P;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<S;)if(k[C++]=E.charCodeAt(j++),C==this.blockSize){i(this,k),C=0;break}}else for(;j<S;)if(k[C++]=E[j++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=S},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;S=this.o*8;for(var P=E.length-8;P<E.length;++P)E[P]=S&255,S/=256;for(this.v(E),E=Array(16),S=0,P=0;P<4;++P)for(let k=0;k<32;k+=8)E[S++]=this.g[P]>>>k&255;return E};function a(E,S){var P=s;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=S(E)}function o(E,S){this.h=S;const P=[];let k=!0;for(let C=E.length-1;C>=0;C--){const j=E[C]|0;k&&j==S||(P[C]=j,k=!1)}this.g=P}var s={};function l(E){return-128<=E&&E<128?a(E,function(S){return new o([S|0],S<0?-1:0)}):new o([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return c;if(E<0)return y(u(-E));const S=[];let P=1;for(let k=0;E>=P;k++)S[k]=E/P|0,P*=4294967296;return new o(S,0)}function f(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return y(f(E.substring(1),S));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(S,8));let k=c;for(let j=0;j<E.length;j+=8){var C=Math.min(8,E.length-j);const N=parseInt(E.substring(j,j+C),S);C<8?(C=u(Math.pow(S,C)),k=k.j(C).add(u(N))):(k=k.j(P),k=k.add(u(N)))}return k}var c=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();let E=0,S=1;for(let P=0;P<this.g.length;P++){const k=this.i(P);E+=(k>=0?k:4294967296+k)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(g(this))return"-"+y(this).toString(E);const S=u(Math.pow(E,6));var P=this;let k="";for(;;){const C=O(P,S).g;P=_(P,C.j(S));let j=((P.g.length>0?P.g[0]:P.h)>>>0).toString(E);if(P=C,b(P))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(let S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=_(this,E),g(E)?-1:b(E)?0:1};function y(E){const S=E.g.length,P=[];for(let k=0;k<S;k++)P[k]=~E.g[k];return new o(P,~E.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(E){const S=Math.max(this.g.length,E.g.length),P=[];let k=0;for(let C=0;C<=S;C++){let j=k+(this.i(C)&65535)+(E.i(C)&65535),N=(j>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);k=N>>>16,j&=65535,N&=65535,P[C]=N<<16|j}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(E,S){return E.add(y(S))}t.j=function(E){if(b(this)||b(E))return c;if(g(this))return g(E)?y(this).j(y(E)):y(y(this).j(E));if(g(E))return y(this.j(y(E)));if(this.l(p)<0&&E.l(p)<0)return u(this.m()*E.m());const S=this.g.length+E.g.length,P=[];for(var k=0;k<2*S;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(let C=0;C<E.g.length;C++){const j=this.i(k)>>>16,N=this.i(k)&65535,F=E.i(C)>>>16,U=E.i(C)&65535;P[2*k+2*C]+=N*U,v(P,2*k+2*C),P[2*k+2*C+1]+=j*U,v(P,2*k+2*C+1),P[2*k+2*C+1]+=N*F,v(P,2*k+2*C+1),P[2*k+2*C+2]+=j*F,v(P,2*k+2*C+2)}for(E=0;E<S;E++)P[E]=P[2*E+1]<<16|P[2*E];for(E=S;E<2*S;E++)P[E]=0;return new o(P,0)};function v(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function x(E,S){this.g=E,this.h=S}function O(E,S){if(b(S))throw Error("division by zero");if(b(E))return new x(c,c);if(g(E))return S=O(y(E),S),new x(y(S.g),y(S.h));if(g(S))return S=O(E,y(S)),new x(y(S.g),S.h);if(E.g.length>30){if(g(E)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var P=d,k=S;k.l(E)<=0;)P=T(P),k=T(k);var C=I(P,1),j=I(k,1);for(k=I(k,2),P=I(P,2);!b(k);){var N=j.add(k);N.l(E)<=0&&(C=C.add(P),j=N),k=I(k,1),P=I(P,1)}return S=_(E,C.j(S)),new x(C,S)}for(C=c;E.l(S)>=0;){for(P=Math.max(1,Math.floor(E.m()/S.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=u(P),N=j.j(S);g(N)||N.l(E)>0;)P-=k,j=u(P),N=j.j(S);b(j)&&(j=d),C=C.add(j),E=_(E,N)}return new x(C,E)}t.B=function(E){return O(this,E).h},t.and=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)&E.i(k);return new o(P,this.h&E.h)},t.or=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)|E.i(k);return new o(P,this.h|E.h)},t.xor=function(E){const S=Math.max(this.g.length,E.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)^E.i(k);return new o(P,this.h^E.h)};function T(E){const S=E.g.length+1,P=[];for(let k=0;k<S;k++)P[k]=E.i(k)<<1|E.i(k-1)>>>31;return new o(P,E.h)}function I(E,S){const P=S>>5;S%=32;const k=E.g.length-P,C=[];for(let j=0;j<k;j++)C[j]=S>0?E.i(j+P)>>>S|E.i(j+P+1)<<32-S:E.i(j+P);return new o(C,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,ra=o}).apply(typeof hS<"u"?hS:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c2,wu,f2,Fh,Kv,h2,d2,p2;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var w=0;w<h.length;++w){var A=h[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var A=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var M=h[R];if(!(M in A))break e;A=A[M]}h=h[h.length-1],R=A[h],w=w(R),w!=R&&w!=null&&e(A,h,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(w){var A=[],R;for(R in w)Object.prototype.hasOwnProperty.call(w,R)&&A.push([R,w[R]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function l(h,w,A){return h.call.apply(h.bind,arguments)}function u(h,w,A){return u=l,u.apply(null,arguments)}function f(h,w){var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function c(h,w){function A(){}A.prototype=w.prototype,h.Z=w.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(R,M,V){for(var J=Array(arguments.length-2),me=2;me<arguments.length;me++)J[me-2]=arguments[me];return w.prototype[M].apply(R,J)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const w=h.length;if(w>0){const A=Array(w);for(let R=0;R<w;R++)A[R]=h[R];return A}return[]}function b(h,w){for(let R=1;R<arguments.length;R++){const M=arguments[R];var A=typeof M;if(A=A!="object"?A:M?Array.isArray(M)?"array":A:"null",A=="array"||A=="object"&&typeof M.length=="number"){A=h.length||0;const V=M.length||0;h.length=A+V;for(let J=0;J<V;J++)h[A+J]=M[J]}else h.push(M)}}class g{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(h){o.setTimeout(()=>{throw h},0)}function _(){var h=E;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class v{constructor(){this.h=this.g=null}add(w,A){const R=x.get();R.set(w,A),this.h?this.h.next=R:this.g=R,this.h=R}}var x=new g(()=>new O,h=>h.reset());class O{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,E=new v,S=()=>{const h=Promise.resolve(void 0);T=()=>{h.then(P)}};function P(){for(var h;h=_();){try{h.h.call(h.g)}catch(A){y(A)}var w=x;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}I=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};o.addEventListener("test",A,w),o.removeEventListener("test",A,w)}catch{}return h}();function N(h){return/^[\s\xa0]*$/.test(h)}function F(h,w){C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}c(F,C),F.prototype.init=function(h,w){const A=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(A=="mouseover"?w=h.fromElement:A=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var U="closure_listenable_"+(Math.random()*1e6|0),H=0;function G(h,w,A,R,M){this.listener=h,this.proxy=null,this.src=w,this.type=A,this.capture=!!R,this.ha=M,this.key=++H,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h,w,A){for(const R in h)w.call(A,h[R],R,h)}function X(h,w){for(const A in h)w.call(void 0,h[A],A,h)}function ee(h){const w={};for(const A in h)w[A]=h[A];return w}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,w){let A,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(A in R)h[A]=R[A];for(let V=0;V<Q.length;V++)A=Q[V],Object.prototype.hasOwnProperty.call(R,A)&&(h[A]=R[A])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,w,A,R,M){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const J=ze(h,w,R,M);return J>-1?(w=h[J],A||(w.fa=!1)):(w=new G(w,this.src,V,!!R,M),w.fa=A,h.push(w)),w};function Re(h,w){const A=w.type;if(A in h.g){var R=h.g[A],M=Array.prototype.indexOf.call(R,w,void 0),V;(V=M>=0)&&Array.prototype.splice.call(R,M,1),V&&(L(w),h.g[A].length==0&&(delete h.g[A],h.h--))}}function ze(h,w,A,R){for(let M=0;M<h.length;++M){const V=h[M];if(!V.da&&V.listener==w&&V.capture==!!A&&V.ha==R)return M}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Ot={};function te(h,w,A,R,M){if(Array.isArray(w)){for(let V=0;V<w.length;V++)te(h,w[V],A,R,M);return null}return A=Zn(A),h&&h[U]?h.J(w,A,s(R)?!!R.capture:!1,M):de(h,w,A,!1,R,M)}function de(h,w,A,R,M,V){if(!w)throw Error("Invalid event type");const J=s(M)?!!M.capture:!!M;let me=Je(h);if(me||(h[Ht]=me=new ye(h)),A=me.add(w,A,R,J,V),A.proxy)return A;if(R=pe(),A.proxy=R,R.src=h,R.listener=A,h.addEventListener)j||(M=J),M===void 0&&(M=!1),h.addEventListener(w.toString(),R,M);else if(h.attachEvent)h.attachEvent(we(w.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return A}function pe(){function h(A){return w.call(h.src,h.listener,A)}const w=st;return h}function K(h,w,A,R,M){if(Array.isArray(w))for(var V=0;V<w.length;V++)K(h,w[V],A,R,M);else R=s(R)?!!R.capture:!!R,A=Zn(A),h&&h[U]?(h=h.i,V=String(w).toString(),V in h.g&&(w=h.g[V],A=ze(w,A,R,M),A>-1&&(L(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete h.g[V],h.h--)))):h&&(h=Je(h))&&(w=h.g[w.toString()],h=-1,w&&(h=ze(w,A,R,M)),(A=h>-1?w[h]:null)&&Ve(A))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[U])Re(w.i,h);else{var A=h.type,R=h.proxy;w.removeEventListener?w.removeEventListener(A,R,h.capture):w.detachEvent?w.detachEvent(we(A),R):w.addListener&&w.removeListener&&w.removeListener(R),(A=Je(w))?(Re(A,h),A.h==0&&(A.src=null,w[Ht]=null)):L(h)}}}function we(h){return h in Ot?Ot[h]:Ot[h]="on"+h}function st(h,w){if(h.da)h=!0;else{w=new F(w,this);const A=h.listener,R=h.ha||h.src;h.fa&&Ve(h),h=A.call(R,w)}return h}function Je(h){return h=h[Ht],h instanceof ye?h:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zn(h){return typeof h=="function"?h:(h[Ct]||(h[Ct]=function(w){return h.handleEvent(w)}),h[Ct])}function Ze(){k.call(this),this.i=new ye(this),this.M=this,this.G=null}c(Ze,k),Ze.prototype[U]=!0,Ze.prototype.removeEventListener=function(h,w,A,R){K(this,h,w,A,R)};function dt(h,w){var A,R=h.G;if(R)for(A=[];R;R=R.G)A.push(R);if(h=h.M,R=w.type||w,typeof w=="string")w=new C(w,h);else if(w instanceof C)w.target=w.target||h;else{var M=w;w=new C(R,h),oe(w,M)}M=!0;let V,J;if(A)for(J=A.length-1;J>=0;J--)V=w.g=A[J],M=Rn(V,R,!0,w)&&M;if(V=w.g=h,M=Rn(V,R,!0,w)&&M,M=Rn(V,R,!1,w)&&M,A)for(J=0;J<A.length;J++)V=w.g=A[J],M=Rn(V,R,!1,w)&&M}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const A=h.g[w];for(let R=0;R<A.length;R++)L(A[R]);delete h.g[w],h.h--}}this.G=null},Ze.prototype.J=function(h,w,A,R){return this.i.add(String(h),w,!1,A,R)},Ze.prototype.K=function(h,w,A,R){return this.i.add(String(h),w,!0,A,R)};function Rn(h,w,A,R){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let M=!0;for(let V=0;V<w.length;++V){const J=w[V];if(J&&!J.da&&J.capture==A){const me=J.listener,wt=J.ha||J.src;J.fa&&Re(h.i,J),M=me.call(wt,R)!==!1&&M}}return M&&!R.defaultPrevented}function Fr(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:o.setTimeout(h,w||0)}function Do(h){h.g=Fr(()=>{h.g=null,h.i&&(h.i=!1,Do(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class kf extends k{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(h){k.call(this),this.h=h,this.g={}}c(_i,k);var Bx=[];function zx(h){z(h.g,function(w,A){this.g.hasOwnProperty(A)&&Ve(w)},h),h.g={}}_i.prototype.N=function(){_i.Z.N.call(this),zx(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mg=o.JSON.stringify,a$=o.JSON.parse,o$=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Wx(){}function Hx(){}var jl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gg(){C.call(this,"d")}c(gg,C);function yg(){C.call(this,"c")}c(yg,C);var Ca={},qx=null;function Nf(){return qx=qx||new Ze}Ca.Ia="serverreachability";function Gx(h){C.call(this,Ca.Ia,h)}c(Gx,C);function Dl(h){const w=Nf();dt(w,new Gx(w))}Ca.STAT_EVENT="statevent";function Kx(h,w){C.call(this,Ca.STAT_EVENT,h),this.stat=w}c(Kx,C);function rn(h){const w=Nf();dt(w,new Kx(w,h))}Ca.Ja="timingevent";function Xx(h,w){C.call(this,Ca.Ja,h),this.size=w}c(Xx,C);function Ml(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},w)}function $l(){this.g=!0}$l.prototype.ua=function(){this.g=!1};function s$(h,w,A,R,M,V){h.info(function(){if(h.g)if(V){var J="",me=V.split("&");for(let $e=0;$e<me.length;$e++){var wt=me[$e].split("=");if(wt.length>1){const kt=wt[0];wt=wt[1];const wr=kt.split("_");J=wr.length>=2&&wr[1]=="type"?J+(kt+"="+wt+"&"):J+(kt+"=redacted&")}}}else J=null;else J=V;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+w+`
`+A+`
`+J})}function l$(h,w,A,R,M,V,J){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+w+`
`+A+`
`+V+" "+J})}function Mo(h,w,A,R){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+c$(h,A)+(R?" "+R:"")})}function u$(h,w){h.info(function(){return"TIMEOUT: "+w})}$l.prototype.info=function(){};function c$(h,w){if(!h.g)return w;if(!w)return null;try{const V=JSON.parse(w);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var A=V[h];if(!(A.length<2)){var R=A[1];if(Array.isArray(R)&&!(R.length<1)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(let J=1;J<R.length;J++)R[J]=""}}}}return mg(V)}catch{return w}}var Rf={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qx;function vg(){}c(vg,Wx),vg.prototype.g=function(){return new XMLHttpRequest},Qx=new vg;function Ll(h){return encodeURIComponent(String(h))}function f$(h){var w=1;h=h.split(":");const A=[];for(;w>0&&h.length;)A.push(h.shift()),w--;return h.length&&A.push(h.join(":")),A}function xi(h,w,A,R){this.j=h,this.i=w,this.l=A,this.S=R||1,this.V=new _i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jx}function Jx(){this.i=null,this.g="",this.h=!1}var Zx={},bg={};function wg(h,w,A){h.M=1,h.A=Df(br(w)),h.u=A,h.R=!0,eE(h,null)}function eE(h,w){h.F=Date.now(),jf(h),h.B=br(h.A);var A=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),dE(A.i,"t",R),h.C=0,A=h.j.L,h.h=new Jx,h.g=kE(h.j,A?w:null,!h.u),h.P>0&&(h.O=new kf(u(h.Y,h,h.g),h.P)),w=h.V,A=h.g,R=h.ba;var M="readystatechange";Array.isArray(M)||(M&&(Bx[0]=M.toString()),M=Bx);for(let V=0;V<M.length;V++){const J=te(A,M[V],R||w.handleEvent,!1,w.h||w);if(!J)break;w.g[J.key]=J}w=h.J?ee(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Dl(),s$(h.i,h.v,h.B,h.l,h.S,h.u)}xi.prototype.ba=function(h){h=h.target;const w=this.O;w&&Ti(h)==3?w.j():this.Y(h)},xi.prototype.Y=function(h){try{if(h==this.g)e:{const me=Ti(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||wE(this.g)))){this.K||me!=4||wt==7||(wt==8||$e<=0?Dl(3):Dl(2)),_g(this);var w=this.g.ca();this.X=w;var A=h$(this);if(this.o=w==200,l$(this.i,this.v,this.B,this.l,this.S,me,w),this.o){if(this.U&&!this.L){t:{if(this.g){var R,M=this.g;if((R=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var V=R;break t}}V=null}if(h=V)Mo(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xg(this,h);else{this.o=!1,this.m=3,rn(12),ka(this),Vl(this);break e}}if(this.R){h=!0;let kt;for(;!this.K&&this.C<A.length;)if(kt=d$(this,A),kt==bg){me==4&&(this.m=4,rn(14),h=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Zx){this.m=4,rn(15),Mo(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else Mo(this.i,this.l,kt,null),xg(this,kt);if(tE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||A.length!=0||this.h.h||(this.m=1,rn(16),h=!1),this.o=this.o&&h,!h)Mo(this.i,this.l,A,"[Invalid Chunked Response]"),ka(this),Vl(this);else if(A.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Cg(J),J.P=!0,rn(11))}}else Mo(this.i,this.l,A,null),xg(this,A);me==4&&ka(this),this.o&&!this.K&&(me==4?PE(this.j,this):(this.o=!1,jf(this)))}else P$(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),ka(this),Vl(this)}}}catch{}finally{}};function h$(h){if(!tE(h))return h.g.la();const w=wE(h.g);if(w==="")return"";let A="";const R=w.length,M=Ti(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ka(h),Vl(h),"";h.h.i=new o.TextDecoder}for(let V=0;V<R;V++)h.h.h=!0,A+=h.h.i.decode(w[V],{stream:!(M&&V==R-1)});return w.length=0,h.h.g+=A,h.C=0,h.h.g}function tE(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function d$(h,w){var A=h.C,R=w.indexOf(`
`,A);return R==-1?bg:(A=Number(w.substring(A,R)),isNaN(A)?Zx:(R+=1,R+A>w.length?bg:(w=w.slice(R,R+A),h.C=R+A,w)))}xi.prototype.cancel=function(){this.K=!0,ka(this)};function jf(h){h.T=Date.now()+h.H,nE(h,h.H)}function nE(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ml(u(h.aa,h),w)}function _g(h){h.D&&(o.clearTimeout(h.D),h.D=null)}xi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(u$(this.i,this.B),this.M!=2&&(Dl(),rn(17)),ka(this),this.m=2,Vl(this)):nE(this,this.T-h)};function Vl(h){h.j.I==0||h.K||PE(h.j,h)}function ka(h){_g(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,zx(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function xg(h,w){try{var A=h.j;if(A.I!=0&&(A.g==h||Eg(A.h,h))){if(!h.L&&Eg(A.h,h)&&A.I==3){try{var R=A.Ba.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)Ff(A),Lf(A);else break e;Og(A),rn(18)}}else A.xa=M[1],0<A.xa-A.K&&M[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Ml(u(A.Va,A),6e3));aE(A.h)<=1&&A.ta&&(A.ta=void 0)}else Ra(A,11)}else if((h.L||A.g==h)&&Ff(A),!N(w))for(M=A.Ba.g.parse(w),w=0;w<M.length;w++){let $e=M[w];const kt=$e[0];if(!(kt<=A.K))if(A.K=kt,$e=$e[1],A.I==2)if($e[0]=="c"){A.M=$e[1],A.ba=$e[2];const wr=$e[3];wr!=null&&(A.ka=wr,A.j.info("VER="+A.ka));const ja=$e[4];ja!=null&&(A.za=ja,A.j.info("SVER="+A.za));const Ai=$e[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(R=1.5*Ai,A.O=R,A.j.info("backChannelRequestTimeoutMs_="+R)),R=A;const Pi=h.g;if(Pi){const Bf=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bf){var V=R.h;V.g||Bf.indexOf("spdy")==-1&&Bf.indexOf("quic")==-1&&Bf.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Sg(V,V.h),V.h=null))}if(R.G){const kg=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;kg&&(R.wa=kg,We(R.J,R.G,kg))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),R=A;var J=h;if(R.na=CE(R,R.L?R.ba:null,R.W),J.L){oE(R.h,J);var me=J,wt=R.O;wt&&(me.H=wt),me.D&&(_g(me),jf(me)),R.g=J}else TE(R);A.i.length>0&&Vf(A)}else $e[0]!="stop"&&$e[0]!="close"||Ra(A,7);else A.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ra(A,7):Ig(A):$e[0]!="noop"&&A.l&&A.l.qa($e),A.A=0)}}Dl(4)}catch{}}var p$=class{constructor(h,w){this.g=h,this.map=w}};function rE(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function iE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function aE(h){return h.h?1:h.g?h.g.size:0}function Eg(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Sg(h,w){h.g?h.g.add(w):h.h=w}function oE(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}rE.prototype.cancel=function(){if(this.i=sE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sE(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const A of h.g.values())w=w.concat(A.G);return w}return p(h.i)}var lE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m$(h,w){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const R=h[A].indexOf("=");let M,V=null;R>=0?(M=h[A].substring(0,R),V=h[A].substring(R+1)):M=h[A],w(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ei(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Ei?(this.l=h.l,Fl(this,h.j),this.o=h.o,this.g=h.g,Ul(this,h.u),this.h=h.h,Tg(this,pE(h.i)),this.m=h.m):h&&(w=String(h).match(lE))?(this.l=!1,Fl(this,w[1]||"",!0),this.o=Bl(w[2]||""),this.g=Bl(w[3]||"",!0),Ul(this,w[4]),this.h=Bl(w[5]||"",!0),Tg(this,w[6]||"",!0),this.m=Bl(w[7]||"")):(this.l=!1,this.i=new Wl(null,this.l))}Ei.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(zl(w,uE,!0),":");var A=this.g;return(A||w=="file")&&(h.push("//"),(w=this.o)&&h.push(zl(w,uE,!0),"@"),h.push(Ll(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(zl(A,A.charAt(0)=="/"?v$:y$,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",zl(A,w$)),h.join("")},Ei.prototype.resolve=function(h){const w=br(this);let A=!!h.j;A?Fl(w,h.j):A=!!h.o,A?w.o=h.o:A=!!h.g,A?w.g=h.g:A=h.u!=null;var R=h.h;if(A)Ul(w,h.u);else if(A=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var M=w.h.lastIndexOf("/");M!=-1&&(R=w.h.slice(0,M+1)+R)}if(M=R,M==".."||M==".")R="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){R=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let J=0;J<M.length;){const me=M[J++];me=="."?R&&J==M.length&&V.push(""):me==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),R&&J==M.length&&V.push("")):(V.push(me),R=!0)}R=V.join("/")}else R=M}return A?w.h=R:A=h.i.toString()!=="",A?Tg(w,pE(h.i)):A=!!h.m,A&&(w.m=h.m),w};function br(h){return new Ei(h)}function Fl(h,w,A){h.j=A?Bl(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Ul(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function Tg(h,w,A){w instanceof Wl?(h.i=w,_$(h.i,h.l)):(A||(w=zl(w,b$)),h.i=new Wl(w,h.l))}function We(h,w,A){h.i.set(w,A)}function Df(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bl(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zl(h,w,A){return typeof h=="string"?(h=encodeURI(h).replace(w,g$),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function g$(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var uE=/[#\/\?@]/g,y$=/[#\?:]/g,v$=/[#\?]/g,b$=/[#\?@]/g,w$=/#/g;function Wl(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Na(h){h.g||(h.g=new Map,h.h=0,h.i&&m$(h.i,function(w,A){h.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=Wl.prototype,t.add=function(h,w){Na(this),this.i=null,h=$o(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(w),this.h+=1,this};function cE(h,w){Na(h),w=$o(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function fE(h,w){return Na(h),w=$o(h,w),h.g.has(w)}t.forEach=function(h,w){Na(this),this.g.forEach(function(A,R){A.forEach(function(M){h.call(w,M,R,this)},this)},this)};function hE(h,w){Na(h);let A=[];if(typeof w=="string")fE(h,w)&&(A=A.concat(h.g.get($o(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)A=A.concat(h[w]);return A}t.set=function(h,w){return Na(this),this.i=null,h=$o(this,h),fE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=hE(this,h),h.length>0?String(h[0]):w):w};function dE(h,w,A){cE(h,w),A.length>0&&(h.i=null,h.g.set($o(h,w),p(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let R=0;R<w.length;R++){var A=w[R];const M=Ll(A);A=hE(this,A);for(let V=0;V<A.length;V++){let J=M;A[V]!==""&&(J+="="+Ll(A[V])),h.push(J)}}return this.i=h.join("&")};function pE(h){const w=new Wl;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function $o(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function _$(h,w){w&&!h.j&&(Na(h),h.i=null,h.g.forEach(function(A,R){const M=R.toLowerCase();R!=M&&(cE(this,R),dE(this,M,A))},h)),h.j=w}function x$(h,w){const A=new $l;if(o.Image){const R=new Image;R.onload=f(Si,A,"TestLoadImage: loaded",!0,w,R),R.onerror=f(Si,A,"TestLoadImage: error",!1,w,R),R.onabort=f(Si,A,"TestLoadImage: abort",!1,w,R),R.ontimeout=f(Si,A,"TestLoadImage: timeout",!1,w,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else w(!1)}function E$(h,w){const A=new $l,R=new AbortController,M=setTimeout(()=>{R.abort(),Si(A,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:R.signal}).then(V=>{clearTimeout(M),V.ok?Si(A,"TestPingServer: ok",!0,w):Si(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(M),Si(A,"TestPingServer: error",!1,w)})}function Si(h,w,A,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(A)}catch{}}function S$(){this.g=new o$}function Ag(h){this.i=h.Sb||null,this.h=h.ab||!1}c(Ag,Wx),Ag.prototype.g=function(){return new Mf(this.i,this.h)};function Mf(h,w){Ze.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}c(Mf,Ze),t=Mf.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,ql(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||o).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hl(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mE(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function mE(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Hl(this):ql(this),this.readyState==3&&mE(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Hl(this))},t.Na=function(h){this.g&&(this.response=h,Hl(this))},t.ga=function(){this.g&&Hl(this)};function Hl(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ql(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=w.next();return h.join(`\r
`)};function ql(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Mf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function gE(h){let w="";return z(h,function(A,R){w+=R,w+=":",w+=A,w+=`\r
`}),w}function Pg(h,w,A){e:{for(R in A){var R=!1;break e}R=!0}R||(A=gE(A),typeof h=="string"?A!=null&&Ll(A):We(h,w,A))}function it(h){Ze.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}c(it,Ze);var T$=/^https?$/i,A$=["POST","PUT"];t=it.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,A,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qx.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(V){yE(this,V);return}if(h=A||"",A=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)A.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const V of R.keys())A.set(V,R.get(V));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(A.keys()).find(V=>V.toLowerCase()=="content-type"),M=o.FormData&&h instanceof o.FormData,!(Array.prototype.indexOf.call(A$,w,void 0)>=0)||R||M||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,J]of A)this.g.setRequestHeader(V,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){yE(this,V)}};function yE(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,vE(h),$f(h)}function vE(h){h.A||(h.A=!0,dt(h,"complete"),dt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,dt(this,"complete"),dt(this,"abort"),$f(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$f(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?bE(this):this.Xa())},t.Xa=function(){bE(this)};function bE(h){if(h.h&&typeof a<"u"){if(h.v&&Ti(h)==4)setTimeout(h.Ca.bind(h),0);else if(dt(h,"readystatechange"),Ti(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var R;if(R=V===0){let J=String(h.D).match(lE)[1]||null;!J&&o.self&&o.self.location&&(J=o.self.location.protocol.slice(0,-1)),R=!T$.test(J?J.toLowerCase():"")}A=R}if(A)dt(h,"complete"),dt(h,"success");else{h.o=6;try{var M=Ti(h)>2?h.g.statusText:""}catch{M=""}h.l=M+" ["+h.ca()+"]",vE(h)}}finally{$f(h)}}}}function $f(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,w||dt(h,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ti(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),a$(w)}};function wE(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function P$(h){const w={};h=(h.g&&Ti(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(N(h[R]))continue;var A=f$(h[R]);const M=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const V=w[M]||[];w[M]=V,V.push(A)}X(w,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gl(h,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||w}function _E(h){this.za=0,this.i=[],this.j=new $l,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gl("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gl("baseRetryDelayMs",5e3,h),this.Za=Gl("retryDelaySeedMs",1e4,h),this.Ta=Gl("forwardChannelMaxRetries",2,h),this.va=Gl("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new rE(h&&h.concurrentRequestLimit),this.Ba=new S$,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_E.prototype,t.ka=8,t.I=1,t.connect=function(h,w,A,R){rn(0),this.W=h,this.H=w||{},A&&R!==void 0&&(this.H.OSID=A,this.H.OAID=R),this.F=this.X,this.J=CE(this,null,this.W),Vf(this)};function Ig(h){if(xE(h),h.I==3){var w=h.V++,A=br(h.J);if(We(A,"SID",h.M),We(A,"RID",w),We(A,"TYPE","terminate"),Kl(h,A),w=new xi(h,h.j,w),w.M=2,w.A=Df(br(A)),A=!1,o.navigator&&o.navigator.sendBeacon)try{A=o.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&o.Image&&(new Image().src=w.A,A=!0),A||(w.g=kE(w.j,null),w.g.ea(w.A)),w.F=Date.now(),jf(w)}OE(h)}function Lf(h){h.g&&(Cg(h),h.g.cancel(),h.g=null)}function xE(h){Lf(h),h.v&&(o.clearTimeout(h.v),h.v=null),Ff(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&o.clearTimeout(h.m),h.m=null)}function Vf(h){if(!iE(h.h)&&!h.m){h.m=!0;var w=h.Ea;T||S(),I||(T(),I=!0),E.add(w,h),h.D=0}}function I$(h,w){return aE(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ml(u(h.Ea,h,w),IE(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const M=new xi(this,this.j,h);let V=this.o;if(this.U&&(V?(V=ee(V),oe(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var R=this.i[A];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,w>4096){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=SE(this,M,w),A=br(this.J),We(A,"RID",h),We(A,"CVER",22),this.G&&We(A,"X-HTTP-Session-Id",this.G),Kl(this,A),V&&(this.R?w="headers="+Ll(gE(V))+"&"+w:this.u&&Pg(A,this.u,V)),Sg(this.h,M),this.Ra&&We(A,"TYPE","init"),this.S?(We(A,"$req",w),We(A,"SID","null"),M.U=!0,wg(M,A,null)):wg(M,A,w),this.I=2}}else this.I==3&&(h?EE(this,h):this.i.length==0||iE(this.h)||EE(this))};function EE(h,w){var A;w?A=w.l:A=h.V++;const R=br(h.J);We(R,"SID",h.M),We(R,"RID",A),We(R,"AID",h.K),Kl(h,R),h.u&&h.o&&Pg(R,h.u,h.o),A=new xi(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),w&&(h.i=w.G.concat(h.i)),w=SE(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Sg(h.h,A),wg(A,R,w)}function Kl(h,w){h.H&&z(h.H,function(A,R){We(w,R,A)}),h.l&&z({},function(A,R){We(w,R,A)})}function SE(h,w,A){A=Math.min(h.i.length,A);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var M=h.i;let me=-1;for(;;){const wt=["count="+A];me==-1?A>0?(me=M[0].g,wt.push("ofs="+me)):me=0:wt.push("ofs="+me);let $e=!0;for(let kt=0;kt<A;kt++){var V=M[kt].g;const wr=M[kt].map;if(V-=me,V<0)me=Math.max(0,M[kt].g-100),$e=!1;else try{V="req"+V+"_"||"";try{var J=wr instanceof Map?wr:Object.entries(wr);for(const[ja,Ai]of J){let Pi=Ai;s(Ai)&&(Pi=mg(Ai)),wt.push(V+ja+"="+encodeURIComponent(Pi))}}catch(ja){throw wt.push(V+"type="+encodeURIComponent("_badmap")),ja}}catch{R&&R(wr)}}if($e){J=wt.join("&");break e}}J=void 0}return h=h.i.splice(0,A),w.G=h,J}function TE(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;T||S(),I||(T(),I=!0),E.add(w,h),h.A=0}}function Og(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ml(u(h.Da,h),IE(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,AE(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ml(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),Lf(this),AE(this))};function Cg(h){h.B!=null&&(o.clearTimeout(h.B),h.B=null)}function AE(h){h.g=new xi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=br(h.na);We(w,"RID","rpc"),We(w,"SID",h.M),We(w,"AID",h.K),We(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(w,"TO",h.ia),We(w,"TYPE","xmlhttp"),Kl(h,w),h.u&&h.o&&Pg(w,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=Df(br(w)),A.u=null,A.R=!0,eE(A,h)}t.Va=function(){this.C!=null&&(this.C=null,Lf(this),Og(this),rn(19))};function Ff(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function PE(h,w){var A=null;if(h.g==w){Ff(h),Cg(h),h.g=null;var R=2}else if(Eg(h.h,w))A=w.G,oE(h.h,w),R=1;else return;if(h.I!=0){if(w.o)if(R==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var M=h.D;R=Nf(),dt(R,new Xx(R,A)),Vf(h)}else TE(h);else if(M=w.m,M==3||M==0&&w.X>0||!(R==1&&I$(h,w)||R==2&&Og(h)))switch(A&&A.length>0&&(w=h.h,w.i=w.i.concat(A)),M){case 1:Ra(h,5);break;case 4:Ra(h,10);break;case 3:Ra(h,6);break;default:Ra(h,2)}}}function IE(h,w){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*w}function Ra(h,w){if(h.j.info("Error code "+w),w==2){var A=u(h.bb,h),R=h.Ua;const M=!R;R=new Ei(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Fl(R,"https"),Df(R),M?x$(R.toString(),A):E$(R.toString(),A)}else rn(2);h.I=0,h.l&&h.l.pa(w),OE(h),xE(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function OE(h){if(h.I=0,h.ja=[],h.l){const w=sE(h.h);(w.length!=0||h.i.length!=0)&&(b(h.ja,w),b(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function CE(h,w,A){var R=A instanceof Ei?br(A):new Ei(A);if(R.g!="")w&&(R.g=w+"."+R.g),Ul(R,R.u);else{var M=o.location;R=M.protocol,w=w?w+"."+M.hostname:M.hostname,M=+M.port;const V=new Ei(null);R&&Fl(V,R),w&&(V.g=w),M&&Ul(V,M),A&&(V.h=A),R=V}return A=h.G,w=h.wa,A&&w&&We(R,A,w),We(R,"VER",h.ka),Kl(h,R),R}function kE(h,w,A){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new it(new Ag({ab:A})):new it(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function NE(){}t=NE.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Uf(){}Uf.prototype.g=function(h,w){return new wn(h,w)};function wn(h,w){Ze.call(this),this.g=new _E(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!N(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Lo(this)}c(wn,Ze),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ig(this.g)},wn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=mg(h),h=A);w.i.push(new p$(w.Ya++,h)),w.I==3&&Vf(w)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ig(this.g),delete this.g,wn.Z.N.call(this)};function RE(h){gg.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const A in w){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}c(RE,gg);function jE(){yg.call(this),this.status=1}c(jE,yg);function Lo(h){this.g=h}c(Lo,NE),Lo.prototype.ra=function(){dt(this.g,"a")},Lo.prototype.qa=function(h){dt(this.g,new RE(h))},Lo.prototype.pa=function(h){dt(this.g,new jE)},Lo.prototype.oa=function(){dt(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,p2=function(){return new Uf},d2=function(){return Nf()},h2=Ca,Kv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rf.NO_ERROR=0,Rf.TIMEOUT=8,Rf.HTTP_ERROR=6,Fh=Rf,Yx.COMPLETE="complete",f2=Yx,Hx.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,wu=Hx,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,c2=it}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const dS="@firebase/firestore",pS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new Bw("@firebase/firestore");function Wo(){return co.logLevel}function re(t,...e){if(co.logLevel<=_e.DEBUG){const n=e.map(Hw);co.debug(`Firestore (${ml}): ${t}`,...n)}}function li(t,...e){if(co.logLevel<=_e.ERROR){const n=e.map(Hw);co.error(`Firestore (${ml}): ${t}`,...n)}}function js(t,...e){if(co.logLevel<=_e.WARN){const n=e.map(Hw);co.warn(`Firestore (${ml}): ${t}`,...n)}}function Hw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,m2(t,r,n)}function m2(t,e,n){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw li(r),new Error(r)}function Ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||m2(e,i,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class T6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class A6{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new g2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class P6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new P6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=a=>{a.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=C6(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Xv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return hy(i)===hy(a)?xe(i,a):hy(i)?1:-1}return xe(t.length,e.length)}const k6=55296,N6=57343;function hy(t){const e=t.charCodeAt(0);return e>=k6&&e<=N6}function Ds(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="__name__";class Er{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Er.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return xe(e.length,n.length)}static compareSegments(e,n){const r=Er.isNumericId(e),i=Er.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Er.extractNumericId(e).compare(Er.extractNumericId(n)):Xv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ra.fromString(e.substring(4,e.length-2))}}class Ue extends Er{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const R6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Er{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return R6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gS}static keyField(){return new Ft([gS])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ne(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ne(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ne(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ue.fromString(e))}static fromName(e){return new se(Ue.fromString(e).popFirst(5))}static empty(){return new se(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t,e,n){if(!n)throw new ne(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j6(t,e,n,r){if(e===!0&&r===!0)throw new ne(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yS(t){if(!se.isDocumentKey(t))throw new ne(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vS(t){if(se.isDocumentKey(t))throw new ne(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function v2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=om(t);throw new ne(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function cf(t,e){if(!v2(t))throw new ne(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ne(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=-62135596800,wS=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wS);return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bS)throw new ne(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wS}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cf(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:vt("string",De._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new De(0,0))}static max(){return new fe(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function D6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new ua(i,se.empty(),e)}function M6(t){return new ua(t.readTime,t.key,hc)}class ua{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ua(fe.min(),se.empty(),hc)}static max(){return new ua(fe.max(),se.empty(),hc)}}function $6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==L6)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++s,s===a&&r(o)},f=>i(f))}})}static doWhile(e,n){return new q((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function F6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-1;function lm(t){return t==null}function Ed(t){return t===0&&1/t==-1/0}function U6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="";function B6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_S(e)),e=z6(t.get(n),e);return _S(e)}function z6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case b2:n+="";break;default:n+=a}}return n}function _S(t){return t+b2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function w2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=a??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ES(this.data.getIterator())}getIteratorFrom(e){return new ES(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class ES{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new At(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _2("Invalid base64 string: "+a):a}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const W6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=W6.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fa(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="server_timestamp",E2="__type__",S2="__previous_value__",T2="__local_write_time__";function Kw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[E2])==null?void 0:r.stringValue)===x2}function um(t){const e=t.mapValue.fields[S2];return Kw(e)?um(e):e}function dc(t){const e=ca(t.mapValue.fields[T2].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,i,a,o,s,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Sd="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||Sd}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===Sd}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="__type__",q6="__max__",uh={mapValue:{}},P2="__vector__",Td="value";function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kw(t)?4:K6(t)?9007199254740991:G6(t)?10:11:ce(28295,{value:t})}function $r(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ca(i.timestampValue),s=ca(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return fa(i.bytesValue).isEqual(fa(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return lt(i.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return lt(i.integerValue)===lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=lt(i.doubleValue),s=lt(a.doubleValue);return o===s?Ed(o)===Ed(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ds(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(xS(o)!==xS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!$r(o[l],s[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function mc(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=lt(a.integerValue||a.doubleValue),l=lt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return SS(t.timestampValue,e.timestampValue);case 4:return SS(dc(t),dc(e));case 5:return Xv(t.stringValue,e.stringValue);case 6:return function(a,o){const s=fa(a),l=fa(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const f=xe(s[u],l[u]);if(f!==0)return f}return xe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=xe(lt(a.latitude),lt(o.latitude));return s!==0?s:xe(lt(a.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var d,p,b,g;const s=a.fields||{},l=o.fields||{},u=(d=s[Td])==null?void 0:d.arrayValue,f=(p=l[Td])==null?void 0:p.arrayValue,c=xe(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((g=f==null?void 0:f.values)==null?void 0:g.length)||0);return c!==0?c:TS(u,f)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===uh.mapValue&&o===uh.mapValue)return 0;if(a===uh.mapValue)return 1;if(o===uh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let c=0;c<l.length&&c<f.length;++c){const d=Xv(l[c],f[c]);if(d!==0)return d;const p=Ms(s[l[c]],u[f[c]]);if(p!==0)return p}return xe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function SS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=ca(t),r=ca(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function TS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ms(n[i],r[i]);if(a)return a}return xe(n.length,r.length)}function $s(t){return Yv(t)}function Yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ca(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Yv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Yv(n.fields[o])}`;return i+"}"}(t.mapValue):ce(61005,{value:t})}function Uh(t){switch(ha(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+Uh(e):16;case 5:return 2*t.stringValue.length;case 6:return fa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Uh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return wa(r.fields,(a,o)=>{i+=a.length+Uh(o)}),i}(t.mapValue);default:throw ce(13486,{value:t})}}function AS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qv(t){return!!t&&"integerValue"in t}function Xw(t){return!!t&&"arrayValue"in t}function PS(t){return!!t&&"nullValue"in t}function IS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bh(t){return!!t&&"mapValue"in t}function G6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[A2])==null?void 0:r.stringValue)===P2}function Du(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Du(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Du(t.arrayValue.values[n]);return e}return{...t}}function K6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===q6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=Du(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wa(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new dn(Du(this.value))}}function I2(t){const e=[];return wa(t.fields,(n,r)=>{const i=new Ft([n]);if(Bh(r)){const a=I2(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Jt(e,0,fe.min(),fe.min(),fe.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,fe.min(),fe.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,fe.min(),fe.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.position=e,this.inclusive=n}}function OS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Ms(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function CS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function X6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{}class yt extends O2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q6(e,n,r):n==="array-contains"?new eU(e,r):n==="in"?new tU(e,r):n==="not-in"?new nU(e,r):n==="array-contains-any"?new rU(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J6(e,r):new Z6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ms(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends O2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gr(e,n)}matches(e){return C2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C2(t){return t.op==="and"}function k2(t){return Y6(t)&&C2(t)}function Y6(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function Jv(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(k2(t))return t.filters.map(e=>Jv(e)).join(",");{const e=t.filters.map(n=>Jv(n)).join(",");return`${t.op}(${e})`}}function N2(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&N2(o,i.filters[s]),!0):!1}(t,e):void ce(19439)}function R2(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(R2).join(" ,")+"}"}(t):"Filter"}class Q6 extends yt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class J6 extends yt{constructor(e,n){super(e,"in",n),this.keys=j2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z6 extends yt{constructor(e,n){super(e,"not-in",n),this.keys=j2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function j2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class eU extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xw(n)&&mc(n.arrayValue,this.value)}}class tU extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class nU extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class rU extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function kS(t,e=null,n=[],r=[],i=null,a=null,o=null){return new iU(t,e,n,r,i,a,o)}function Yw(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$s(r)).join(",")),e.Te=n}return e.Te}function Qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!N2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CS(t.startAt,e.startAt)&&CS(t.endAt,e.endAt)}function Zv(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aU(t,e,n,r,i,a,o,s){return new vl(t,e,n,r,i,a,o,s)}function Jw(t){return new vl(t)}function NS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D2(t){return t.collectionGroup!==null}function Mu(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new At(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gc(a,r))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new gc(Ft.keyField(),r))}return e.Ie}function Or(t){const e=he(t);return e.Ee||(e.Ee=oU(e,Mu(t))),e.Ee}function oU(t,e){if(t.limitType==="F")return kS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new gc(i.field,a)});const n=t.endAt?new Ad(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ad(t.startAt.position,t.startAt.inclusive):null;return kS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function e0(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function t0(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cm(t,e){return Qw(Or(t),Or(e))&&t.limitType===e.limitType}function M2(t){return`${Yw(Or(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>R2(i)).join(", ")}]`),lm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$s(i)).join(",")),`Target(${r})`}(Or(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Mu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=OS(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,Mu(r),i)||r.endAt&&!function(o,s,l){const u=OS(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,Mu(r),i))}(t,e)}function sU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $2(t){return(e,n)=>{let r=!1;for(const i of Mu(t)){const a=lU(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function lU(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Ms(l,u):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return w2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new rt(se.comparator);function ui(){return uU}const L2=new rt(se.comparator);function _u(...t){let e=L2;for(const n of t)e=e.insert(n.key,n);return e}function V2(t){let e=L2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qa(){return $u()}function F2(){return $u()}function $u(){return new Ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const cU=new rt(se.comparator),fU=new At(se.comparator);function Ee(...t){let e=fU;for(const n of t)e=e.add(n);return e}const hU=new At(xe);function dU(){return hU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function U2(t){return{integerValue:""+t}}function pU(t,e){return U6(e)?U2(e):Zw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this._=void 0}}function mU(t,e,n){return t instanceof Pd?function(i,a){const o={fields:{[E2]:{stringValue:x2},[T2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Kw(a)&&(a=um(a)),a&&(o.fields[S2]=a),{mapValue:o}}(n,e):t instanceof yc?z2(t,e):t instanceof vc?W2(t,e):function(i,a){const o=B2(i,a),s=RS(o)+RS(i.Ae);return Qv(o)&&Qv(i.Ae)?U2(s):Zw(i.serializer,s)}(t,e)}function gU(t,e,n){return t instanceof yc?z2(t,e):t instanceof vc?W2(t,e):n}function B2(t,e){return t instanceof Id?function(r){return Qv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Pd extends hm{}class yc extends hm{constructor(e){super(),this.elements=e}}function z2(t,e){const n=H2(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class vc extends hm{constructor(e){super(),this.elements=e}}function W2(t,e){let n=H2(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class Id extends hm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function RS(t){return lt(t.integerValue||t.doubleValue)}function H2(t){return Xw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yc&&i instanceof yc||r instanceof vc&&i instanceof vc?Ds(r.elements,i.elements,$r):r instanceof Id&&i instanceof Id?$r(r.Ae,i.Ae):r instanceof Pd&&i instanceof Pd}(t.transform,e.transform)}class vU{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dm{}function q2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e_(t.key,Hn.none()):new ff(t.key,t.data,Hn.none());{const n=t.data,r=dn.empty();let i=new At(Ft.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new _a(t.key,r,new Pn(i.toArray()),Hn.none())}}function bU(t,e,n){t instanceof ff?function(i,a,o){const s=i.value.clone(),l=DS(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof _a?function(i,a,o){if(!zh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=DS(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(G2(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof ff?function(a,o,s,l){if(!zh(a.precondition,o))return s;const u=a.value.clone(),f=MS(a.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _a?function(a,o,s,l){if(!zh(a.precondition,o))return s;const u=MS(a.fieldTransforms,l,o),f=o.data;return f.setAll(G2(a)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(a,o,s){return zh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function wU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=B2(r.transform,i||null);a!=null&&(n===null&&(n=dn.empty()),n.set(r.field,a))}return n||null}function jS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ds(r,i,(a,o)=>yU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ff extends dm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _a extends dm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function G2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DS(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,gU(o,s,n[i]))}return r}function MS(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,mU(a,o,e))}return r}class e_ extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _U extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&bU(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=F2();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=q2(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(n,r)=>jS(n,r))&&Ds(this.baseMutations,e.baseMutations,(n,r)=>jS(n,r))}}class t_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return cU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new t_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Te;function TU(t){switch(t){case W.OK:return ce(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function K2(t){if(t===void 0)return li("GRPC error has no .code"),W.UNKNOWN;switch(t){case pt.OK:return W.OK;case pt.CANCELLED:return W.CANCELLED;case pt.UNKNOWN:return W.UNKNOWN;case pt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pt.INTERNAL:return W.INTERNAL;case pt.UNAVAILABLE:return W.UNAVAILABLE;case pt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pt.NOT_FOUND:return W.NOT_FOUND;case pt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pt.ABORTED:return W.ABORTED;case pt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pt.DATA_LOSS:return W.DATA_LOSS;default:return ce(39323,{code:t})}}(Te=pt||(pt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new ra([4294967295,4294967295],0);function $S(t){const e=AU().encode(t),n=new u2;return n.update(e),new Uint8Array(n.digest())}function LS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ra([n,r],0),new ra([i,a],0)]}class n_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(r<0)throw new xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ra.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ra.fromNumber(r)));return i.compare(PU)===1&&(i=new ra([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$S(e),[r,i]=LS(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new n_(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const n=$S(e),[r,i]=LS(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pm(fe.min(),i,new rt(xe),ui(),Ee())}}class hf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hf(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class X2{constructor(e,n){this.targetId=e,this.Ce=n}}class Y2{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VS{constructor(){this.ve=0,this.Fe=FS(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce(38017,{changeType:a})}}),new hf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IU{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=ch(),this.He=ch(),this.Ye=new rt(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Zv(a))if(r===0){const o=new se(a.path);this.et(n,o,Jt.newNoDocument(o,fe.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=fa(r).toUint8Array()}catch(l){if(l instanceof _2)return js("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new n_(o,i,a)}catch(l){return js(l instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&Zv(s.target)){const l=new se(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Jt.newNoDocument(l,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let r=Ee();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new pm(e,n,this.Ye,this.je,r);return this.je=ui(),this.Je=ch(),this.He=ch(),this.Ye=new rt(xe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new VS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new rt(se.comparator)}function FS(){return new rt(se.comparator)}const OU={asc:"ASCENDING",desc:"DESCENDING"},CU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kU={and:"AND",or:"OR"};class NU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function n0(t,e){return t.useProto3Json||lm(e)?e:{value:e}}function Od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RU(t,e){return Od(t,e.toTimestamp())}function Cr(t){return Ce(!!t,49232),fe.fromTimestamp(function(n){const r=ca(n);return new De(r.seconds,r.nanos)}(t))}function r_(t,e){return r0(t,e).canonicalString()}function r0(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function J2(t){const e=Ue.fromString(t);return Ce(rN(e),10190,{key:e.toString()}),e}function i0(t,e){return r_(t.databaseId,e.path)}function dy(t,e){const n=J2(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(eN(n))}function Z2(t,e){return r_(t.databaseId,e)}function jU(t){const e=J2(t);return e.length===4?Ue.emptyPath():eN(e)}function a0(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eN(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function US(t,e,n){return{name:i0(t,e),fields:n.value.mapValue.fields}}function DU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,f){return u.useProto3Json?(Ce(f===void 0||typeof f=="string",58123),Wt.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Wt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const f=u.code===void 0?W.UNKNOWN:K2(u.code);return new ne(f,u.message||"")}(o);n=new Y2(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dy(t,r.document.name),a=Cr(r.document.updateTime),o=r.document.createTime?Cr(r.document.createTime):fe.min(),s=new dn({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,a,o,s),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Wh(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dy(t,r.document),a=r.readTime?Cr(r.readTime):fe.min(),o=Jt.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Wh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dy(t,r.document),a=r.removedTargetIds||[];n=new Wh([],a,i,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new SU(i,a),s=r.targetId;n=new X2(s,o)}}return n}function MU(t,e){let n;if(e instanceof ff)n={update:US(t,e.key,e.value)};else if(e instanceof e_)n={delete:i0(t,e.key)};else if(e instanceof _a)n={update:US(t,e.key,e.data),updateMask:HU(e.fieldMask)};else{if(!(e instanceof _U))return ce(16599,{Vt:e.type});n={verify:i0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Pd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof vc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Id)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:RU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ce(27497)}(t,e.precondition)),n}function $U(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Cr(i.updateTime):Cr(a);return o.isEqual(fe.min())&&(o=Cr(a)),new vU(o,i.transformResults||[])}(n,e))):[]}function LU(t,e){return{documents:[Z2(t,e.path)]}}function VU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z2(t,i);const a=function(u){if(u.length!==0)return nN(gr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(f=>function(d){return{field:qo(d.field),direction:BU(d.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=n0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function FU(t){let e=jU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(c){const d=tN(c);return d instanceof gr&&k2(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(c){return c.map(d=>function(b){return new gc(Go(b.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(c){let d;return d=typeof c=="object"?c.value:c,lm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,p=c.values||[];return new Ad(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,p=c.values||[];return new Ad(p,d)}(n.endAt)),aU(e,i,o,a,s,"F",l,u)}function UU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Go(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Go(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Go(n.unaryFilter.field);return yt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Go(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Go(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>tN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function BU(t){return OU[t]}function zU(t){return CU[t]}function WU(t){return kU[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Go(t){return Ft.fromServerFormat(t.fieldPath)}function nN(t){return t instanceof yt?function(n){if(n.op==="=="){if(IS(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(PS(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IS(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(PS(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:zU(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(i=>nN(i));return r.length===1?r[0]:{compositeFilter:{op:WU(n.op),filters:r}}}(t):ce(54877,{filter:t})}function HU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r,i,a=fe.min(),o=fe.min(),s=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.yt=e}}function GU(t){const e=FU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?t0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.Cn=new XU}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ua.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class XU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(Ue.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iN=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(iN,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ls(0)}static cr(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="LruGarbageCollector",YU=1048576;function WS([t,e],[n,r]){const i=xe(t,n);return i===0?xe(e,r):i}class QU{constructor(e){this.Ir=e,this.buffer=new At(WS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(zS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?re(zS,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)})}}class ZU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(sm.ce);const r=new QU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(BS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,s,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,o=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(r=c,s=Date.now(),this.removeTargets(e,r,n))).next(c=>(a=c,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(c=>(u=Date.now(),Wo()<=_e.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${c} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:c})))}}function eB(t,e){return new ZU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.changes=new Ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,Pn.empty(),De.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=qa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=_u();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=ui();const o=$u(),s=function(){return $u()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof _a)?a=a.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Lu(f.mutation,u,f.mutation.getFieldMask(),De.now())):o.set(u.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>s.set(u,new nB(f,o.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=$u();let i=new rt((o,s)=>o-s),a=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Pn.empty();f=s.applyToLocalView(u,f),r.set(l,f);const c=(i.get(s.batchId)||Ee()).add(l);i=i.insert(s.batchId,c)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,f=l.value,c=F2();f.forEach(d=>{if(!a.has(d)){const p=q2(n.get(d),r.get(d));p!==null&&c.set(d,p),a=a.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,c))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):q.resolve(qa());let s=hc,l=a;return o.next(u=>q.forEach(u,(f,c)=>(s<c.largestBatchId&&(s=c.largestBatchId),a.get(f)?q.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Ee())).next(f=>({batchId:s,changes:V2(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=_u();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=_u();return this.indexManager.getCollectionParents(e,a).next(s=>q.forEach(s,l=>{const u=function(c,d){return new vl(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Jt.newInvalidDocument(f)))});let s=_u();return o.forEach((l,u)=>{const f=a.get(l);f!==void 0&&Lu(f.mutation,u,Pn.empty(),De.now()),fm(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:GU(i.bundledQuery),readTime:Cr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.overlays=new rt(se.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qa();return q.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=qa(),a=n.length+1,o=new se(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new rt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=a.get(u.largestBatchId);f===null&&(f=qa(),a=a.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const s=qa(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>s.set(u,f)),!(s.size()>=i)););return q.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new EU(n,r));let a=this.qr.get(n);a===void 0&&(a=Ee(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.Qr=new At(Nt.$r),this.Ur=new At(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Nt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Ue([])),r=new Nt(n,e),i=new Nt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Ue([])),r=new Nt(n,e),i=new Nt(n,e+1);let a=Ee();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(Nt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xU(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Nt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?Gw:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(xe);return n.forEach(i=>{const a=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{r=r.add(s.Yr)})}),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;se.isDocumentKey(a)||(a=a.child(""));const o=new Nt(new se(a),0);let s=new At(xe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)},o),q.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,i=>{const a=new Nt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.ri=e,this.docs=function(){return new rt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Jt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ui();const o=n.path,s=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$6(M6(f),r)<=0||(i.has(f.key)||fm(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return q.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ce(9500)}ii(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uB(this)}getSize(e){return q.resolve(this.size)}}class uB extends tB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.persistence=e,this.si=new Ao(n=>Yw(n),Qw),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new i_,this.targetCount=0,this.ai=Ls.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ls(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),q.waitFor(a).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.ui={},this.overlays={},this.ci=new sm(0),this.li=!1,this.li=!0,this.hi=new oB,this.referenceDelegate=e(this),this.Pi=new cB(this),this.indexManager=new KU,this.remoteDocumentCache=function(i){return new lB(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new qU(n),this.Ii=new iB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new sB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new fB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class fB extends V6{constructor(e){super(),this.currentSequenceNumber=e}}class a_{constructor(e){this.persistence=e,this.Ri=new i_,this.Vi=null}static mi(e){return new a_(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,r=>{const i=se.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cd{constructor(e,n){this.persistence=e,this.pi=new Ao(r=>B6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=eB(this,n)}static mi(e,n){return new Cd(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?q.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(s=>{s||(r++,a.removeEntry(o,fe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uh(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ee(),i=Ee();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new o_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return oF()?8:F6(nn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new hB;return this.Ss(e,n,o).next(s=>{if(a.result=s,this.Vs)return this.bs(e,n,o,s.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Wo()<=_e.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Wo()<=_e.DEBUG&&re("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Wo()<=_e.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):q.resolve())}ys(e,n){if(NS(n))return q.resolve(null);let r=Or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=t0(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Ee(...a);return this.ps.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,s);return this.Cs(n,u,o,l.readTime)?this.ys(e,t0(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return NS(n)||i.isEqual(fe.min())?q.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?q.resolve(null):(Wo()<=_e.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(n)),this.vs(e,o,n,D6(i,hc)).next(s=>s))})}Ds(e,n){let r=new At($2(e));return n.forEach((i,a)=>{fm(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Wo()<=_e.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ps.getDocumentsMatchingQuery(e,n,ua.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LocalStore",pB=3e8;class mB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new rt(xe),this.xs=new Ao(a=>Yw(a),Qw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function gB(t,e,n,r){return new mB(t,e,n,r)}async function oN(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Ee();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of a){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:s}))})})}function yB(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,u,f){const c=u.batch,d=c.keys();let p=q.resolve();return d.forEach(b=>{p=p.next(()=>f.getEntry(l,b)).next(g=>{const y=u.docVersions.get(b);Ce(y!==null,48541),g.version.compareTo(y)<0&&(c.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),f.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,c))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ee();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sN(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function vB(t,e){const n=he(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];e.targetChanges.forEach((f,c)=>{const d=i.get(c);if(!d)return;s.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,c).next(()=>n.Pi.addMatchingKeys(a,f.addedDocuments,c)));let p=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(c)!==null?p=p.withResumeToken(Wt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(c,p),function(g,y,_){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=pB?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,p,f)&&s.push(n.Pi.updateTargetData(a,p))});let l=ui(),u=Ee();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),s.push(bB(a,o,e.documentUpdates).next(f=>{l=f.ks,u=f.qs})),!r.isEqual(fe.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next(c=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(f)}return q.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function bB(t,e,n){let r=Ee(),i=Ee();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=ui();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):re(s_,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function wB(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _B(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,q.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function o0(t,e,n){const r=he(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yl(o))throw o;re(s_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function HS(t,e,n){const r=he(t);let i=fe.min(),a=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const c=he(l),d=c.xs.get(f);return d!==void 0?q.resolve(c.Ms.get(d)):c.Pi.getTargetData(u,f)}(r,o,Or(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?a:Ee())).next(s=>(xB(r,sU(e),s),{documents:s,Qs:a})))}function xB(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class qS{constructor(){this.activeTargetIds=dU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EB{constructor(){this.Mo=new qS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="ConnectivityMonitor";class KS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(GS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(GS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function s0(){return fh===null?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="RestConnection",TB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=s0(),s=this.zo(e,n.toUriEncodedString());re(py,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),f=dl(u);return this.Jo(e,s,l,r,f).then(c=>(re(py,`Received RPC '${e}' ${o}: `,c),c),c=>{throw js(py,`RPC '${e}' ${o} failed with error: `,c,"url: ",s,"request:",r),c})}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=TB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class IB extends AB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=s0();return new Promise((s,l)=>{const u=new c2;u.setWithCredentials(!0),u.listenOnce(f2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Fh.NO_ERROR:const c=u.getResponseJson();re(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Fh.TIMEOUT:re(Kt,`RPC '${e}' ${o} timed out`),l(new ne(W.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const d=u.getStatus();if(re(Kt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const b=p==null?void 0:p.error;if(b&&b.status&&b.message){const g=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(b.status);l(new ne(g,b.message))}else l(new ne(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(W.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{re(Kt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);re(Kt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",f,r,15)})}T_(e,n,r){const i=s0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p2(),s=d2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=a.join("");re(Kt,`Creating RPC '${e}' stream ${i}: ${f}`,l);const c=o.createWebChannel(f,l);this.I_(c);let d=!1,p=!1;const b=new PB({Yo:y=>{p?re(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(re(Kt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),re(Kt,`RPC '${e}' stream ${i} sending:`,y),c.send(y))},Zo:()=>c.close()}),g=(y,_,v)=>{y.listen(_,x=>{try{v(x)}catch(O){setTimeout(()=>{throw O},0)}})};return g(c,wu.EventType.OPEN,()=>{p||(re(Kt,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),g(c,wu.EventType.CLOSE,()=>{p||(p=!0,re(Kt,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(c))}),g(c,wu.EventType.ERROR,y=>{p||(p=!0,js(Kt,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),b.a_(new ne(W.UNAVAILABLE,"The operation could not be completed")))}),g(c,wu.EventType.MESSAGE,y=>{var _;if(!p){const v=y.data[0];Ce(!!v,16349);const x=v,O=(x==null?void 0:x.error)||((_=x[0])==null?void 0:_.error);if(O){re(Kt,`RPC '${e}' stream ${i} received error:`,O);const T=O.status;let I=function(P){const k=pt[P];if(k!==void 0)return K2(k)}(T),E=O.message;I===void 0&&(I=W.INTERNAL,E="Unknown error status: "+T+" with message "+O.message),p=!0,b.a_(new ne(I,E)),c.close()}else re(Kt,`RPC '${e}' stream ${i} received:`,v),b.u_(v)}}),g(s,h2.STAT_EVENT,y=>{y.stat===Kv.PROXY?re(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Kv.NOPROXY&&re(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function my(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){return new NU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="PersistentStream";class uN{constructor(e,n,r,i,a,o,s,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ne(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(XS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(XS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OB extends uN{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DU(this.serializer,e),r=function(a){if(!("targetChange"in a))return fe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Cr(o.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=a0(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=Zv(l)?{documents:LU(a,l)}:{query:VU(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Q2(a,o.resumeToken);const u=n0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){s.readTime=Od(a,o.snapshotVersion.toTimestamp());const u=n0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=UU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=a0(this.serializer),n.removeTarget=e,this.q_(n)}}class CB extends uN{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$U(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=a0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{}class NB extends kB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ne(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,r0(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne(W.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(e,r0(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="RemoteStore";class jB{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Po(this)&&(re(fo,"Restarting streams for network reachability change."),await async function(l){const u=he(l);u.Ea.add(4),await df(u),u.Ra.set("Unknown"),u.Ea.delete(4),await gm(u)}(this))})}),this.Ra=new RB(r,i)}}async function gm(t){if(Po(t))for(const e of t.da)await e(!0)}async function df(t){for(const e of t.da)await e(!1)}function cN(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),f_(n)?c_(n):bl(n).O_()&&u_(n,e))}function l_(t,e){const n=he(t),r=bl(n);n.Ia.delete(e),r.O_()&&fN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Po(n)&&n.Ra.set("Unknown"))}function u_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).Y_(e)}function fN(t,e){t.Va.Ue(e),bl(t).Z_(e)}function c_(t){t.Va=new IU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.Ra.ua()}function f_(t){return Po(t)&&!bl(t).x_()&&t.Ia.size>0}function Po(t){return he(t).Ea.size===0}function hN(t){t.Va=void 0}async function DB(t){t.Ra.set("Online")}async function MB(t){t.Ia.forEach((e,n)=>{u_(t,e)})}async function $B(t,e){hN(t),f_(t)?(t.Ra.ha(e),c_(t)):t.Ra.set("Unknown")}async function LB(t,e,n){if(t.Ra.set("Online"),e instanceof Y2&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(r){re(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kd(t,r)}else if(e instanceof Wh?t.Va.Ze(e):e instanceof X2?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await sN(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=a.Ia.get(u);f&&a.Ia.set(u,f.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const f=a.Ia.get(l);if(!f)return;a.Ia.set(l,f.withResumeToken(Wt.EMPTY_BYTE_STRING,f.snapshotVersion)),fN(a,l);const c=new zi(f.target,l,u,f.sequenceNumber);u_(a,c)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){re(fo,"Failed to raise snapshot:",r),await kd(t,r)}}async function kd(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await df(t),t.Ra.set("Offline"),n||(n=()=>sN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(fo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gm(t)})}function dN(t,e){return e().catch(n=>kd(t,n,e))}async function ym(t){const e=he(t),n=da(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gw;for(;VB(e);)try{const i=await wB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,FB(e,i)}catch(i){await kd(e,i)}pN(e)&&mN(e)}function VB(t){return Po(t)&&t.Ta.length<10}function FB(t,e){t.Ta.push(e);const n=da(t);n.O_()&&n.X_&&n.ea(e.mutations)}function pN(t){return Po(t)&&!da(t).x_()&&t.Ta.length>0}function mN(t){da(t).start()}async function UB(t){da(t).ra()}async function BB(t){const e=da(t);for(const n of t.Ta)e.ea(n.mutations)}async function zB(t,e,n){const r=t.Ta.shift(),i=t_.from(r,e,n);await dN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ym(t)}async function WB(t,e){e&&da(t).X_&&await async function(r,i){if(function(o){return TU(o)&&o!==W.ABORTED}(i.code)){const a=r.Ta.shift();da(r).B_(),await dN(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ym(r)}}(t,e),pN(t)&&mN(t)}async function YS(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),re(fo,"RemoteStore received new credentials");const r=Po(n);n.Ea.add(3),await df(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gm(n)}async function HB(t,e){const n=he(t);e?(n.Ea.delete(2),await gm(n)):e||(n.Ea.add(2),await df(n),n.Ra.set("Unknown"))}function bl(t){return t.ma||(t.ma=function(n,r,i){const a=he(n);return a.sa(),new OB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:DB.bind(null,t),t_:MB.bind(null,t),r_:$B.bind(null,t),H_:LB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),f_(t)?c_(t):t.Ra.set("Unknown")):(await t.ma.stop(),hN(t))})),t.ma}function da(t){return t.fa||(t.fa=function(n,r,i){const a=he(n);return a.sa(),new CB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UB.bind(null,t),r_:WB.bind(null,t),ta:BB.bind(null,t),na:zB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ym(t)):(await t.fa.stop(),t.Ta.length>0&&(re(fo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new h_(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(li("AsyncQueue",`${e}: ${t}`),yl(t))return new ne(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=_u(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.ga=new rt(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vs{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Vs(e,n,gs.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class GB{constructor(){this.queries=JS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=he(n),a=i.queries;i.queries=JS(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new ne(W.ABORTED,"Firestore shutting down"))}}function JS(){return new Ao(t=>M2(t),cm)}async function gN(t,e){const n=he(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new qB,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=d_(o,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&p_(n)}async function yN(t,e){const n=he(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KB(t,e){const n=he(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(r=!0);o.wa=i}}r&&p_(n)}function XB(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function p_(t){t.Ca.forEach(e=>{e.next()})}var l0,ZS;(ZS=l0||(l0={})).Ma="default",ZS.Cache="cache";class vN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==l0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.key=e}}class wN{constructor(e){this.key=e}}class YB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=$2(e),this.tu=new gs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new QS,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,c)=>{const d=i.get(f),p=fm(this.query,c)?c:null,b=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?b!==g&&(r.track({type:3,doc:p}),y=!0):this.su(d,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),y=!0):d&&!p&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(s=!0)),y&&(p?(o=o.add(p),a=g?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:s,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,c)=>function(p,b){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:y})}};return g(p)-g(b)}(f.type,c.type)||this.eu(f.doc,c.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Vs(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new wN(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new bN(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const m_="SyncEngine";class QB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JB{constructor(e){this.key=e,this.hu=!1}}class ZB{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ao(s=>M2(s),cm),this.Iu=new Map,this.Eu=new Set,this.du=new rt(se.comparator),this.Au=new Map,this.Ru=new i_,this.Vu={},this.mu=new Map,this.fu=Ls.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e5(t,e,n=!0){const r=AN(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await _N(r,e,n,!0),i}async function t5(t,e){const n=AN(t);await _N(n,e,!0,!1)}async function _N(t,e,n,r){const i=await _B(t.localStore,Or(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await n5(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&cN(t.remoteStore,i),s}async function n5(t,e,n,r,i){t.pu=(c,d,p)=>async function(g,y,_,v){let x=y.view.ru(_);x.Cs&&(x=await HS(g.localStore,y.query,!1).then(({documents:E})=>y.view.ru(E,x)));const O=v&&v.targetChanges.get(y.targetId),T=v&&v.targetMismatches.get(y.targetId)!=null,I=y.view.applyChanges(x,g.isPrimaryClient,O,T);return tT(g,y.targetId,I.au),I.snapshot}(t,c,d,p);const a=await HS(t.localStore,e,!0),o=new YB(e,a.Qs),s=o.ru(a.documents),l=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);tT(t,n,u.au);const f=new QB(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function r5(t,e,n){const r=he(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!cm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await o0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&l_(r.remoteStore,i.targetId),u0(r,i.targetId)}).catch(gl)):(u0(r,i.targetId),await o0(r.localStore,i.targetId,!0))}async function i5(t,e){const n=he(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l_(n.remoteStore,r.targetId))}async function a5(t,e,n){const r=h5(t);try{const i=await function(o,s){const l=he(o),u=De.now(),f=s.reduce((p,b)=>p.add(b.key),Ee());let c,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=ui(),g=Ee();return l.Ns.getEntries(p,f).next(y=>{b=y,b.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,b)).next(y=>{c=y;const _=[];for(const v of s){const x=wU(v,c.get(v.key).overlayedDocument);x!=null&&_.push(new _a(v.key,x,I2(x.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(y=>{d=y;const _=y.applyToLocalDocumentSet(c,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)})}).then(()=>({batchId:d.batchId,changes:V2(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new rt(xe)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await pf(r,i.changes),await ym(r.remoteStore)}catch(i){const a=d_(i,"Failed to persist write");n.reject(a)}}async function xN(t,e){const n=he(t);try{const r=await vB(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ce(o.hu,14607):i.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))}),await pf(n,r,e)}catch(r){await gl(r)}}function eT(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=he(o);l.onlineState=s;let u=!1;l.queries.forEach((f,c)=>{for(const d of c.Sa)d.va(s)&&(u=!0)}),u&&p_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o5(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new rt(se.comparator);o=o.insert(a,Jt.newNoDocument(a,fe.min()));const s=Ee().add(a),l=new pm(fe.min(),new Map,new rt(xe),o,s);await xN(r,l),r.du=r.du.remove(a),r.Au.delete(e),g_(r)}else await o0(r.localStore,e,!1).then(()=>u0(r,e,n)).catch(gl)}async function s5(t,e){const n=he(t),r=e.batch.batchId;try{const i=await yB(n.localStore,e);SN(n,r,null),EN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pf(n,i)}catch(i){await gl(i)}}async function l5(t,e,n){const r=he(t);try{const i=await function(o,s){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,s).next(c=>(Ce(c!==null,37113),f=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);SN(r,e,n),EN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pf(r,i)}catch(i){await gl(i)}}function EN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function SN(t,e,n){const r=he(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function u0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||TN(t,r)})}function TN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(l_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),g_(t))}function tT(t,e,n){for(const r of n)r instanceof bN?(t.Ru.addReference(r.key,e),u5(t,r)):r instanceof wN?(re(m_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||TN(t,r.key)):ce(19791,{wu:r})}function u5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(re(m_,"New document in limbo: "+n),t.Eu.add(r),g_(t))}function g_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Ue.fromString(e)),r=t.fu.next();t.Au.set(r,new JB(n)),t.du=t.du.insert(n,r),cN(t.remoteStore,new zi(Or(Jw(n.path)),r,"TargetPurposeLimboResolution",sm.ce))}}async function pf(t,e,n){const r=he(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{o.push(r.pu(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const c=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){i.push(u);const c=o_.As(l.targetId,u);a.push(c)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const f=he(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>q.forEach(u,d=>q.forEach(d.Es,p=>f.persistence.referenceDelegate.addReference(c,d.targetId,p)).next(()=>q.forEach(d.ds,p=>f.persistence.referenceDelegate.removeReference(c,d.targetId,p)))))}catch(c){if(!yl(c))throw c;re(s_,"Failed to update sequence numbers: "+c)}for(const c of u){const d=c.targetId;if(!c.fromCache){const p=f.Ms.get(d),b=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(d,g)}}}(r.localStore,a))}async function c5(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){re(m_,"User change. New user:",e.toKey());const r=await oN(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new ne(W.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pf(n,r.Ls)}}function f5(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let i=Ee();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const s=n.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function AN(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o5.bind(null,e),e.Pu.H_=KB.bind(null,e.eventManager),e.Pu.yu=XB.bind(null,e.eventManager),e}function h5(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l5.bind(null,e),e}class Nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gB(this.persistence,new dB,e.initialUser,this.serializer)}Cu(e){return new aN(a_.mi,this.serializer)}Du(e){return new EB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nd.provider={build:()=>new Nd};class d5 extends Nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof Cd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new aN(r=>Cd.mi(r,n),this.serializer)}}class c0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c5.bind(null,this.syncEngine),await HB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GB}()}createDatastore(e){const n=mm(e.databaseInfo.databaseId),r=function(a){return new IB(a)}(e.databaseInfo);return function(a,o,s,l){return new NB(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new jB(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>eT(this.syncEngine,n,0),function(){return KS.v()?new KS:new SB}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,f){const c=new ZB(i,a,o,s,l,u);return f&&(c.gu=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=he(i);re(fo,"RemoteStore shutting down."),a.Ea.add(5),await df(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}c0.provider={build:()=>new c0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class p5{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{re(pa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re(pa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gy(t,e){t.asyncQueue.verifyOperationInProgress(),re(pa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m5(t);re(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YS(e.remoteStore,i)),t._onlineComponents=e}async function m5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(pa,"Using user provided OfflineComponentProvider");try{await gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await gy(t,new Nd)}}else re(pa,"Using default OfflineComponentProvider"),await gy(t,new d5(void 0));return t._offlineComponents}async function IN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(pa,"Using user provided OnlineComponentProvider"),await nT(t,t._uninitializedComponentsProvider._online)):(re(pa,"Using default OnlineComponentProvider"),await nT(t,new c0))),t._onlineComponents}function g5(t){return IN(t).then(e=>e.syncEngine)}async function ON(t){const e=await IN(t),n=e.eventManager;return n.onListen=e5.bind(null,e.syncEngine),n.onUnlisten=r5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i5.bind(null,e.syncEngine),n}function y5(t,e,n={}){const r=new Jr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const f=new PN({next:d=>{f.Nu(),o.enqueueAndForget(()=>yN(a,c));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new ne(W.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ne(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new vN(Jw(s.path),f,{includeMetadataChanges:!0,qa:!0});return gN(a,c)}(await ON(t),t.asyncQueue,e,n,r)),r.promise}function v5(t,e,n={}){const r=new Jr;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const f=new PN({next:d=>{f.Nu(),o.enqueueAndForget(()=>yN(a,c)),d.fromCache&&l.source==="server"?u.reject(new ne(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),c=new vN(s,f,{includeMetadataChanges:!0,qa:!0});return gN(a,c)}(await ON(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firestore.googleapis.com",iT=!0;class aT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kN,this.ssl=iT}else this.host=e.host,this.ssl=e.ssl??iT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YU)throw new ne(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S6;switch(r.type){case"firstParty":return new I6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rT.get(n);r&&(re("ComponentProvider","Removing Datastore"),rT.delete(n),r.terminate())}(this),Promise.resolve()}}function b5(t,e,n,r={}){var u;t=mr(t,vm);const i=dl(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(t2(`https://${s}`),n2("Firestore",!0)),a.host!==kN&&a.host!==s&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:r};if(!lo(l,o)&&(t._setSettings(l),r.mockUserToken)){let f,c;if(typeof r.mockUserToken=="string")f=r.mockUserToken,c=Yt.MOCK_USER;else{f=QV(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ne(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Yt(d)}t._authCredentials=new T6(new g2(f,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cf(n,ft._jsonSchema))return new ft(e,r||null,new se(Ue.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:vt("string",ft._jsonSchemaVersion),referencePath:vt("string")};class ia extends Io{constructor(e,n,r){super(e,n,Jw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new se(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function NN(t,e,...n){if(t=Pt(t),y2("collection","path",e),t instanceof vm){const r=Ue.fromString(e,...n);return vS(r),new ia(t,null,r)}{if(!(t instanceof ft||t instanceof ia))throw new ne(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return vS(r),new ia(t.firestore,null,r)}}function bm(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=qw.newId()),y2("doc","path",e),t instanceof vm){const r=Ue.fromString(e,...n);return yS(r),new ft(t,null,new se(r))}{if(!(t instanceof ft||t instanceof ia))throw new ne(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return yS(r),new ft(t.firestore,t instanceof ia?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="AsyncQueue";class sT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lN(this,"async_queue_retry"),this._c=()=>{const r=my();r&&re(oT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=my();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=my();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Jr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;re(oT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",lT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=h_.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ce(47125,{Pc:lT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Oo extends vm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sT(e),this._firestoreClient=void 0,await e}}}function w5(t,e){const n=typeof t=="object"?t:o2(),r=typeof t=="string"?t:Sd,i=Ww(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=XV("firestore");a&&b5(i,...a)}return i}function y_(t){if(t._terminated)throw new ne(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_5(t),t._firestoreClient}function _5(t){var r,i,a;const e=t._freezeSettings(),n=function(s,l,u,f){return new H6(s,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,CN(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new p5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Wt.fromBase64String(e))}catch(n){throw new ne(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cf(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:vt("string",Un._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(cf(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:vt("string",kr._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cf(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Nr(e.vectorValues);throw new ne(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:vt("string",Nr._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=/^__.*__$/;class E5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new ff(e,this.data,n,this.fieldTransforms)}}class RN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class b_{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new b_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jN(this.Ac)&&x5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class S5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mm(e)}Cc(e,n,r,i=!1){return new b_({Ac:e,methodName:n,Dc:r,path:Ft.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(t){const e=t._freezeSettings(),n=mm(t._databaseId);return new S5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DN(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);w_("Data must be an object, but it was:",o,r);const s=MN(r,o);let l,u;if(a.merge)l=new Pn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const c of a.mergeFields){const d=f0(e,c,n);if(!o.contains(d))throw new ne(W.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);LN(f,d)||f.push(d)}l=new Pn(f),u=o.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=o.fieldTransforms;return new E5(new dn(s),l,u)}class xm extends v_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}function T5(t,e,n,r){const i=t.Cc(1,e,n);w_("Data must be an object, but it was:",i,r);const a=[],o=dn.empty();wa(r,(l,u)=>{const f=__(e,l,n);u=Pt(u);const c=i.yc(f);if(u instanceof xm)a.push(f);else{const d=mf(u,c);d!=null&&(a.push(f),o.set(f,d))}});const s=new Pn(a);return new RN(o,s,i.fieldTransforms)}function A5(t,e,n,r,i,a){const o=t.Cc(1,e,n),s=[f0(e,r,n)],l=[i];if(a.length%2!=0)throw new ne(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)s.push(f0(e,a[d])),l.push(a[d+1]);const u=[],f=dn.empty();for(let d=s.length-1;d>=0;--d)if(!LN(u,s[d])){const p=s[d];let b=l[d];b=Pt(b);const g=o.yc(p);if(b instanceof xm)u.push(p);else{const y=mf(b,g);y!=null&&(u.push(p),f.set(p,y))}}const c=new Pn(u);return new RN(f,c,o.fieldTransforms)}function P5(t,e,n,r=!1){return mf(n,t.Cc(r?4:3,e))}function mf(t,e){if($N(t=Pt(t)))return w_("Unsupported field value:",e,t),MN(t,e);if(t instanceof v_)return function(r,i){if(!jN(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=mf(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=De.fromDate(r);return{timestampValue:Od(i.serializer,a)}}if(r instanceof De){const a=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Od(i.serializer,a)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:Q2(i.serializer,r._byteString)};if(r instanceof ft){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:r_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Nr)return function(o,s){return{mapValue:{fields:{[A2]:{stringValue:P2},[Td]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return Zw(s.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${om(r)}`)}(t,e)}function MN(t,e){const n={};return w2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,(r,i)=>{const a=mf(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function $N(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof kr||t instanceof Un||t instanceof ft||t instanceof v_||t instanceof Nr)}function w_(t,e,n){if(!$N(n)||!v2(n)){const r=om(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function f0(t,e,n){if((e=Pt(e))instanceof wm)return e._internalPath;if(typeof e=="string")return __(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const I5=new RegExp("[~\\*/\\[\\]]");function __(t,e,n){if(e.search(I5)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wm(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ne(W.INVALID_ARGUMENT,s+t+l)}function LN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class O5 extends VN{data(){return super.data()}}function x_(t,e){return typeof e=="string"?__(t,e):e instanceof wm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E_{}class FN extends E_{}function k5(t,e,...n){let r=[];e instanceof E_&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof T_).length,s=a.filter(l=>l instanceof S_).length;if(o>1||o>0&&s>0)throw new ne(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class S_ extends FN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new S_(e,n,r)}_apply(e){const n=this._parse(e);return UN(e._query,n),new Io(e.firestore,e.converter,e0(e._query,n))}_parse(e){const n=_m(e.firestore);return function(a,o,s,l,u,f,c){let d;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ne(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){cT(c,f);const b=[];for(const g of c)b.push(uT(l,a,g));d={arrayValue:{values:b}}}else d=uT(l,a,c)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||cT(c,f),d=P5(s,o,c,f==="in"||f==="not-in");return yt.create(u,f,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class T_ extends E_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)UN(o,l),o=e0(o,l)}(e._query,n),new Io(e.firestore,e.converter,e0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A_ extends FN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new A_(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new ne(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(a,o)}(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new vl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function N5(t,e="asc"){const n=e,r=x_("orderBy",t);return A_._create(r,n)}function uT(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ne(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D2(e)&&n.indexOf("/")!==-1)throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!se.isDocumentKey(r))throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AS(t,new se(r))}if(n instanceof ft)return AS(t,n._key);throw new ne(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(n)}.`)}function cT(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UN(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class R5{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wa(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Td].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>lt(o.doubleValue));return new Nr(n)}convertGeoPoint(e){return new kr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=ca(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Ce(rN(r),9688,{name:e});const i=new pc(r.get(1),r.get(3)),a=new se(r.popFirst(5));return i.isEqual(n)||li(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends VN{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Za._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:vt("string",Za._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Hh extends Za{data(e={}){return super.data(e)}}class ys{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hh(this._firestore,this._userDataWriter,r.key,r,new Eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Hh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Eu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Hh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Eu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),f=o.indexOf(s.doc.key)),{type:j5(s.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ys._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){t=mr(t,ft);const e=mr(t.firestore,Oo);return y5(y_(e),t._key).then(n=>U5(e,t,n))}ys._jsonSchemaVersion="firestore/querySnapshot/1.0",ys._jsonSchema={type:vt("string",ys._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class zN extends R5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function M5(t){t=mr(t,Io);const e=mr(t.firestore,Oo),n=y_(e),r=new zN(e);return C5(t._query),v5(n,t._query).then(i=>new ys(e,r,t,i))}function $5(t,e,n){t=mr(t,ft);const r=mr(t.firestore,Oo),i=BN(t.converter,e);return Em(r,[DN(_m(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hn.none())])}function L5(t,e,n,...r){t=mr(t,ft);const i=mr(t.firestore,Oo),a=_m(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof wm?A5(a,"updateDoc",t._key,e,n,r):T5(a,"updateDoc",t._key,e),Em(i,[o.toMutation(t._key,Hn.exists(!0))])}function V5(t){return Em(mr(t.firestore,Oo),[new e_(t._key,Hn.none())])}function F5(t,e){const n=mr(t.firestore,Oo),r=bm(t),i=BN(t.converter,e);return Em(n,[DN(_m(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function Em(t,e){return function(r,i){const a=new Jr;return r.asyncQueue.enqueueAndForget(async()=>a5(await g5(r),i,a)),a.promise}(y_(t),e)}function U5(t,e,n){const r=n.docs.get(e._key),i=new zN(t);return new Za(t,i,e._key,r,new Eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ml=i})(pl),Rs(new uo("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Oo(new A6(r.getProvider("auth-internal")),new O6(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(u.options.projectId,f)}(o,i),o);return a={useFetchStreams:n,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),na(dS,pS,e),na(dS,pS,"esm2020")})();var B5="firebase",z5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(B5,z5,"app");function WN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W5=WN,HN=new lf("auth","Firebase",WN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Bw("@firebase/auth");function H5(t,...e){jd.logLevel<=_e.WARN&&jd.warn(`Auth (${pl}): ${t}`,...e)}function qh(t,...e){jd.logLevel<=_e.ERROR&&jd.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw P_(t,...e)}function Rr(t,...e){return P_(t,...e)}function qN(t,e,n){const r={...W5(),[e]:n};return new lf("auth","Firebase",r).create(e,{appName:t.name})}function Zr(t){return qN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HN.create(t,...e)}function ue(t,e,...n){if(!t)throw P_(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function ci(t,e){t||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function q5(){return fT()==="http:"||fT()==="https:"}function fT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q5()||rF()||"connection"in navigator)?navigator.onLine:!0}function K5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=eF()||iF()}get(){return G5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q5=new gf(3e4,6e4);function xa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yi(t,e,n,r,i={}){return KN(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=uf({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return nF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&dl(t.emulatorConfig.host)&&(u.credentials="include"),GN.fetch()(await XN(t,t.config.apiHost,n,s),u)})}async function KN(t,e,n){t._canInitEmulator=!1;const r={...X5,...e};try{const i=new Z5(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw hh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hh(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qN(t,f,u);yr(t,f)}}catch(i){if(i instanceof gi)throw i;yr(t,"network-request-failed",{message:String(i)})}}async function yf(t,e,n,r,i={}){const a=await yi(t,e,n,r,i);return"mfaPendingCredential"in a&&yr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function XN(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?I_(t.config,i):`${t.config.apiScheme}://${i}`;return Y5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function J5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),Q5.get())})}}function hh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function hT(t){return t!==void 0&&t.enterprise!==void 0}class e9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function t9(t,e){return yi(t,"GET","/v2/recaptchaConfig",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e){return yi(t,"POST","/v1/accounts:delete",e)}async function Dd(t,e){return yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r9(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=O_(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Vu(yy(i.auth_time)),issuedAtTime:Vu(yy(i.iat)),expirationTime:Vu(yy(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yy(t){return Number(t)*1e3}function O_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qk(n);return i?JSON.parse(i):(qh("Failed to decode base64 JWT payload"),null)}catch(i){return qh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dT(t){const e=O_(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gi&&i9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Md(t){var c;const e=t.auth,n=await t.getIdToken(),r=await Fs(t,Dd(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(c=i.providerUserInfo)!=null&&c.length?YN(i.providerUserInfo):[],o=s9(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=s?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new d0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function o9(t){const e=Pt(t);await Md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e){const n=await KN(t,{},async()=>{const r=uf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await XN(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&dl(t.emulatorConfig.host)&&(l.credentials="include"),GN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u9(t,e){return yi(t,"POST","/v2/accounts:revokeToken",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=dT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await l9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new vs;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ue(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vs,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new a9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new d0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r9(this,e)}reload(){return o9(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await Fs(this,n9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:c,emailVerified:d,isAnonymous:p,providerData:b,stsTokenManager:g}=n;ue(c&&g,e,"internal-error");const y=vs.fromJSON(this.name,g);ue(typeof c=="string",e,"internal-error"),Oi(r,e.name),Oi(i,e.name),ue(typeof d=="boolean",e,"internal-error"),ue(typeof p=="boolean",e,"internal-error"),Oi(a,e.name),Oi(o,e.name),Oi(s,e.name),Oi(l,e.name),Oi(u,e.name),Oi(f,e.name);const _=new cr({uid:c,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:y,createdAt:u,lastLoginAt:f});return b&&Array.isArray(b)&&(_.providerData=b.map(v=>({...v}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new vs;i.updateFromServerResponse(n);const a=new cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Md(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?YN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new vs;s.updateFromIdToken(r);const l=new cr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new d0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;function Gr(t){ci(t instanceof Function,"Expected a class definition");let e=pT.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QN.type="NONE";const mT=QN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t,e,n){return`firebase:${t}:${e}:${n}`}class bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Gh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dd(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bs(Gr(mT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Gr(mT);const o=Gh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const f=await u._get(o);if(f){let c;if(typeof f=="string"){const d=await Dd(e,{idToken:f}).catch(()=>{});if(!d)break;c=await cr._fromGetAccountInfoResponse(e,d,f)}else c=cr._fromJSON(e,f);u!==a&&(s=c),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new bs(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new bs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rR(e))return"Blackberry";if(iR(e))return"Webos";if(ZN(e))return"Safari";if((e.includes("chrome/")||eR(e))&&!e.includes("edge/"))return"Chrome";if(nR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JN(t=nn()){return/firefox\//i.test(t)}function ZN(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eR(t=nn()){return/crios\//i.test(t)}function tR(t=nn()){return/iemobile/i.test(t)}function nR(t=nn()){return/android/i.test(t)}function rR(t=nn()){return/blackberry/i.test(t)}function iR(t=nn()){return/webos/i.test(t)}function C_(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c9(t=nn()){var e;return C_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function f9(){return aF()&&document.documentMode===10}function aR(t=nn()){return C_(t)||nR(t)||iR(t)||rR(t)||/windows phone/i.test(t)||tR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t,e=[]){let n;switch(t){case"Browser":n=gT(nn());break;case"Worker":n=`${gT(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e={}){return yi(t,"GET","/v2/passwordPolicy",xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=6;class m9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yT(this),this.idTokenSubscription=new yT(this),this.beforeStateQueue=new h9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await bs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dd(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Zr(this));const n=e?Pt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d9(this),n=new m9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await bs.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&H5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Co(t){return Pt(t)}class yT{constructor(e){this.auth=e,this.observer=null,this.addObserver=dF(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y9(t){Sm=t}function sR(t){return Sm.loadJS(t)}function v9(){return Sm.recaptchaEnterpriseScript}function b9(){return Sm.gapiScript}function w9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _9{constructor(){this.enterprise=new x9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class x9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const E9="recaptcha-enterprise",lR="NO_RECAPTCHA";class S9{constructor(e){this.type=E9,this.auth=Co(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{t9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new e9(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;hT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(lR)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _9().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&hT(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=v9();l.length!==0&&(l+=s),sR(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function vT(t,e,n,r=!1,i=!1){const a=new S9(t);let o;if(i)o=lR;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function p0(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await vT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await vT(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e){const n=Ww(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(lo(a,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function A9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P9(t,e,n){const r=Co(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=uR(e),{host:o,port:s}=I9(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},f=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(lo(u,r.config.emulator)&&lo(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,dl(o)?(t2(`${a}//${o}${l}`),n2("Auth",!0)):O9()}function uR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I9(t){const e=uR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:bT(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:bT(o)}}}function bT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function C9(t,e){return yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t,e){return yf(t,"POST","/v1/accounts:signInWithPassword",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}async function R9(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends k_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p0(e,n,"signInWithPassword",k9);case"emailLink":return N9(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p0(e,r,"signUpPassword",C9);case"emailLink":return R9(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(t,e){return yf(t,"POST","/v1/accounts:signInWithIdp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="http://localhost";class ho extends k_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new ho(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ws(e,n)}buildRequest(){const e={requestUri:j9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M9(t){const e=vu(bu(t)).link,n=e?vu(bu(e)).deep_link_id:null,r=vu(bu(t)).deep_link_id;return(r?vu(bu(r)).link:null)||r||n||e||t}class N_{constructor(e){const n=vu(bu(e)),r=n.apiKey??null,i=n.oobCode??null,a=D9(n.mode??null);ue(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=M9(e);try{return new N_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=N_.parseLink(n);return ue(r,"argument-error"),bc._fromEmailAndCode(e,r.code,r.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends cR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends vf{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends vf{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends vf{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e){return yf(t,"POST","/v1/accounts:signUp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await cr._fromIdTokenResponse(e,r,i),o=wT(r);return new po({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wT(r);return new po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends gi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $d(e,n,r,i)}}function fR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(t,a,e,r):a})}async function L9(t,e,n=!1){const r=await Fs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e,n=!1){const{auth:r}=t;if(Fn(r.app))return Promise.reject(Zr(r));const i="reauthenticate";try{const a=await Fs(t,fR(r,i,e,t),n);ue(a.idToken,r,"internal-error");const o=O_(a.idToken);ue(o,r,"internal-error");const{sub:s}=o;return ue(t.uid===s,r,"user-mismatch"),po._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e,n=!1){if(Fn(t.app))return Promise.reject(Zr(t));const r="signIn",i=await fR(t,r,e),a=await po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function F9(t,e){return hR(Co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t){const e=Co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U9(t,e,n){if(Fn(t.app))return Promise.reject(Zr(t));const r=Co(t),o=await p0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&dR(t),l}),s=await po._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function B9(t,e,n){return Fn(t.app)?Promise.reject(Zr(t)):F9(Pt(t),wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(t,e){return yi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Pt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Fs(r,z9(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function H9(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function q9(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function G9(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function K9(t){return Pt(t).signOut()}const Ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=1e3,Y9=10;class mR extends pR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);f9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mR.type="LOCAL";const Q9=mR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR extends pR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gR.type="SESSION";const yR=gR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await J9(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=R_("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(c){const d=c;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(d.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function e8(t){jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function t8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function r8(){return vR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebaseLocalStorageDb",i8=1,Vd="firebaseLocalStorage",wR="fbase_key";class bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Am(t,e){return t.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function a8(){const t=indexedDB.deleteDatabase(bR);return new bf(t).toPromise()}function m0(){const t=indexedDB.open(bR,i8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vd,{keyPath:wR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vd)?e(r):(r.close(),await a8(),e(await m0()))})})}async function _T(t,e,n){const r=Am(t,!0).put({[wR]:e,value:n});return new bf(r).toPromise()}async function o8(t,e){const n=Am(t,!1).get(e),r=await new bf(n).toPromise();return r===void 0?null:r.value}function xT(t,e){const n=Am(t,!0).delete(e);return new bf(n).toPromise()}const s8=800,l8=3;class _R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await m0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tm._getInstance(r8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await t8(),!this.activeServiceWorker)return;this.sender=new Z9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await m0();return await _T(e,Ld,"1"),await xT(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_T(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Am(i,!1).getAll();return new bf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_R.type="LOCAL";const u8=_R;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e){return e?Gr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends k_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f8(t){return hR(t.auth,new j_(t),t.bypassAuthState)}function h8(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),V9(n,new j_(t),t.bypassAuthState)}async function d8(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),L9(n,new j_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f8;case"linkViaPopup":case"linkViaRedirect":return d8;case"reauthViaPopup":case"reauthViaRedirect":return h8;default:yr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new gf(2e3,1e4);class os extends xR{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=R_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p8.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="pendingRedirect",Kh=new Map;class g8 extends xR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const r=await y8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y8(t,e){const n=w8(e),r=b8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v8(t,e){Kh.set(t._key(),e)}function b8(t){return Gr(t._redirectPersistence)}function w8(t){return Gh(m8,t.config.apiKey,t.name)}async function _8(t,e,n=!1){if(Fn(t.app))return Promise.reject(Zr(t));const r=Co(t),i=c8(r,e),o=await new g8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=10*60*1e3;class E8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ER(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x8&&this.cachedEventUids.clear(),this.cachedEventUids.has(ET(e))}saveEventToCache(e){this.cachedEventUids.add(ET(e)),this.lastProcessedEventTime=Date.now()}}function ET(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ER({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ER(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(t,e={}){return yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P8=/^https?/;async function I8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T8(t);for(const n of e)try{if(O8(n))return}catch{}yr(t,"unauthorized-domain")}function O8(t){const e=h0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P8.test(n))return!1;if(A8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=new gf(3e4,6e4);function ST(){const t=jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k8(t){return new Promise((e,n)=>{var i,a,o;function r(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),n(Rr(t,"network-request-failed"))},timeout:C8.get()})}if((a=(i=jr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=jr().gapi)!=null&&o.load)r();else{const s=w9("iframefcb");return jr()[s]=()=>{gapi.load?r():n(Rr(t,"network-request-failed"))},sR(`${b9()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function N8(t){return Xh=Xh||k8(t),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=new gf(5e3,15e3),j8="__/auth/iframe",D8="emulator/auth/iframe",M8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L8(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I_(e,D8):`https://${t.config.authDomain}/${j8}`,r={apiKey:e.apiKey,appName:t.name,v:pl},i=$8.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${uf(r).slice(1)}`}async function V8(t){const e=await N8(t),n=jr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:L8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M8,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),s=jr().setTimeout(()=>{a(o)},R8.get());function l(){jr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U8=500,B8=600,z8="_blank",W8="http://localhost";class TT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H8(t,e,n,r=U8,i=B8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...F8,width:r.toString(),height:i.toString(),top:a,left:o},u=nn().toLowerCase();n&&(s=eR(u)?z8:n),JN(u)&&(e=e||W8,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[p,b])=>`${d}${p}=${b},`,"");if(c9(u)&&s!=="_self")return q8(e||"",s),new TT(null);const c=window.open(e||"",s,f);ue(c,t,"popup-blocked");try{c.focus()}catch{}return new TT(c)}function q8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="__/auth/handler",K8="emulator/auth/handler",X8=encodeURIComponent("fac");async function AT(t,e,n,r,i,a){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:i};if(e instanceof cR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,c]of Object.entries({}))o[f]=c}if(e instanceof vf){const f=e.getScopes().filter(c=>c!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const l=await t._getAppCheckToken(),u=l?`#${X8}=${encodeURIComponent(l)}`:"";return`${Y8(t)}?${uf(s).slice(1)}${u}`}function Y8({config:t}){return t.emulator?I_(t,K8):`https://${t.authDomain}/${G8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="webStorageSupport";class Q8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yR,this._completeRedirectFn=_8,this._overrideRedirectResult=v8}async _openPopup(e,n,r,i){var o;ci((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await AT(e,n,r,h0(),i);return H8(e,a,R_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await AT(e,n,r,h0(),i);return e8(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ci(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V8(e),r=new E8(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vy,{type:vy},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[vy];a!==void 0&&n(!!a),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aR()||ZN()||C_()}}const J8=Q8;var PT="@firebase/auth",IT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tz(t){Rs(new uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oR(t)},u=new g9(r,i,a,l);return A9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rs(new uo("auth-internal",e=>{const n=Co(e.getProvider("auth").getImmediate());return(r=>new Z8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(PT,IT,ez(t)),na(PT,IT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=5*60,rz=e2("authIdTokenMaxAge")||nz;let OT=null;const iz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rz)return;const i=n==null?void 0:n.token;OT!==i&&(OT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function az(t=o2()){const e=Ww(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T9(t,{popupRedirectResolver:J8,persistence:[u8,Q9,yR]}),r=e2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=iz(a.toString());q9(n,o,()=>o(n.currentUser)),H9(n,s=>o(s))}}const i=Jk("auth");return i&&P9(n,`http://${i}`),n}function oz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}y9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Rr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",oz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tz("Browser");const sz={apiKey:"AIzaSyBlQs46HmEjGDFtnC6aEb2FkW4x2KJAn28",authDomain:"smart-carbon-tracker.firebaseapp.com",projectId:"smart-carbon-tracker",storageBucket:"smart-carbon-tracker.firebasestorage.app",messagingSenderId:"463600178918",appId:"1:463600178918:web:36fecbe3408eb90b078d27"},SR=a2(sz),Pm=az(SR),wf=w5(SR),lz=async(t,e)=>{try{const n=NN(wf,"users",t,"records");return(await F5(n,{...e,timestamp:De.now()})).id}catch(n){throw new Error(n.message||"Failed to add record")}},uz=async(t,e,n)=>{try{const r=bm(wf,"users",t,"records",e);await L5(r,n)}catch(r){throw new Error(r.message||"Failed to update record")}},cz=async(t,e)=>{try{const n=bm(wf,"users",t,"records",e);await V5(n)}catch(n){throw new Error(n.message||"Failed to delete record")}},fz=async t=>{try{const e=NN(wf,"users",t,"records"),n=k5(e,N5("timestamp","desc"));return(await M5(n)).docs.map(i=>{var a;return{id:i.id,...i.data(),timestamp:((a=i.data().timestamp)==null?void 0:a.toDate().toISOString())||new Date().toISOString()}})}catch(e){throw new Error(e.message||"Failed to fetch records")}},Ea=jV()(FV((t,e)=>({user:null,setUser:n=>t({user:n}),theme:"light",setTheme:n=>t({theme:n}),company:null,setCompany:n=>t({company:n}),records:[],loadRecords:async()=>{const{user:n}=e();if(!n){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{const r=await fz(n.uid);t({records:r,isLoading:!1,lastSyncTime:new Date().toISOString()})}catch(r){console.error("Error loading records:",r),t({error:r.message||"Failed to load records",isLoading:!1})}},addRecord:async n=>{const{user:r}=e();if(!r){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{const i=await lz(r.uid,n),a={...n,id:i,timestamp:new Date().toISOString()};t(o=>({records:[a,...o.records],isLoading:!1,success:"Record added successfully",lastSyncTime:new Date().toISOString()}))}catch(i){console.error("Error adding record:",i),t({error:i.message||"Failed to add record",isLoading:!1})}},updateRecord:async(n,r)=>{const{user:i}=e();if(!i){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{await uz(i.uid,n,r),t(a=>({records:a.records.map(o=>o.id===n?{...o,...r}:o),isLoading:!1,success:"Record updated successfully",lastSyncTime:new Date().toISOString()}))}catch(a){console.error("Error updating record:",a),t({error:a.message||"Failed to update record",isLoading:!1})}},deleteRecord:async n=>{const{user:r}=e();if(!r){t({error:"User not authenticated"});return}t({isLoading:!0,error:null});try{await cz(r.uid,n),t(i=>({records:i.records.filter(a=>a.id!==n),isLoading:!1,success:"Record deleted successfully",lastSyncTime:new Date().toISOString()}))}catch(i){console.error("Error deleting record:",i),t({error:i.message||"Failed to delete record",isLoading:!1})}},recommendations:[],setRecommendations:n=>t({recommendations:n}),isLoading:!1,setIsLoading:n=>t({isLoading:n}),error:null,setError:n=>t({error:n}),success:null,setSuccess:n=>t({success:n}),lastSyncTime:null,setLastSyncTime:n=>t({lastSyncTime:n})}),{name:"carbon-tracker-store",partialize:t=>({theme:t.theme,company:t.company})})),hz=async t=>{const e=bm(wf,"users",t.uid);(await D5(e)).exists()||await $5(e,{email:t.email,displayName:t.displayName||"",createdAt:De.now(),updatedAt:De.now()})},dz=async(t,e,n)=>{try{const r=await U9(Pm,t,e);return n&&r.user&&await W9(r.user,{displayName:n}),await hz(r.user),r.user}catch(r){throw new Error(r.message||"Failed to create account")}},pz=async(t,e)=>{try{return(await B9(Pm,t,e)).user}catch(n){throw new Error(n.message||"Failed to sign in")}},mz=async()=>{try{await K9(Pm)}catch(t){throw new Error(t.message||"Failed to sign out")}},gz=t=>G9(Pm,t),yz=()=>{const[t,e]=$.useState(()=>{if(typeof window<"u"&&"screen"in window&&"orientation"in screen){const{angle:n,type:r}=screen.orientation||{},i=(r==null?void 0:r.includes("portrait"))||window.innerHeight>window.innerWidth,a=(r==null?void 0:r.includes("landscape"))||window.innerWidth>window.innerHeight;return{angle:n||0,type:r||"portrait-primary",isPortrait:i,isLandscape:a}}return{angle:0,type:"portrait-primary",isPortrait:window.innerHeight>window.innerWidth,isLandscape:window.innerWidth>window.innerHeight}});return $.useEffect(()=>{const n=()=>{if("screen"in window&&"orientation"in screen){const{angle:i,type:a}=screen.orientation||{},o=(a==null?void 0:a.includes("portrait"))||window.innerHeight>window.innerWidth,s=(a==null?void 0:a.includes("landscape"))||window.innerWidth>window.innerHeight;e({angle:i||0,type:a||"portrait-primary",isPortrait:o,isLandscape:s})}else e(i=>({...i,isPortrait:window.innerHeight>window.innerWidth,isLandscape:window.innerWidth>window.innerHeight}))},r="orientationchange"in window?"orientationchange":"resize";return window.addEventListener(r,n),()=>{window.removeEventListener(r,n)}},[]),t},g0=({checked:t=!1,onChange:e,label:n,disabled:r=!1})=>m.jsxs("div",{className:"flex items-center gap-3",children:[n&&m.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:n}),m.jsx("button",{onClick:()=>e==null?void 0:e(!t),disabled:r,className:`
          relative inline-flex h-7 w-12 items-center rounded-full
          transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
          dark:focus:ring-offset-neutral-800
          ${t?"bg-primary-500":"bg-neutral-300 dark:bg-neutral-600"}
          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,children:m.jsx("span",{className:`
            inline-block h-5 w-5 transform rounded-full bg-white
            transition-transform duration-200 shadow-md
            ${t?"translate-x-6":"translate-x-1"}
          `})})]}),vz=()=>{const t=To(),e=sf(),{theme:n,setTheme:r,user:i,setUser:a}=Ea(),[o,s]=D.useState(!1),l=async()=>{try{await mz(),a(null),e("/login")}catch(d){console.error("Logout error:",d)}},u=[{label:"Dashboard",href:"/"},{label:"Data Entry",href:"/data-entry"},{label:"Calculator",href:"/calculator"},{label:"Benchmarks",href:"/benchmarks"},{label:"Recommendations",href:"/recommendations"},{label:"Reports",href:"/reports"},{label:"Learn",href:"/learn"},{label:"Settings",href:"/settings"}],f=d=>t.pathname===d,c=t.pathname==="/login";return m.jsx("nav",{className:"bg-white dark:bg-neutral-900 shadow-soft sticky top-0 z-50",children:m.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs(ay,{to:"/",className:"flex items-center gap-2 font-heading font-bold text-xl text-primary-600 dark:text-primary-400 hover:text-primary-700 transition-colors flex-shrink-0",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"hidden sm:inline",children:"Carbon Tracker"})]}),!c&&m.jsx("div",{className:"hidden lg:flex items-center gap-0.5 flex-1 justify-center mx-4",children:u.map(d=>m.jsx(ay,{to:d.href,className:`
                    px-2.5 py-2 rounded-lg text-xs xl:text-sm font-medium transition-all duration-200 whitespace-nowrap
                    ${f(d.href)?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"}
                  `,children:d.label},d.href))}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i&&!c&&m.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[m.jsx("span",{className:"text-xs xl:text-sm text-neutral-600 dark:text-neutral-400 max-w-[150px] truncate",children:i.displayName||i.email}),m.jsx("button",{onClick:l,className:"px-3 py-1.5 text-xs xl:text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:"Logout"})]}),m.jsx(g0,{checked:n==="dark",onChange:d=>r(d?"dark":"light"),label:"Dark"}),!c&&m.jsx("button",{onClick:()=>s(!o),className:"lg:hidden p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),o&&!c&&m.jsxs("div",{className:"lg:hidden pb-4 border-t border-neutral-200 dark:border-neutral-700 pt-2",children:[i&&m.jsxs("div",{className:"px-3 py-2 mb-2 text-sm text-neutral-600 dark:text-neutral-400 border-b border-neutral-200 dark:border-neutral-700",children:[m.jsx("div",{className:"font-medium",children:i.displayName||i.email}),m.jsx("button",{onClick:l,className:"mt-2 w-full px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors",children:"Logout"})]}),u.map(d=>m.jsx(ay,{to:d.href,onClick:()=>s(!1),className:`
                  block px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200
                  ${f(d.href)?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"}
                `,children:d.label},d.href))]})]})})},bz=()=>{const t=new Date().getFullYear(),n=To().pathname==="/login";return m.jsx("footer",{className:"bg-neutral-900 dark:bg-black text-neutral-300 dark:text-neutral-400 py-8 mt-16",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[!n&&m.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"About"}),m.jsx("p",{className:"text-sm",children:"Smart Carbon Footprint & Sustainability Tracker helps businesses measure, monitor, and reduce emissions."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Quick Links"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"/dashboard",className:"hover:text-primary-400 transition",children:"Dashboard"})}),m.jsx("li",{children:m.jsx("a",{href:"/calculator",className:"hover:text-primary-400 transition",children:"Calculator"})}),m.jsx("li",{children:m.jsx("a",{href:"/benchmarks",className:"hover:text-primary-400 transition",children:"Benchmarks"})}),m.jsx("li",{children:m.jsx("a",{href:"/reports",className:"hover:text-primary-400 transition",children:"Reports"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Resources"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Documentation"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"API Reference"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Support"})}),m.jsx("li",{children:m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Blog"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading font-bold text-white mb-4",children:"Contact"}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsx("li",{children:"Email: info@carbontracker.com"}),m.jsx("li",{children:"Phone: +1 (555) 123-4567"}),m.jsxs("li",{className:"flex gap-3 mt-4",children:[m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Twitter"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"LinkedIn"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"GitHub"})]})]})]})]}),m.jsxs("div",{className:"border-t border-neutral-700 pt-6 flex flex-col md:flex-row justify-between items-center",children:[m.jsxs("p",{className:"text-sm text-neutral-500",children:[" ",t," Smart Carbon Footprint. All rights reserved."]}),m.jsxs("div",{className:"flex gap-6 text-sm mt-4 md:mt-0",children:[m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Privacy Policy"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Terms of Service"}),m.jsx("a",{href:"#",className:"hover:text-primary-400 transition",children:"Cookie Policy"})]})]})]})})},Da=({children:t})=>{const{user:e}=Ea();return e?m.jsx(m.Fragment,{children:t}):m.jsx(zk,{to:"/login",replace:!0})},fn=(t,e=2,n="")=>t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e})+n,wz=(t,e=1)=>t>=1e9?(t/1e9).toFixed(e)+"B":t>=1e6?(t/1e6).toFixed(e)+"M":t>=1e3?(t/1e3).toFixed(e)+"K":t.toFixed(e),dh=t=>{const{title:e,value:n,unit:r="kg COe",icon:i,trend:a,trendDirection:o,className:s="",onClick:l}=t,u=o==="down"&&a!==void 0&&a>0;return m.jsxs("div",{onClick:l,className:`
        bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft
        hover:shadow-lg hover:scale-102 transition-all duration-200 ease-smooth
        border border-transparent hover:border-primary-300 dark:hover:border-primary-700
        cursor-pointer group
        ${s}
      `,children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{children:m.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:e})}),i&&m.jsx("div",{className:"text-primary-500 dark:text-primary-400 group-hover:scale-110 transition-transform",children:i})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-white font-heading",children:wz(n,2)}),m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:r})]}),a!==void 0&&m.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${u?"text-primary-600 dark:text-primary-400":"text-error"}`,children:[m.jsx("span",{children:u?"":""}),m.jsxs("span",{children:[Math.abs(a).toFixed(1),"%"]}),m.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"vs last month"})]})]})},TR=t=>t.reduce((e,n)=>e+(n.co2e||0),0),AR=t=>{const e={scope1:0,scope2:0,scope3:0};return t.forEach(n=>{const r=n.co2e||0;switch(n.category){case"fuel":e.scope1+=r;break;case"electricity":e.scope2+=r;break;case"travel":case"waste":case"water":e.scope3+=r;break}}),e},_z=t=>{const e={electricity:0,fuel:0,travel:0,waste:0,water:0};return t.forEach(n=>{e[n.category]=(e[n.category]||0)+(n.co2e||0)}),e},PR=t=>{const e={};return t.forEach(n=>{const r=`${n.year}-${String(n.month).padStart(2,"0")}`;e[r]||(e[r]={total:0,scope1:0,scope2:0,scope3:0});const i=n.co2e||0;e[r].total+=i,n.category==="fuel"?e[r].scope1+=i:n.category==="electricity"?e[r].scope2+=i:e[r].scope3+=i}),Object.entries(e).sort(([n],[r])=>n.localeCompare(r)).map(([n,r])=>({month:new Date(`${n}-01`).toLocaleString("en-US",{month:"short",year:"2-digit"}),...r}))},xz=t=>{if(t.length===0)return{total:0,average:0,minimum:0,maximum:0,trend:0};const e=t.map(s=>s.co2e||0),n=e.reduce((s,l)=>s+l,0),r=n/e.length,i=Math.min(...e),a=Math.max(...e);let o=0;if(t.length>=2){const s=t.slice(-2),l=s[1].co2e||0,u=s[0].co2e||0;o=(l-u)/u*100||0}return{total:n,average:r,minimum:i,maximum:a,trend:o}};function IR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=IR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=IR(t))&&(r&&(r+=" "),r+=e);return r}var Ez=Array.isArray,bn=Ez,Sz=typeof zf=="object"&&zf&&zf.Object===Object&&zf,OR=Sz,Tz=OR,Az=typeof self=="object"&&self&&self.Object===Object&&self,Pz=Tz||Az||Function("return this")(),Vr=Pz,Iz=Vr,Oz=Iz.Symbol,_f=Oz,CT=_f,CR=Object.prototype,Cz=CR.hasOwnProperty,kz=CR.toString,iu=CT?CT.toStringTag:void 0;function Nz(t){var e=Cz.call(t,iu),n=t[iu];try{t[iu]=void 0;var r=!0}catch{}var i=kz.call(t);return r&&(e?t[iu]=n:delete t[iu]),i}var Rz=Nz,jz=Object.prototype,Dz=jz.toString;function Mz(t){return Dz.call(t)}var $z=Mz,kT=_f,Lz=Rz,Vz=$z,Fz="[object Null]",Uz="[object Undefined]",NT=kT?kT.toStringTag:void 0;function Bz(t){return t==null?t===void 0?Uz:Fz:NT&&NT in Object(t)?Lz(t):Vz(t)}var vi=Bz;function zz(t){return t!=null&&typeof t=="object"}var bi=zz,Wz=vi,Hz=bi,qz="[object Symbol]";function Gz(t){return typeof t=="symbol"||Hz(t)&&Wz(t)==qz}var _l=Gz,Kz=bn,Xz=_l,Yz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qz=/^\w*$/;function Jz(t,e){if(Kz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Xz(t)?!0:Qz.test(t)||!Yz.test(t)||e!=null&&t in Object(e)}var D_=Jz;function Zz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Sa=Zz;const xl=Me(Sa);var eW=vi,tW=Sa,nW="[object AsyncFunction]",rW="[object Function]",iW="[object GeneratorFunction]",aW="[object Proxy]";function oW(t){if(!tW(t))return!1;var e=eW(t);return e==rW||e==iW||e==nW||e==aW}var M_=oW;const ge=Me(M_);var sW=Vr,lW=sW["__core-js_shared__"],uW=lW,by=uW,RT=function(){var t=/[^.]+$/.exec(by&&by.keys&&by.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cW(t){return!!RT&&RT in t}var fW=cW,hW=Function.prototype,dW=hW.toString;function pW(t){if(t!=null){try{return dW.call(t)}catch{}try{return t+""}catch{}}return""}var kR=pW,mW=M_,gW=fW,yW=Sa,vW=kR,bW=/[\\^$.*+?()[\]{}|]/g,wW=/^\[object .+?Constructor\]$/,_W=Function.prototype,xW=Object.prototype,EW=_W.toString,SW=xW.hasOwnProperty,TW=RegExp("^"+EW.call(SW).replace(bW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AW(t){if(!yW(t)||gW(t))return!1;var e=mW(t)?TW:wW;return e.test(vW(t))}var PW=AW;function IW(t,e){return t==null?void 0:t[e]}var OW=IW,CW=PW,kW=OW;function NW(t,e){var n=kW(t,e);return CW(n)?n:void 0}var ko=NW,RW=ko,jW=RW(Object,"create"),Im=jW,jT=Im;function DW(){this.__data__=jT?jT(null):{},this.size=0}var MW=DW;function $W(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var LW=$W,VW=Im,FW="__lodash_hash_undefined__",UW=Object.prototype,BW=UW.hasOwnProperty;function zW(t){var e=this.__data__;if(VW){var n=e[t];return n===FW?void 0:n}return BW.call(e,t)?e[t]:void 0}var WW=zW,HW=Im,qW=Object.prototype,GW=qW.hasOwnProperty;function KW(t){var e=this.__data__;return HW?e[t]!==void 0:GW.call(e,t)}var XW=KW,YW=Im,QW="__lodash_hash_undefined__";function JW(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=YW&&e===void 0?QW:e,this}var ZW=JW,e7=MW,t7=LW,n7=WW,r7=XW,i7=ZW;function El(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}El.prototype.clear=e7;El.prototype.delete=t7;El.prototype.get=n7;El.prototype.has=r7;El.prototype.set=i7;var a7=El;function o7(){this.__data__=[],this.size=0}var s7=o7;function l7(t,e){return t===e||t!==t&&e!==e}var $_=l7,u7=$_;function c7(t,e){for(var n=t.length;n--;)if(u7(t[n][0],e))return n;return-1}var Om=c7,f7=Om,h7=Array.prototype,d7=h7.splice;function p7(t){var e=this.__data__,n=f7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():d7.call(e,n,1),--this.size,!0}var m7=p7,g7=Om;function y7(t){var e=this.__data__,n=g7(e,t);return n<0?void 0:e[n][1]}var v7=y7,b7=Om;function w7(t){return b7(this.__data__,t)>-1}var _7=w7,x7=Om;function E7(t,e){var n=this.__data__,r=x7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var S7=E7,T7=s7,A7=m7,P7=v7,I7=_7,O7=S7;function Sl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sl.prototype.clear=T7;Sl.prototype.delete=A7;Sl.prototype.get=P7;Sl.prototype.has=I7;Sl.prototype.set=O7;var Cm=Sl,C7=ko,k7=Vr,N7=C7(k7,"Map"),L_=N7,DT=a7,R7=Cm,j7=L_;function D7(){this.size=0,this.__data__={hash:new DT,map:new(j7||R7),string:new DT}}var M7=D7;function $7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var L7=$7,V7=L7;function F7(t,e){var n=t.__data__;return V7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var km=F7,U7=km;function B7(t){var e=U7(this,t).delete(t);return this.size-=e?1:0,e}var z7=B7,W7=km;function H7(t){return W7(this,t).get(t)}var q7=H7,G7=km;function K7(t){return G7(this,t).has(t)}var X7=K7,Y7=km;function Q7(t,e){var n=Y7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var J7=Q7,Z7=M7,eH=z7,tH=q7,nH=X7,rH=J7;function Tl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tl.prototype.clear=Z7;Tl.prototype.delete=eH;Tl.prototype.get=tH;Tl.prototype.has=nH;Tl.prototype.set=rH;var V_=Tl,NR=V_,iH="Expected a function";function F_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(iH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(F_.Cache||NR),n}F_.Cache=NR;var RR=F_;const aH=Me(RR);var oH=RR,sH=500;function lH(t){var e=oH(t,function(r){return n.size===sH&&n.clear(),r}),n=e.cache;return e}var uH=lH,cH=uH,fH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hH=/\\(\\)?/g,dH=cH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fH,function(n,r,i,a){e.push(i?a.replace(hH,"$1"):r||n)}),e}),pH=dH;function mH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var U_=mH,MT=_f,gH=U_,yH=bn,vH=_l,$T=MT?MT.prototype:void 0,LT=$T?$T.toString:void 0;function jR(t){if(typeof t=="string")return t;if(yH(t))return gH(t,jR)+"";if(vH(t))return LT?LT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var bH=jR,wH=bH;function _H(t){return t==null?"":wH(t)}var DR=_H,xH=bn,EH=D_,SH=pH,TH=DR;function AH(t,e){return xH(t)?t:EH(t,e)?[t]:SH(TH(t))}var MR=AH,PH=_l;function IH(t){if(typeof t=="string"||PH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Nm=IH,OH=MR,CH=Nm;function kH(t,e){e=OH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[CH(e[n++])];return n&&n==r?t:void 0}var B_=kH,NH=B_;function RH(t,e,n){var r=t==null?void 0:NH(t,e);return r===void 0?n:r}var $R=RH;const qn=Me($R);function jH(t){return t==null}var DH=jH;const ve=Me(DH);var MH=vi,$H=bn,LH=bi,VH="[object String]";function FH(t){return typeof t=="string"||!$H(t)&&LH(t)&&MH(t)==VH}var UH=FH;const mo=Me(UH);var LR={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_=Symbol.for("react.element"),W_=Symbol.for("react.portal"),Rm=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),Dm=Symbol.for("react.profiler"),Mm=Symbol.for("react.provider"),$m=Symbol.for("react.context"),BH=Symbol.for("react.server_context"),Lm=Symbol.for("react.forward_ref"),Vm=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),Um=Symbol.for("react.memo"),Bm=Symbol.for("react.lazy"),zH=Symbol.for("react.offscreen"),VR;VR=Symbol.for("react.module.reference");function Qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case z_:switch(t=t.type,t){case Rm:case Dm:case jm:case Vm:case Fm:return t;default:switch(t=t&&t.$$typeof,t){case BH:case $m:case Lm:case Bm:case Um:case Mm:return t;default:return e}}case W_:return e}}}Ne.ContextConsumer=$m;Ne.ContextProvider=Mm;Ne.Element=z_;Ne.ForwardRef=Lm;Ne.Fragment=Rm;Ne.Lazy=Bm;Ne.Memo=Um;Ne.Portal=W_;Ne.Profiler=Dm;Ne.StrictMode=jm;Ne.Suspense=Vm;Ne.SuspenseList=Fm;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return Qn(t)===$m};Ne.isContextProvider=function(t){return Qn(t)===Mm};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===z_};Ne.isForwardRef=function(t){return Qn(t)===Lm};Ne.isFragment=function(t){return Qn(t)===Rm};Ne.isLazy=function(t){return Qn(t)===Bm};Ne.isMemo=function(t){return Qn(t)===Um};Ne.isPortal=function(t){return Qn(t)===W_};Ne.isProfiler=function(t){return Qn(t)===Dm};Ne.isStrictMode=function(t){return Qn(t)===jm};Ne.isSuspense=function(t){return Qn(t)===Vm};Ne.isSuspenseList=function(t){return Qn(t)===Fm};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rm||t===Dm||t===jm||t===Vm||t===Fm||t===zH||typeof t=="object"&&t!==null&&(t.$$typeof===Bm||t.$$typeof===Um||t.$$typeof===Mm||t.$$typeof===$m||t.$$typeof===Lm||t.$$typeof===VR||t.getModuleId!==void 0)};Ne.typeOf=Qn;LR.exports=Ne;var WH=LR.exports,HH=vi,qH=bi,GH="[object Number]";function KH(t){return typeof t=="number"||qH(t)&&HH(t)==GH}var FR=KH;const XH=Me(FR);var YH=FR;function QH(t){return YH(t)&&t!=+t}var JH=QH;const xf=Me(JH);var fr=function(e){return e===0?0:e>0?1:-1},Ga=function(e){return mo(e)&&e.indexOf("%")===e.length-1},Z=function(e){return XH(e)&&!xf(e)},ZH=function(e){return ve(e)},Tt=function(e){return Z(e)||mo(e)},eq=0,Ef=function(e){var n=++eq;return"".concat(e||"").concat(n)},go=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&!mo(e))return r;var a;if(Ga(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return xf(a)&&(a=r),i&&a>n&&(a=n),a},Vi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},tq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},lr=function(e,n){return Z(e)&&Z(n)?function(r){return e+r*(n-e)}:function(){return n}};function Fd(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):qn(r,e))===n})}var nq=function(e,n){return Z(e)&&Z(n)?e-n:mo(e)&&mo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function _s(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}var rq=["viewBox","children"],iq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VT=["points","pathLength"],wy={svg:rq,polygon:VT,polyline:VT},H_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ud=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!xl(r))return null;var i={};return Object.keys(r).forEach(function(a){H_.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},aq=function(e,n,r){return function(i){return e(n,r,i),null}},Bd=function(e,n,r){if(!xl(e)||y0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];H_.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=aq(o,n,r))}),i},oq=["children"],sq=["children"];function FT(t,e){if(t==null)return{};var n=lq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}var UT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ei=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},BT=null,_y=null,q_=function t(e){if(e===BT&&Array.isArray(_y))return _y;var n=[];return $.Children.forEach(e,function(r){ve(r)||(WH.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),_y=n,BT=e,n};function Gn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ei(i)}):r=[ei(e)],q_(t).forEach(function(i){var a=qn(i,"type.displayName")||qn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Sn(t,e){var n=Gn(t,e);return n&&n[0]}var zT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Z(r)||r<=0||!Z(i)||i<=0)},uq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cq=function(e){return e&&e.type&&mo(e.type)&&uq.indexOf(e.type)>=0},fq=function(e){return e&&v0(e)==="object"&&"clipDot"in e},hq=function(e,n,r,i){var a,o=(a=wy==null?void 0:wy[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!ge(e)&&(i&&o.includes(n)||iq.includes(n))||r&&H_.includes(n)},Se=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!xl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;hq((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},b0=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return WT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!WT(a,o))return!1}return!0},WT=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,a=FT(r,oq),o=n.props||{},s=o.children,l=FT(o,sq);return i&&s?_s(a,l)&&b0(i,s):!i&&!s?_s(a,l):!1}return!1},HT=function(e,n){var r=[],i={};return q_(e).forEach(function(a,o){if(cq(a))r.push(a);else if(a){var s=ei(a.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var c=u(a,s,o);r.push(c),i[s]=!0}}}),r},dq=function(e){var n=e&&e.type;return n&&UT[n]?UT[n]:null},pq=function(e,n){return q_(n).indexOf(e)},mq=["children","width","height","viewBox","className","style","title","desc"];function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(this,arguments)}function gq(t,e){if(t==null)return{};var n=yq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=gq(t,mq),f=i||{width:n,height:r,x:0,y:0},c=Pe("recharts-surface",a);return D.createElement("svg",w0({},Se(u,!0,"svg"),{className:c,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var vq=["children","className"];function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}function bq(t,e){if(t==null)return{};var n=wq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ct=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=bq(t,vq),a=Pe("recharts-layer",r);return D.createElement("g",x0({className:a},Se(i,!0),{ref:e}),n)}),ti=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function _q(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var xq=_q,Eq=xq;function Sq(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Eq(t,e,n)}var Tq=Sq,Aq="\\ud800-\\udfff",Pq="\\u0300-\\u036f",Iq="\\ufe20-\\ufe2f",Oq="\\u20d0-\\u20ff",Cq=Pq+Iq+Oq,kq="\\ufe0e\\ufe0f",Nq="\\u200d",Rq=RegExp("["+Nq+Aq+Cq+kq+"]");function jq(t){return Rq.test(t)}var UR=jq;function Dq(t){return t.split("")}var Mq=Dq,BR="\\ud800-\\udfff",$q="\\u0300-\\u036f",Lq="\\ufe20-\\ufe2f",Vq="\\u20d0-\\u20ff",Fq=$q+Lq+Vq,Uq="\\ufe0e\\ufe0f",Bq="["+BR+"]",E0="["+Fq+"]",S0="\\ud83c[\\udffb-\\udfff]",zq="(?:"+E0+"|"+S0+")",zR="[^"+BR+"]",WR="(?:\\ud83c[\\udde6-\\uddff]){2}",HR="[\\ud800-\\udbff][\\udc00-\\udfff]",Wq="\\u200d",qR=zq+"?",GR="["+Uq+"]?",Hq="(?:"+Wq+"(?:"+[zR,WR,HR].join("|")+")"+GR+qR+")*",qq=GR+qR+Hq,Gq="(?:"+[zR+E0+"?",E0,WR,HR,Bq].join("|")+")",Kq=RegExp(S0+"(?="+S0+")|"+Gq+qq,"g");function Xq(t){return t.match(Kq)||[]}var Yq=Xq,Qq=Mq,Jq=UR,Zq=Yq;function eG(t){return Jq(t)?Zq(t):Qq(t)}var tG=eG,nG=Tq,rG=UR,iG=tG,aG=DR;function oG(t){return function(e){e=aG(e);var n=rG(e)?iG(e):void 0,r=n?n[0]:e.charAt(0),i=n?nG(n,1).join(""):e.slice(1);return r[t]()+i}}var sG=oG,lG=sG,uG=lG("toUpperCase"),cG=uG;const zm=Me(cG);function Fe(t){return function(){return t}}const KR=Math.cos,zd=Math.sin,vr=Math.sqrt,Wd=Math.PI,Wm=2*Wd,T0=Math.PI,A0=2*T0,Fa=1e-6,fG=A0-Fa;function XR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return XR;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class dG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XR:hG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,f=o-e,c=s-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Fa)if(!(Math.abs(c*l-u*f)>Fa)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,b=i-s,g=l*l+u*u,y=p*p+b*b,_=Math.sqrt(g),v=Math.sqrt(d),x=a*Math.tan((T0-Math.acos((g+d-y)/(2*_*v)))/2),O=x/v,T=x/_;Math.abs(O-1)>Fa&&this._append`L${e+O*f},${n+O*c}`,this._append`A${a},${a},0,0,${+(c*p>f*b)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,f=n+l,c=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Fa||Math.abs(this._y1-f)>Fa)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%A0+A0),d>fG?this._append`A${r},${r},0,1,${c},${e-s},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:d>Fa&&this._append`A${r},${r},0,${+(d>=T0)},${c},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function G_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dG(e)}function K_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function YR(t){this._context=t}YR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hm(t){return new YR(t)}function QR(t){return t[0]}function JR(t){return t[1]}function ZR(t,e){var n=Fe(!0),r=null,i=Hm,a=null,o=G_(s);t=typeof t=="function"?t:t===void 0?QR:Fe(t),e=typeof e=="function"?e:e===void 0?JR:Fe(e);function s(l){var u,f=(l=K_(l)).length,c,d=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(c,u,l),+e(c,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function ph(t,e,n){var r=null,i=Fe(!0),a=null,o=Hm,s=null,l=G_(u);t=typeof t=="function"?t:t===void 0?QR:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JR:Fe(+n);function u(c){var d,p,b,g=(c=K_(c)).length,y,_=!1,v,x=new Array(g),O=new Array(g);for(a==null&&(s=o(v=l())),d=0;d<=g;++d){if(!(d<g&&i(y=c[d],d,c))===_)if(_=!_)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=d-1;b>=p;--b)s.point(x[b],O[b]);s.lineEnd(),s.areaEnd()}_&&(x[d]=+t(y,d,c),O[d]=+e(y,d,c),s.point(r?+r(y,d,c):x[d],n?+n(y,d,c):O[d]))}if(v)return s=null,v+""||null}function f(){return ZR().defined(i).curve(o).context(a)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Fe(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Fe(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Fe(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Fe(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Fe(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Fe(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Fe(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}class ej{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pG(t){return new ej(t,!0)}function mG(t){return new ej(t,!1)}const X_={draw(t,e){const n=vr(e/Wd);t.moveTo(n,0),t.arc(0,0,n,0,Wm)}},gG={draw(t,e){const n=vr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tj=vr(1/3),yG=tj*2,vG={draw(t,e){const n=vr(e/yG),r=n*tj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bG={draw(t,e){const n=vr(e),r=-n/2;t.rect(r,r,n,n)}},wG=.8908130915292852,nj=zd(Wd/10)/zd(7*Wd/10),_G=zd(Wm/10)*nj,xG=-KR(Wm/10)*nj,EG={draw(t,e){const n=vr(e*wG),r=_G*n,i=xG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Wm*a/5,s=KR(o),l=zd(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},xy=vr(3),SG={draw(t,e){const n=-vr(e/(xy*3));t.moveTo(0,n*2),t.lineTo(-xy*n,-n),t.lineTo(xy*n,-n),t.closePath()}},jn=-.5,Dn=vr(3)/2,P0=1/vr(12),TG=(P0/2+1)*3,AG={draw(t,e){const n=vr(e/TG),r=n/2,i=n*P0,a=r,o=n*P0+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(jn*r-Dn*i,Dn*r+jn*i),t.lineTo(jn*a-Dn*o,Dn*a+jn*o),t.lineTo(jn*s-Dn*l,Dn*s+jn*l),t.lineTo(jn*r+Dn*i,jn*i-Dn*r),t.lineTo(jn*a+Dn*o,jn*o-Dn*a),t.lineTo(jn*s+Dn*l,jn*l-Dn*s),t.closePath()}};function PG(t,e){let n=null,r=G_(i);t=typeof t=="function"?t:Fe(t||X_),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Fe(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Hd(){}function qd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rj(t){this._context=t}rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IG(t){return new rj(t)}function ij(t){this._context=t}ij.prototype={areaStart:Hd,areaEnd:Hd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OG(t){return new ij(t)}function aj(t){this._context=t}aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CG(t){return new aj(t)}function oj(t){this._context=t}oj.prototype={areaStart:Hd,areaEnd:Hd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kG(t){return new oj(t)}function qT(t){return t<0?-1:1}function GT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(qT(a)+qT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function KT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ey(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Gd(t){this._context=t}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ey(this,this._t0,KT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ey(this,KT(this,n=GT(this,t,e)),n);break;default:Ey(this,this._t0,n=GT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sj(t){this._context=new lj(t)}(sj.prototype=Object.create(Gd.prototype)).point=function(t,e){Gd.prototype.point.call(this,e,t)};function lj(t){this._context=t}lj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function NG(t){return new Gd(t)}function RG(t){return new sj(t)}function uj(t){this._context=t}uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=XT(t),i=XT(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function jG(t){return new uj(t)}function qm(t,e){this._context=t,this._t=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function DG(t){return new qm(t,.5)}function MG(t){return new qm(t,0)}function $G(t){return new qm(t,1)}function Us(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function I0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function LG(t,e){return t[e]}function VG(t){const e=[];return e.key=t,e}function FG(){var t=Fe([]),e=I0,n=Us,r=LG;function i(a){var o=Array.from(t.apply(this,arguments),VG),s,l=o.length,u=-1,f;for(const c of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(c,o[s].key,u,a)]).data=c;for(s=0,f=K_(e(o));s<l;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Fe(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?I0:typeof a=="function"?a:Fe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Us,i):n},i}function UG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Us(t,e)}}function BG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Us(t,e)}}function zG(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var f=t[e[s]],c=f[r][1]||0,d=f[r-1][1]||0,p=(c-d)/2,b=0;b<s;++b){var g=t[e[b]],y=g[r][1]||0,_=g[r-1][1]||0;p+=y-_}l+=c,u+=p*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Us(t,e)}}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}var WG=["type","size","sizeType"];function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach(function(r){HG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HG(t,e,n){return e=qG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qG(t){var e=GG(t,"string");return wc(e)=="symbol"?e:e+""}function GG(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KG(t,e){if(t==null)return{};var n=XG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cj={symbolCircle:X_,symbolCross:gG,symbolDiamond:vG,symbolSquare:bG,symbolStar:EG,symbolTriangle:SG,symbolWye:AG},YG=Math.PI/180,QG=function(e){var n="symbol".concat(zm(e));return cj[n]||X_},JG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*YG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ZG=function(e,n){cj["symbol".concat(zm(e))]=n},Y_=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=KG(e,WG),u=QT(QT({},l),{},{type:r,size:a,sizeType:s}),f=function(){var y=QG(r),_=PG().type(y).size(JG(a,s,r));return _()},c=u.className,d=u.cx,p=u.cy,b=Se(u,!0);return d===+d&&p===+p&&a===+a?D.createElement("path",O0({},b,{className:Pe("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(p,")"),d:f()})):null};Y_.registerSymbol=ZG;function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function JT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JT(Object(n),!0).forEach(function(r){_c(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hj(r.key),r)}}function rK(t,e,n){return e&&nK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iK(t,e,n){return e=Kd(e),aK(t,fj()?Reflect.construct(e,n||[],Kd(t).constructor):e.apply(t,n))}function aK(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oK(t)}function oK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fj=function(){return!!t})()}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(t)}function sK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k0(t,e)}function k0(t,e){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k0(t,e)}function _c(t,e,n){return e=hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t){var e=lK(t,"string");return Bs(e)=="symbol"?e:e+""}function lK(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mn=32,Q_=function(t){function e(){return tK(this,e),iK(this,e,arguments)}return sK(e,t),rK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Mn/2,o=Mn/6,s=Mn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Mn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Mn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Mn/8,"h").concat(Mn,"v").concat(Mn*3/4,"h").concat(-Mn,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=eK({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(Y_,{fill:l,cx:a,cy:a,size:Mn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Mn,height:Mn},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,b){var g=p.formatter||l,y=Pe(_c(_c({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=ge(p.value)?null:p.value;ti(!ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return D.createElement("li",C0({className:y,style:c,key:"legend-item-".concat(b)},Bd(r.props,p,b)),D.createElement(_0,{width:o,height:o,viewBox:f,style:d},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(_,p,b):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}($.PureComponent);_c(Q_,"displayName","Legend");_c(Q_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var uK=Cm;function cK(){this.__data__=new uK,this.size=0}var fK=cK;function hK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var dK=hK;function pK(t){return this.__data__.get(t)}var mK=pK;function gK(t){return this.__data__.has(t)}var yK=gK,vK=Cm,bK=L_,wK=V_,_K=200;function xK(t,e){var n=this.__data__;if(n instanceof vK){var r=n.__data__;if(!bK||r.length<_K-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wK(r)}return n.set(t,e),this.size=n.size,this}var EK=xK,SK=Cm,TK=fK,AK=dK,PK=mK,IK=yK,OK=EK;function Al(t){var e=this.__data__=new SK(t);this.size=e.size}Al.prototype.clear=TK;Al.prototype.delete=AK;Al.prototype.get=PK;Al.prototype.has=IK;Al.prototype.set=OK;var dj=Al,CK="__lodash_hash_undefined__";function kK(t){return this.__data__.set(t,CK),this}var NK=kK;function RK(t){return this.__data__.has(t)}var jK=RK,DK=V_,MK=NK,$K=jK;function Xd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new DK;++e<n;)this.add(t[e])}Xd.prototype.add=Xd.prototype.push=MK;Xd.prototype.has=$K;var pj=Xd;function LK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var mj=LK;function VK(t,e){return t.has(e)}var gj=VK,FK=pj,UK=mj,BK=gj,zK=1,WK=2;function HK(t,e,n,r,i,a){var o=n&zK,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),f=a.get(e);if(u&&f)return u==e&&f==t;var c=-1,d=!0,p=n&WK?new FK:void 0;for(a.set(t,e),a.set(e,t);++c<s;){var b=t[c],g=e[c];if(r)var y=o?r(g,b,c,e,t,a):r(b,g,c,t,e,a);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!UK(e,function(_,v){if(!BK(p,v)&&(b===_||i(b,_,n,r,a)))return p.push(v)})){d=!1;break}}else if(!(b===g||i(b,g,n,r,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var yj=HK,qK=Vr,GK=qK.Uint8Array,KK=GK;function XK(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var YK=XK;function QK(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var J_=QK,ZT=_f,eA=KK,JK=$_,ZK=yj,eX=YK,tX=J_,nX=1,rX=2,iX="[object Boolean]",aX="[object Date]",oX="[object Error]",sX="[object Map]",lX="[object Number]",uX="[object RegExp]",cX="[object Set]",fX="[object String]",hX="[object Symbol]",dX="[object ArrayBuffer]",pX="[object DataView]",tA=ZT?ZT.prototype:void 0,Sy=tA?tA.valueOf:void 0;function mX(t,e,n,r,i,a,o){switch(n){case pX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dX:return!(t.byteLength!=e.byteLength||!a(new eA(t),new eA(e)));case iX:case aX:case lX:return JK(+t,+e);case oX:return t.name==e.name&&t.message==e.message;case uX:case fX:return t==e+"";case sX:var s=eX;case cX:var l=r&nX;if(s||(s=tX),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=rX,o.set(t,e);var f=ZK(s(t),s(e),r,i,a,o);return o.delete(t),f;case hX:if(Sy)return Sy.call(t)==Sy.call(e)}return!1}var gX=mX;function yX(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var vj=yX,vX=vj,bX=bn;function wX(t,e,n){var r=e(t);return bX(t)?r:vX(r,n(t))}var _X=wX;function xX(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var EX=xX;function SX(){return[]}var TX=SX,AX=EX,PX=TX,IX=Object.prototype,OX=IX.propertyIsEnumerable,nA=Object.getOwnPropertySymbols,CX=nA?function(t){return t==null?[]:(t=Object(t),AX(nA(t),function(e){return OX.call(t,e)}))}:PX,kX=CX;function NX(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var RX=NX,jX=vi,DX=bi,MX="[object Arguments]";function $X(t){return DX(t)&&jX(t)==MX}var LX=$X,rA=LX,VX=bi,bj=Object.prototype,FX=bj.hasOwnProperty,UX=bj.propertyIsEnumerable,BX=rA(function(){return arguments}())?rA:function(t){return VX(t)&&FX.call(t,"callee")&&!UX.call(t,"callee")},Z_=BX,Yd={exports:{}};function zX(){return!1}var WX=zX;Yd.exports;(function(t,e){var n=Vr,r=WX,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Yd,Yd.exports);var wj=Yd.exports,HX=9007199254740991,qX=/^(?:0|[1-9]\d*)$/;function GX(t,e){var n=typeof t;return e=e??HX,!!e&&(n=="number"||n!="symbol"&&qX.test(t))&&t>-1&&t%1==0&&t<e}var ex=GX,KX=9007199254740991;function XX(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=KX}var tx=XX,YX=vi,QX=tx,JX=bi,ZX="[object Arguments]",eY="[object Array]",tY="[object Boolean]",nY="[object Date]",rY="[object Error]",iY="[object Function]",aY="[object Map]",oY="[object Number]",sY="[object Object]",lY="[object RegExp]",uY="[object Set]",cY="[object String]",fY="[object WeakMap]",hY="[object ArrayBuffer]",dY="[object DataView]",pY="[object Float32Array]",mY="[object Float64Array]",gY="[object Int8Array]",yY="[object Int16Array]",vY="[object Int32Array]",bY="[object Uint8Array]",wY="[object Uint8ClampedArray]",_Y="[object Uint16Array]",xY="[object Uint32Array]",Ge={};Ge[pY]=Ge[mY]=Ge[gY]=Ge[yY]=Ge[vY]=Ge[bY]=Ge[wY]=Ge[_Y]=Ge[xY]=!0;Ge[ZX]=Ge[eY]=Ge[hY]=Ge[tY]=Ge[dY]=Ge[nY]=Ge[rY]=Ge[iY]=Ge[aY]=Ge[oY]=Ge[sY]=Ge[lY]=Ge[uY]=Ge[cY]=Ge[fY]=!1;function EY(t){return JX(t)&&QX(t.length)&&!!Ge[YX(t)]}var SY=EY;function TY(t){return function(e){return t(e)}}var _j=TY,Qd={exports:{}};Qd.exports;(function(t,e){var n=OR,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Qd,Qd.exports);var AY=Qd.exports,PY=SY,IY=_j,iA=AY,aA=iA&&iA.isTypedArray,OY=aA?IY(aA):PY,xj=OY,CY=RX,kY=Z_,NY=bn,RY=wj,jY=ex,DY=xj,MY=Object.prototype,$Y=MY.hasOwnProperty;function LY(t,e){var n=NY(t),r=!n&&kY(t),i=!n&&!r&&RY(t),a=!n&&!r&&!i&&DY(t),o=n||r||i||a,s=o?CY(t.length,String):[],l=s.length;for(var u in t)(e||$Y.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||jY(u,l)))&&s.push(u);return s}var VY=LY,FY=Object.prototype;function UY(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||FY;return t===n}var BY=UY;function zY(t,e){return function(n){return t(e(n))}}var Ej=zY,WY=Ej,HY=WY(Object.keys,Object),qY=HY,GY=BY,KY=qY,XY=Object.prototype,YY=XY.hasOwnProperty;function QY(t){if(!GY(t))return KY(t);var e=[];for(var n in Object(t))YY.call(t,n)&&n!="constructor"&&e.push(n);return e}var JY=QY,ZY=M_,eQ=tx;function tQ(t){return t!=null&&eQ(t.length)&&!ZY(t)}var Sf=tQ,nQ=VY,rQ=JY,iQ=Sf;function aQ(t){return iQ(t)?nQ(t):rQ(t)}var Gm=aQ,oQ=_X,sQ=kX,lQ=Gm;function uQ(t){return oQ(t,lQ,sQ)}var cQ=uQ,oA=cQ,fQ=1,hQ=Object.prototype,dQ=hQ.hasOwnProperty;function pQ(t,e,n,r,i,a){var o=n&fQ,s=oA(t),l=s.length,u=oA(e),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var d=s[c];if(!(o?d in e:dQ.call(e,d)))return!1}var p=a.get(t),b=a.get(e);if(p&&b)return p==e&&b==t;var g=!0;a.set(t,e),a.set(e,t);for(var y=o;++c<l;){d=s[c];var _=t[d],v=e[d];if(r)var x=o?r(v,_,d,e,t,a):r(_,v,d,t,e,a);if(!(x===void 0?_===v||i(_,v,n,r,a):x)){g=!1;break}y||(y=d=="constructor")}if(g&&!y){var O=t.constructor,T=e.constructor;O!=T&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof T=="function"&&T instanceof T)&&(g=!1)}return a.delete(t),a.delete(e),g}var mQ=pQ,gQ=ko,yQ=Vr,vQ=gQ(yQ,"DataView"),bQ=vQ,wQ=ko,_Q=Vr,xQ=wQ(_Q,"Promise"),EQ=xQ,SQ=ko,TQ=Vr,AQ=SQ(TQ,"Set"),Sj=AQ,PQ=ko,IQ=Vr,OQ=PQ(IQ,"WeakMap"),CQ=OQ,N0=bQ,R0=L_,j0=EQ,D0=Sj,M0=CQ,Tj=vi,Pl=kR,sA="[object Map]",kQ="[object Object]",lA="[object Promise]",uA="[object Set]",cA="[object WeakMap]",fA="[object DataView]",NQ=Pl(N0),RQ=Pl(R0),jQ=Pl(j0),DQ=Pl(D0),MQ=Pl(M0),Ua=Tj;(N0&&Ua(new N0(new ArrayBuffer(1)))!=fA||R0&&Ua(new R0)!=sA||j0&&Ua(j0.resolve())!=lA||D0&&Ua(new D0)!=uA||M0&&Ua(new M0)!=cA)&&(Ua=function(t){var e=Tj(t),n=e==kQ?t.constructor:void 0,r=n?Pl(n):"";if(r)switch(r){case NQ:return fA;case RQ:return sA;case jQ:return lA;case DQ:return uA;case MQ:return cA}return e});var $Q=Ua,Ty=dj,LQ=yj,VQ=gX,FQ=mQ,hA=$Q,dA=bn,pA=wj,UQ=xj,BQ=1,mA="[object Arguments]",gA="[object Array]",mh="[object Object]",zQ=Object.prototype,yA=zQ.hasOwnProperty;function WQ(t,e,n,r,i,a){var o=dA(t),s=dA(e),l=o?gA:hA(t),u=s?gA:hA(e);l=l==mA?mh:l,u=u==mA?mh:u;var f=l==mh,c=u==mh,d=l==u;if(d&&pA(t)){if(!pA(e))return!1;o=!0,f=!1}if(d&&!f)return a||(a=new Ty),o||UQ(t)?LQ(t,e,n,r,i,a):VQ(t,e,l,n,r,i,a);if(!(n&BQ)){var p=f&&yA.call(t,"__wrapped__"),b=c&&yA.call(e,"__wrapped__");if(p||b){var g=p?t.value():t,y=b?e.value():e;return a||(a=new Ty),i(g,y,n,r,a)}}return d?(a||(a=new Ty),FQ(t,e,n,r,i,a)):!1}var HQ=WQ,qQ=HQ,vA=bi;function Aj(t,e,n,r,i){return t===e?!0:t==null||e==null||!vA(t)&&!vA(e)?t!==t&&e!==e:qQ(t,e,n,r,Aj,i)}var nx=Aj,GQ=dj,KQ=nx,XQ=1,YQ=2;function QQ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var c=new GQ;if(r)var d=r(u,f,l,t,e,c);if(!(d===void 0?KQ(f,u,XQ|YQ,r,c):d))return!1}}return!0}var JQ=QQ,ZQ=Sa;function eJ(t){return t===t&&!ZQ(t)}var Pj=eJ,tJ=Pj,nJ=Gm;function rJ(t){for(var e=nJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,tJ(i)]}return e}var iJ=rJ;function aJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Ij=aJ,oJ=JQ,sJ=iJ,lJ=Ij;function uJ(t){var e=sJ(t);return e.length==1&&e[0][2]?lJ(e[0][0],e[0][1]):function(n){return n===t||oJ(n,t,e)}}var cJ=uJ;function fJ(t,e){return t!=null&&e in Object(t)}var hJ=fJ,dJ=MR,pJ=Z_,mJ=bn,gJ=ex,yJ=tx,vJ=Nm;function bJ(t,e,n){e=dJ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=vJ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&yJ(i)&&gJ(o,i)&&(mJ(t)||pJ(t)))}var wJ=bJ,_J=hJ,xJ=wJ;function EJ(t,e){return t!=null&&xJ(t,e,_J)}var SJ=EJ,TJ=nx,AJ=$R,PJ=SJ,IJ=D_,OJ=Pj,CJ=Ij,kJ=Nm,NJ=1,RJ=2;function jJ(t,e){return IJ(t)&&OJ(e)?CJ(kJ(t),e):function(n){var r=AJ(n,t);return r===void 0&&r===e?PJ(n,t):TJ(e,r,NJ|RJ)}}var DJ=jJ;function MJ(t){return t}var Il=MJ;function $J(t){return function(e){return e==null?void 0:e[t]}}var LJ=$J,VJ=B_;function FJ(t){return function(e){return VJ(e,t)}}var UJ=FJ,BJ=LJ,zJ=UJ,WJ=D_,HJ=Nm;function qJ(t){return WJ(t)?BJ(HJ(t)):zJ(t)}var GJ=qJ,KJ=cJ,XJ=DJ,YJ=Il,QJ=bn,JJ=GJ;function ZJ(t){return typeof t=="function"?t:t==null?YJ:typeof t=="object"?QJ(t)?XJ(t[0],t[1]):KJ(t):JJ(t)}var Ta=ZJ;function eZ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Oj=eZ;function tZ(t){return t!==t}var nZ=tZ;function rZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var iZ=rZ,aZ=Oj,oZ=nZ,sZ=iZ;function lZ(t,e,n){return e===e?sZ(t,e,n):aZ(t,oZ,n)}var uZ=lZ,cZ=uZ;function fZ(t,e){var n=t==null?0:t.length;return!!n&&cZ(t,e,0)>-1}var hZ=fZ;function dZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var pZ=dZ;function mZ(){}var gZ=mZ,Ay=Sj,yZ=gZ,vZ=J_,bZ=1/0,wZ=Ay&&1/vZ(new Ay([,-0]))[1]==bZ?function(t){return new Ay(t)}:yZ,_Z=wZ,xZ=pj,EZ=hZ,SZ=pZ,TZ=gj,AZ=_Z,PZ=J_,IZ=200;function OZ(t,e,n){var r=-1,i=EZ,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=SZ;else if(a>=IZ){var u=e?null:AZ(t);if(u)return PZ(u);o=!1,i=TZ,l=new xZ}else l=e?[]:s;e:for(;++r<a;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,o&&c===c){for(var d=l.length;d--;)if(l[d]===c)continue e;e&&l.push(c),s.push(f)}else i(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var CZ=OZ,kZ=Ta,NZ=CZ;function RZ(t,e){return t&&t.length?NZ(t,kZ(e)):[]}var jZ=RZ;const bA=Me(jZ);function Cj(t,e,n){return e===!0?bA(t,n):ge(e)?bA(t,e):t}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}var DZ=["ref"];function wA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wA(Object(n),!0).forEach(function(r){Km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nj(r.key),r)}}function $Z(t,e,n){return e&&_A(t.prototype,e),n&&_A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LZ(t,e,n){return e=Jd(e),VZ(t,kj()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function VZ(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FZ(t)}function FZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kj=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function UZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$0(t,e)}function Km(t,e,n){return e=Nj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nj(t){var e=BZ(t,"string");return zs(e)=="symbol"?e:e+""}function BZ(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zZ(t,e){if(t==null)return{};var n=WZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HZ(t){return t.value}function qZ(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=zZ(e,DZ);return D.createElement(Q_,n)}var xA=1,eo=function(t){function e(){var n;MZ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=LZ(this,e,[].concat(i)),Km(n,"lastBoundingBox",{width:-1,height:-1}),n}return UZ(e,t),$Z(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>xA||Math.abs(i.height-this.lastBoundingBox.height)>xA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ur({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,c,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();c={left:((u||0)-p.width)/2}}else c=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();d={top:((f||0)-b.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ur(Ur({},c),d)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,c=Ur(Ur({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(p){r.wrapperNode=p}},qZ(a,Ur(Ur({},this.props),{},{payload:Cj(f,u,HZ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ur(Ur({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Z(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Km(eo,"displayName","Legend");Km(eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var EA=_f,GZ=Z_,KZ=bn,SA=EA?EA.isConcatSpreadable:void 0;function XZ(t){return KZ(t)||GZ(t)||!!(SA&&t&&t[SA])}var YZ=XZ,QZ=vj,JZ=YZ;function Rj(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=JZ),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?Rj(s,e-1,n,r,i):QZ(i,s):r||(i[i.length]=s)}return i}var jj=Rj;function ZZ(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var eee=ZZ,tee=eee,nee=tee(),ree=nee,iee=ree,aee=Gm;function oee(t,e){return t&&iee(t,e,aee)}var Dj=oee,see=Sf;function lee(t,e){return function(n,r){if(n==null)return n;if(!see(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var uee=lee,cee=Dj,fee=uee,hee=fee(cee),rx=hee,dee=rx,pee=Sf;function mee(t,e){var n=-1,r=pee(t)?Array(t.length):[];return dee(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var Mj=mee;function gee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var yee=gee,TA=_l;function vee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=TA(t),o=e!==void 0,s=e===null,l=e===e,u=TA(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var bee=vee,wee=bee;function _ee(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=wee(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var xee=_ee,Py=U_,Eee=B_,See=Ta,Tee=Mj,Aee=yee,Pee=_j,Iee=xee,Oee=Il,Cee=bn;function kee(t,e,n){e.length?e=Py(e,function(a){return Cee(a)?function(o){return Eee(o,a.length===1?a[0]:a)}:a}):e=[Oee];var r=-1;e=Py(e,Pee(See));var i=Tee(t,function(a,o,s){var l=Py(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Aee(i,function(a,o){return Iee(a,o,n)})}var Nee=kee;function Ree(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var jee=Ree,Dee=jee,AA=Math.max;function Mee(t,e,n){return e=AA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=AA(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Dee(t,this,s)}}var $ee=Mee;function Lee(t){return function(){return t}}var Vee=Lee,Fee=ko,Uee=function(){try{var t=Fee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$j=Uee,Bee=Vee,PA=$j,zee=Il,Wee=PA?function(t,e){return PA(t,"toString",{configurable:!0,enumerable:!1,value:Bee(e),writable:!0})}:zee,Hee=Wee,qee=800,Gee=16,Kee=Date.now;function Xee(t){var e=0,n=0;return function(){var r=Kee(),i=Gee-(r-n);if(n=r,i>0){if(++e>=qee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Yee=Xee,Qee=Hee,Jee=Yee,Zee=Jee(Qee),ete=Zee,tte=Il,nte=$ee,rte=ete;function ite(t,e){return rte(nte(t,e,tte),t+"")}var ate=ite,ote=$_,ste=Sf,lte=ex,ute=Sa;function cte(t,e,n){if(!ute(n))return!1;var r=typeof e;return(r=="number"?ste(n)&&lte(e,n.length):r=="string"&&e in n)?ote(n[e],t):!1}var Xm=cte,fte=jj,hte=Nee,dte=ate,IA=Xm,pte=dte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&IA(t,e[0],e[1])?e=[]:n>2&&IA(e[0],e[1],e[2])&&(e=[e[0]]),hte(t,fte(e,1),[])}),mte=pte;const ix=Me(mte);function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}function gte(t,e){return wte(t)||bte(t,e)||vte(t,e)||yte()}function yte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vte(t,e){if(t){if(typeof t=="string")return OA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(t,e)}}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function wte(t){if(Array.isArray(t))return t}function CA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(n),!0).forEach(function(r){_te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e,n){return e=xte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=Ete(t,"string");return xc(e)=="symbol"?e:e+""}function Ete(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ste(t){return Array.isArray(t)&&Tt(t[0])&&Tt(t[1])?t.join(" ~ "):t}var Tte=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,c=e.formatter,d=e.itemSorter,p=e.wrapperClassName,b=e.labelClassName,g=e.label,y=e.labelFormatter,_=e.accessibilityLayer,v=_===void 0?!1:_,x=function(){if(f&&f.length){var j={padding:0,margin:0},N=(d?ix(f,d):f).map(function(F,U){if(F.type==="none")return null;var H=Iy({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),G=F.formatter||c||Ste,L=F.value,z=F.name,X=L,ee=z;if(G&&X!=null&&ee!=null){var Q=G(L,z,F,U,f);if(Array.isArray(Q)){var oe=gte(Q,2);X=oe[0],ee=oe[1]}else X=Q}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:H},Tt(ee)?D.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Tt(ee)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},X),D.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},O=Iy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Iy({margin:0},u),I=!ve(g),E=I?g:"",S=Pe("recharts-default-tooltip",p),P=Pe("recharts-tooltip-label",b);I&&y&&f!==void 0&&f!==null&&(E=y(g,f));var k=v?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",L0({className:S,style:O},k),D.createElement("p",{className:P,style:T},D.isValidElement(E)?E:"".concat(E)),x())};function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function gh(t,e,n){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=Pte(t,"string");return Ec(e)=="symbol"?e:e+""}function Pte(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var au="recharts-tooltip-wrapper",Ite={visibility:"hidden"};function Ote(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Pe(au,gh(gh(gh(gh({},"".concat(au,"-right"),Z(n)&&e&&Z(e.x)&&n>=e.x),"".concat(au,"-left"),Z(n)&&e&&Z(e.x)&&n<e.x),"".concat(au,"-bottom"),Z(r)&&e&&Z(e.y)&&r>=e.y),"".concat(au,"-top"),Z(r)&&e&&Z(e.y)&&r<e.y))}function kA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Z(a[r]))return a[r];var f=n[r]-s-i,c=n[r]+i;if(e[r])return o[r]?f:c;if(o[r]){var d=f,p=l[r];return d<p?Math.max(c,l[r]):Math.max(f,l[r])}var b=c+s,g=l[r]+u;return b>g?Math.max(f,l[r]):Math.max(c,l[r])}function Cte(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function kte(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,c;return o.height>0&&o.width>0&&n?(f=kA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),c=kA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Cte({translateX:f,translateY:c,useTranslate3d:s})):u=Ite,{cssProperties:u,cssClasses:Ote({translateX:f,translateY:c,coordinate:n})}}function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function NA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vj(r.key),r)}}function jte(t,e,n){return e&&Rte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dte(t,e,n){return e=Zd(e),Mte(t,Lj()?Reflect.construct(e,n||[],Zd(t).constructor):e.apply(t,n))}function Mte(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $te(t)}function $te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lj=function(){return!!t})()}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}function Lte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V0(t,e)}function F0(t,e,n){return e=Vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vj(t){var e=Vte(t,"string");return Ws(e)=="symbol"?e:e+""}function Vte(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jA=1,Fte=function(t){function e(){var n;Nte(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Dte(this,e,[].concat(i)),F0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),F0(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return Lte(e,t),jte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>jA||Math.abs(r.height-this.state.lastBoundingBox.height)>jA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,c=i.hasPayload,d=i.isAnimationActive,p=i.offset,b=i.position,g=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,v=i.wrapperStyle,x=kte({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:b,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),O=x.cssClasses,T=x.cssProperties,I=RA(RA({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&c?"visible":"hidden",position:"absolute",top:0,left:0},v);return D.createElement("div",{tabIndex:-1,className:O,style:I,ref:function(S){r.wrapperNode=S}},u)}}])}($.PureComponent),Ute=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ol={isSsr:Ute()};function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uj(r.key),r)}}function Wte(t,e,n){return e&&zte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hte(t,e,n){return e=ep(e),qte(t,Fj()?Reflect.construct(e,n||[],ep(t).constructor):e.apply(t,n))}function qte(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gte(t)}function Gte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fj=function(){return!!t})()}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ep(t)}function Kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U0(t,e)}function ax(t,e,n){return e=Uj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uj(t){var e=Xte(t,"string");return Hs(e)=="symbol"?e:e+""}function Xte(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yte(t){return t.dataKey}function Qte(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(Tte,e)}var $n=function(t){function e(){return Bte(this,e),Hte(this,e,arguments)}return Kte(e,t),Wte(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,c=i.filterNull,d=i.isAnimationActive,p=i.offset,b=i.payload,g=i.payloadUniqBy,y=i.position,_=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,O=i.wrapperStyle,T=b??[];c&&T.length&&(T=Cj(b.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),g,Yte));var I=T.length>0;return D.createElement(Fte,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:f,hasPayload:I,offset:p,position:y,reverseDirection:_,useTranslate3d:v,viewBox:x,wrapperStyle:O},Qte(u,MA(MA({},this.props),{},{payload:T})))}}])}($.PureComponent);ax($n,"displayName","Tooltip");ax($n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ol.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jte=Vr,Zte=function(){return Jte.Date.now()},ene=Zte,tne=/\s/;function nne(t){for(var e=t.length;e--&&tne.test(t.charAt(e)););return e}var rne=nne,ine=rne,ane=/^\s+/;function one(t){return t&&t.slice(0,ine(t)+1).replace(ane,"")}var sne=one,lne=sne,$A=Sa,une=_l,LA=NaN,cne=/^[-+]0x[0-9a-f]+$/i,fne=/^0b[01]+$/i,hne=/^0o[0-7]+$/i,dne=parseInt;function pne(t){if(typeof t=="number")return t;if(une(t))return LA;if($A(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$A(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lne(t);var n=fne.test(t);return n||hne.test(t)?dne(t.slice(2),n?2:8):cne.test(t)?LA:+t}var Bj=pne,mne=Sa,Oy=ene,VA=Bj,gne="Expected a function",yne=Math.max,vne=Math.min;function bne(t,e,n){var r,i,a,o,s,l,u=0,f=!1,c=!1,d=!0;if(typeof t!="function")throw new TypeError(gne);e=VA(e)||0,mne(n)&&(f=!!n.leading,c="maxWait"in n,a=c?yne(VA(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d);function p(I){var E=r,S=i;return r=i=void 0,u=I,o=t.apply(S,E),o}function b(I){return u=I,s=setTimeout(_,e),f?p(I):o}function g(I){var E=I-l,S=I-u,P=e-E;return c?vne(P,a-S):P}function y(I){var E=I-l,S=I-u;return l===void 0||E>=e||E<0||c&&S>=a}function _(){var I=Oy();if(y(I))return v(I);s=setTimeout(_,g(I))}function v(I){return s=void 0,d&&r?p(I):(r=i=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?o:v(Oy())}function T(){var I=Oy(),E=y(I);if(r=arguments,i=this,l=I,E){if(s===void 0)return b(l);if(c)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),o}return T.cancel=x,T.flush=O,T}var wne=bne,_ne=wne,xne=Sa,Ene="Expected a function";function Sne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Ene);return xne(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_ne(t,e,{leading:r,maxWait:e,trailing:i})}var Tne=Sne;const zj=Me(Tne);function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return e=Pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Ine(t,"string");return Sc(e)=="symbol"?e:e+""}function Ine(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t,e){return Rne(t)||Nne(t,e)||kne(t,e)||Cne()}function Cne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kne(t,e){if(t){if(typeof t=="string")return UA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UA(t,e)}}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Rne(t){if(Array.isArray(t))return t}var B0=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,c=t.minHeight,d=t.maxHeight,p=t.children,b=t.debounce,g=b===void 0?0:b,y=t.id,_=t.className,v=t.onResize,x=t.style,O=x===void 0?{}:x,T=$.useRef(null),I=$.useRef();I.current=v,$.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=$.useState({containerWidth:i.width,containerHeight:i.height}),S=One(E,2),P=S[0],k=S[1],C=$.useCallback(function(N,F){k(function(U){var H=Math.round(N),G=Math.round(F);return U.containerWidth===H&&U.containerHeight===G?U:{containerWidth:H,containerHeight:G}})},[]);$.useEffect(function(){var N=function(z){var X,ee=z[0].contentRect,Q=ee.width,oe=ee.height;C(Q,oe),(X=I.current)===null||X===void 0||X.call(I,Q,oe)};g>0&&(N=zj(N,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(N),U=T.current.getBoundingClientRect(),H=U.width,G=U.height;return C(H,G),F.observe(T.current),function(){F.disconnect()}},[C,g]);var j=$.useMemo(function(){var N=P.containerWidth,F=P.containerHeight;if(N<0||F<0)return null;ti(Ga(o)||Ga(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ti(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Ga(o)?N:o,H=Ga(l)?F:l;n&&n>0&&(U?H=U/n:H&&(U=H*n),d&&H>d&&(H=d)),ti(U>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,H,o,l,f,c,n);var G=!Array.isArray(p)&&ei(p.type).endsWith("Chart");return D.Children.map(p,function(L){return D.isValidElement(L)?$.cloneElement(L,yh({width:U,height:H},G?{style:yh({height:"100%",width:"100%",maxHeight:H,maxWidth:U},L.props.style)}:{})):L})},[n,p,l,d,c,f,P,o]);return D.createElement("div",{id:y?"".concat(y):void 0,className:Pe("recharts-responsive-container",_),style:yh(yh({},O),{},{width:o,height:l,minWidth:f,minHeight:c,maxHeight:d}),ref:T},j)}),Wj=function(e){return null};Wj.displayName="Cell";function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=Mne(t,"string");return Tc(e)=="symbol"?e:e+""}function Mne(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fo={widthCache:{},cacheCount:0},$ne=2e3,Lne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zA="recharts_measurement_span";function Vne(t){var e=z0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Fu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ol.isSsr)return{width:0,height:0};var r=Vne(n),i=JSON.stringify({text:e,copyStyle:r});if(Fo.widthCache[i])return Fo.widthCache[i];try{var a=document.getElementById(zA);a||(a=document.createElement("span"),a.setAttribute("id",zA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=z0(z0({},Lne),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Fo.widthCache[i]=l,++Fo.cacheCount>$ne&&(Fo.cacheCount=0,Fo.widthCache={}),l}catch{return{width:0,height:0}}},Fne=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function tp(t,e){return Wne(t)||zne(t,e)||Bne(t,e)||Une()}function Une(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(t,e){if(t){if(typeof t=="string")return WA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(t,e)}}function WA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Wne(t){if(Array.isArray(t))return t}function Hne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gne(r.key),r)}}function qne(t,e,n){return e&&HA(t.prototype,e),n&&HA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gne(t){var e=Kne(t,"string");return Ac(e)=="symbol"?e:e+""}function Kne(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Hj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qne=Object.keys(Hj),ss="NaN";function Jne(t,e){return t*Hj[e]}var vh=function(){function t(e,n){Hne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Xne.test(n)&&(this.num=NaN,this.unit=""),Qne.includes(n)&&(this.num=Jne(e,n),this.unit="px")}return qne(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Yne.exec(n))!==null&&r!==void 0?r:[],a=tp(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function qj(t){if(t.includes(ss))return ss;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=qA.exec(e))!==null&&n!==void 0?n:[],i=tp(r,4),a=i[1],o=i[2],s=i[3],l=vh.parse(a??""),u=vh.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return ss;e=e.replace(qA,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,d=(c=GA.exec(e))!==null&&c!==void 0?c:[],p=tp(d,4),b=p[1],g=p[2],y=p[3],_=vh.parse(b??""),v=vh.parse(y??""),x=g==="+"?_.add(v):_.subtract(v);if(x.isNaN())return ss;e=e.replace(GA,x.toString())}return e}var KA=/\(([^()]*)\)/;function Zne(t){for(var e=t;e.includes("(");){var n=KA.exec(e),r=tp(n,2),i=r[1];e=e.replace(KA,qj(i))}return e}function ere(t){var e=t.replace(/\s+/g,"");return e=Zne(e),e=qj(e),e}function tre(t){try{return ere(t)}catch{return ss}}function Cy(t){var e=tre(t.slice(5,-1));return e===ss?"":e}var nre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rre=["dx","dy","angle","className","breakAll"];function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}function XA(t,e){if(t==null)return{};var n=ire(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ire(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YA(t,e){return lre(t)||sre(t,e)||ore(t,e)||are()}function are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(t,e){if(t){if(typeof t=="string")return QA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(t,e)}}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function lre(t){if(Array.isArray(t))return t}var Gj=/[ \f\n\r\t\v\u2028\u2029]+/,Kj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ve(n)||(r?a=n.toString().split(""):a=n.toString().split(Gj));var o=a.map(function(l){return{word:l,width:Fu(l,i).width}}),s=r?0:Fu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},ure=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=Z(o),c=s,d=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(H,G){var L=G.word,z=G.width,X=H[H.length-1];if(X&&(i==null||a||X.width+z+r<Number(i)))X.words.push(L),X.width+=z+r;else{var ee={words:[L],width:z};H.push(ee)}return H},[])},p=d(n),b=function(U){return U.reduce(function(H,G){return H.width>G.width?H:G})};if(!f)return p;for(var g="",y=function(U){var H=c.slice(0,U),G=Kj({breakAll:u,style:l,children:H+g}).wordsWithComputedWidth,L=d(G),z=L.length>o||b(L).width>Number(i);return[z,L]},_=0,v=c.length-1,x=0,O;_<=v&&x<=c.length-1;){var T=Math.floor((_+v)/2),I=T-1,E=y(I),S=YA(E,2),P=S[0],k=S[1],C=y(T),j=YA(C,1),N=j[0];if(!P&&!N&&(_=T+1),P&&N&&(v=T-1),!P&&N){O=k;break}x++}return O||p},JA=function(e){var n=ve(e)?[]:e.toString().split(Gj);return[{words:n}]},cre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Ol.isSsr){var l,u,f=Kj({breakAll:o,children:i,style:a});if(f){var c=f.wordsWithComputedWidth,d=f.spaceWidth;l=c,u=d}else return JA(i);return ure({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return JA(i)},ZA="#808080",np=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,c=f===void 0?!1:f,d=e.textAnchor,p=d===void 0?"start":d,b=e.verticalAnchor,g=b===void 0?"end":b,y=e.fill,_=y===void 0?ZA:y,v=XA(e,nre),x=$.useMemo(function(){return cre({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:c,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,c,v.style,v.width]),O=v.dx,T=v.dy,I=v.angle,E=v.className,S=v.breakAll,P=XA(v,rre);if(!Tt(r)||!Tt(a))return null;var k=r+(Z(O)?O:0),C=a+(Z(T)?T:0),j;switch(g){case"start":j=Cy("calc(".concat(u,")"));break;case"middle":j=Cy("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=Cy("calc(".concat(x.length-1," * -").concat(s,")"));break}var N=[];if(c){var F=x[0].width,U=v.width;N.push("scale(".concat((Z(U)?U/F:1)/F,")"))}return I&&N.push("rotate(".concat(I,", ").concat(k,", ").concat(C,")")),N.length&&(P.transform=N.join(" ")),D.createElement("text",W0({},Se(P,!0),{x:k,y:C,className:Pe("recharts-text",E),textAnchor:p,fill:_.includes("url")?ZA:_}),x.map(function(H,G){var L=H.words.join(S?"":" ");return D.createElement("tspan",{x:k,dy:G===0?j:s,key:"".concat(L,"-").concat(G)},L)}))};function aa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ox(t){let e,n,r;t.length!==2?(e=aa,n=(s,l)=>aa(t(s),l),r=(s,l)=>t(s)-l):(e=t===aa||t===fre?t:hre,n=t,r=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){const c=i(s,l,u,f-1);return c>u&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:o,right:a}}function hre(){return 0}function Xj(t){return t===null?NaN:+t}function*dre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const pre=ox(aa),Tf=pre.right;ox(Xj).center;class eP extends Map{constructor(e,n=yre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(tP(this,e))}has(e){return super.has(tP(this,e))}set(e,n){return super.set(mre(this,e),n)}delete(e){return super.delete(gre(this,e))}}function tP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function mre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function gre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function yre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function vre(t=aa){if(t===aa)return Yj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Yj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bre=Math.sqrt(50),wre=Math.sqrt(10),_re=Math.sqrt(2);function rp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=bre?10:a>=wre?5:a>=_re?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?rp(t,e,n*2):[s,l,u]}function H0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?rp(e,t,n):rp(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function q0(t,e,n){return e=+e,t=+t,n=+n,rp(t,e,n)[2]}function G0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?q0(e,t,n):q0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function nP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Qj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Yj:vre(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*c/l+d)),b=Math.min(r,Math.floor(e+(l-u)*c/l+d));Qj(t,e,p,b,i)}const a=t[e];let o=n,s=r;for(ou(t,n,e),i(t[r],a)>0&&ou(t,n,r);o<s;){for(ou(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?ou(t,n,s):(++s,ou(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ou(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xre(t,e,n){if(t=Float64Array.from(dre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return rP(t);if(e>=1)return nP(t);var r,i=(r-1)*e,a=Math.floor(i),o=nP(Qj(t,a).subarray(0,a+1)),s=rP(t.subarray(a+1));return o+(s-o)*(i-a)}}function Ere(t,e,n=Xj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Sre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Jn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K0=Symbol("implicit");function sx(){var t=new eP,e=[],n=[],r=K0;function i(a){let o=t.get(a);if(o===void 0){if(r!==K0)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new eP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return sx(e,n).unknown(r)},Jn.apply(i,arguments),i}function Pc(){var t=sx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var d=e().length,p=i<r,b=p?i:r,g=p?r:i;a=(g-b)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),b+=(g-b-a*(d-l))*f,o=a*(1-l),s&&(b=Math.round(b),o=Math.round(o));var y=Sre(d).map(function(_){return b+a*_});return n(p?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),c()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,c()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(d){return arguments.length?(s=!!d,c()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),c()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),c()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,c()):u},t.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},t.copy=function(){return Pc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},Jn.apply(c(),arguments)}function Jj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Jj(e())},t}function Uu(){return Jj(Pc.apply(null,arguments).paddingInner(1))}function lx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Af(){}var Ic=.7,ip=1/Ic,xs="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tre=/^#([0-9a-f]{3,8})$/,Are=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),Pre=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),Ire=new RegExp(`^rgba\\(${xs},${xs},${xs},${Oc}\\)$`),Ore=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${Oc}\\)$`),Cre=new RegExp(`^hsl\\(${Oc},${Dr},${Dr}\\)$`),kre=new RegExp(`^hsla\\(${Oc},${Dr},${Dr},${Oc}\\)$`),iP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lx(Af,Cc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aP,formatHex:aP,formatHex8:Nre,formatHsl:Rre,formatRgb:oP,toString:oP});function aP(){return this.rgb().formatHex()}function Nre(){return this.rgb().formatHex8()}function Rre(){return eD(this).formatHsl()}function oP(){return this.rgb().formatRgb()}function Cc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sP(e):n===3?new mn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Are.exec(t))?new mn(e[1],e[2],e[3],1):(e=Pre.exec(t))?new mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ire.exec(t))?bh(e[1],e[2],e[3],e[4]):(e=Ore.exec(t))?bh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cre.exec(t))?cP(e[1],e[2]/100,e[3]/100,1):(e=kre.exec(t))?cP(e[1],e[2]/100,e[3]/100,e[4]):iP.hasOwnProperty(t)?sP(iP[t]):t==="transparent"?new mn(NaN,NaN,NaN,0):null}function sP(t){return new mn(t>>16&255,t>>8&255,t&255,1)}function bh(t,e,n,r){return r<=0&&(t=e=n=NaN),new mn(t,e,n,r)}function jre(t){return t instanceof Af||(t=Cc(t)),t?(t=t.rgb(),new mn(t.r,t.g,t.b,t.opacity)):new mn}function X0(t,e,n,r){return arguments.length===1?jre(t):new mn(t,e,n,r??1)}function mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}lx(mn,X0,Zj(Af,{brighter(t){return t=t==null?ip:Math.pow(ip,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ic:Math.pow(Ic,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mn(to(this.r),to(this.g),to(this.b),ap(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lP,formatHex:lP,formatHex8:Dre,formatRgb:uP,toString:uP}));function lP(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function Dre(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function uP(){const t=ap(this.opacity);return`${t===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${t===1?")":`, ${t})`}`}function ap(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function to(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ka(t){return t=to(t),(t<16?"0":"")+t.toString(16)}function cP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ur(t,e,n,r)}function eD(t){if(t instanceof ur)return new ur(t.h,t.s,t.l,t.opacity);if(t instanceof Af||(t=Cc(t)),!t)return new ur;if(t instanceof ur)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ur(o,s,l,t.opacity)}function Mre(t,e,n,r){return arguments.length===1?eD(t):new ur(t,e,n,r??1)}function ur(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}lx(ur,Mre,Zj(Af,{brighter(t){return t=t==null?ip:Math.pow(ip,t),new ur(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ic:Math.pow(Ic,t),new ur(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new mn(ky(t>=240?t-240:t+120,i,r),ky(t,i,r),ky(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ur(fP(this.h),wh(this.s),wh(this.l),ap(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ap(this.opacity);return`${t===1?"hsl(":"hsla("}${fP(this.h)}, ${wh(this.s)*100}%, ${wh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fP(t){return t=(t||0)%360,t<0?t+360:t}function wh(t){return Math.max(0,Math.min(1,t||0))}function ky(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ux=t=>()=>t;function $re(t,e){return function(n){return t+n*e}}function Lre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Vre(t){return(t=+t)==1?tD:function(e,n){return n-e?Lre(e,n,t):ux(isNaN(e)?n:e)}}function tD(t,e){var n=e-t;return n?$re(t,n):ux(isNaN(t)?e:t)}const hP=function t(e){var n=Vre(e);function r(i,a){var o=n((i=X0(i)).r,(a=X0(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=tD(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function Fre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ure(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Cl(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function zre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function op(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cl(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Y0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ny=new RegExp(Y0.source,"g");function Hre(t){return function(){return t}}function qre(t){return function(e){return t(e)+""}}function Gre(t,e){var n=Y0.lastIndex=Ny.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Y0.exec(t))&&(i=Ny.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:op(r,i)})),n=Ny.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?qre(l[0].x):Hre(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function Cl(t,e){var n=typeof e,r;return e==null||n==="boolean"?ux(e):(n==="number"?op:n==="string"?(r=Cc(e))?(e=r,hP):Gre:e instanceof Cc?hP:e instanceof Date?zre:Ure(e)?Fre:Array.isArray(e)?Bre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wre:op)(t,e)}function cx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Kre(t,e){e===void 0&&(e=t,t=Cl);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Xre(t){return function(){return t}}function sp(t){return+t}var dP=[0,1];function on(t){return t}function Q0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Xre(isNaN(e)?NaN:.5)}function Yre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Qre(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Q0(i,r),a=n(o,a)):(r=Q0(r,i),a=n(a,o)),function(s){return a(r(s))}}function Jre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Q0(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Tf(t,s,1,r)-1;return a[l](i[l](s))}}function Pf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ym(){var t=dP,e=dP,n=Cl,r,i,a,o=on,s,l,u;function f(){var d=Math.min(t.length,e.length);return o!==on&&(o=Yre(t[0],t[d-1])),s=d>2?Jre:Qre,l=u=null,c}function c(d){return d==null||isNaN(d=+d)?a:(l||(l=s(t.map(r),e,n)))(r(o(d)))}return c.invert=function(d){return o(i((u||(u=s(e,t.map(r),op)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,sp),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=cx,f()},c.clamp=function(d){return arguments.length?(o=d?!0:on,f()):o!==on},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,p){return r=d,i=p,f()}}function fx(){return Ym()(on,on)}function Zre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qs(t){return t=lp(Math.abs(t)),t?t[1]:NaN}function eie(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function tie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kc(t){if(!(e=nie.exec(t)))throw new Error("invalid format: "+t);var e;return new hx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kc.prototype=hx.prototype;function hx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nD;function iie(t,e){var n=lp(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(nD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+lp(t,Math.max(0,e+a-1))[0]}function pP(t,e){var n=lp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pP(t*100,e),r:pP,s:iie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gP(t){return t}var yP=Array.prototype.map,vP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aie(t){var e=t.grouping===void 0||t.thousands===void 0?gP:eie(yP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?gP:tie(yP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=kc(c);var d=c.fill,p=c.align,b=c.sign,g=c.symbol,y=c.zero,_=c.width,v=c.comma,x=c.precision,O=c.trim,T=c.type;T==="n"?(v=!0,T="g"):mP[T]||(x===void 0&&(x=12),O=!0,T="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var I=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=g==="$"?r:/[%p]/.test(T)?o:"",S=mP[T],P=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(C){var j=I,N=E,F,U,H;if(T==="c")N=S(C)+N,C="";else{C=+C;var G=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),x),O&&(C=rie(C)),G&&+C==0&&b!=="+"&&(G=!1),j=(G?b==="("?b:s:b==="-"||b==="("?"":b)+j,N=(T==="s"?vP[8+nD/3]:"")+N+(G&&b==="("?")":""),P){for(F=-1,U=C.length;++F<U;)if(H=C.charCodeAt(F),48>H||H>57){N=(H===46?i+C.slice(F+1):C.slice(F))+N,C=C.slice(0,F);break}}}v&&!y&&(C=e(C,1/0));var L=j.length+C.length+N.length,z=L<_?new Array(_-L+1).join(d):"";switch(v&&y&&(C=e(z+C,z.length?_-N.length:1/0),z=""),p){case"<":C=j+C+N+z;break;case"=":C=j+z+C+N;break;case"^":C=z.slice(0,L=z.length>>1)+j+C+N+z.slice(L);break;default:C=z+j+C+N;break}return a(C)}return k.toString=function(){return c+""},k}function f(c,d){var p=u((c=kc(c),c.type="f",c)),b=Math.max(-8,Math.min(8,Math.floor(qs(d)/3)))*3,g=Math.pow(10,-b),y=vP[8+b/3];return function(_){return p(g*_)+y}}return{format:u,formatPrefix:f}}var _h,dx,rD;oie({thousands:",",grouping:[3],currency:["$",""]});function oie(t){return _h=aie(t),dx=_h.format,rD=_h.formatPrefix,_h}function sie(t){return Math.max(0,-qs(Math.abs(t)))}function lie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qs(e)/3)))*3-qs(Math.abs(t)))}function uie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qs(e)-qs(t))+1}function iD(t,e,n,r){var i=G0(t,e,n),a;switch(r=kc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=lie(i,o))&&(r.precision=a),rD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=uie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=sie(i))&&(r.precision=a-(r.type==="%")*2);break}}return dx(r)}function Aa(t){var e=t.domain;return t.ticks=function(n){var r=e();return H0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return iD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=q0(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function up(){var t=fx();return t.copy=function(){return Pf(t,up())},Jn.apply(t,arguments),Aa(t)}function aD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,sp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return aD(t).unknown(e)},t=arguments.length?Array.from(t,sp):[0,1],Aa(n)}function oD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function bP(t){return Math.log(t)}function wP(t){return Math.exp(t)}function cie(t){return-Math.log(-t)}function fie(t){return-Math.exp(-t)}function hie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function die(t){return t===10?hie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _P(t){return(e,n)=>-t(-e,n)}function px(t){const e=t(bP,wP),n=e.domain;let r=10,i,a;function o(){return i=pie(r),a=die(r),n()[0]<0?(i=_P(i),a=_P(a),t(cie,fie)):t(bP,wP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let d=i(u),p=i(f),b,g;const y=s==null?10:+s;let _=[];if(!(r%1)&&p-d<y){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(b=1;b<r;++b)if(g=d<0?b/a(-d):b*a(d),!(g<u)){if(g>f)break;_.push(g)}}else for(;d<=p;++d)for(b=r-1;b>=1;--b)if(g=d>0?b/a(-d):b*a(d),!(g<u)){if(g>f)break;_.push(g)}_.length*2<y&&(_=H0(u,f,y))}else _=H0(d,p,Math.min(p-d,y)).map(a);return c?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=kc(l)).precision==null&&(l.trim=!0),l=dx(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return f=>{let c=f/a(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},e.nice=()=>n(oD(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function sD(){const t=px(Ym()).domain([1,10]);return t.copy=()=>Pf(t,sD()).base(t.base()),Jn.apply(t,arguments),t}function xP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function EP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mx(t){var e=1,n=t(xP(e),EP(e));return n.constant=function(r){return arguments.length?t(xP(e=+r),EP(e)):e},Aa(n)}function lD(){var t=mx(Ym());return t.copy=function(){return Pf(t,lD()).constant(t.constant())},Jn.apply(t,arguments)}function SP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gie(t){return t<0?-t*t:t*t}function gx(t){var e=t(on,on),n=1;function r(){return n===1?t(on,on):n===.5?t(mie,gie):t(SP(n),SP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Aa(e)}function yx(){var t=gx(Ym());return t.copy=function(){return Pf(t,yx()).exponent(t.exponent())},Jn.apply(t,arguments),t}function yie(){return yx.apply(null,arguments).exponent(.5)}function TP(t){return Math.sign(t)*t*t}function vie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function uD(){var t=fx(),e=[0,1],n=!1,r;function i(a){var o=vie(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(TP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,sp)).map(TP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Jn.apply(i,arguments),Aa(i)}function cD(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Ere(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Tf(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(aa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return cD().domain(t).range(e).unknown(r)},Jn.apply(a,arguments)}function fD(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Tf(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return fD().domain([t,e]).range(i).unknown(a)},Jn.apply(Aa(o),arguments)}function hD(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Tf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return hD().domain(t).range(e).unknown(n)},Jn.apply(i,arguments)}const Ry=new Date,jy=new Date;function It(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>It(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Ry.setTime(+a),jy.setTime(+o),t(Ry),t(jy),Math.floor(n(Ry,jy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const cp=It(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?It(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):cp);cp.range;const Kr=1e3,zn=Kr*60,Xr=zn*60,fi=Xr*24,vx=fi*7,AP=fi*30,Dy=fi*365,Xa=It(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCSeconds());Xa.range;const bx=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kr)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getMinutes());bx.range;const wx=It(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCMinutes());wx.range;const _x=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kr-t.getMinutes()*zn)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getHours());_x.range;const xx=It(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getUTCHours());xx.range;const If=It(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/fi,t=>t.getDate()-1);If.range;const Qm=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>t.getUTCDate()-1);Qm.range;const dD=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>Math.floor(t/fi));dD.range;function No(t){return It(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zn)/vx)}const Jm=No(0),fp=No(1),bie=No(2),wie=No(3),Gs=No(4),_ie=No(5),xie=No(6);Jm.range;fp.range;bie.range;wie.range;Gs.range;_ie.range;xie.range;function Ro(t){return It(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/vx)}const Zm=Ro(0),hp=Ro(1),Eie=Ro(2),Sie=Ro(3),Ks=Ro(4),Tie=Ro(5),Aie=Ro(6);Zm.range;hp.range;Eie.range;Sie.range;Ks.range;Tie.range;Aie.range;const Ex=It(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ex.range;const Sx=It(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Sx.range;const hi=It(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hi.range;const di=It(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});di.range;function pD(t,e,n,r,i,a){const o=[[Xa,1,Kr],[Xa,5,5*Kr],[Xa,15,15*Kr],[Xa,30,30*Kr],[a,1,zn],[a,5,5*zn],[a,15,15*zn],[a,30,30*zn],[i,1,Xr],[i,3,3*Xr],[i,6,6*Xr],[i,12,12*Xr],[r,1,fi],[r,2,2*fi],[n,1,vx],[e,1,AP],[e,3,3*AP],[t,1,Dy]];function s(u,f,c){const d=f<u;d&&([u,f]=[f,u]);const p=c&&typeof c.range=="function"?c:l(u,f,c),b=p?p.range(u,+f+1):[];return d?b.reverse():b}function l(u,f,c){const d=Math.abs(f-u)/c,p=ox(([,,y])=>y).right(o,d);if(p===o.length)return t.every(G0(u/Dy,f/Dy,c));if(p===0)return cp.every(Math.max(G0(u,f,c),1));const[b,g]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return b.every(g)}return[s,l]}const[Pie,Iie]=pD(di,Sx,Zm,dD,xx,wx),[Oie,Cie]=pD(hi,Ex,Jm,If,_x,bx);function My(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $y(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function su(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function kie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=lu(i),f=uu(i),c=lu(a),d=uu(a),p=lu(o),b=uu(o),g=lu(s),y=uu(s),_=lu(l),v=uu(l),x={a:G,A:L,b:z,B:X,c:null,d:NP,e:NP,f:eae,g:cae,G:hae,H:Qie,I:Jie,j:Zie,L:mD,m:tae,M:nae,p:ee,q:Q,Q:DP,s:MP,S:rae,u:iae,U:aae,V:oae,w:sae,W:lae,x:null,X:null,y:uae,Y:fae,Z:dae,"%":jP},O={a:oe,A:ye,b:Re,B:ze,c:null,d:RP,e:RP,f:yae,g:Pae,G:Oae,H:pae,I:mae,j:gae,L:yD,m:vae,M:bae,p:Ht,q:Ot,Q:DP,s:MP,S:wae,u:_ae,U:xae,V:Eae,w:Sae,W:Tae,x:null,X:null,y:Aae,Y:Iae,Z:Cae,"%":jP},T={a:k,A:C,b:j,B:N,c:F,d:CP,e:CP,f:Gie,g:OP,G:IP,H:kP,I:kP,j:zie,L:qie,m:Bie,M:Wie,p:P,q:Uie,Q:Xie,s:Yie,S:Hie,u:Mie,U:$ie,V:Lie,w:Die,W:Vie,x:U,X:H,y:OP,Y:IP,Z:Fie,"%":Kie};x.x=I(n,x),x.X=I(r,x),x.c=I(e,x),O.x=I(n,O),O.X=I(r,O),O.c=I(e,O);function I(te,de){return function(pe){var K=[],Ve=-1,we=0,st=te.length,Je,Ct,Zn;for(pe instanceof Date||(pe=new Date(+pe));++Ve<st;)te.charCodeAt(Ve)===37&&(K.push(te.slice(we,Ve)),(Ct=PP[Je=te.charAt(++Ve)])!=null?Je=te.charAt(++Ve):Ct=Je==="e"?" ":"0",(Zn=de[Je])&&(Je=Zn(pe,Ct)),K.push(Je),we=Ve+1);return K.push(te.slice(we,Ve)),K.join("")}}function E(te,de){return function(pe){var K=su(1900,void 0,1),Ve=S(K,te,pe+="",0),we,st;if(Ve!=pe.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(de&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(we=$y(su(K.y,0,1)),st=we.getUTCDay(),we=st>4||st===0?hp.ceil(we):hp(we),we=Qm.offset(we,(K.V-1)*7),K.y=we.getUTCFullYear(),K.m=we.getUTCMonth(),K.d=we.getUTCDate()+(K.w+6)%7):(we=My(su(K.y,0,1)),st=we.getDay(),we=st>4||st===0?fp.ceil(we):fp(we),we=If.offset(we,(K.V-1)*7),K.y=we.getFullYear(),K.m=we.getMonth(),K.d=we.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),st="Z"in K?$y(su(K.y,0,1)).getUTCDay():My(su(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(st+5)%7:K.w+K.U*7-(st+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,$y(K)):My(K)}}function S(te,de,pe,K){for(var Ve=0,we=de.length,st=pe.length,Je,Ct;Ve<we;){if(K>=st)return-1;if(Je=de.charCodeAt(Ve++),Je===37){if(Je=de.charAt(Ve++),Ct=T[Je in PP?de.charAt(Ve++):Je],!Ct||(K=Ct(te,pe,K))<0)return-1}else if(Je!=pe.charCodeAt(K++))return-1}return K}function P(te,de,pe){var K=u.exec(de.slice(pe));return K?(te.p=f.get(K[0].toLowerCase()),pe+K[0].length):-1}function k(te,de,pe){var K=p.exec(de.slice(pe));return K?(te.w=b.get(K[0].toLowerCase()),pe+K[0].length):-1}function C(te,de,pe){var K=c.exec(de.slice(pe));return K?(te.w=d.get(K[0].toLowerCase()),pe+K[0].length):-1}function j(te,de,pe){var K=_.exec(de.slice(pe));return K?(te.m=v.get(K[0].toLowerCase()),pe+K[0].length):-1}function N(te,de,pe){var K=g.exec(de.slice(pe));return K?(te.m=y.get(K[0].toLowerCase()),pe+K[0].length):-1}function F(te,de,pe){return S(te,e,de,pe)}function U(te,de,pe){return S(te,n,de,pe)}function H(te,de,pe){return S(te,r,de,pe)}function G(te){return o[te.getDay()]}function L(te){return a[te.getDay()]}function z(te){return l[te.getMonth()]}function X(te){return s[te.getMonth()]}function ee(te){return i[+(te.getHours()>=12)]}function Q(te){return 1+~~(te.getMonth()/3)}function oe(te){return o[te.getUTCDay()]}function ye(te){return a[te.getUTCDay()]}function Re(te){return l[te.getUTCMonth()]}function ze(te){return s[te.getUTCMonth()]}function Ht(te){return i[+(te.getUTCHours()>=12)]}function Ot(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var de=I(te+="",x);return de.toString=function(){return te},de},parse:function(te){var de=E(te+="",!1);return de.toString=function(){return te},de},utcFormat:function(te){var de=I(te+="",O);return de.toString=function(){return te},de},utcParse:function(te){var de=E(te+="",!0);return de.toString=function(){return te},de}}}var PP={"-":"",_:" ",0:"0"},Mt=/^\s*\d+/,Nie=/^%/,Rie=/[\\^$*+?|[\]().{}]/g;function Ie(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function jie(t){return t.replace(Rie,"\\$&")}function lu(t){return new RegExp("^(?:"+t.map(jie).join("|")+")","i")}function uu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Die(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Mie(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function $ie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Lie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function IP(t,e,n){var r=Mt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function OP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uie(t,e,n){var r=Mt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Bie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function CP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zie(t,e,n){var r=Mt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kP(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Hie(t,e,n){var r=Mt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qie(t,e,n){var r=Mt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Gie(t,e,n){var r=Mt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kie(t,e,n){var r=Nie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Xie(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yie(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function NP(t,e){return Ie(t.getDate(),e,2)}function Qie(t,e){return Ie(t.getHours(),e,2)}function Jie(t,e){return Ie(t.getHours()%12||12,e,2)}function Zie(t,e){return Ie(1+If.count(hi(t),t),e,3)}function mD(t,e){return Ie(t.getMilliseconds(),e,3)}function eae(t,e){return mD(t,e)+"000"}function tae(t,e){return Ie(t.getMonth()+1,e,2)}function nae(t,e){return Ie(t.getMinutes(),e,2)}function rae(t,e){return Ie(t.getSeconds(),e,2)}function iae(t){var e=t.getDay();return e===0?7:e}function aae(t,e){return Ie(Jm.count(hi(t)-1,t),e,2)}function gD(t){var e=t.getDay();return e>=4||e===0?Gs(t):Gs.ceil(t)}function oae(t,e){return t=gD(t),Ie(Gs.count(hi(t),t)+(hi(t).getDay()===4),e,2)}function sae(t){return t.getDay()}function lae(t,e){return Ie(fp.count(hi(t)-1,t),e,2)}function uae(t,e){return Ie(t.getFullYear()%100,e,2)}function cae(t,e){return t=gD(t),Ie(t.getFullYear()%100,e,2)}function fae(t,e){return Ie(t.getFullYear()%1e4,e,4)}function hae(t,e){var n=t.getDay();return t=n>=4||n===0?Gs(t):Gs.ceil(t),Ie(t.getFullYear()%1e4,e,4)}function dae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ie(e/60|0,"0",2)+Ie(e%60,"0",2)}function RP(t,e){return Ie(t.getUTCDate(),e,2)}function pae(t,e){return Ie(t.getUTCHours(),e,2)}function mae(t,e){return Ie(t.getUTCHours()%12||12,e,2)}function gae(t,e){return Ie(1+Qm.count(di(t),t),e,3)}function yD(t,e){return Ie(t.getUTCMilliseconds(),e,3)}function yae(t,e){return yD(t,e)+"000"}function vae(t,e){return Ie(t.getUTCMonth()+1,e,2)}function bae(t,e){return Ie(t.getUTCMinutes(),e,2)}function wae(t,e){return Ie(t.getUTCSeconds(),e,2)}function _ae(t){var e=t.getUTCDay();return e===0?7:e}function xae(t,e){return Ie(Zm.count(di(t)-1,t),e,2)}function vD(t){var e=t.getUTCDay();return e>=4||e===0?Ks(t):Ks.ceil(t)}function Eae(t,e){return t=vD(t),Ie(Ks.count(di(t),t)+(di(t).getUTCDay()===4),e,2)}function Sae(t){return t.getUTCDay()}function Tae(t,e){return Ie(hp.count(di(t)-1,t),e,2)}function Aae(t,e){return Ie(t.getUTCFullYear()%100,e,2)}function Pae(t,e){return t=vD(t),Ie(t.getUTCFullYear()%100,e,2)}function Iae(t,e){return Ie(t.getUTCFullYear()%1e4,e,4)}function Oae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ks(t):Ks.ceil(t),Ie(t.getUTCFullYear()%1e4,e,4)}function Cae(){return"+0000"}function jP(){return"%"}function DP(t){return+t}function MP(t){return Math.floor(+t/1e3)}var Uo,bD,wD;kae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kae(t){return Uo=kie(t),bD=Uo.format,Uo.parse,wD=Uo.utcFormat,Uo.utcParse,Uo}function Nae(t){return new Date(t)}function Rae(t){return t instanceof Date?+t:+new Date(+t)}function Tx(t,e,n,r,i,a,o,s,l,u){var f=fx(),c=f.invert,d=f.domain,p=u(".%L"),b=u(":%S"),g=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),v=u("%b %d"),x=u("%B"),O=u("%Y");function T(I){return(l(I)<I?p:s(I)<I?b:o(I)<I?g:a(I)<I?y:r(I)<I?i(I)<I?_:v:n(I)<I?x:O)(I)}return f.invert=function(I){return new Date(c(I))},f.domain=function(I){return arguments.length?d(Array.from(I,Rae)):d().map(Nae)},f.ticks=function(I){var E=d();return t(E[0],E[E.length-1],I??10)},f.tickFormat=function(I,E){return E==null?T:u(E)},f.nice=function(I){var E=d();return(!I||typeof I.range!="function")&&(I=e(E[0],E[E.length-1],I??10)),I?d(oD(E,I)):f},f.copy=function(){return Pf(f,Tx(t,e,n,r,i,a,o,s,l,u))},f}function jae(){return Jn.apply(Tx(Oie,Cie,hi,Ex,Jm,If,_x,bx,Xa,bD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dae(){return Jn.apply(Tx(Pie,Iie,di,Sx,Zm,Qm,xx,wx,Xa,wD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eg(){var t=0,e=1,n,r,i,a,o=on,s=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(a(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(o=c,u):o};function f(c){return function(d){var p,b;return arguments.length?([p,b]=d,o=c(p,b),u):[o(0),o(1)]}}return u.range=f(Cl),u.rangeRound=f(cx),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return a=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function Pa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _D(){var t=Aa(eg()(on));return t.copy=function(){return Pa(t,_D())},wi.apply(t,arguments)}function xD(){var t=px(eg()).domain([1,10]);return t.copy=function(){return Pa(t,xD()).base(t.base())},wi.apply(t,arguments)}function ED(){var t=mx(eg());return t.copy=function(){return Pa(t,ED()).constant(t.constant())},wi.apply(t,arguments)}function Ax(){var t=gx(eg());return t.copy=function(){return Pa(t,Ax()).exponent(t.exponent())},wi.apply(t,arguments)}function Mae(){return Ax.apply(null,arguments).exponent(.5)}function SD(){var t=[],e=on;function n(r){if(r!=null&&!isNaN(r=+r))return e((Tf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(aa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>xre(t,a/r))},n.copy=function(){return SD(e).domain(t)},wi.apply(n,arguments)}function tg(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=on,f,c=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+f(g))-a)*(r*g<r*a?s:l),u(c?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=f(t=+t),a=f(e=+e),o=f(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(c=!!g,p):c},p.interpolator=function(g){return arguments.length?(u=g,p):u};function b(g){return function(y){var _,v,x;return arguments.length?([_,v,x]=y,u=Kre(g,[_,v,x]),p):[u(0),u(.5),u(1)]}}return p.range=b(Cl),p.rangeRound=b(cx),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return f=g,i=g(t),a=g(e),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function TD(){var t=Aa(tg()(on));return t.copy=function(){return Pa(t,TD())},wi.apply(t,arguments)}function AD(){var t=px(tg()).domain([.1,1,10]);return t.copy=function(){return Pa(t,AD()).base(t.base())},wi.apply(t,arguments)}function PD(){var t=mx(tg());return t.copy=function(){return Pa(t,PD()).constant(t.constant())},wi.apply(t,arguments)}function Px(){var t=gx(tg());return t.copy=function(){return Pa(t,Px()).exponent(t.exponent())},wi.apply(t,arguments)}function $ae(){return Px.apply(null,arguments).exponent(.5)}const $P=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pc,scaleDiverging:TD,scaleDivergingLog:AD,scaleDivergingPow:Px,scaleDivergingSqrt:$ae,scaleDivergingSymlog:PD,scaleIdentity:aD,scaleImplicit:K0,scaleLinear:up,scaleLog:sD,scaleOrdinal:sx,scalePoint:Uu,scalePow:yx,scaleQuantile:cD,scaleQuantize:fD,scaleRadial:uD,scaleSequential:_D,scaleSequentialLog:xD,scaleSequentialPow:Ax,scaleSequentialQuantile:SD,scaleSequentialSqrt:Mae,scaleSequentialSymlog:ED,scaleSqrt:yie,scaleSymlog:lD,scaleThreshold:hD,scaleTime:jae,scaleUtc:Dae,tickFormat:iD},Symbol.toStringTag,{value:"Module"}));var Lae=_l;function Vae(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Lae(o):n(o,s)))var s=o,l=a}return l}var ID=Vae;function Fae(t,e){return t>e}var Uae=Fae,Bae=ID,zae=Uae,Wae=Il;function Hae(t){return t&&t.length?Bae(t,Wae,zae):void 0}var qae=Hae;const ng=Me(qae);function Gae(t,e){return t<e}var Kae=Gae,Xae=ID,Yae=Kae,Qae=Il;function Jae(t){return t&&t.length?Xae(t,Qae,Yae):void 0}var Zae=Jae;const rg=Me(Zae);var eoe=U_,toe=Ta,noe=Mj,roe=bn;function ioe(t,e){var n=roe(t)?eoe:noe;return n(t,toe(e))}var aoe=ioe,ooe=jj,soe=aoe;function loe(t,e){return ooe(soe(t,e),1)}var uoe=loe;const coe=Me(uoe);var foe=nx;function hoe(t,e){return foe(t,e)}var doe=hoe;const ig=Me(doe);var kl=1e9,poe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ox,Qe=!0,Yn="[DecimalError] ",no=Yn+"Invalid argument: ",Ix=Yn+"Exponent out of range: ",Nl=Math.floor,Ba=Math.pow,moe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tn,Rt=1e7,Ke=7,OD=9007199254740991,dp=Nl(OD/Ke),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ke;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return ni(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Le(ni(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return bt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Tn))throw Error(Yn+"NaN");if(n.s<1)throw Error(Yn+(n.s?"NaN":"-Infinity"));return n.eq(Tn)?new r(0):(Qe=!1,e=ni(Nc(n,a),Nc(t,a),a),Qe=!0,Le(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ND(e,t):CD(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Yn+"NaN");return n.s?(Qe=!1,e=ni(n,t,0,1).times(t),Qe=!0,n.minus(e)):Le(new r(n),i)};ae.naturalExponential=ae.exp=function(){return kD(this)};ae.naturalLogarithm=ae.ln=function(){return Nc(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CD(e,t):ND(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(no+t);if(e=bt(i)+1,r=i.d.length-1,n=r*Ke+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Yn+"NaN")}for(t=bt(s),Qe=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ar(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Nl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(ni(s,a,o+2)).times(.5),Ar(a.d).slice(0,o)===(e=Ar(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Le(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Qe=!0,Le(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,a,o,s,l,u,f=this,c=f.constructor,d=f.d,p=(t=new c(t)).d;if(!f.s||!t.s)return new c(0);for(t.s*=f.s,n=f.e+t.e,l=d.length,u=p.length,l<u&&(a=d,d=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*d[i-r-1]+e,a[i--]=s%Rt|0,e=s/Rt|0;a[i]=(a[i]+e)%Rt|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Qe?Le(t,c.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Lr(t,0,kl),e===void 0?e=r.rounding:Lr(e,0,8),Le(n,t+bt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yo(r,!0):(Lr(t,0,kl),e===void 0?e=i.rounding:Lr(e,0,8),r=Le(new i(r),t+1,e),n=yo(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?yo(i):(Lr(t,0,kl),e===void 0?e=a.rounding:Lr(e,0,8),r=Le(new a(i),t+bt(i)+1,e),n=yo(r.abs(),!1,t+bt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Le(new e(t),bt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Tn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Yn+"Infinity");return s}if(s.eq(Tn))return s;if(r=l.precision,t.eq(Tn))return Le(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=f<0?-f:f)<=OD){for(i=new l(Tn),e=Math.ceil(r/Ke+4),Qe=!1;n%2&&(i=i.times(s),VP(i.d,e)),n=Nl(n/2),n!==0;)s=s.times(s),VP(s.d,e);return Qe=!0,t.s<0?new l(Tn).div(i):Le(i,r)}}else if(a<0)throw Error(Yn+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Qe=!1,i=t.times(Nc(s,r+u)),Qe=!0,i=kD(i),i.s=a,i};ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=bt(i),r=yo(i,n<=a.toExpNeg||n>=a.toExpPos)):(Lr(t,1,kl),e===void 0?e=a.rounding:Lr(e,0,8),i=Le(new a(i),t,e),n=bt(i),r=yo(i,t<=n||n<=a.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Lr(t,1,kl),e===void 0?e=r.rounding:Lr(e,0,8)),Le(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bt(t),n=t.constructor;return yo(t,e<=n.toExpNeg||e>=n.toExpPos)};function CD(t,e){var n,r,i,a,o,s,l,u,f=t.constructor,c=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Qe?Le(e,c):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(c/Ke),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Rt|0,l[a]%=Rt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Qe?Le(e,c):e}function Lr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(no+t)}function Ar(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Ke-r.length,n&&(a+=Ni(n)),a+=r;o=t[e],r=o+"",n=Ke-r.length,n&&(a+=Ni(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ni=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Rt|0,o=a/Rt|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Rt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,f,c,d,p,b,g,y,_,v,x,O,T,I,E,S,P=r.constructor,k=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Yn+"Division by zero");for(l=r.e-i.e,E=j.length,T=C.length,p=new P(k),b=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,a==null?v=a=P.precision:o?v=a+(bt(r)-bt(i))+1:v=a,v<0)return new P(0);if(v=v/Ke+2|0,u=0,E==1)for(f=0,j=j[0],v++;(u<T||f)&&v--;u++)x=f*Rt+(C[u]||0),b[u]=x/j|0,f=x%j|0;else{for(f=Rt/(j[0]+1)|0,f>1&&(j=t(j,f),C=t(C,f),E=j.length,T=C.length),O=E,g=C.slice(0,E),y=g.length;y<E;)g[y++]=0;S=j.slice(),S.unshift(0),I=j[0],j[1]>=Rt/2&&++I;do f=0,s=e(j,g,E,y),s<0?(_=g[0],E!=y&&(_=_*Rt+(g[1]||0)),f=_/I|0,f>1?(f>=Rt&&(f=Rt-1),c=t(j,f),d=c.length,y=g.length,s=e(c,g,d,y),s==1&&(f--,n(c,E<d?S:j,d))):(f==0&&(s=f=1),c=j.slice()),d=c.length,d<y&&c.unshift(0),n(g,c,y),s==-1&&(y=g.length,s=e(j,g,E,y),s<1&&(f++,n(g,E<y?S:j,y))),y=g.length):s===0&&(f++,g=[0]),b[u++]=f,s&&g[0]?g[y++]=C[O]||0:(g=[C[O]],y=1);while((O++<T||g[0]!==void 0)&&v--)}return b[0]||b.shift(),p.e=l,Le(p,o?a+bt(p)+1:a)}}();function kD(t,e){var n,r,i,a,o,s,l=0,u=0,f=t.constructor,c=f.precision;if(bt(t)>16)throw Error(Ix+bt(t));if(!t.s)return new f(Tn);for(Qe=!1,s=c,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Ba(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(Tn),f.precision=s;;){if(i=Le(i.times(t),s),n=n.times(++l),o=a.plus(ni(i,n,s)),Ar(o.d).slice(0,s)===Ar(a.d).slice(0,s)){for(;u--;)a=Le(a.times(a),s);return f.precision=c,e==null?(Qe=!0,Le(a,c)):a}a=o}}function bt(t){for(var e=t.e*Ke,n=t.d[0];n>=10;n/=10)e++;return e}function Ly(t,e,n){if(e>t.LN10.sd())throw Qe=!0,n&&(t.precision=n),Error(Yn+"LN10 precision limit exceeded");return Le(new t(t.LN10),e)}function Ni(t){for(var e="";t--;)e+="0";return e}function Nc(t,e){var n,r,i,a,o,s,l,u,f,c=1,d=10,p=t,b=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Yn+(p.s?"NaN":"-Infinity"));if(p.eq(Tn))return new g(0);if(e==null?(Qe=!1,u=y):u=e,p.eq(10))return e==null&&(Qe=!0),Ly(g,u);if(u+=d,g.precision=u,n=Ar(b),r=n.charAt(0),a=bt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ar(p.d),r=n.charAt(0),c++;a=bt(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=Ly(g,u+2,y).times(a+""),p=Nc(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=y,e==null?(Qe=!0,Le(p,y)):p;for(s=o=p=ni(p.minus(Tn),p.plus(Tn),u),f=Le(p.times(p),u),i=3;;){if(o=Le(o.times(f),u),l=s.plus(ni(o,new g(i),u)),Ar(l.d).slice(0,u)===Ar(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Ly(g,u+2,y).times(a+""))),s=ni(s,new g(c),u),g.precision=y,e==null?(Qe=!0,Le(s,y)):s;s=l,i+=2}}function LP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Nl(n/Ke),t.d=[],r=(n+1)%Ke,n<0&&(r+=Ke),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ke;r<i;)t.d.push(+e.slice(r,r+=Ke));e=e.slice(r),r=Ke-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qe&&(t.e>dp||t.e<-dp))throw Error(Ix+n)}else t.s=0,t.e=0,t.d=[0];return t}function Le(t,e,n){var r,i,a,o,s,l,u,f,c=t.d;for(o=1,a=c[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Ke,i=e,u=c[f=0];else{if(f=Math.ceil((r+1)/Ke),a=c.length,f>=a)return t;for(u=a=c[f],o=1;a>=10;a/=10)o++;r%=Ke,i=r-Ke+o}if(n!==void 0&&(a=Ba(10,o-i-1),s=u/a%10|0,l=e<0||c[f+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ba(10,o-i):0:c[f-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(a=bt(t),c.length=1,e=e-a-1,c[0]=Ba(10,(Ke-e%Ke)%Ke),t.e=Nl(-e/Ke)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=f,a=1,f--):(c.length=f+1,a=Ba(10,Ke-r),c[f]=i>0?(u/Ba(10,o-i)%Ba(10,i)|0)*a:0),l)for(;;)if(f==0){(c[0]+=a)==Rt&&(c[0]=1,++t.e);break}else{if(c[f]+=a,c[f]!=Rt)break;c[f--]=0,a=1}for(r=c.length;c[--r]===0;)c.pop();if(Qe&&(t.e>dp||t.e<-dp))throw Error(Ix+bt(t));return t}function ND(t,e){var n,r,i,a,o,s,l,u,f,c,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Qe?Le(e,p):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,s=c.length):(n=c,r=u,s=l.length),i=Math.max(Math.ceil(p/Ke),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=c.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}o=0}for(f&&(n=l,l=c,c=n,e.s=-e.s),s=l.length,i=c.length-s;i>0;--i)l[s++]=0;for(i=c.length;i>o;){if(l[--i]<c[i]){for(a=i;a&&l[--a]===0;)l[a]=Rt-1;--l[a],l[i]+=Rt}l[i]-=c[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Qe?Le(e,p):e):new d(0)}function yo(t,e,n){var r,i=bt(t),a=Ar(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ni(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ni(-i-1)+a,n&&(r=n-o)>0&&(a+=Ni(r))):i>=o?(a+=Ni(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ni(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ni(r))),t.s<0?"-"+a:a}function VP(t,e){if(t.length>e)return t.length=e,!0}function RD(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(no+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return LP(o,a.toString())}else if(typeof a!="string")throw Error(no+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,moe.test(a))LP(o,a);else throw Error(no+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=RD,i.config=i.set=goe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function goe(t){if(!t||typeof t!="object")throw Error(Yn+"Object expected");var e,n,r,i=["precision",1,kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Nl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(no+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(no+n+": "+r);return this}var Ox=RD(poe);Tn=new Ox(1);const je=Ox;function yoe(t){return _oe(t)||woe(t)||boe(t)||voe()}function voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(t,e){if(t){if(typeof t=="string")return J0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J0(t,e)}}function woe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _oe(t){if(Array.isArray(t))return J0(t)}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xoe=function(e){return e},jD={},DD=function(e){return e===jD},FP=function(e){return function n(){return arguments.length===0||arguments.length===1&&DD(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Eoe=function t(e,n){return e===1?n:FP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==jD}).length;return o>=e?n.apply(void 0,i):t(e-o,FP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(c){return DD(c)?l.shift():c});return n.apply(void 0,yoe(f).concat(l))}))})},ag=function(e){return Eoe(e.length,e)},Z0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Soe=ag(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Toe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return xoe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},eb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},MD=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Aoe(t){var e;return t===0?e=1:e=Math.floor(new je(t).abs().log(10).toNumber())+1,e}function Poe(t,e,n){for(var r=new je(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Ioe=ag(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ooe=ag(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Coe=ag(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const og={rangeStep:Poe,getDigitCount:Aoe,interpolateNumber:Ioe,uninterpolateNumber:Ooe,uninterpolateTruncation:Coe};function tb(t){return Roe(t)||Noe(t)||$D(t)||koe()}function koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Roe(t){if(Array.isArray(t))return nb(t)}function Rc(t,e){return Moe(t)||Doe(t,e)||$D(t,e)||joe()}function joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $D(t,e){if(t){if(typeof t=="string")return nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(t,e)}}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Doe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Moe(t){if(Array.isArray(t))return t}function LD(t){var e=Rc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function VD(t,e,n){if(t.lte(0))return new je(0);var r=og.getDigitCount(t.toNumber()),i=new je(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new je(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new je(Math.ceil(l))}function $oe(t,e,n){var r=1,i=new je(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new je(10).pow(og.getDigitCount(t)-1),i=new je(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new je(Math.floor(t)))}else t===0?i=new je(Math.floor((e-1)/2)):n||(i=new je(Math.floor(t)));var o=Math.floor((e-1)/2),s=Toe(Soe(function(l){return i.add(new je(l-o).mul(r)).toNumber()}),Z0);return s(0,e)}function FD(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var a=VD(new je(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new je(0):(o=new je(t).add(e).div(2),o=o.sub(new je(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new je(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?FD(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new je(s).mul(a)),tickMax:o.add(new je(l).mul(a))})}function Loe(t){var e=Rc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=LD([n,r]),l=Rc(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(tb(Z0(0,i-1).map(function(){return 1/0}))):[].concat(tb(Z0(0,i-1).map(function(){return-1/0})),[f]);return n>r?eb(c):c}if(u===f)return $oe(u,i,a);var d=FD(u,f,o,a),p=d.step,b=d.tickMin,g=d.tickMax,y=og.rangeStep(b,g.add(new je(.1).mul(p)),p);return n>r?eb(y):y}function Voe(t,e){var n=Rc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=LD([r,i]),s=Rc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),c=VD(new je(u).sub(l).div(f-1),a,0),d=[].concat(tb(og.rangeStep(new je(l),new je(u).sub(new je(.99).mul(c)),c)),[u]);return r>i?eb(d):d}var Foe=MD(Loe),Uoe=MD(Voe),Boe="Invariant failed";function vo(t,e){throw new Error(Boe)}var zoe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}function Woe(t,e){return Koe(t)||Goe(t,e)||qoe(t,e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(t,e){if(t){if(typeof t=="string")return UP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(t,e)}}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Goe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Koe(t){if(Array.isArray(t))return t}function Xoe(t,e){if(t==null)return{};var n=Yoe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Joe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zD(r.key),r)}}function Zoe(t,e,n){return e&&Joe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ese(t,e,n){return e=mp(e),tse(t,UD()?Reflect.construct(e,n||[],mp(t).constructor):e.apply(t,n))}function tse(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nse(t)}function nse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mp(t)}function rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rb(t,e)}function rb(t,e){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rb(t,e)}function BD(t,e,n){return e=zD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zD(t){var e=ise(t,"string");return Xs(e)=="symbol"?e:e+""}function ise(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Of=function(t){function e(){return Qoe(this,e),ese(this,e,arguments)}return rse(e,t),Zoe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,c=r.yAxis,d=Xoe(r,zoe),p=Se(d,!1);this.props.direction==="x"&&f.type!=="number"&&vo();var b=l.map(function(g){var y=u(g,s),_=y.x,v=y.y,x=y.value,O=y.errorVal;if(!O)return null;var T=[],I,E;if(Array.isArray(O)){var S=Woe(O,2);I=S[0],E=S[1]}else I=E=O;if(a==="vertical"){var P=f.scale,k=v+i,C=k+o,j=k-o,N=P(x-I),F=P(x+E);T.push({x1:F,y1:C,x2:F,y2:j}),T.push({x1:N,y1:k,x2:F,y2:k}),T.push({x1:N,y1:C,x2:N,y2:j})}else if(a==="horizontal"){var U=c.scale,H=_+i,G=H-o,L=H+o,z=U(x-I),X=U(x+E);T.push({x1:G,y1:X,x2:L,y2:X}),T.push({x1:H,y1:z,x2:H,y2:X}),T.push({x1:G,y1:z,x2:L,y2:z})}return D.createElement(ct,pp({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),T.map(function(ee){return D.createElement("line",pp({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return D.createElement(ct,{className:"recharts-errorBars"},b)}}])}(D.Component);BD(Of,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BD(Of,"displayName","ErrorBar");function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ase(t,e,n){return e=ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=sse(t,"string");return jc(e)=="symbol"?e:e+""}function sse(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WD=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Sn(n,eo);if(!o)return null;var s=eo.defaultProps,l=s!==void 0?Ma(Ma({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(f,c){var d=c.item,p=c.props,b=p.sectors||p.data||[];return f.concat(b.map(function(g){return{type:o.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(f){var c=f.item,d=c.type.defaultProps,p=d!==void 0?Ma(Ma({},d),c.props):{},b=p.dataKey,g=p.name,y=p.legendType,_=p.hide;return{inactive:_,dataKey:b,type:l.iconType||y||"square",color:Cx(c),value:g||b,payload:p}}),Ma(Ma(Ma({},l),eo.getWithHeight(o,i)),{},{payload:u,item:o})};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function zP(t){return fse(t)||cse(t)||use(t)||lse()}function lse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function use(t,e){if(t){if(typeof t=="string")return ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ib(t,e)}}function cse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fse(t){if(Array.isArray(t))return ib(t)}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Es(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Es(t,e,n){return e=hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=dse(t,"string");return Dc(e)=="symbol"?e:e+""}function dse(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cn(t,e,n){return ve(t)||ve(e)?n:Tt(e)?qn(t,e,n):ge(e)?e(t):n}function Bu(t,e,n,r){var i=coe(t,function(s){return Cn(s,e)});if(n==="number"){var a=i.filter(function(s){return Z(s)||parseFloat(s)});return a.length?[rg(a),ng(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!ve(s)}):i;return o.map(function(s){return Tt(s)||s instanceof Date?s:""})}var pse=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,c=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(fr(c-f)!==fr(d-c)){var b=[];if(fr(d-c)===fr(l[1]-l[0])){p=d;var g=c+l[1]-l[0];b[0]=Math.min(g,(g+f)/2),b[1]=Math.max(g,(g+f)/2)}else{p=f;var y=d+l[1]-l[0];b[0]=Math.min(c,(y+c)/2),b[1]=Math.max(c,(y+c)/2)}var _=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){o=i[u].index;break}}else{var v=Math.min(f,d),x=Math.max(f,d);if(e>(v+c)/2&&e<=(x+c)/2){o=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},Cx=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},mse=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,c=Object.keys(f),d=0,p=c.length;d<p;d++){var b=f[c[d]],g=b.items,y=b.cateAxisId,_=g.filter(function(E){return ei(E.type).indexOf("Bar")>=0});if(_&&_.length){var v=_[0].type.defaultProps,x=v!==void 0?ot(ot({},v),_[0].props):_[0].props,O=x.barSize,T=x[y];o[T]||(o[T]=[]);var I=ve(O)?n:O;o[T].push({item:_[0],stackList:_.slice(1),barSize:ve(I)?void 0:go(I,r,0)})}}return o},gse=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=go(n,i,0,!0),f,c=[];if(o[0].barSize===+o[0].barSize){var d=!1,p=i/l,b=o.reduce(function(O,T){return O+T.barSize||0},0);b+=(l-1)*u,b>=i&&(b-=(l-1)*u,u=0),b>=i&&p>0&&(d=!0,p*=.9,b=l*p);var g=(i-b)/2>>0,y={offset:g-u,size:0};f=o.reduce(function(O,T){var I={item:T.item,position:{offset:y.offset+y.size+u,size:d?p:T.barSize}},E=[].concat(zP(O),[I]);return y=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:y})}),E},c)}else{var _=go(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var v=(i-2*_-(l-1)*u)/l;v>1&&(v>>=0);var x=s===+s?Math.min(v,s):v;f=o.reduce(function(O,T,I){var E=[].concat(zP(O),[{item:T.item,position:{offset:_+(v+u)*I+(v-x)/2,size:x}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},c)}return f},yse=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=WD({children:a,legendWidth:l});if(u){var f=i||{},c=f.width,d=f.height,p=u.align,b=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&b==="middle")&&p!=="center"&&Z(e[p]))return ot(ot({},e),{},Es({},p,e[p]+(c||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&b!=="middle"&&Z(e[b]))return ot(ot({},e),{},Es({},b,e[b]+(d||0)))}return e},vse=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},HD=function(e,n,r,i,a){var o=n.props.children,s=Gn(o,Of).filter(function(u){return vse(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var c=Cn(f,r);if(ve(c))return u;var d=Array.isArray(c)?[rg(c),ng(c)]:[c,c],p=l.reduce(function(b,g){var y=Cn(f,g,0),_=d[0]-Math.abs(Array.isArray(y)?y[0]:y),v=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,b[0]),Math.max(v,b[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},bse=function(e,n,r,i,a){var o=n.map(function(s){return HD(e,s,r,a,i)}).filter(function(s){return!ve(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},qD=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&HD(e,l,u,i)||Bu(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},GD=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},KD=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Yr=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?fr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(c){var d=a?a.indexOf(c):c;return{coordinate:i(d)+u,value:c,offset:u}});return f.filter(function(c){return!xf(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,d){return{coordinate:i(c)+u,value:c,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,d){return{coordinate:i(c)+u,value:a?a[c]:c,index:d,offset:u}})},Vy=new WeakMap,xh=function(e,n){if(typeof n!="function")return e;Vy.has(e)||Vy.set(e,new WeakMap);var r=Vy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},wse=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Pc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:up(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Uu(),realScaleType:"point"}:a==="category"?{scale:Pc(),realScaleType:"band"}:{scale:up(),realScaleType:"linear"};if(mo(i)){var l="scale".concat(zm(i));return{scale:($P[l]||Uu)(),realScaleType:$P[l]?l:"point"}}return ge(i)?{scale:i}:{scale:Uu(),realScaleType:"point"}},HP=1e-4,_se=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-HP,o=Math.max(i[0],i[1])+HP,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},xse=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Ese=function(e,n){if(!n||n.length!==2||!Z(n[0])||!Z(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(a[0]=r),(!Z(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Sse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=xf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},Tse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=xf(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Ase={sign:Sse,expand:UG,none:Us,silhouette:BG,wiggle:zG,positive:Tse},Pse=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Ase[r],o=FG().keys(i).value(function(s,l){return+Cn(s,l,0)}).order(I0).offset(a);return o(e)},Ise=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(c,d){var p,b=(p=d.type)!==null&&p!==void 0&&p.defaultProps?ot(ot({},d.type.defaultProps),d.props):d.props,g=b.stackId,y=b.hide;if(y)return c;var _=b[r],v=c[_]||{hasStack:!1,stackGroups:{}};if(Tt(g)){var x=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),v.hasStack=!0,v.stackGroups[g]=x}else v.stackGroups[Ef("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return ot(ot({},c),{},Es({},_,v))},l),f={};return Object.keys(u).reduce(function(c,d){var p=u[d];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var _=p.stackGroups[y];return ot(ot({},g),{},Es({},y,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:Pse(e,_.items,a)}))},b)}return ot(ot({},c),{},Es({},d,p))},f)},Ose=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Foe(u,a,s);return e.domain([rg(f),ng(f)]),{niceTicks:f}}if(a&&i==="number"){var c=e.domain(),d=Uoe(c,a,s);return{niceTicks:d}}return null};function qP(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=Fd(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Cn(i,ve(o)?e.dataKey:o);return ve(l)?null:e.scale(l)}var GP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Cn(o,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-a/2+i},Cse=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},kse=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Tt(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Nse=function(e){return e.reduce(function(n,r){return[rg(r.concat([n[0]]).filter(Z)),ng(r.concat([n[1]]).filter(Z))]},[1/0,-1/0])},XD=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,f){var c=Nse(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},KP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ab=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Z(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(KP.test(e[0])){var a=+KP.exec(e[0])[1];i[0]=n[0]-a}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Z(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(XP.test(e[1])){var o=+XP.exec(e[1])[1];i[1]=n[1]+o}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},gp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=ix(n,function(c){return c.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},YP=function(e,n,r){return!e||!e.length||ig(e,qn(r,"type.defaultProps.domain"))?n:e},YD=function(e,n){var r=e.type.defaultProps?ot(ot({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return ot(ot({},Se(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Cx(e),value:Cn(n,i),type:l,payload:n,chartType:u,hide:f})};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rse(t,e,n){return e=jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Dse(t,"string");return Mc(e)=="symbol"?e:e+""}function Dse(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yp=Math.PI/180,Mse=function(e){return e*180/Math.PI},Ut=function(e,n,r,i){return{x:e+Math.cos(-yp*i)*r,y:n+Math.sin(-yp*i)*r}},$se=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Lse=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=$se({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Mse(u),angleInRadian:u}},Vse=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Fse=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},ZP=function(e,n){var r=e.x,i=e.y,a=Lse({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=Vse(n),c=f.startAngle,d=f.endAngle,p=s,b;if(c<=d){for(;p>d;)p-=360;for(;p<c;)p+=360;b=p>=c&&p<=d}else{for(;p>c;)p-=360;for(;p<d;)p+=360;b=p>=d&&p<=c}return b?JP(JP({},n),{},{radius:o,angle:Fse(p,n)}):null};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var Use=["offset"];function Bse(t){return qse(t)||Hse(t)||Wse(t)||zse()}function zse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wse(t,e){if(t){if(typeof t=="string")return ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ob(t,e)}}function Hse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qse(t){if(Array.isArray(t))return ob(t)}function ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gse(t,e){if(t==null)return{};var n=Kse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Qse(t,"string");return $c(e)=="symbol"?e:e+""}function Qse(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(this,arguments)}var Jse=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return ge(r)?r(i):i},Zse=function(e,n){var r=fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},ele=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,f=l.cy,c=l.innerRadius,d=l.outerRadius,p=l.startAngle,b=l.endAngle,g=l.clockWise,y=(c+d)/2,_=Zse(p,b),v=_>=0?1:-1,x,O;i==="insideStart"?(x=p+v*o,O=g):i==="insideEnd"?(x=b-v*o,O=!g):i==="end"&&(x=b+v*o,O=g),O=_<=0?O:!O;var T=Ut(u,f,y,x),I=Ut(u,f,y,x+(O?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),S=ve(e.id)?Ef("recharts-radial-line-"):e.id;return D.createElement("text",Lc({},r,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:S,d:E})),D.createElement("textPath",{xlinkHref:"#".concat(S)},n))},tle=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,c=a.endAngle,d=(f+c)/2;if(i==="outside"){var p=Ut(o,s,u+r,d),b=p.x,g=p.y;return{x:b,y:g,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,_=Ut(o,s,y,d),v=_.x,x=_.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},nle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,f=o.height,c=f>=0?1:-1,d=c*i,p=c>0?"end":"start",b=c>0?"start":"end",g=u>=0?1:-1,y=g*i,_=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var x={x:s+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:p};return xt(xt({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var O={x:s+u/2,y:l+f+d,textAnchor:"middle",verticalAnchor:b};return xt(xt({},O),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(a==="left"){var T={x:s-y,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return xt(xt({},T),r?{width:Math.max(T.x-r.x,0),height:f}:{})}if(a==="right"){var I={x:s+u+y,y:l+f/2,textAnchor:v,verticalAnchor:"middle"};return xt(xt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:f}:{})}var E=r?{width:u,height:f}:{};return a==="insideLeft"?xt({x:s+y,y:l+f/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideRight"?xt({x:s+u-y,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideTop"?xt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:b},E):a==="insideBottom"?xt({x:s+u/2,y:l+f-d,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?xt({x:s+y,y:l+d,textAnchor:v,verticalAnchor:b},E):a==="insideTopRight"?xt({x:s+u-y,y:l+d,textAnchor:_,verticalAnchor:b},E):a==="insideBottomLeft"?xt({x:s+y,y:l+f-d,textAnchor:v,verticalAnchor:p},E):a==="insideBottomRight"?xt({x:s+u-y,y:l+f-d,textAnchor:_,verticalAnchor:p},E):xl(a)&&(Z(a.x)||Ga(a.x))&&(Z(a.y)||Ga(a.y))?xt({x:s+go(a.x,u),y:l+go(a.y,f),textAnchor:"end",verticalAnchor:"end"},E):xt({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},rle=function(e){return"cx"in e&&Z(e.cx)};function Zt(t){var e=t.offset,n=e===void 0?5:e,r=Gse(t,Use),i=xt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,c=f===void 0?"":f,d=i.textBreakAll;if(!a||ve(s)&&ve(l)&&!$.isValidElement(u)&&!ge(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var p;if(ge(u)){if(p=$.createElement(u,i),$.isValidElement(p))return p}else p=Jse(i);var b=rle(a),g=Se(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ele(i,p,g);var y=b?tle(i):nle(i);return D.createElement(np,Lc({className:Pe("recharts-label",c)},g,y,{breakAll:d}),p)}Zt.displayName="Label";var QD=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,c=e.x,d=e.y,p=e.top,b=e.left,g=e.width,y=e.height,_=e.clockWise,v=e.labelViewBox;if(v)return v;if(Z(g)&&Z(y)){if(Z(c)&&Z(d))return{x:c,y:d,width:g,height:y};if(Z(p)&&Z(b))return{x:p,y:b,width:g,height:y}}return Z(c)&&Z(d)?{x:c,y:d,width:0,height:0}:Z(n)&&Z(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},ile=function(e,n){return e?e===!0?D.createElement(Zt,{key:"label-implicit",viewBox:n}):Tt(e)?D.createElement(Zt,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===Zt?$.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(Zt,{key:"label-implicit",content:e,viewBox:n}):ge(e)?D.createElement(Zt,{key:"label-implicit",content:e,viewBox:n}):xl(e)?D.createElement(Zt,Lc({viewBox:n},e,{key:"label-implicit"})):null:null},ale=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=QD(e),o=Gn(i,Zt).map(function(l,u){return $.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=ile(e.label,n||a);return[s].concat(Bse(o))};Zt.parseViewBox=QD;Zt.renderCallByParent=ale;function ole(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var sle=ole;const lle=Me(sle);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var ule=["valueAccessor"],cle=["data","dataKey","clockWise","id","textBreakAll"];function fle(t){return mle(t)||ple(t)||dle(t)||hle()}function hle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dle(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function ple(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mle(t){if(Array.isArray(t))return sb(t)}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(this,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t,e,n){return e=yle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=vle(t,"string");return Vc(e)=="symbol"?e:e+""}function vle(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rI(t,e){if(t==null)return{};var n=ble(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ble(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wle=function(e){return Array.isArray(e.value)?lle(e.value):e.value};function oa(t){var e=t.valueAccessor,n=e===void 0?wle:e,r=rI(t,ule),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=rI(r,cle);return!i||!i.length?null:D.createElement(ct,{className:"recharts-label-list"},i.map(function(f,c){var d=ve(a)?n(f,c):Cn(f&&f.payload,a),p=ve(s)?{}:{id:"".concat(s,"-").concat(c)};return D.createElement(Zt,vp({},Se(f,!0),u,p,{parentViewBox:f.parentViewBox,value:d,textBreakAll:l,viewBox:Zt.parseViewBox(ve(o)?f:nI(nI({},f),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}oa.displayName="LabelList";function _le(t,e){return t?t===!0?D.createElement(oa,{key:"labelList-implicit",data:e}):D.isValidElement(t)||ge(t)?D.createElement(oa,{key:"labelList-implicit",data:e,content:t}):xl(t)?D.createElement(oa,vp({data:e},t,{key:"labelList-implicit"})):null:null}function xle(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Gn(r,oa).map(function(o,s){return $.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=_le(t.label,e);return[a].concat(fle(i))}oa.renderCallByParent=xle;function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){Ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e,n){return e=Sle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sle(t){var e=Tle(t,"string");return Fc(e)=="symbol"?e:e+""}function Tle(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ale=function(e,n){var r=fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Eh=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,c=Math.asin(l/f)/yp,d=u?a:a+o*c,p=Ut(n,r,f,d),b=Ut(n,r,i,d),g=u?a-o*c:a,y=Ut(n,r,f*Math.cos(c*yp),g);return{center:p,circleTangency:b,lineTangency:y,theta:c}},JD=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Ale(o,s),u=o+l,f=Ut(n,r,a,o),c=Ut(n,r,a,u),d="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var p=Ut(n,r,i,o),b=Ut(n,r,i,u);d+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Ple=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,c=fr(f-u),d=Eh({cx:n,cy:r,radius:a,angle:u,sign:c,cornerRadius:o,cornerIsExternal:l}),p=d.circleTangency,b=d.lineTangency,g=d.theta,y=Eh({cx:n,cy:r,radius:a,angle:f,sign:-c,cornerRadius:o,cornerIsExternal:l}),_=y.circleTangency,v=y.lineTangency,x=y.theta,O=l?Math.abs(u-f):Math.abs(u-f)-g-x;if(O<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):JD({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var T="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(c<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var I=Eh({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=I.circleTangency,S=I.lineTangency,P=I.theta,k=Eh({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=k.circleTangency,j=k.lineTangency,N=k.theta,F=l?Math.abs(u-f):Math.abs(u-f)-P-N;if(F<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(c>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Ile={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZD=function(e){var n=aI(aI({},Ile),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,c=n.endAngle,d=n.className;if(o<a||f===c)return null;var p=Pe("recharts-sector",d),b=o-a,g=go(s,b,0,!0),y;return g>0&&Math.abs(f-c)<360?y=Ple({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):y=JD({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:c}),D.createElement("path",lb({},Se(n,!0),{className:p,d:y,role:"img"}))};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(this,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return e=Cle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=kle(t,"string");return Uc(e)=="symbol"?e:e+""}function kle(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lI={curveBasisClosed:OG,curveBasisOpen:CG,curveBasis:IG,curveBumpX:pG,curveBumpY:mG,curveLinearClosed:kG,curveLinear:Hm,curveMonotoneX:NG,curveMonotoneY:RG,curveNatural:jG,curveStep:DG,curveStepAfter:$G,curveStepBefore:MG},Sh=function(e){return e.x===+e.x&&e.y===+e.y},cu=function(e){return e.x},fu=function(e){return e.y},Nle=function(e,n){if(ge(e))return e;var r="curve".concat(zm(e));return(r==="curveMonotone"||r==="curveBump")&&n?lI["".concat(r).concat(n==="vertical"?"Y":"X")]:lI[r]||Hm},Rle=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=Nle(r,s),c=u?a.filter(function(g){return Sh(g)}):a,d;if(Array.isArray(o)){var p=u?o.filter(function(g){return Sh(g)}):o,b=c.map(function(g,y){return sI(sI({},g),{},{base:p[y]})});return s==="vertical"?d=ph().y(fu).x1(cu).x0(function(g){return g.base.x}):d=ph().x(cu).y1(fu).y0(function(g){return g.base.y}),d.defined(Sh).curve(f),d(b)}return s==="vertical"&&Z(o)?d=ph().y(fu).x1(cu).x0(o):Z(o)?d=ph().x(cu).y1(fu).y0(o):d=ZR().x(cu).y(fu),d.defined(Sh).curve(f),d(c)},cb=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Rle(e):i;return $.createElement("path",ub({},Se(e,!1),Ud(e),{className:Pe("recharts-curve",n),d:o,ref:a}))},eM={exports:{}},jle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dle=jle,Mle=Dle;function tM(){}function nM(){}nM.resetWarningCache=tM;var $le=function(){function t(r,i,a,o,s,l){if(l!==Mle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:nM,resetWarningCache:tM};return n.PropTypes=n,n};eM.exports=$le();var Lle=eM.exports;const Oe=Me(Lle);var Vle=Object.getOwnPropertyNames,Fle=Object.getOwnPropertySymbols,Ule=Object.prototype.hasOwnProperty;function uI(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Th(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Ble(t){return t!=null?t[Symbol.toStringTag]:void 0}function cI(t){return Vle(t).concat(Fle(t))}var zle=Object.hasOwn||function(t,e){return Ule.call(t,e)};function jo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Wle="__v",Hle="__o",qle="_owner",fI=Object.getOwnPropertyDescriptor,hI=Object.keys;function Gle(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Kle(t,e){return jo(t.getTime(),e.getTime())}function Xle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Yle(t,e){return t===e}function dI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),f=!1,c=0;(s=u.next())&&!s.done;){if(i[c]){c++;continue}var d=o.value,p=s.value;if(n.equals(d[0],p[0],l,c,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){f=i[c]=!0;break}c++}if(!f)return!1;l++}return!0}var Qle=jo;function Jle(t,e,n){var r=hI(t),i=r.length;if(hI(e).length!==i)return!1;for(;i-- >0;)if(!rM(t,e,n,r[i]))return!1;return!0}function hu(t,e,n){var r=cI(t),i=r.length;if(cI(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!rM(t,e,n,a)||(o=fI(t,a),s=fI(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Zle(t,e){return jo(t.valueOf(),e.valueOf())}function eue(t,e){return t.source===e.source&&t.flags===e.flags}function pI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function tue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function nue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function rM(t,e,n,r){return(r===qle||r===Hle||r===Wle)&&(t.$$typeof||e.$$typeof)?!0:zle(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var rue="[object Arguments]",iue="[object Boolean]",aue="[object Date]",oue="[object Error]",sue="[object Map]",lue="[object Number]",uue="[object Object]",cue="[object RegExp]",fue="[object Set]",hue="[object String]",due="[object URL]",pue=Array.isArray,mI=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,gI=Object.assign,mue=Object.prototype.toString.call.bind(Object.prototype.toString);function gue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,c=t.areTypedArraysEqual,d=t.areUrlsEqual,p=t.unknownTagComparators;return function(g,y,_){if(g===y)return!0;if(g==null||y==null)return!1;var v=typeof g;if(v!==typeof y)return!1;if(v!=="object")return v==="number"?o(g,y,_):v==="function"?i(g,y,_):!1;var x=g.constructor;if(x!==y.constructor)return!1;if(x===Object)return s(g,y,_);if(pue(g))return e(g,y,_);if(mI!=null&&mI(g))return c(g,y,_);if(x===Date)return n(g,y,_);if(x===RegExp)return u(g,y,_);if(x===Map)return a(g,y,_);if(x===Set)return f(g,y,_);var O=mue(g);if(O===aue)return n(g,y,_);if(O===cue)return u(g,y,_);if(O===sue)return a(g,y,_);if(O===fue)return f(g,y,_);if(O===uue)return typeof g.then!="function"&&typeof y.then!="function"&&s(g,y,_);if(O===due)return d(g,y,_);if(O===oue)return r(g,y,_);if(O===rue)return s(g,y,_);if(O===iue||O===lue||O===hue)return l(g,y,_);if(p){var T=p[O];if(!T){var I=Ble(g);I&&(T=p[I])}if(T)return T(g,y,_)}return!1}}function yue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?hu:Gle,areDatesEqual:Kle,areErrorsEqual:Xle,areFunctionsEqual:Yle,areMapsEqual:r?uI(dI,hu):dI,areNumbersEqual:Qle,areObjectsEqual:r?hu:Jle,arePrimitiveWrappersEqual:Zle,areRegExpsEqual:eue,areSetsEqual:r?uI(pI,hu):pI,areTypedArraysEqual:r?hu:tue,areUrlsEqual:nue,unknownTagComparators:void 0};if(n&&(i=gI({},i,n(i))),e){var a=Th(i.areArraysEqual),o=Th(i.areMapsEqual),s=Th(i.areObjectsEqual),l=Th(i.areSetsEqual);i=gI({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function vue(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function bue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var f=r(),c=f.cache,d=c===void 0?e?new WeakMap:void 0:c,p=f.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var wue=Ia();Ia({strict:!0});Ia({circular:!0});Ia({circular:!0,strict:!0});Ia({createInternalComparator:function(){return jo}});Ia({strict:!0,createInternalComparator:function(){return jo}});Ia({circular:!0,createInternalComparator:function(){return jo}});Ia({circular:!0,createInternalComparator:function(){return jo},strict:!0});function Ia(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=yue(t),l=gue(s),u=r?r(l):vue(l);return bue({circular:n,comparator:l,createState:i,equals:u,strict:o})}function _ue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function yI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):_ue(i)};requestAnimationFrame(r)}function fb(t){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function xue(t){return Aue(t)||Tue(t)||Sue(t)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(t,e){if(t){if(typeof t=="string")return vI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vI(t,e)}}function vI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aue(t){if(Array.isArray(t))return t}function Pue(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=xue(o),l=s[0],u=s.slice(1);if(typeof l=="number"){yI(i.bind(null,u),l);return}i(l),yI(i.bind(null,u));return}fb(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){iM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iM(t,e,n){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Oue(t,"string");return Bc(e)==="symbol"?e:String(e)}function Oue(t,e){if(Bc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},kue=function(e){return e},Nue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},zu=function(e,n){return Object.keys(n).reduce(function(r,i){return wI(wI({},r),{},iM({},i,e(i,n[i])))},{})},_I=function(e,n,r){return e.map(function(i){return"".concat(Nue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Rue(t,e){return Mue(t)||Due(t,e)||aM(t,e)||jue()}function jue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Due(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mue(t){if(Array.isArray(t))return t}function $ue(t){return Fue(t)||Vue(t)||aM(t)||Lue()}function Lue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aM(t,e){if(t){if(typeof t=="string")return hb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(t,e)}}function Vue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fue(t){if(Array.isArray(t))return hb(t)}function hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bp=1e-4,oM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},sM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},xI=function(e,n){return function(r){var i=oM(e,n);return sM(i,r)}},Uue=function(e,n){return function(r){var i=oM(e,n),a=[].concat($ue(i.map(function(o,s){return o*s}).slice(1)),[0]);return sM(a,r)}},EI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=Rue(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var c=xI(i,o),d=xI(a,s),p=Uue(i,o),b=function(_){return _>1?1:_<0?0:_},g=function(_){for(var v=_>1?1:_,x=v,O=0;O<8;++O){var T=c(x)-v,I=p(x);if(Math.abs(T-v)<bp||I<bp)return d(x);x=b(x-T/I)}return d(x)};return g.isStepper=!1,g},Bue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,c,d){var p=-(f-c)*r,b=d*a,g=d+(p-b)*s/1e3,y=d*s/1e3+f;return Math.abs(y-c)<bp&&Math.abs(g)<bp?[c,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},zue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EI(i);case"spring":return Bue();default:if(i.split("(")[0]==="cubic-bezier")return EI(i)}return typeof i=="function"?i:null};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function SI(t){return que(t)||Hue(t)||lM(t)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function que(t){if(Array.isArray(t))return pb(t)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function db(t,e,n){return e=Gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gue(t){var e=Kue(t,"string");return zc(e)==="symbol"?e:String(e)}function Kue(t,e){if(zc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xue(t,e){return Jue(t)||Que(t,e)||lM(t,e)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lM(t,e){if(t){if(typeof t=="string")return pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pb(t,e)}}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Que(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jue(t){if(Array.isArray(t))return t}var wp=function(e,n,r){return e+(n-e)*r},mb=function(e){var n=e.from,r=e.to;return n!==r},Zue=function t(e,n,r){var i=zu(function(a,o){if(mb(o)){var s=e(o.from,o.to,o.velocity),l=Xue(s,2),u=l[0],f=l[1];return $t($t({},o),{},{from:u,velocity:f})}return o},n);return r<1?zu(function(a,o){return mb(o)?$t($t({},o),{},{velocity:wp(o.velocity,i[a].velocity,r),from:wp(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const ece=function(t,e,n,r,i){var a=Cue(t,e),o=a.reduce(function(y,_){return $t($t({},y),{},db({},_,[t[_],e[_]]))},{}),s=a.reduce(function(y,_){return $t($t({},y),{},db({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,f,c=function(){return null},d=function(){return zu(function(_,v){return v.from},s)},p=function(){return!Object.values(s).filter(mb).length},b=function(_){u||(u=_);var v=_-u,x=v/n.dt;s=Zue(n,s,x),i($t($t($t({},t),e),d())),u=_,p()||(l=requestAnimationFrame(c))},g=function(_){f||(f=_);var v=(_-f)/r,x=zu(function(T,I){return wp.apply(void 0,SI(I).concat([n(v)]))},o);if(i($t($t($t({},t),e),x)),v<1)l=requestAnimationFrame(c);else{var O=zu(function(T,I){return wp.apply(void 0,SI(I).concat([n(1)]))},o);i($t($t($t({},t),e),O))}};return c=n.isStepper?b:g,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}var tce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nce(t,e){if(t==null)return{};var n=rce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fy(t){return sce(t)||oce(t)||ace(t)||ice()}function ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ace(t,e){if(t){if(typeof t=="string")return gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(t,e)}}function oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sce(t){if(Array.isArray(t))return gb(t)}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Su(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Su(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function cce(t,e,n){return e&&uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uM(t){var e=fce(t,"string");return Ys(e)==="symbol"?e:String(e)}function fce(t,e){if(Ys(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ys(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function dce(t){var e=pce();return function(){var r=_p(t),i;if(e){var a=_p(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return vb(this,i)}}function vb(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bb(t)}function bb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_p(t)}var pi=function(t){hce(n,t);var e=dce(n);function n(r,i){var a;lce(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,c=o.steps,d=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(bb(a)),a.changeStyle=a.changeStyle.bind(bb(a)),!s||p<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:f}),vb(a);if(c&&c.length)a.state={style:c[0].style};else if(u){if(typeof d=="function")return a.state={style:u},vb(a);a.state={style:l?Su({},l,u):u}}else a.state={style:{}};return a}return cce(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,c=a.from,d=this.state.style;if(s){if(!o){var p={style:l?Su({},l,f):f};this.state&&d&&(l&&d[l]!==f||!l&&d!==f)&&this.setState(p);return}if(!(wue(i.to,f)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=b||u?c:i.to;if(this.state&&d){var y={style:l?Su({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(y)}this.runAnimation(tr(tr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,d=i.onAnimationStart,p=ece(o,s,zue(u),l,this.changeStyle),b=function(){a.stopJSAnimation=p()};this.manager.start([d,f,b,l,c])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,c=u.duration,d=c===void 0?0:c,p=function(g,y,_){if(_===0)return g;var v=y.duration,x=y.easing,O=x===void 0?"ease":x,T=y.style,I=y.properties,E=y.onAnimationEnd,S=_>0?o[_-1]:y,P=I||Object.keys(T);if(typeof O=="function"||O==="spring")return[].concat(Fy(g),[a.runJSAnimation.bind(a,{from:S.style,to:T,duration:v,easing:O}),v]);var k=_I(P,v,O),C=tr(tr(tr({},S.style),T),{},{transition:k});return[].concat(Fy(g),[C,v,E]).filter(kue)};return this.manager.start([l].concat(Fy(o.reduce(p,[f,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Pue());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,d=i.steps,p=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?Su({},s,l):l,y=_I(Object.keys(g),o,u);b.start([f,a,tr(tr({},g),{},{transition:y}),o,c])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=nce(i,tce),u=$.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var c=function(p){var b=p.props,g=b.style,y=g===void 0?{}:g,_=b.className,v=$.cloneElement(p,tr(tr({},l),{},{style:tr(tr({},y),f),className:_}));return v};return u===1?c($.Children.only(a)):D.createElement("div",null,$.Children.map(a,function(d){return c(d)}))}}]),n}($.PureComponent);pi.displayName="Animate";pi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pi.propTypes={from:Oe.oneOfType([Oe.object,Oe.string]),to:Oe.oneOfType([Oe.object,Oe.string]),attributeName:Oe.string,duration:Oe.number,begin:Oe.number,easing:Oe.oneOfType([Oe.string,Oe.func]),steps:Oe.arrayOf(Oe.shape({duration:Oe.number.isRequired,style:Oe.object.isRequired,easing:Oe.oneOfType([Oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oe.func]),properties:Oe.arrayOf("string"),onAnimationEnd:Oe.func})),children:Oe.oneOfType([Oe.node,Oe.func]),isActive:Oe.bool,canBegin:Oe.bool,onAnimationEnd:Oe.func,shouldReAnimate:Oe.bool,onAnimationStart:Oe.func,onAnimationReStart:Oe.func};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function mce(t,e){return bce(t)||vce(t,e)||yce(t,e)||gce()}function gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yce(t,e){if(t){if(typeof t=="string")return PI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PI(t,e)}}function PI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function bce(t){if(Array.isArray(t))return t}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wce(t,e,n){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=xce(t,"string");return Wc(e)=="symbol"?e:e+""}function xce(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CI=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var c=[0,0,0,0],d=0,p=4;d<p;d++)c[d]=a[d]>o?o:a[d];f="M".concat(e,",").concat(n+s*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),f+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*c[1])),f+="L ".concat(e+r,",").concat(n+i-s*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),f+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*c[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);f="M ".concat(e,",").concat(n+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+l*b,",").concat(n,`
            L `).concat(e+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*b,`
            L `).concat(e+r,",").concat(n+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-l*b,",").concat(n+i,`
            L `).concat(e+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*b," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},Ece=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),c=Math.min(o,o+l),d=Math.max(o,o+l);return r>=u&&r<=f&&i>=c&&i<=d}return!1},Sce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kx=function(e){var n=OI(OI({},Sce),e),r=$.useRef(),i=$.useState(-1),a=mce(i,2),o=a[0],s=a[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,f=n.width,c=n.height,d=n.radius,p=n.className,b=n.animationEasing,g=n.animationDuration,y=n.animationBegin,_=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||f===0||c===0)return null;var x=Pe("recharts-rectangle",p);return v?D.createElement(pi,{canBegin:o>0,from:{width:f,height:c,x:l,y:u},to:{width:f,height:c,x:l,y:u},duration:g,animationEasing:b,isActive:v},function(O){var T=O.width,I=O.height,E=O.x,S=O.y;return D.createElement(pi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:_,easing:b},D.createElement("path",xp({},Se(n,!0),{className:x,d:CI(E,S,T,I,d),ref:r})))}):D.createElement("path",xp({},Se(n,!0),{className:x,d:CI(l,u,f,c,d)}))};function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(this,arguments)}var Nx=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Pe("recharts-dot",a);return n===+n&&r===+r&&i===+i?$.createElement("circle",wb({},Se(e,!1),Ud(e),{className:o,cx:n,cy:r,r:i})):null};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}var Tce=["x","y","top","left","width","height","className"];function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ace(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){Pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pce(t,e,n){return e=Ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Oce(t,"string");return Hc(e)=="symbol"?e:e+""}function Oce(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cce(t,e){if(t==null)return{};var n=kce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nce=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Rce=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,c=f===void 0?0:f,d=e.height,p=d===void 0?0:d,b=e.className,g=Cce(e,Tce),y=Ace({x:r,y:a,top:s,left:u,width:c,height:p},g);return!Z(r)||!Z(a)||!Z(c)||!Z(p)||!Z(s)||!Z(u)?null:D.createElement("path",_b({},Se(y,!0),{className:Pe("recharts-cross",b),d:Nce(r,a,c,p,s,u)}))},jce=Ej,Dce=jce(Object.getPrototypeOf,Object),Mce=Dce,$ce=vi,Lce=Mce,Vce=bi,Fce="[object Object]",Uce=Function.prototype,Bce=Object.prototype,cM=Uce.toString,zce=Bce.hasOwnProperty,Wce=cM.call(Object);function Hce(t){if(!Vce(t)||$ce(t)!=Fce)return!1;var e=Lce(t);if(e===null)return!0;var n=zce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&cM.call(n)==Wce}var qce=Hce;const Gce=Me(qce);var Kce=vi,Xce=bi,Yce="[object Boolean]";function Qce(t){return t===!0||t===!1||Xce(t)&&Kce(t)==Yce}var Jce=Qce;const Zce=Me(Jce);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function efe(t,e){return ife(t)||rfe(t,e)||nfe(t,e)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(t,e){if(t){if(typeof t=="string")return NI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(t,e)}}function NI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ife(t){if(Array.isArray(t))return t}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function afe(t,e,n){return e=ofe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ofe(t){var e=sfe(t,"string");return qc(e)=="symbol"?e:e+""}function sfe(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DI=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},lfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ufe=function(e){var n=jI(jI({},lfe),e),r=$.useRef(),i=$.useState(-1),a=efe(i,2),o=a[0],s=a[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,c=n.lowerWidth,d=n.height,p=n.className,b=n.animationEasing,g=n.animationDuration,y=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||d!==+d||f===0&&c===0||d===0)return null;var v=Pe("recharts-trapezoid",p);return _?D.createElement(pi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:f,lowerWidth:c,height:d,x:l,y:u},duration:g,animationEasing:b,isActive:_},function(x){var O=x.upperWidth,T=x.lowerWidth,I=x.height,E=x.x,S=x.y;return D.createElement(pi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:b},D.createElement("path",Ep({},Se(n,!0),{className:v,d:DI(E,S,O,T,I),ref:r})))}):D.createElement("g",null,D.createElement("path",Ep({},Se(n,!0),{className:v,d:DI(l,u,f,c,d)})))},cfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function ffe(t,e){if(t==null)return{};var n=hfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dfe(t,e,n){return e=pfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pfe(t){var e=mfe(t,"string");return Gc(e)=="symbol"?e:e+""}function mfe(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gfe(t,e){return Sp(Sp({},e),t)}function yfe(t,e){return t==="symbols"}function $I(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(kx,n);case"trapezoid":return D.createElement(ufe,n);case"sector":return D.createElement(ZD,n);case"symbols":if(yfe(e))return D.createElement(Y_,n);break;default:return null}}function vfe(t){return $.isValidElement(t)?t.props:t}function bfe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?gfe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=ffe(t,cfe),u;if($.isValidElement(e))u=$.cloneElement(e,Sp(Sp({},l),vfe(e)));else if(ge(e))u=e(l);else if(Gce(e)&&!Zce(e)){var f=i(e,l);u=D.createElement($I,{shapeType:n,elementProps:f})}else{var c=l;u=D.createElement($I,{shapeType:n,elementProps:c})}return s?D.createElement(ct,{className:o},u):u}function sg(t,e){return e!=null&&"trapezoids"in t.props}function lg(t,e){return e!=null&&"sectors"in t.props}function Kc(t,e){return e!=null&&"points"in t.props}function wfe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function _fe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function xfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Efe(t,e){var n;return sg(t,e)?n=wfe:lg(t,e)?n=_fe:Kc(t,e)&&(n=xfe),n}function Sfe(t,e){var n;return sg(t,e)?n="trapezoids":lg(t,e)?n="sectors":Kc(t,e)&&(n="points"),n}function Tfe(t,e){if(sg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(lg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Kc(t,e)?e.payload:{}}function Afe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Sfe(n,e),a=Tfe(n,e),o=r.filter(function(l,u){var f=ig(a,l),c=n.props[i].filter(function(b){var g=Efe(n,e);return g(b,e)}),d=n.props[i].indexOf(c[c.length-1]),p=u===d;return f&&p}),s=r.indexOf(o[o.length-1]);return s}var Pfe=Math.ceil,Ife=Math.max;function Ofe(t,e,n,r){for(var i=-1,a=Ife(Pfe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Cfe=Ofe,kfe=Bj,LI=1/0,Nfe=17976931348623157e292;function Rfe(t){if(!t)return t===0?t:0;if(t=kfe(t),t===LI||t===-LI){var e=t<0?-1:1;return e*Nfe}return t===t?t:0}var fM=Rfe,jfe=Cfe,Dfe=Xm,Uy=fM;function Mfe(t){return function(e,n,r){return r&&typeof r!="number"&&Dfe(e,n,r)&&(n=r=void 0),e=Uy(e),n===void 0?(n=e,e=0):n=Uy(n),r=r===void 0?e<n?1:-1:Uy(r),jfe(e,n,r,t)}}var $fe=Mfe,Lfe=$fe,Vfe=Lfe(),Ffe=Vfe;const Tp=Me(Ffe);function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){hM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hM(t,e,n){return e=Ufe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ufe(t){var e=Bfe(t,"string");return Xc(e)=="symbol"?e:e+""}function Bfe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zfe=["Webkit","Moz","O","ms"],Wfe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=zfe.reduce(function(a,o){return FI(FI({},a),{},hM({},o+r,n))},{});return i[e]=n,i};function Qs(t){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){xn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pM(r.key),r)}}function qfe(t,e,n){return e&&BI(t.prototype,e),n&&BI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gfe(t,e,n){return e=Pp(e),Kfe(t,dM()?Reflect.construct(e,n||[],Pp(t).constructor):e.apply(t,n))}function Kfe(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xfe(t)}function Xfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dM=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(t)}function Yfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xb(t,e)}function xn(t,e,n){return e=pM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pM(t){var e=Qfe(t,"string");return Qs(e)=="symbol"?e:e+""}function Qfe(t,e){if(Qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Uu().domain(Tp(0,l)).range([a,a+o-s]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},zI=function(e){return e.changedTouches&&!!e.changedTouches.length},Js=function(t){function e(n){var r;return Hfe(this,e),r=Gfe(this,e,[n]),xn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),xn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),xn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),xn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),xn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),xn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),xn(r,"handleSlideDragStart",function(i){var a=zI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Yfe(e,t),qfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,c=Math.min(i,a),d=Math.max(i,a),p=e.getIndexInRange(o,c),b=e.getIndexInRange(o,d);return{startIndex:p-p%l,endIndex:b===f?f:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Cn(a[r],s,r);return ge(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,c=l.travellerWidth,d=l.startIndex,p=l.endIndex,b=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+f-c-s,u+f-c-o):g<0&&(g=Math.max(g,u-o,u-s));var y=this.getIndex({startX:o+g,endX:s+g});(y.startIndex!==d||y.endIndex!==p)&&b&&b(y),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=zI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,c=f.x,d=f.width,p=f.travellerWidth,b=f.onChange,g=f.gap,y=f.data,_={startX:this.state.startX,endX:this.state.endX},v=r.pageX-a;v>0?v=Math.min(v,c+d-p-u):v<0&&(v=Math.max(v,c-u)),_[o]=u+v;var x=this.getIndex(_),O=x.startIndex,T=x.endIndex,I=function(){var S=y.length-1;return o==="startX"&&(s>l?O%g===0:T%g===0)||s<l&&T===S||o==="endX"&&(s>l?T%g===0:O%g===0)||s>l&&T===S};this.setState(xn(xn({},o,u+v),"brushMoveStartX",r.pageX),function(){b&&I()&&b(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],c=s.indexOf(f);if(c!==-1){var d=c+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(xn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,f=r.padding,c=$.Children.only(u);return c?D.cloneElement(c,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,c=l.height,d=l.traveller,p=l.ariaLabel,b=l.data,g=l.startIndex,y=l.endIndex,_=Math.max(r,this.props.x),v=By(By({},Se(this.props,!1)),{},{x:_,y:u,width:f,height:c}),x=p||"Min value: ".concat((a=b[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[y])===null||o===void 0?void 0:o.name);return D.createElement(ct,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:c,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,c=f.startX,d=f.endX,p=5,b={pointerEvents:"none",fill:u};return D.createElement(ct,{className:"recharts-brush-texts"},D.createElement(np,Ap({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-p,y:o+s/2},b),this.getTextOfTick(i)),D.createElement(np,Ap({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+l+p,y:o+s/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,f=r.height,c=r.alwaysShowText,d=this.state,p=d.startX,b=d.endX,g=d.isTextActive,y=d.isSlideMoving,_=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!Z(s)||!Z(l)||!Z(u)||!Z(f)||u<=0||f<=0)return null;var x=Pe("recharts-brush",a),O=D.Children.count(o)===1,T=Wfe("userSelect","none");return D.createElement(ct,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(g||y||_||v||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):ge(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,c=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return By({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Jfe({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}($.PureComponent);xn(Js,"displayName","Brush");xn(Js,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zfe=rx;function ehe(t,e){var n;return Zfe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var the=ehe,nhe=mj,rhe=Ta,ihe=the,ahe=bn,ohe=Xm;function she(t,e,n){var r=ahe(t)?nhe:ihe;return n&&ohe(t,e,n)&&(e=void 0),r(t,rhe(e))}var lhe=she;const uhe=Me(lhe);var Mr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},WI=$j;function che(t,e,n){e=="__proto__"&&WI?WI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fhe=che,hhe=fhe,dhe=Dj,phe=Ta;function mhe(t,e){var n={};return e=phe(e),dhe(t,function(r,i,a){hhe(n,i,e(r,i,a))}),n}var ghe=mhe;const yhe=Me(ghe);function vhe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var bhe=vhe,whe=rx;function _he(t,e){var n=!0;return whe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var xhe=_he,Ehe=bhe,She=xhe,The=Ta,Ahe=bn,Phe=Xm;function Ihe(t,e,n){var r=Ahe(t)?Ehe:She;return n&&Phe(t,e,n)&&(e=void 0),r(t,The(e))}var Ohe=Ihe;const mM=Me(Ohe);var Che=["x","y"];function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function khe(t,e,n){return e=Nhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nhe(t){var e=Rhe(t,"string");return Yc(e)=="symbol"?e:e+""}function Rhe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jhe(t,e){if(t==null)return{};var n=Dhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mhe(t,e){var n=t.x,r=t.y,i=jhe(t,Che),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),c="".concat(e.width||i.width),d=parseInt(c,10);return du(du(du(du(du({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:d,name:e.name,radius:e.radius})}function qI(t){return D.createElement(bfe,Eb({shapeType:"rectangle",propTransformer:Mhe,activeClassName:"recharts-active-bar"},t))}var $he=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Z(r)||ZH(r);return a?e(r,i):(a||vo(),n)}},Lhe=["value","background"],gM;function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function Vhe(t,e){if(t==null)return{};var n=Fhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vM(r.key),r)}}function Bhe(t,e,n){return e&&KI(t.prototype,e),n&&KI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zhe(t,e,n){return e=Op(e),Whe(t,yM()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function Whe(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hhe(t)}function Hhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function qhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sb(t,e)}function Wi(t,e,n){return e=vM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vM(t){var e=Ghe(t,"string");return Zs(e)=="symbol"?e:e+""}function Ghe(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oa=function(t){function e(){var n;Uhe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zhe(this,e,[].concat(i)),Wi(n,"state",{isAnimationFinished:!1}),Wi(n,"id",Ef("recharts-bar-")),Wi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Wi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return qhe(e,t),Bhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=Se(this.props,!1);return r&&r.map(function(c,d){var p=d===l,b=p?u:o,g=mt(mt(mt({},f),c),{},{isActive:p,option:b,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(ct,Ip({className:"recharts-bar-rectangle"},Bd(i.props,c,d),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(d)}),D.createElement(qI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,c=i.animationId,d=this.state.prevData;return D.createElement(pi,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,g=a.map(function(y,_){var v=d&&d[_];if(v){var x=lr(v.x,y.x),O=lr(v.y,y.y),T=lr(v.width,y.width),I=lr(v.height,y.height);return mt(mt({},y),{},{x:x(b),y:O(b),width:T(b),height:I(b)})}if(o==="horizontal"){var E=lr(0,y.height),S=E(b);return mt(mt({},y),{},{y:y.y+y.height-S,height:S})}var P=lr(0,y.width),k=P(b);return mt(mt({},y),{},{width:k})});return D.createElement(ct,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ig(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Se(this.props.background,!1);return a.map(function(u,f){u.value;var c=u.background,d=Vhe(u,Lhe);if(!c)return null;var p=mt(mt(mt(mt(mt({},d),{},{fill:"#eee"},c),l),Bd(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return D.createElement(qI,Ip({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,c=Gn(f,Of);if(!c)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,_){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:Cn(y,_)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(ct,b,c.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,f=r.top,c=r.width,d=r.height,p=r.isAnimationActive,b=r.background,g=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,_=Pe("recharts-bar",o),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,O=v||x,T=ve(g)?this.id:g;return D.createElement(ct,{className:_},v||x?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(T)},D.createElement("rect",{x:v?u:u-c/2,y:x?f:f-d/2,width:v?c:c*2,height:x?d:d*2}))):null,D.createElement(ct,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(T,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,T),(!p||y)&&oa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);gM=Oa;Wi(Oa,"displayName","Bar");Wi(Oa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ol.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wi(Oa,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,d=t.offset,p=xse(r,n);if(!p)return null;var b=e.layout,g=n.type.defaultProps,y=g!==void 0?mt(mt({},g),n.props):n.props,_=y.dataKey,v=y.children,x=y.minPointSize,O=b==="horizontal"?o:a,T=u?O.scale.domain():null,I=Cse({numericAxis:O}),E=Gn(v,Wj),S=c.map(function(P,k){var C,j,N,F,U,H;u?C=Ese(u[f+k],T):(C=Cn(P,_),Array.isArray(C)||(C=[I,C]));var G=$he(x,gM.defaultProps.minPointSize)(C[1],k);if(b==="horizontal"){var L,z=[o.scale(C[0]),o.scale(C[1])],X=z[0],ee=z[1];j=GP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:P,index:k}),N=(L=ee??X)!==null&&L!==void 0?L:void 0,F=p.size;var Q=X-ee;if(U=Number.isNaN(Q)?0:Q,H={x:j,y:o.y,width:F,height:o.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var oe=fr(U||G)*(Math.abs(G)-Math.abs(U));N-=oe,U+=oe}}else{var ye=[a.scale(C[0]),a.scale(C[1])],Re=ye[0],ze=ye[1];if(j=Re,N=GP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:k}),F=ze-Re,U=p.size,H={x:a.x,y:N,width:a.width,height:U},Math.abs(G)>0&&Math.abs(F)<Math.abs(G)){var Ht=fr(F||G)*(Math.abs(G)-Math.abs(F));F+=Ht}}return mt(mt(mt({},P),{},{x:j,y:N,width:F,height:U,value:u?C:C[1],payload:P,background:H},E&&E[k]&&E[k].props),{},{tooltipPayload:[YD(n,P)],tooltipPosition:{x:j+F/2,y:N+U/2}})});return mt({data:S,layout:b},d)});function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Khe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bM(r.key),r)}}function Xhe(t,e,n){return e&&XI(t.prototype,e),n&&XI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){ug(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ug(t,e,n){return e=bM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bM(t){var e=Yhe(t,"string");return Qc(e)=="symbol"?e:e+""}function Yhe(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wM=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Sn(u,Oa);return f.reduce(function(p,b){var g=n[b],y=g.orientation,_=g.domain,v=g.padding,x=v===void 0?{}:v,O=g.mirror,T=g.reversed,I="".concat(y).concat(O?"Mirror":""),E,S,P,k,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var j=_[1]-_[0],N=1/0,F=g.categoricalDomain.sort(nq);if(F.forEach(function(ye,Re){Re>0&&(N=Math.min((ye||0)-(F[Re-1]||0),N))}),Number.isFinite(N)){var U=N/j,H=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(E=U*H/2),g.padding==="no-gap"){var G=go(e.barCategoryGap,U*H),L=U*H/2;E=L-G-(L-G)/H*G}}}i==="xAxis"?S=[r.left+(x.left||0)+(E||0),r.left+r.width-(x.right||0)-(E||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(E||0),r.top+r.height-(x.bottom||0)-(E||0)]:S=g.range,T&&(S=[S[1],S[0]]);var z=wse(g,a,d),X=z.scale,ee=z.realScaleType;X.domain(_).range(S),_se(X);var Q=Ose(X,ar(ar({},g),{},{realScaleType:ee}));i==="xAxis"?(C=y==="top"&&!O||y==="bottom"&&O,P=r.left,k=c[I]-C*g.height):i==="yAxis"&&(C=y==="left"&&!O||y==="right"&&O,P=c[I]-C*g.width,k=r.top);var oe=ar(ar(ar({},g),Q),{},{realScaleType:ee,x:P,y:k,scale:X,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return oe.bandSize=gp(oe,Q),!g.hide&&i==="xAxis"?c[I]+=(C?-1:1)*oe.height:g.hide||(c[I]+=(C?-1:1)*oe.width),ar(ar({},p),{},ug({},b,oe))},{})},_M=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Qhe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return _M({x:n,y:r},{x:i,y:a})},xM=function(){function t(e){Khe(this,t),this.scale=e}return Xhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ug(xM,"EPS",1e-4);var Rx=function(e){var n=Object.keys(e).reduce(function(r,i){return ar(ar({},r),{},ug({},i,xM.create(e[i])))},{});return ar(ar({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return yhe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return mM(i,function(a,o){return n[o].isInRange(a)})}})};function Jhe(t){return(t%180+180)%180}var Zhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jhe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},ede=Ta,tde=Sf,nde=Gm;function rde(t){return function(e,n,r){var i=Object(e);if(!tde(e)){var a=ede(n);e=nde(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var ide=rde,ade=fM;function ode(t){var e=ade(t),n=e%1;return e===e?n?e-n:e:0}var sde=ode,lde=Oj,ude=Ta,cde=sde,fde=Math.max;function hde(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:cde(n);return i<0&&(i=fde(r+i,0)),lde(t,ude(e),i)}var dde=hde,pde=ide,mde=dde,gde=pde(mde),yde=gde;const vde=Me(yde);var bde=aH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jx=$.createContext(void 0),Dx=$.createContext(void 0),EM=$.createContext(void 0),SM=$.createContext({}),TM=$.createContext(void 0),AM=$.createContext(0),PM=$.createContext(0),QI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,f=bde(a);return D.createElement(jx.Provider,{value:r},D.createElement(Dx.Provider,{value:i},D.createElement(SM.Provider,{value:a},D.createElement(EM.Provider,{value:f},D.createElement(TM.Provider,{value:o},D.createElement(AM.Provider,{value:u},D.createElement(PM.Provider,{value:l},s)))))))},wde=function(){return $.useContext(TM)},IM=function(e){var n=$.useContext(jx);n==null&&vo();var r=n[e];return r==null&&vo(),r},_de=function(){var e=$.useContext(jx);return Vi(e)},xde=function(){var e=$.useContext(Dx),n=vde(e,function(r){return mM(r.domain,Number.isFinite)});return n||Vi(e)},OM=function(e){var n=$.useContext(Dx);n==null&&vo();var r=n[e];return r==null&&vo(),r},Ede=function(){var e=$.useContext(EM);return e},Sde=function(){return $.useContext(SM)},Mx=function(){return $.useContext(PM)},$x=function(){return $.useContext(AM)};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function Tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ade(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kM(r.key),r)}}function Pde(t,e,n){return e&&Ade(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ide(t,e,n){return e=Cp(e),Ode(t,CM()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function Ode(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cde(t)}function Cde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function kde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tb(t,e)}function Tb(t,e){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tb(t,e)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){Lx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lx(t,e,n){return e=kM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kM(t){var e=Nde(t,"string");return el(e)=="symbol"?e:e+""}function Nde(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rde(t,e){return $de(t)||Mde(t,e)||Dde(t,e)||jde()}function jde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(t,e){if(t){if(typeof t=="string")return eO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eO(t,e)}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $de(t){if(Array.isArray(t))return t}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}var Lde=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):ge(e)?r=e(n):r=D.createElement("line",Ab({},n,{className:"recharts-reference-line-line"})),r},Vde=function(e,n,r,i,a,o,s,l,u){var f=a.x,c=a.y,d=a.width,p=a.height;if(r){var b=u.y,g=e.y.apply(b,{position:o});if(Mr(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:f+d,y:g},{x:f,y:g}];return l==="left"?y.reverse():y}if(n){var _=u.x,v=e.x.apply(_,{position:o});if(Mr(u,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:c+p},{x:v,y:c}];return s==="top"?x.reverse():x}if(i){var O=u.segment,T=O.map(function(I){return e.apply(I,{position:o})});return Mr(u,"discard")&&uhe(T,function(I){return!e.isInRange(I)})?null:T}return null};function Fde(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=wde(),f=IM(i),c=OM(a),d=Ede();if(!u||!d)return null;ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Rx({x:f.scale,y:c.scale}),b=Tt(e),g=Tt(n),y=r&&r.length===2,_=Vde(p,b,g,y,d,t.position,f.orientation,c.orientation,t);if(!_)return null;var v=Rde(_,2),x=v[0],O=x.x,T=x.y,I=v[1],E=I.x,S=I.y,P=Mr(t,"hidden")?"url(#".concat(u,")"):void 0,k=ZI(ZI({clipPath:P},Se(t,!0)),{},{x1:O,y1:T,x2:E,y2:S});return D.createElement(ct,{className:Pe("recharts-reference-line",s)},Lde(o,k),Zt.renderCallByParent(t,Qhe({x1:O,y1:T,x2:E,y2:S})))}var Vx=function(t){function e(){return Tde(this,e),Ide(this,e,arguments)}return kde(e,t),Pde(e,[{key:"render",value:function(){return D.createElement(Fde,this.props)}}])}(D.Component);Lx(Vx,"displayName","ReferenceLine");Lx(Vx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RM(r.key),r)}}function zde(t,e,n){return e&&Bde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wde(t,e,n){return e=kp(e),Hde(t,NM()?Reflect.construct(e,n||[],kp(t).constructor):e.apply(t,n))}function Hde(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(t)}function qde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NM=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kp(t)}function Gde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ib(t,e)}function cg(t,e,n){return e=RM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RM(t){var e=Kde(t,"string");return tl(e)=="symbol"?e:e+""}function Kde(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xde=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=Rx({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Mr(e,"discard")&&!o.isInRange(s)?null:s},fg=function(t){function e(){return Ude(this,e),Wde(this,e,arguments)}return Gde(e,t),zde(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Tt(i),f=Tt(a);if(ti(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var c=Xde(this.props);if(!c)return null;var d=c.x,p=c.y,b=this.props,g=b.shape,y=b.className,_=Mr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=nO(nO({clipPath:_},Se(this.props,!0)),{},{cx:d,cy:p});return D.createElement(ct,{className:Pe("recharts-reference-dot",y)},e.renderDot(g,v),Zt.renderCallByParent(this.props,{x:d-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);cg(fg,"displayName","ReferenceDot");cg(fg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});cg(fg,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):ge(t)?n=t(e):n=D.createElement(Nx,Pb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ob.apply(this,arguments)}function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){hg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DM(r.key),r)}}function Jde(t,e,n){return e&&Qde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zde(t,e,n){return e=Np(e),epe(t,jM()?Reflect.construct(e,n||[],Np(t).constructor):e.apply(t,n))}function epe(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tpe(t)}function tpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jM=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(t)}function npe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cb(t,e)}function Cb(t,e){return Cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cb(t,e)}function hg(t,e,n){return e=DM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DM(t){var e=rpe(t,"string");return nl(e)=="symbol"?e:e+""}function rpe(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ipe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,c=a.yAxis;if(!f||!c)return null;var d=Rx({x:f.scale,y:c.scale}),p={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},b={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Mr(a,"discard")&&(!d.isInRange(p)||!d.isInRange(b))?null:_M(p,b)},dg=function(t){function e(){return Yde(this,e),Zde(this,e,arguments)}return npe(e,t),Jde(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;ti(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Tt(i),d=Tt(a),p=Tt(o),b=Tt(s),g=this.props.shape;if(!c&&!d&&!p&&!b&&!g)return null;var y=ipe(c,d,p,b,this.props);if(!y&&!g)return null;var _=Mr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return D.createElement(ct,{className:Pe("recharts-reference-area",l)},e.renderRect(g,iO(iO({clipPath:_},Se(this.props,!0)),y)),Zt.renderCallByParent(this.props,y))}}])}(D.Component);hg(dg,"displayName","ReferenceArea");hg(dg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hg(dg,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):ge(t)?n=t(e):n=D.createElement(kx,Ob({},e,{className:"recharts-reference-area-rect"})),n});function MM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ape(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Zhe(r,n)}function ope(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Rp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function spe(t,e){return MM(t,e+1)}function lpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,f=o,c=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:MM(r,u)};var g=l,y,_=function(){return y===void 0&&(y=n(b,g)),y},v=b.coordinate,x=l===0||Rp(t,v,_,f,s);x||(l=0,f=o,u+=1),x&&(f=v+t*(_()/2+i),l+=u)},d;u<=a.length;)if(d=c(),d)return d.v;return[]}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function upe(t,e,n){return e=cpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=fpe(t,"string");return Jc(e)=="symbol"?e:e+""}function fpe(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(d){var p=a[d],b,g=function(){return b===void 0&&(b=n(p,d)),b};if(d===o-1){var y=t*(p.coordinate+t*g()/2-l);a[d]=p=Xt(Xt({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else a[d]=p=Xt(Xt({},p),{},{tickCoord:p.coordinate});var _=Rp(t,p.tickCoord,g,s,l);_&&(l=p.tickCoord-t*(g()/2+i),a[d]=Xt(Xt({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function dpe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var f=r[s-1],c=n(f,s-1),d=t*(f.coordinate+t*c/2-u);o[s-1]=f=Xt(Xt({},f),{},{tickCoord:d>0?f.coordinate-d*t:f.coordinate});var p=Rp(t,f.tickCoord,function(){return c},l,u);p&&(u=f.tickCoord-t*(c/2+i),o[s-1]=Xt(Xt({},f),{},{isShow:!0}))}for(var b=a?s-1:s,g=function(v){var x=o[v],O,T=function(){return O===void 0&&(O=n(x,v)),O};if(v===0){var I=t*(x.coordinate-t*T()/2-l);o[v]=x=Xt(Xt({},x),{},{tickCoord:I<0?x.coordinate-I*t:x.coordinate})}else o[v]=x=Xt(Xt({},x),{},{tickCoord:x.coordinate});var E=Rp(t,x.tickCoord,T,l,u);E&&(l=x.tickCoord+t*(T()/2+i),o[v]=Xt(Xt({},x),{},{isShow:!0}))},y=0;y<b;y++)g(y);return o}function Fx(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,c=t.angle;if(!i||!i.length||!r)return[];if(Z(l)||Ol.isSsr)return spe(i,typeof l=="number"&&Z(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",b=f&&p==="width"?Fu(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,O){var T=ge(u)?u(x.value,O):x.value;return p==="width"?ape(Fu(T,{fontSize:e,letterSpacing:n}),b,c):Fu(T,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?fr(i[1].coordinate-i[0].coordinate):1,_=ope(a,y,p);return l==="equidistantPreserveStart"?lpe(y,_,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=dpe(y,_,g,i,o,l==="preserveStartEnd"):d=hpe(y,_,g,i,o),d.filter(function(v){return v.isShow}))}var ppe=["viewBox"],mpe=["viewBox"],gpe=["ticks"];function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ls.apply(this,arguments)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zy(t,e){if(t==null)return{};var n=ype(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ype(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LM(r.key),r)}}function bpe(t,e,n){return e&&sO(t.prototype,e),n&&sO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wpe(t,e,n){return e=jp(e),_pe(t,$M()?Reflect.construct(e,n||[],jp(t).constructor):e.apply(t,n))}function _pe(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xpe(t)}function xpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($M=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}function Epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kb(t,e)}function kb(t,e){return kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kb(t,e)}function Ux(t,e,n){return e=LM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LM(t){var e=Spe(t,"string");return rl(e)=="symbol"?e:e+""}function Spe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rl=function(t){function e(n){var r;return vpe(this,e),r=wpe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Epe(e,t),bpe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=zy(r,ppe),s=this.props,l=s.viewBox,u=zy(s,mpe);return!_s(a,l)||!_s(o,u)||!_s(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,c=i.mirror,d=i.tickMargin,p,b,g,y,_,v,x=c?-1:1,O=r.tickSize||f,T=Z(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=b=r.coordinate,y=o+ +!c*l,g=y-x*O,v=g-x*d,_=T;break;case"left":g=y=r.coordinate,b=a+ +!c*s,p=b-x*O,_=p-x*d,v=T;break;case"right":g=y=r.coordinate,b=a+ +c*s,p=b+x*O,_=p+x*d,v=T;break;default:p=b=r.coordinate,y=o+ +c*l,g=y+x*O,v=g+x*d,_=T;break}return{line:{x1:p,y1:g,x2:b,y2:y},tick:{x:_,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,c=_t(_t(_t({},Se(this.props,!1)),Se(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);c=_t(_t({},c),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);c=_t(_t({},c),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return D.createElement("line",ls({},c,{className:Pe("recharts-cartesian-axis-line",qn(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,c=s.tickFormatter,d=s.unit,p=Fx(_t(_t({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Se(this.props,!1),_=Se(f,!1),v=_t(_t({},y),{},{fill:"none"},Se(l,!1)),x=p.map(function(O,T){var I=o.getTickLineCoord(O),E=I.line,S=I.tick,P=_t(_t(_t(_t({textAnchor:b,verticalAnchor:g},y),{},{stroke:"none",fill:u},_),S),{},{index:T,payload:O,visibleTicksCount:p.length,tickFormatter:c});return D.createElement(ct,ls({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Bd(o.props,O,T)),l&&D.createElement("line",ls({},v,E,{className:Pe("recharts-cartesian-axis-tick-line",qn(l,"className"))})),f&&e.renderTickItem(f,P,"".concat(ge(c)?c(O.value,T):O.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var c=this.props,d=c.ticks,p=zy(c,gpe),b=d;return ge(l)&&(b=d&&d.length>0?l(this.props):l(p)),o<=0||s<=0||!b||!b.length?null:D.createElement(ct,{className:Pe("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Pe(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?o=D.cloneElement(r,_t(_t({},i),{},{className:s})):ge(r)?o=r(_t(_t({},i),{},{className:s})):o=D.createElement(np,ls({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}($.Component);Ux(Rl,"displayName","CartesianAxis");Ux(Rl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tpe=["x1","y1","x2","y2","key"],Ape=["offset"];function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){Ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e,n){return e=Ipe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ipe(t){var e=Ope(t,"string");return bo(e)=="symbol"?e:e+""}function Ope(t,e){if(bo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}function uO(t,e){if(t==null)return{};var n=Cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kpe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VM(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=uO(e,Tpe),u=Se(l,!1);u.offset;var f=uO(u,Ape);n=D.createElement("line",Ya({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Npe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=en(en({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return VM(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Rpe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=en(en({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return VM(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jpe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==f[0]&&f.unshift(0);var c=f.map(function(d,p){var b=!f[p+1],g=b?i+o-d:f[p+1]-d;if(g<=0)return null;var y=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Dpe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,p){return d-p});a!==f[0]&&f.unshift(0);var c=f.map(function(d,p){var b=!f[p+1],g=b?a+s-d:f[p+1]-d;if(g<=0)return null;var y=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:d,y:o,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Mpe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return KD(Fx(en(en(en({},Rl.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},$pe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return KD(Fx(en(en(en({},Rl.defaultProps),r),{},{ticks:Yr(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Bo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Dp(t){var e,n,r,i,a,o,s=Mx(),l=$x(),u=Sde(),f=en(en({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Bo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Bo.verticalFill,x:Z(t.x)?t.x:u.left,y:Z(t.y)?t.y:u.top,width:Z(t.width)?t.width:u.width,height:Z(t.height)?t.height:u.height}),c=f.x,d=f.y,p=f.width,b=f.height,g=f.syncWithTicks,y=f.horizontalValues,_=f.verticalValues,v=_de(),x=xde();if(!Z(p)||p<=0||!Z(b)||b<=0||!Z(c)||c!==+c||!Z(d)||d!==+d)return null;var O=f.verticalCoordinatesGenerator||Mpe,T=f.horizontalCoordinatesGenerator||$pe,I=f.horizontalPoints,E=f.verticalPoints;if((!I||!I.length)&&ge(T)){var S=y&&y.length,P=T({yAxis:x?en(en({},x),{},{ticks:S?y:x.ticks}):void 0,width:s,height:l,offset:u},S?!0:g);ti(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bo(P),"]")),Array.isArray(P)&&(I=P)}if((!E||!E.length)&&ge(O)){var k=_&&_.length,C=O({xAxis:v?en(en({},v),{},{ticks:k?_:v.ticks}):void 0,width:s,height:l,offset:u},k?!0:g);ti(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bo(C),"]")),Array.isArray(C)&&(E=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(kpe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),D.createElement(Npe,Ya({},f,{offset:u,horizontalPoints:I,xAxis:v,yAxis:x})),D.createElement(Rpe,Ya({},f,{offset:u,verticalPoints:E,xAxis:v,yAxis:x})),D.createElement(jpe,Ya({},f,{horizontalPoints:I})),D.createElement(Dpe,Ya({},f,{verticalPoints:E})))}Dp.displayName="CartesianGrid";var Lpe=["type","layout","connectNulls","ref"],Vpe=["key"];function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function cO(t,e){if(t==null)return{};var n=Fpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zo(t){return Wpe(t)||zpe(t)||Bpe(t)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(t,e){if(t){if(typeof t=="string")return Nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nb(t,e)}}function zpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wpe(t){if(Array.isArray(t))return Nb(t)}function Nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UM(r.key),r)}}function qpe(t,e,n){return e&&hO(t.prototype,e),n&&hO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gpe(t,e,n){return e=Mp(e),Kpe(t,FM()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function Kpe(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpe(t)}function Xpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function Ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rb(t,e)}function Rb(t,e){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rb(t,e)}function or(t,e,n){return e=UM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UM(t){var e=Qpe(t,"string");return il(e)=="symbol"?e:e+""}function Qpe(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cf=function(t){function e(){var n;Hpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Gpe(this,e,[].concat(i)),or(n,"state",{isAnimationFinished:!0,totalLength:0}),or(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),or(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(_,v){return _+v});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var f=Math.floor(o/u),c=o%u,d=s-o,p=[],b=0,g=0;b<l.length;g+=l[b],++b)if(g+l[b]>c){p=[].concat(zo(l.slice(0,b)),[c-g]);break}var y=p.length%2===0?[0,d]:[d];return[].concat(zo(e.repeat(l,f)),zo(p),y).map(function(_){return"".concat(_,"px")}).join(", ")}),or(n,"id",Ef("recharts-line-")),or(n,"pathRef",function(o){n.mainCurve=o}),or(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),or(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ype(e,t),qpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,c=Gn(f,Of);if(!c)return null;var d=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Cn(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(ct,p,c.map(function(b){return D.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,c=Se(this.props,!1),d=Se(l,!0),p=u.map(function(g,y){var _=_n(_n(_n({key:"dot-".concat(y),r:3},c),d),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:u});return e.renderDotItem(l,_)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return D.createElement(ct,Wu({className:"recharts-line-dots",key:"dots"},b),p)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var c=cO(s,Lpe),d=_n(_n(_n({},Se(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:f});return D.createElement(cb,Wu({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,c=o.animationDuration,d=o.animationEasing,p=o.animationId,b=o.animateNewValues,g=o.width,y=o.height,_=this.state,v=_.prevPoints,x=_.totalLength;return D.createElement(pi,{begin:f,duration:c,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(v){var I=v.length/s.length,E=s.map(function(j,N){var F=Math.floor(N*I);if(v[F]){var U=v[F],H=lr(U.x,j.x),G=lr(U.y,j.y);return _n(_n({},j),{},{x:H(T),y:G(T)})}if(b){var L=lr(g*2,j.x),z=lr(y/2,j.y);return _n(_n({},j),{},{x:L(T),y:z(T)})}return _n(_n({},j),{},{x:j.x,y:j.y})});return a.renderCurveStatically(E,r,i)}var S=lr(0,x),P=S(T),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});k=a.getStrokeDasharray(P,x,C)}else k=a.generateSimpleStrokeDasharray(x,P);return a.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&o&&o.length&&(!u&&f>0||!ig(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,d=i.left,p=i.width,b=i.height,g=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var _=this.state.isAnimationFinished,v=s.length===1,x=Pe("recharts-line",l),O=u&&u.allowDataOverflow,T=f&&f.allowDataOverflow,I=O||T,E=ve(y)?this.id:y,S=(r=Se(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=S.r,k=P===void 0?3:P,C=S.strokeWidth,j=C===void 0?2:C,N=fq(o)?o:{},F=N.clipDot,U=F===void 0?!0:F,H=k*2+j;return D.createElement(ct,{className:x},O||T?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:O?d:d-p/2,y:T?c:c-b/2,width:O?p:p*2,height:T?b:b*2})),!U&&D.createElement("clipPath",{id:"clipPath-dots-".concat(E)},D.createElement("rect",{x:d-H/2,y:c-H/2,width:p+H,height:b+H}))):null,!v&&this.renderCurve(I,E),this.renderErrorBar(I,E),(v||o)&&this.renderDots(I,U,E),(!g||_)&&oa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(zo(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(zo(o),zo(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(D.isValidElement(r))a=D.cloneElement(r,i);else if(ge(r))a=r(i);else{var o=i.key,s=cO(i,Vpe),l=Pe("recharts-line-dot",typeof r!="boolean"?r.className:"");a=D.createElement(Nx,Wu({key:o},s,{className:l}))}return a}}])}($.PureComponent);or(Cf,"displayName","Line");or(Cf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ol.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});or(Cf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,c=l.map(function(d,p){var b=Cn(d,o);return f==="horizontal"?{x:qP({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:ve(b)?null:r.scale(b),value:b,payload:d}:{x:ve(b)?null:n.scale(b),y:qP({axis:r,ticks:a,bandSize:s,entry:d,index:p}),value:b,payload:d}});return _n({points:c,layout:f},u)});function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WM(r.key),r)}}function eme(t,e,n){return e&&Zpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tme(t,e,n){return e=$p(e),nme(t,BM()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function nme(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rme(t)}function rme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BM=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function ime(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jb(t,e)}function zM(t,e,n){return e=WM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WM(t){var e=ame(t,"string");return al(e)=="symbol"?e:e+""}function ame(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(this,arguments)}function ome(t){var e=t.xAxisId,n=Mx(),r=$x(),i=IM(e);return i==null?null:$.createElement(Rl,Db({},i,{className:Pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Yr(o,!0)}}))}var wo=function(t){function e(){return Jpe(this,e),tme(this,e,arguments)}return ime(e,t),eme(e,[{key:"render",value:function(){return $.createElement(ome,this.props)}}])}($.Component);zM(wo,"displayName","XAxis");zM(wo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GM(r.key),r)}}function ume(t,e,n){return e&&lme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cme(t,e,n){return e=Lp(e),fme(t,HM()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function fme(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hme(t)}function hme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HM=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mb(t,e)}function Mb(t,e){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mb(t,e)}function qM(t,e,n){return e=GM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GM(t){var e=pme(t,"string");return ol(e)=="symbol"?e:e+""}function pme(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}var mme=function(e){var n=e.yAxisId,r=Mx(),i=$x(),a=OM(n);return a==null?null:$.createElement(Rl,$b({},a,{className:Pe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Yr(s,!0)}}))},_o=function(t){function e(){return sme(this,e),cme(this,e,arguments)}return dme(e,t),ume(e,[{key:"render",value:function(){return $.createElement(mme,this.props)}}])}($.Component);qM(_o,"displayName","YAxis");qM(_o,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dO(t){return bme(t)||vme(t)||yme(t)||gme()}function gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yme(t,e){if(t){if(typeof t=="string")return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}}function vme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bme(t){if(Array.isArray(t))return Lb(t)}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vb=function(e,n,r,i,a){var o=Gn(e,Vx),s=Gn(e,fg),l=[].concat(dO(o),dO(s)),u=Gn(e,dg),f="".concat(i,"Id"),c=i[0],d=n;if(l.length&&(d=l.reduce(function(g,y){if(y.props[f]===r&&Mr(y.props,"extendDomain")&&Z(y.props[c])){var _=y.props[c];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},d)),u.length){var p="".concat(c,"1"),b="".concat(c,"2");d=u.reduce(function(g,y){if(y.props[f]===r&&Mr(y.props,"extendDomain")&&Z(y.props[p])&&Z(y.props[b])){var _=y.props[p],v=y.props[b];return[Math.min(g[0],_,v),Math.max(g[1],_,v)]}return g},d)}return a&&a.length&&(d=a.reduce(function(g,y){return Z(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},d)),d},KM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,c,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,c||l,d),b=n?n+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],p]:l._events[b].push(p):(l._events[b]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)e.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,p=c.length,b=new Array(p);d<p;d++)b[d]=c[d].fn;return b},s.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,f,c,d,p,b){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],_=arguments.length,v,x;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,c),!0;case 4:return y.fn.call(y.context,f,c,d),!0;case 5:return y.fn.call(y.context,f,c,d,p),!0;case 6:return y.fn.call(y.context,f,c,d,p,b),!0}for(x=1,v=new Array(_-1);x<_;x++)v[x-1]=arguments[x];y.fn.apply(y.context,v)}else{var O=y.length,T;for(x=0;x<O;x++)switch(y[x].once&&this.removeListener(u,y[x].fn,void 0,!0),_){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,f);break;case 3:y[x].fn.call(y[x].context,f,c);break;case 4:y[x].fn.call(y[x].context,f,c,d);break;default:if(!v)for(T=1,v=new Array(_-1);T<_;T++)v[T-1]=arguments[T];y[x].fn.apply(y[x].context,v)}}return!0},s.prototype.on=function(u,f,c){return a(this,u,f,c,!1)},s.prototype.once=function(u,f,c){return a(this,u,f,c,!0)},s.prototype.removeListener=function(u,f,c,d){var p=n?n+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===f&&(!d||b.once)&&(!c||b.context===c)&&o(this,p);else{for(var g=0,y=[],_=b.length;g<_;g++)(b[g].fn!==f||d&&!b[g].once||c&&b[g].context!==c)&&y.push(b[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(KM);var wme=KM.exports;const _me=Me(wme);var Wy=new _me,Hy="recharts.syncMouseEvents";function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XM(r.key),r)}}function Sme(t,e,n){return e&&Eme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qy(t,e,n){return e=XM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XM(t){var e=Tme(t,"string");return Zc(e)=="symbol"?e:e+""}function Tme(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ame=function(){function t(){xme(this,t),qy(this,"activeIndex",0),qy(this,"coordinateList",[]),qy(this,"layout","horizontal")}return Sme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,f=n.offset,c=f===void 0?null:f,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=a+l+u,d=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])}();function Pme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Z(r)&&Z(i))return!0}return!1}function Ime(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function YM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Ut(e,n,r,i),s=Ut(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Ome(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,c=e.angle,d=Ut(s,l,u,c),p=Ut(s,l,f,c);r=d.x,i=d.y,a=p.x,o=p.y}else return YM(e);return[{x:r,y:i},{x:a,y:o}]}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){Cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cme(t,e,n){return e=kme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kme(t){var e=Nme(t,"string");return ef(e)=="symbol"?e:e+""}function Nme(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rme(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,c=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var b,g=cb;if(d==="ScatterChart")b=o,g=Rce;else if(d==="BarChart")b=Ime(c,o,l,f),g=kx;else if(c==="radial"){var y=YM(o),_=y.cx,v=y.cy,x=y.radius,O=y.startAngle,T=y.endAngle;b={cx:_,cy:v,startAngle:O,endAngle:T,innerRadius:x,outerRadius:x},g=ZD}else b={points:Ome(c,o,l)},g=cb;var I=Ah(Ah(Ah(Ah({stroke:"#ccc",pointerEvents:"none"},l),b),Se(p,!1)),{},{payload:s,payloadIndex:u,className:Pe("recharts-tooltip-cursor",p.className)});return $.isValidElement(p)?$.cloneElement(p,I):$.createElement(g,I)}var jme=["item"],Dme=["children","className","width","height","style","compact","title","desc"];function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},us.apply(this,arguments)}function mO(t,e){return Lme(t)||$me(t,e)||JM(t,e)||Mme()}function Mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $me(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Lme(t){if(Array.isArray(t))return t}function gO(t,e){if(t==null)return{};var n=Vme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ume(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZM(r.key),r)}}function Bme(t,e,n){return e&&Ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zme(t,e,n){return e=Vp(e),Wme(t,QM()?Reflect.construct(e,n||[],Vp(t).constructor):e.apply(t,n))}function Wme(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hme(t)}function Hme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QM=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}function qme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fb(t,e)}function ll(t){return Xme(t)||Kme(t)||JM(t)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JM(t,e){if(t){if(typeof t=="string")return Ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ub(t,e)}}function Kme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xme(t){if(Array.isArray(t))return Ub(t)}function Ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function le(t,e,n){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZM(t){var e=Yme(t,"string");return sl(e)=="symbol"?e:e+""}function Yme(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qme={xAxis:["bottom","top"],yAxis:["left","right"]},Jme={width:"100%",height:"100%"},e$={x:0,y:0};function Ph(t){return t}var Zme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ege=function(e,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return B(B(B({},i),Ut(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return B(B(B({},i),Ut(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return e$},pg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(ll(s),ll(u)):s},[]);return o.length>0?o:e&&e.length&&Z(i)&&Z(a)?e.slice(i,a+1):[]};function t$(t){return t==="number"?[0,"auto"]:void 0}var Bb=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=pg(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var f,c=(f=u.props.data)!==null&&f!==void 0?f:n;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var p=c===void 0?s:c;d=Fd(p,o.dataKey,i)}else d=c&&c[r]||s[r];return d?[].concat(ll(l),[YD(u,d)]):l},[])},vO=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Zme(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=pse(o,s,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,d=Bb(e,n,f,c),p=ege(r,s,f,a);return{activeTooltipIndex:f,activeLabel:c,activePayload:d,activeCoordinate:p}}return null},tge=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,d=e.stackOffset,p=GD(f,a);return r.reduce(function(b,g){var y,_=g.type.defaultProps!==void 0?B(B({},g.type.defaultProps),g.props):g.props,v=_.type,x=_.dataKey,O=_.allowDataOverflow,T=_.allowDuplicatedCategory,I=_.scale,E=_.ticks,S=_.includeHidden,P=_[o];if(b[P])return b;var k=pg(e.data,{graphicalItems:i.filter(function(Q){var oe,ye=o in Q.props?Q.props[o]:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe[o];return ye===P}),dataStartIndex:l,dataEndIndex:u}),C=k.length,j,N,F;Pme(_.domain,O,v)&&(j=ab(_.domain,null,O),p&&(v==="number"||I!=="auto")&&(F=Bu(k,x,"category")));var U=t$(v);if(!j||j.length===0){var H,G=(H=_.domain)!==null&&H!==void 0?H:U;if(x){if(j=Bu(k,x,v),v==="category"&&p){var L=tq(j);T&&L?(N=j,j=Tp(0,C)):T||(j=YP(G,j,g).reduce(function(Q,oe){return Q.indexOf(oe)>=0?Q:[].concat(ll(Q),[oe])},[]))}else if(v==="category")T?j=j.filter(function(Q){return Q!==""&&!ve(Q)}):j=YP(G,j,g).reduce(function(Q,oe){return Q.indexOf(oe)>=0||oe===""||ve(oe)?Q:[].concat(ll(Q),[oe])},[]);else if(v==="number"){var z=bse(k,i.filter(function(Q){var oe,ye,Re=o in Q.props?Q.props[o]:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe[o],ze="hide"in Q.props?Q.props.hide:(ye=Q.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Re===P&&(S||!ze)}),x,a,f);z&&(j=z)}p&&(v==="number"||I!=="auto")&&(F=Bu(k,x,"category"))}else p?j=Tp(0,C):s&&s[P]&&s[P].hasStack&&v==="number"?j=d==="expand"?[0,1]:XD(s[P].stackGroups,l,u):j=qD(k,i.filter(function(Q){var oe=o in Q.props?Q.props[o]:Q.type.defaultProps[o],ye="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return oe===P&&(S||!ye)}),v,f,!0);if(v==="number")j=Vb(c,j,P,a,E),G&&(j=ab(G,j,O));else if(v==="category"&&G){var X=G,ee=j.every(function(Q){return X.indexOf(Q)>=0});ee&&(j=X)}}return B(B({},b),{},le({},P,B(B({},_),{},{axisType:a,domain:j,categoricalDomain:F,duplicateDomain:N,originalDomain:(y=_.domain)!==null&&y!==void 0?y:U,isCategorical:p,layout:f})))},{})},nge=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,d=pg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,b=GD(f,a),g=-1;return r.reduce(function(y,_){var v=_.type.defaultProps!==void 0?B(B({},_.type.defaultProps),_.props):_.props,x=v[o],O=t$("number");if(!y[x]){g++;var T;return b?T=Tp(0,p):s&&s[x]&&s[x].hasStack?(T=XD(s[x].stackGroups,l,u),T=Vb(c,T,x,a)):(T=ab(O,qD(d,r.filter(function(I){var E,S,P=o in I.props?I.props[o]:(E=I.type.defaultProps)===null||E===void 0?void 0:E[o],k="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===x&&!k}),"number",f),i.defaultProps.allowDataOverflow),T=Vb(c,T,x,a)),B(B({},y),{},le({},x,B(B({axisType:a},i.defaultProps),{},{hide:!0,orientation:qn(Qme,"".concat(a,".").concat(g%2),null),domain:T,originalDomain:O,isCategorical:b,layout:f})))}return y},{})},rge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,c="".concat(i,"Id"),d=Gn(f,a),p={};return d&&d.length?p=tge(e,{axes:d,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=nge(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},ige=function(e){var n=Vi(e),r=Yr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ix(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:gp(n,r)}},bO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Sn(n,Js),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},age=function(e){return!e||!e.length?!1:e.some(function(n){var r=ei(n&&n.type);return r&&r.indexOf("Bar")>=0})},wO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oge=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,c=r.children,d=r.margin||{},p=Sn(c,Js),b=Sn(c,eo),g=Object.keys(l).reduce(function(T,I){var E=l[I],S=E.orientation;return!E.mirror&&!E.hide?B(B({},T),{},le({},S,T[S]+E.width)):T},{left:d.left||0,right:d.right||0}),y=Object.keys(o).reduce(function(T,I){var E=o[I],S=E.orientation;return!E.mirror&&!E.hide?B(B({},T),{},le({},S,qn(T,"".concat(S))+E.height)):T},{top:d.top||0,bottom:d.bottom||0}),_=B(B({},y),g),v=_.bottom;p&&(_.bottom+=p.props.height||Js.defaultProps.height),b&&n&&(_=yse(_,i,r,n));var x=u-_.left-_.right,O=f-_.top-_.bottom;return B(B({brushBottom:v},_),{},{width:Math.max(x,0),height:Math.max(O,0)})},sge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},n$=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,c=e.defaultProps,d=function(_,v){var x=v.graphicalItems,O=v.stackGroups,T=v.offset,I=v.updateId,E=v.dataStartIndex,S=v.dataEndIndex,P=_.barSize,k=_.layout,C=_.barGap,j=_.barCategoryGap,N=_.maxBarSize,F=wO(k),U=F.numericAxisName,H=F.cateAxisName,G=age(x),L=[];return x.forEach(function(z,X){var ee=pg(_.data,{graphicalItems:[z],dataStartIndex:E,dataEndIndex:S}),Q=z.type.defaultProps!==void 0?B(B({},z.type.defaultProps),z.props):z.props,oe=Q.dataKey,ye=Q.maxBarSize,Re=Q["".concat(U,"Id")],ze=Q["".concat(H,"Id")],Ht={},Ot=l.reduce(function(Rn,Fr){var Do=v["".concat(Fr.axisType,"Map")],kf=Q["".concat(Fr.axisType,"Id")];Do&&Do[kf]||Fr.axisType==="zAxis"||vo();var _i=Do[kf];return B(B({},Rn),{},le(le({},Fr.axisType,_i),"".concat(Fr.axisType,"Ticks"),Yr(_i)))},Ht),te=Ot[H],de=Ot["".concat(H,"Ticks")],pe=O&&O[Re]&&O[Re].hasStack&&kse(z,O[Re].stackGroups),K=ei(z.type).indexOf("Bar")>=0,Ve=gp(te,de),we=[],st=G&&mse({barSize:P,stackGroups:O,totalSize:sge(Ot,H)});if(K){var Je,Ct,Zn=ve(ye)?N:ye,Ze=(Je=(Ct=gp(te,de,!0))!==null&&Ct!==void 0?Ct:Zn)!==null&&Je!==void 0?Je:0;we=gse({barGap:C,barCategoryGap:j,bandSize:Ze!==Ve?Ze:Ve,sizeList:st[ze],maxBarSize:Zn}),Ze!==Ve&&(we=we.map(function(Rn){return B(B({},Rn),{},{position:B(B({},Rn.position),{},{offset:Rn.position.offset-Ze/2})})}))}var dt=z&&z.type&&z.type.getComposedData;dt&&L.push({props:B(B({},dt(B(B({},Ot),{},{displayedData:ee,props:_,dataKey:oe,item:z,bandSize:Ve,barPosition:we,offset:T,stackedData:pe,layout:k,dataStartIndex:E,dataEndIndex:S}))),{},le(le(le({key:z.key||"item-".concat(X)},U,Ot[U]),H,Ot[H]),"animationId",I)),childIndex:pq(z,_.children),item:z})}),L},p=function(_,v){var x=_.props,O=_.dataStartIndex,T=_.dataEndIndex,I=_.updateId;if(!zT({props:x}))return null;var E=x.children,S=x.layout,P=x.stackOffset,k=x.data,C=x.reverseStackOrder,j=wO(S),N=j.numericAxisName,F=j.cateAxisName,U=Gn(E,r),H=Ise(k,U,"".concat(N,"Id"),"".concat(F,"Id"),P,C),G=l.reduce(function(Q,oe){var ye="".concat(oe.axisType,"Map");return B(B({},Q),{},le({},ye,rge(x,B(B({},oe),{},{graphicalItems:U,stackGroups:oe.axisType===N&&H,dataStartIndex:O,dataEndIndex:T}))))},{}),L=oge(B(B({},G),{},{props:x,graphicalItems:U}),v==null?void 0:v.legendBBox);Object.keys(G).forEach(function(Q){G[Q]=f(x,G[Q],L,Q.replace("Map",""),n)});var z=G["".concat(F,"Map")],X=ige(z),ee=d(x,B(B({},G),{},{dataStartIndex:O,dataEndIndex:T,updateId:I,graphicalItems:U,stackGroups:H,offset:L}));return B(B({formattedGraphicalItems:ee,graphicalItems:U,offset:L,stackGroups:H},X),G)},b=function(y){function _(v){var x,O,T;return Fme(this,_),T=zme(this,_,[v]),le(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(T,"accessibilityManager",new Ame),le(T,"handleLegendBBoxUpdate",function(I){if(I){var E=T.state,S=E.dataStartIndex,P=E.dataEndIndex,k=E.updateId;T.setState(B({legendBBox:I},p({props:T.props,dataStartIndex:S,dataEndIndex:P,updateId:k},B(B({},T.state),{},{legendBBox:I}))))}}),le(T,"handleReceiveSyncEvent",function(I,E,S){if(T.props.syncId===I){if(S===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),le(T,"handleBrushChange",function(I){var E=I.startIndex,S=I.endIndex;if(E!==T.state.dataStartIndex||S!==T.state.dataEndIndex){var P=T.state.updateId;T.setState(function(){return B({dataStartIndex:E,dataEndIndex:S},p({props:T.props,dataStartIndex:E,dataEndIndex:S,updateId:P},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),le(T,"handleMouseEnter",function(I){var E=T.getMouseInfo(I);if(E){var S=B(B({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var P=T.props.onMouseEnter;ge(P)&&P(S,I)}}),le(T,"triggeredAfterMouseMove",function(I){var E=T.getMouseInfo(I),S=E?B(B({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var P=T.props.onMouseMove;ge(P)&&P(S,I)}),le(T,"handleItemMouseEnter",function(I){T.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),le(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),le(T,"handleMouseMove",function(I){I.persist(),T.throttleTriggeredAfterMouseMove(I)}),le(T,"handleMouseLeave",function(I){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var S=T.props.onMouseLeave;ge(S)&&S(E,I)}),le(T,"handleOuterEvent",function(I){var E=dq(I),S=qn(T.props,"".concat(E));if(E&&ge(S)){var P,k;/.*touch.*/i.test(E)?k=T.getMouseInfo(I.changedTouches[0]):k=T.getMouseInfo(I),S((P=k)!==null&&P!==void 0?P:{},I)}}),le(T,"handleClick",function(I){var E=T.getMouseInfo(I);if(E){var S=B(B({},E),{},{isTooltipActive:!0});T.setState(S),T.triggerSyncEvent(S);var P=T.props.onClick;ge(P)&&P(S,I)}}),le(T,"handleMouseDown",function(I){var E=T.props.onMouseDown;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleMouseUp",function(I){var E=T.props.onMouseUp;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),le(T,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseDown(I.changedTouches[0])}),le(T,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&T.handleMouseUp(I.changedTouches[0])}),le(T,"handleDoubleClick",function(I){var E=T.props.onDoubleClick;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"handleContextMenu",function(I){var E=T.props.onContextMenu;if(ge(E)){var S=T.getMouseInfo(I);E(S,I)}}),le(T,"triggerSyncEvent",function(I){T.props.syncId!==void 0&&Wy.emit(Hy,T.props.syncId,I,T.eventEmitterSymbol)}),le(T,"applySyncEvent",function(I){var E=T.props,S=E.layout,P=E.syncMethod,k=T.state.updateId,C=I.dataStartIndex,j=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)T.setState(B({dataStartIndex:C,dataEndIndex:j},p({props:T.props,dataStartIndex:C,dataEndIndex:j,updateId:k},T.state)));else if(I.activeTooltipIndex!==void 0){var N=I.chartX,F=I.chartY,U=I.activeTooltipIndex,H=T.state,G=H.offset,L=H.tooltipTicks;if(!G)return;if(typeof P=="function")U=P(L,I);else if(P==="value"){U=-1;for(var z=0;z<L.length;z++)if(L[z].value===I.activeLabel){U=z;break}}var X=B(B({},G),{},{x:G.left,y:G.top}),ee=Math.min(N,X.x+X.width),Q=Math.min(F,X.y+X.height),oe=L[U]&&L[U].value,ye=Bb(T.state,T.props.data,U),Re=L[U]?{x:S==="horizontal"?L[U].coordinate:ee,y:S==="horizontal"?Q:L[U].coordinate}:e$;T.setState(B(B({},I),{},{activeLabel:oe,activeCoordinate:Re,activePayload:ye,activeTooltipIndex:U}))}else T.setState(I)}),le(T,"renderCursor",function(I){var E,S=T.state,P=S.isTooltipActive,k=S.activeCoordinate,C=S.activePayload,j=S.offset,N=S.activeTooltipIndex,F=S.tooltipAxisBandSize,U=T.getTooltipEventType(),H=(E=I.props.active)!==null&&E!==void 0?E:P,G=T.props.layout,L=I.key||"_recharts-cursor";return D.createElement(Rme,{key:L,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:I,isActive:H,layout:G,offset:j,tooltipAxisBandSize:F,tooltipEventType:U})}),le(T,"renderPolarAxis",function(I,E,S){var P=qn(I,"type.axisType"),k=qn(T.state,"".concat(P,"Map")),C=I.type.defaultProps,j=C!==void 0?B(B({},C),I.props):I.props,N=k&&k[j["".concat(P,"Id")]];return $.cloneElement(I,B(B({},N),{},{className:Pe(P,N.className),key:I.key||"".concat(E,"-").concat(S),ticks:Yr(N,!0)}))}),le(T,"renderPolarGrid",function(I){var E=I.props,S=E.radialLines,P=E.polarAngles,k=E.polarRadius,C=T.state,j=C.radiusAxisMap,N=C.angleAxisMap,F=Vi(j),U=Vi(N),H=U.cx,G=U.cy,L=U.innerRadius,z=U.outerRadius;return $.cloneElement(I,{polarAngles:Array.isArray(P)?P:Yr(U,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:Yr(F,!0).map(function(X){return X.coordinate}),cx:H,cy:G,innerRadius:L,outerRadius:z,key:I.key||"polar-grid",radialLines:S})}),le(T,"renderLegend",function(){var I=T.state.formattedGraphicalItems,E=T.props,S=E.children,P=E.width,k=E.height,C=T.props.margin||{},j=P-(C.left||0)-(C.right||0),N=WD({children:S,formattedGraphicalItems:I,legendWidth:j,legendContent:u});if(!N)return null;var F=N.item,U=gO(N,jme);return $.cloneElement(F,B(B({},U),{},{chartWidth:P,chartHeight:k,margin:C,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),le(T,"renderTooltip",function(){var I,E=T.props,S=E.children,P=E.accessibilityLayer,k=Sn(S,$n);if(!k)return null;var C=T.state,j=C.isTooltipActive,N=C.activeCoordinate,F=C.activePayload,U=C.activeLabel,H=C.offset,G=(I=k.props.active)!==null&&I!==void 0?I:j;return $.cloneElement(k,{viewBox:B(B({},H),{},{x:H.left,y:H.top}),active:G,label:U,payload:G?F:[],coordinate:N,accessibilityLayer:P})}),le(T,"renderBrush",function(I){var E=T.props,S=E.margin,P=E.data,k=T.state,C=k.offset,j=k.dataStartIndex,N=k.dataEndIndex,F=k.updateId;return $.cloneElement(I,{key:I.key||"_recharts-brush",onChange:xh(T.handleBrushChange,I.props.onChange),data:P,x:Z(I.props.x)?I.props.x:C.left,y:Z(I.props.y)?I.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:Z(I.props.width)?I.props.width:C.width,startIndex:j,endIndex:N,updateId:"brush-".concat(F)})}),le(T,"renderReferenceElement",function(I,E,S){if(!I)return null;var P=T,k=P.clipPathId,C=T.state,j=C.xAxisMap,N=C.yAxisMap,F=C.offset,U=I.type.defaultProps||{},H=I.props,G=H.xAxisId,L=G===void 0?U.xAxisId:G,z=H.yAxisId,X=z===void 0?U.yAxisId:z;return $.cloneElement(I,{key:I.key||"".concat(E,"-").concat(S),xAxis:j[L],yAxis:N[X],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:k})}),le(T,"renderActivePoints",function(I){var E=I.item,S=I.activePoint,P=I.basePoint,k=I.childIndex,C=I.isRange,j=[],N=E.props.key,F=E.item.type.defaultProps!==void 0?B(B({},E.item.type.defaultProps),E.item.props):E.item.props,U=F.activeDot,H=F.dataKey,G=B(B({index:k,dataKey:H,cx:S.x,cy:S.y,r:4,fill:Cx(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Se(U,!1)),Ud(U));return j.push(_.renderActiveDot(U,G,"".concat(N,"-activePoint-").concat(k))),P?j.push(_.renderActiveDot(U,B(B({},G),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(k))):C&&j.push(null),j}),le(T,"renderGraphicChild",function(I,E,S){var P=T.filterFormatItem(I,E,S);if(!P)return null;var k=T.getTooltipEventType(),C=T.state,j=C.isTooltipActive,N=C.tooltipAxis,F=C.activeTooltipIndex,U=C.activeLabel,H=T.props.children,G=Sn(H,$n),L=P.props,z=L.points,X=L.isRange,ee=L.baseLine,Q=P.item.type.defaultProps!==void 0?B(B({},P.item.type.defaultProps),P.item.props):P.item.props,oe=Q.activeDot,ye=Q.hide,Re=Q.activeBar,ze=Q.activeShape,Ht=!!(!ye&&j&&G&&(oe||Re||ze)),Ot={};k!=="axis"&&G&&G.props.trigger==="click"?Ot={onClick:xh(T.handleItemMouseEnter,I.props.onClick)}:k!=="axis"&&(Ot={onMouseLeave:xh(T.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:xh(T.handleItemMouseEnter,I.props.onMouseEnter)});var te=$.cloneElement(I,B(B({},P.props),Ot));function de(Fr){return typeof N.dataKey=="function"?N.dataKey(Fr.payload):null}if(Ht)if(F>=0){var pe,K;if(N.dataKey&&!N.allowDuplicatedCategory){var Ve=typeof N.dataKey=="function"?de:"payload.".concat(N.dataKey.toString());pe=Fd(z,Ve,U),K=X&&ee&&Fd(ee,Ve,U)}else pe=z==null?void 0:z[F],K=X&&ee&&ee[F];if(ze||Re){var we=I.props.activeIndex!==void 0?I.props.activeIndex:F;return[$.cloneElement(I,B(B(B({},P.props),Ot),{},{activeIndex:we})),null,null]}if(!ve(pe))return[te].concat(ll(T.renderActivePoints({item:P,activePoint:pe,basePoint:K,childIndex:F,isRange:X})))}else{var st,Je=(st=T.getItemByXY(T.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:te},Ct=Je.graphicalItem,Zn=Ct.item,Ze=Zn===void 0?I:Zn,dt=Ct.childIndex,Rn=B(B(B({},P.props),Ot),{},{activeIndex:dt});return[$.cloneElement(Ze,Rn),null,null]}return X?[te,null,null]:[te,null]}),le(T,"renderCustomized",function(I,E,S){return $.cloneElement(I,B(B({key:"recharts-customized-".concat(S)},T.props),T.state))}),le(T,"renderMap",{CartesianGrid:{handler:Ph,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Ph},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Ph},YAxis:{handler:Ph},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:Ef("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=zj(T.triggeredAfterMouseMove,(O=v.throttleDelay)!==null&&O!==void 0?O:1e3/60),T.state={},T}return qme(_,y),Bme(_,[{key:"componentDidMount",value:function(){var x,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,O=x.children,T=x.data,I=x.height,E=x.layout,S=Sn(O,$n);if(S){var P=S.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=Bb(this.state,T,P,k),j=this.state.tooltipTicks[P].coordinate,N=(this.state.offset.top+I)/2,F=E==="horizontal",U=F?{x:j,y:N}:{y:j,x:N},H=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});H&&(U=B(B({},U),H.props.points[P].tooltipPosition),C=H.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:U};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var T,I;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(x){b0([Sn(x.children,$n)],[Sn(this.props.children,$n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Sn(this.props.children,$n);if(x&&typeof x.props.shared=="boolean"){var O=x.props.shared?"axis":"item";return s.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var O=this.container,T=O.getBoundingClientRect(),I=Fne(T),E={chartX:Math.round(x.pageX-I.left),chartY:Math.round(x.pageY-I.top)},S=T.width/O.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,S);if(!P)return null;var k=this.state,C=k.xAxisMap,j=k.yAxisMap,N=this.getTooltipEventType(),F=vO(this.state,this.props.data,this.props.layout,P);if(N!=="axis"&&C&&j){var U=Vi(C).scale,H=Vi(j).scale,G=U&&U.invert?U.invert(E.chartX):null,L=H&&H.invert?H.invert(E.chartY):null;return B(B({},E),{},{xValue:G,yValue:L},F)}return F?B(B({},E),F):null}},{key:"inRange",value:function(x,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,E=x/T,S=O/T;if(I==="horizontal"||I==="vertical"){var P=this.state.offset,k=E>=P.left&&E<=P.left+P.width&&S>=P.top&&S<=P.top+P.height;return k?{x:E,y:S}:null}var C=this.state,j=C.angleAxisMap,N=C.radiusAxisMap;if(j&&N){var F=Vi(j);return ZP({x:E,y:S},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,O=this.getTooltipEventType(),T=Sn(x,$n),I={};T&&O==="axis"&&(T.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Ud(this.props,this.handleOuterEvent);return B(B({},E),I)}},{key:"addListener",value:function(){Wy.on(Hy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wy.removeListener(Hy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,O,T){for(var I=this.state.formattedGraphicalItems,E=0,S=I.length;E<S;E++){var P=I[E];if(P.item===x||P.props.key===x.key||O===ei(P.item.type)&&T===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,O=this.state.offset,T=O.left,I=O.top,E=O.height,S=O.width;return D.createElement("defs",null,D.createElement("clipPath",{id:x},D.createElement("rect",{x:T,y:I,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(O,T){var I=mO(T,2),E=I[0],S=I[1];return B(B({},O),{},le({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(O,T){var I=mO(T,2),E=I[0],S=I[1];return B(B({},O),{},le({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(x){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(x){var O=this.state,T=O.formattedGraphicalItems,I=O.activeItem;if(T&&T.length)for(var E=0,S=T.length;E<S;E++){var P=T[E],k=P.props,C=P.item,j=C.type.defaultProps!==void 0?B(B({},C.type.defaultProps),C.props):C.props,N=ei(C.type);if(N==="Bar"){var F=(k.data||[]).find(function(L){return Ece(x,L)});if(F)return{graphicalItem:P,payload:F}}else if(N==="RadialBar"){var U=(k.data||[]).find(function(L){return ZP(x,L)});if(U)return{graphicalItem:P,payload:U}}else if(sg(P,I)||lg(P,I)||Kc(P,I)){var H=Afe({graphicalItem:P,activeTooltipItem:I,itemData:j.data}),G=j.activeIndex===void 0?H:j.activeIndex;return{graphicalItem:B(B({},P),{},{childIndex:G}),payload:Kc(P,I)?j.data[H]:P.props.data[H]}}}return null}},{key:"render",value:function(){var x=this;if(!zT(this))return null;var O=this.props,T=O.children,I=O.className,E=O.width,S=O.height,P=O.style,k=O.compact,C=O.title,j=O.desc,N=gO(O,Dme),F=Se(N,!1);if(k)return D.createElement(QI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(_0,us({},F,{width:E,height:S,title:C,desc:j}),this.renderClipPath(),HT(T,this.renderMap)));if(this.props.accessibilityLayer){var U,H;F.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,F.role=(H=this.props.role)!==null&&H!==void 0?H:"application",F.onKeyDown=function(L){x.accessibilityManager.keyboardEvent(L)},F.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return D.createElement(QI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",us({className:Pe("recharts-wrapper",I),style:B({position:"relative",cursor:"default",width:E,height:S},P)},G,{ref:function(z){x.container=z}}),D.createElement(_0,us({},F,{width:E,height:S,title:C,desc:j,style:Jme}),this.renderClipPath(),HT(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);le(b,"displayName",n),le(b,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),le(b,"getDerivedStateFromProps",function(y,_){var v=y.dataKey,x=y.data,O=y.children,T=y.width,I=y.height,E=y.layout,S=y.stackOffset,P=y.margin,k=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var j=bO(y);return B(B(B({},j),{},{updateId:0},p(B(B({props:y},j),{},{updateId:0}),_)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:P,prevChildren:O})}if(v!==_.prevDataKey||x!==_.prevData||T!==_.prevWidth||I!==_.prevHeight||E!==_.prevLayout||S!==_.prevStackOffset||!_s(P,_.prevMargin)){var N=bO(y),F={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},U=B(B({},vO(_,x,E)),{},{updateId:_.updateId+1}),H=B(B(B({},N),F),U);return B(B(B({},H),p(B({props:y},H),_)),{},{prevDataKey:v,prevData:x,prevWidth:T,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:P,prevChildren:O})}if(!b0(O,_.prevChildren)){var G,L,z,X,ee=Sn(O,Js),Q=ee&&(G=(L=ee.props)===null||L===void 0?void 0:L.startIndex)!==null&&G!==void 0?G:k,oe=ee&&(z=(X=ee.props)===null||X===void 0?void 0:X.endIndex)!==null&&z!==void 0?z:C,ye=Q!==k||oe!==C,Re=!ve(x),ze=Re&&!ye?_.updateId:_.updateId+1;return B(B({updateId:ze},p(B(B({props:y},_),{},{updateId:ze,dataStartIndex:Q,dataEndIndex:oe}),_)),{},{prevChildren:O,dataStartIndex:Q,dataEndIndex:oe})}return null}),le(b,"renderActiveDot",function(y,_,v){var x;return $.isValidElement(y)?x=$.cloneElement(y,_):ge(y)?x=y(_):x=D.createElement(Nx,_),D.createElement(ct,{className:"recharts-active-dot",key:v},x)});var g=$.forwardRef(function(_,v){return D.createElement(b,us({},_,{ref:v}))});return g.displayName=b.displayName,g},lge=n$({chartName:"LineChart",GraphicalChild:Cf,axisComponents:[{axisType:"xAxis",AxisComp:wo},{axisType:"yAxis",AxisComp:_o}],formatAxisMap:wM}),r$=n$({chartName:"BarChart",GraphicalChild:Oa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wo},{axisType:"yAxis",AxisComp:_o}],formatAxisMap:wM});const uge=()=>{const{records:t}=Ea(),[e,n]=D.useState(new Date().getMonth()+1),[r,i]=D.useState(new Date().getFullYear()),a=document.documentElement.classList.contains("dark"),o=a?"#9ca3af":"rgba(0,0,0,0.5)",s=a?"#e5e7eb":"#374151",l=a?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",u=a?"#1f2937":"#fff",f=a?"#374151":"#e5e7eb",c=a?"#e5e7eb":"#111827",d=t.filter(x=>parseInt(x.month)===e&&x.year===r),p=TR(d),b=AR(d),g=_z(d),y=PR(t),_=xz(d),v=Object.entries(g).map(([x,O])=>({name:x.charAt(0).toUpperCase()+x.slice(1),value:parseFloat(O.toFixed(2))}));return m.jsxs("div",{className:"space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl sm:text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Dashboard"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Monitor your organization's carbon emissions"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[m.jsx("select",{value:e,onChange:x=>n(Number(x.target.value)),className:"input-base px-4 py-2.5 text-base rounded-lg min-h-[44px] flex-1 sm:flex-none sm:w-40",children:Array.from({length:12},(x,O)=>O+1).map(x=>m.jsx("option",{value:x,children:new Date(2024,x-1).toLocaleString("en-US",{month:"long"})},x))}),m.jsx("select",{value:r,onChange:x=>i(Number(x.target.value)),className:"input-base px-4 py-2.5 text-base rounded-lg min-h-[44px] flex-1 sm:flex-none sm:w-32",children:[2023,2024,2025].map(x=>m.jsx("option",{value:x,children:x},x))})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(dh,{title:"Total Emissions",value:p,unit:"kg COe",icon:"",trend:_.trend,trendDirection:_.trend>0?"up":"down"}),m.jsx(dh,{title:"Scope 1",value:b.scope1,unit:"kg COe",icon:"",trend:5.2,trendDirection:"up"}),m.jsx(dh,{title:"Scope 2",value:b.scope2,unit:"kg COe",icon:"",trend:3.1,trendDirection:"down"}),m.jsx(dh,{title:"Scope 3",value:b.scope3,unit:"kg COe",icon:"",trend:2.8,trendDirection:"down"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 sm:p-6 shadow-soft",children:[m.jsx("h2",{className:"text-base sm:text-lg font-heading font-bold text-neutral-900 dark:text-white mb-4",children:"Emissions Trend (Last 12 Months)"}),y.length>0?m.jsx(B0,{width:"100%",height:300,children:m.jsxs(lge,{data:y,children:[m.jsx(Dp,{strokeDasharray:"3 3",stroke:l}),m.jsx(wo,{dataKey:"month",stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(_o,{stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx($n,{contentStyle:{backgroundColor:u,border:`1px solid ${f}`,borderRadius:"8px",color:c},labelStyle:{color:c},itemStyle:{color:c}}),m.jsx(eo,{wrapperStyle:{color:s}}),m.jsx(Cf,{type:"monotone",dataKey:"total",stroke:"#00a86b",strokeWidth:2,dot:{fill:"#00a86b",r:4},activeDot:{r:6}})]})}):m.jsx("div",{className:"h-80 flex items-center justify-center text-neutral-500",children:"No data available"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 sm:p-6 shadow-soft",children:[m.jsx("h2",{className:"text-base sm:text-lg font-heading font-bold text-neutral-900 dark:text-white mb-4",children:"Emissions by Category"}),v.length>0?m.jsx(B0,{width:"100%",height:300,children:m.jsxs(r$,{data:v,children:[m.jsx(Dp,{strokeDasharray:"3 3",stroke:l}),m.jsx(wo,{dataKey:"name",stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx(_o,{stroke:o,style:{fontSize:"12px",fill:s}}),m.jsx($n,{contentStyle:{backgroundColor:u,border:`1px solid ${f}`,borderRadius:"8px",color:c},labelStyle:{color:c},itemStyle:{color:c}}),m.jsx(Oa,{dataKey:"value",fill:"#00a86b",radius:[8,8,0,0]})]})}):m.jsx("div",{className:"h-80 flex items-center justify-center text-neutral-500",children:"No data available"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 sm:p-6 shadow-soft",children:[m.jsx("h2",{className:"text-base sm:text-lg font-heading font-bold text-neutral-900 dark:text-white mb-4 sm:mb-6",children:"Statistics"}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Average"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:_.average.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Minimum"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:_.minimum.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Maximum"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:_.maximum.toFixed(2)}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:"Total Records"}),m.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:t.length}),m.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"entries"})]})]})]})]})},Ss=t=>{const{label:e,type:n="text",value:r,onChange:i,placeholder:a,required:o=!1,error:s,disabled:l=!1,min:u,max:f,step:c,className:d=""}=t;return m.jsxs("div",{className:`w-full ${d}`,children:[e&&m.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:[e,o&&m.jsx("span",{className:"text-error ml-1",children:"*"})]}),m.jsx("input",{type:n,value:r,onChange:i,placeholder:a,required:o,disabled:l,min:u,max:f,step:c,className:`
          w-full px-4 py-2.5 rounded-lg border-2
          bg-white dark:bg-neutral-700
          text-neutral-900 dark:text-white
          placeholder:text-neutral-500 dark:placeholder:text-neutral-400
          border-neutral-200 dark:border-neutral-600
          focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-900
          focus:outline-none transition-all duration-200
          disabled:bg-neutral-100 dark:disabled:bg-neutral-800
          disabled:text-neutral-500 dark:disabled:text-neutral-400
          disabled:cursor-not-allowed
          ${s?"border-error focus:border-error focus:ring-error focus:ring-opacity-20":""}
        `}),s&&m.jsx("p",{className:"mt-1 text-sm text-error",children:s})]})},He={electricity:{grid:{IN:{value:.708,unit:"kg COe/kWh",source:"CEA India 2024",region:"India"},CN:{value:.555,unit:"kg COe/kWh",source:"IEA 2024",region:"China"},JP:{value:.463,unit:"kg COe/kWh",source:"IEA 2024",region:"Japan"},US:{value:.386,unit:"kg COe/kWh",source:"EPA eGRID 2024",region:"USA"},CA:{value:.12,unit:"kg COe/kWh",source:"Environment Canada 2024",region:"Canada"},GB:{value:.233,unit:"kg COe/kWh",source:"DEFRA 2024",region:"UK"},DE:{value:.42,unit:"kg COe/kWh",source:"UBA Germany 2024",region:"Germany"},FR:{value:.056,unit:"kg COe/kWh",source:"ADEME 2024",region:"France"},NO:{value:.018,unit:"kg COe/kWh",source:"NVE 2024",region:"Norway"},SE:{value:.013,unit:"kg COe/kWh",source:"IEA 2024",region:"Sweden"},AU:{value:.69,unit:"kg COe/kWh",source:"DISER Australia 2024",region:"Australia"},BR:{value:.092,unit:"kg COe/kWh",source:"IEA 2024",region:"Brazil"},WORLD:{value:.475,unit:"kg COe/kWh",source:"IEA 2024",region:"World Average"}},renewable:{solar:{value:.045,unit:"kg COe/kWh",source:"IPCC 2024",notes:"Lifecycle emissions"},wind:{value:.011,unit:"kg COe/kWh",source:"IPCC 2024",notes:"Lifecycle emissions"},hydro:{value:.024,unit:"kg COe/kWh",source:"IPCC 2024",notes:"Lifecycle emissions"},nuclear:{value:.012,unit:"kg COe/kWh",source:"IPCC 2024",notes:"Lifecycle emissions"}}},fuels:{liquid:{petrol:{value:2.31,unit:"kg COe/liter",source:"DEFRA 2024",notes:"Gasoline"},diesel:{value:2.68,unit:"kg COe/liter",source:"DEFRA 2024"},biodiesel:{value:1.35,unit:"kg COe/liter",source:"EPA 2024",notes:"B100"},ethanol:{value:1.52,unit:"kg COe/liter",source:"EPA 2024",notes:"E100"},kerosene:{value:2.52,unit:"kg COe/liter",source:"DEFRA 2024",notes:"Jet fuel"}},gas:{naturalGas:{value:2.02,unit:"kg COe/m",source:"EPA 2024"},lpg:{value:1.51,unit:"kg COe/liter",source:"DEFRA 2024",notes:"Liquefied Petroleum Gas"},cng:{value:2.75,unit:"kg COe/kg",source:"EPA 2024",notes:"Compressed Natural Gas"},propane:{value:2.98,unit:"kg COe/kg",source:"EPA 2024"}},solid:{coal:{value:2.42,unit:"kg COe/kg",source:"IPCC 2024",notes:"Bituminous coal"},lignite:{value:1.05,unit:"kg COe/kg",source:"IPCC 2024",notes:"Brown coal"},wood:{value:.39,unit:"kg COe/kg",source:"DEFRA 2024",notes:"Sustainable forestry"},peat:{value:.95,unit:"kg COe/kg",source:"IPCC 2024"}}},transport:{aviation:{domestic:{value:.255,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Domestic flight"},shortHaul:{value:.156,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Under 3,700 km"},longHaul:{value:.15,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Over 3,700 km"},international:{value:.195,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Average international"}},road:{petrolCar:{value:.17,unit:"kg COe/km",source:"DEFRA 2024",notes:"Average petrol car"},dieselCar:{value:.164,unit:"kg COe/km",source:"DEFRA 2024",notes:"Average diesel car"},hybridCar:{value:.11,unit:"kg COe/km",source:"DEFRA 2024",notes:"Hybrid vehicle"},electricCar:{value:.053,unit:"kg COe/km",source:"DEFRA 2024",notes:"EV with UK grid"},motorcycle:{value:.113,unit:"kg COe/km",source:"DEFRA 2024",notes:"Average motorcycle"},bus:{value:.089,unit:"kg COe/pkm",source:"EPA 2024",notes:"City bus"},coach:{value:.028,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Long-distance coach"},lightTruck:{value:.214,unit:"kg COe/tkm",source:"EPA 2024",notes:"Light goods vehicle"},heavyTruck:{value:.083,unit:"kg COe/tkm",source:"EPA 2024",notes:"Heavy goods vehicle"}},rail:{passenger:{value:.035,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"National rail"},metro:{value:.029,unit:"kg COe/pkm",source:"EPA 2024",notes:"Urban metro"},tram:{value:.028,unit:"kg COe/pkm",source:"EPA 2024"},freight:{value:.022,unit:"kg COe/tkm",source:"DEFRA 2024",notes:"Rail freight"}},sea:{ferry:{value:.113,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Passenger ferry"},cargo:{value:.016,unit:"kg COe/tkm",source:"IMO 2024",notes:"Container ship"},cruise:{value:.247,unit:"kg COe/pkm",source:"DEFRA 2024",notes:"Cruise ship"}}},waste:{disposal:{landfill:{value:.466,unit:"kg COe/kg",source:"EPA 2024",notes:"Municipal solid waste"},incineration:{value:.021,unit:"kg COe/kg",source:"DEFRA 2024",notes:"Energy recovery"},composting:{value:.021,unit:"kg COe/kg",source:"EPA 2024",notes:"Organic waste"},recycling:{value:-.156,unit:"kg COe/kg",source:"EPA 2024",notes:"Avoided emissions"}},materialSpecific:{paper:{value:.013,unit:"kg COe/kg",source:"EPA 2024",notes:"Recycled paper"},plastic:{value:.045,unit:"kg COe/kg",source:"EPA 2024",notes:"Recycled plastic"},glass:{value:.012,unit:"kg COe/kg",source:"EPA 2024",notes:"Recycled glass"},metal:{value:.019,unit:"kg COe/kg",source:"EPA 2024",notes:"Recycled metal"},organic:{value:.021,unit:"kg COe/kg",source:"EPA 2024",notes:"Composted organic"}}},water:{supply:{treated:{value:.344,unit:"kg COe/m",source:"EPA 2024",notes:"Water treatment & supply"},untreated:{value:.15,unit:"kg COe/m",source:"DEFRA 2024",notes:"Untreated water supply"}},wastewater:{treatment:{value:.708,unit:"kg COe/m",source:"EPA 2024",notes:"Wastewater treatment"}}},materials:{construction:{cement:{value:.93,unit:"kg COe/kg",source:"IPCC 2024"},concrete:{value:.159,unit:"kg COe/kg",source:"IPCC 2024"},steel:{value:1.85,unit:"kg COe/kg",source:"World Steel 2024"},aluminum:{value:8.2,unit:"kg COe/kg",source:"IAI 2024",notes:"Primary aluminum"},brick:{value:.23,unit:"kg COe/kg",source:"ICE Database 2024"},timber:{value:-.9,unit:"kg COe/kg",source:"IPCC 2024",notes:"Carbon sequestration"}},packaging:{paper:{value:.917,unit:"kg COe/kg",source:"DEFRA 2024"},cardboard:{value:1.05,unit:"kg COe/kg",source:"DEFRA 2024"},plasticPET:{value:2.53,unit:"kg COe/kg",source:"DEFRA 2024",notes:"PET plastic"},plasticHDPE:{value:1.95,unit:"kg COe/kg",source:"DEFRA 2024",notes:"HDPE plastic"},glass:{value:.81,unit:"kg COe/kg",source:"DEFRA 2024"},aluminum:{value:8.2,unit:"kg COe/kg",source:"DEFRA 2024",notes:"Aluminum can"}}},refrigerants:{r134a:{value:1430,unit:"kg COe/kg",source:"IPCC AR6",notes:"HFC-134a, 100-year GWP"},r410a:{value:2088,unit:"kg COe/kg",source:"IPCC AR6",notes:"R-410A refrigerant"},r32:{value:675,unit:"kg COe/kg",source:"IPCC AR6",notes:"HFC-32"},r404a:{value:3922,unit:"kg COe/kg",source:"IPCC AR6",notes:"R-404A"}},agriculture:{livestock:{beef:{value:27,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Beef production"},lamb:{value:24.5,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Lamb production"},pork:{value:7.2,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Pork production"},chicken:{value:6.1,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Chicken production"},fish:{value:5.1,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Farmed fish"},eggs:{value:4.5,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Egg production"},milk:{value:1.9,unit:"kg COe/liter",source:"Poore & Nemecek 2018",notes:"Dairy milk"}},crops:{rice:{value:2.7,unit:"kg COe/kg",source:"Poore & Nemecek 2018"},wheat:{value:.6,unit:"kg COe/kg",source:"Poore & Nemecek 2018"},vegetables:{value:.5,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Average vegetables"},fruits:{value:.4,unit:"kg COe/kg",source:"Poore & Nemecek 2018",notes:"Average fruits"}}}};class cge{async calculateElectricity(e,n="WORLD"){try{const r=n.toUpperCase(),i=He.electricity.grid[r]||He.electricity.grid.WORLD,a=e*i.value;return{success:!0,data:{type:"electricity",value:e,unit:"kWh",co2e:parseFloat(a.toFixed(3)),co2eUnit:"kg",factors:{gridFactor:i.value,region:i.region,source:i.source,notes:`Grid emission factor for ${i.region}: ${i.value} ${i.unit}`}}}}catch{return{success:!1,error:"Failed to calculate electricity emissions"}}}async calculateFuel(e,n="diesel"){try{let r;switch(n){case"diesel":r=He.fuels.liquid.diesel;break;case"petrol":r=He.fuels.liquid.petrol;break;case"lpg":r=He.fuels.gas.lpg;break;case"cng":r=He.fuels.gas.cng;break;case"naturalGas":r=He.fuels.gas.naturalGas;break;case"biodiesel":r=He.fuels.liquid.biodiesel;break;case"ethanol":r=He.fuels.liquid.ethanol;break;default:r=He.fuels.liquid.diesel}const i=e*r.value;return{success:!0,data:{type:"fuel",value:e,unit:r.unit.split("/")[1],co2e:parseFloat(i.toFixed(3)),co2eUnit:"kg",factors:{fuelType:n,emissionFactor:r.value,source:r.source,notes:`${n.toUpperCase()} - ${r.source}`}}}}catch{return{success:!1,error:"Failed to calculate fuel emissions"}}}async calculateTravel(e,n="car"){try{let r;switch(n){case"flight":r=He.transport.aviation.domestic;break;case"car":r=He.transport.road.petrolCar;break;case"electricCar":r=He.transport.road.electricCar;break;case"train":r=He.transport.rail.passenger;break;case"metro":r=He.transport.rail.metro;break;case"bus":r=He.transport.road.bus;break;case"motorcycle":r=He.transport.road.motorcycle;break;default:r=He.transport.road.petrolCar}const i=e*r.value;return{success:!0,data:{type:"travel",value:e,unit:"km",co2e:parseFloat(i.toFixed(3)),co2eUnit:"kg",factors:{mode:n,emissionFactor:r.value,source:r.source,notes:r.notes||`${n.toUpperCase()} - ${r.source}`}}}}catch{return{success:!1,error:"Failed to calculate travel emissions"}}}async calculateWaste(e,n="landfill"){try{let r;switch(n){case"landfill":r=He.waste.disposal.landfill;break;case"recycled":r=He.waste.disposal.recycling;break;case"composting":case"organic":r=He.waste.disposal.composting;break;case"incineration":r=He.waste.disposal.incineration;break;default:r=He.waste.disposal.landfill}const i=e*r.value;return{success:!0,data:{type:"waste",value:e,unit:"kg",co2e:parseFloat(i.toFixed(3)),co2eUnit:"kg",factors:{wasteType:n,emissionFactor:r.value,source:r.source,notes:r.notes||`${n.toUpperCase()} - ${r.source}`}}}}catch{return{success:!1,error:"Failed to calculate waste emissions"}}}async calculateWater(e,n=!1){try{const r=He.water.supply.treated;let i=r.value;if(n){const o=He.water.wastewater.treatment;i+=o.value}const a=e*i;return{success:!0,data:{type:"water",value:e,unit:"m",co2e:parseFloat(a.toFixed(3)),co2eUnit:"kg",factors:{emissionFactor:i,source:r.source,notes:n?`Water supply + wastewater treatment - ${r.source}`:r.notes||`Water supply - ${r.source}`}}}}catch{return{success:!1,error:"Failed to calculate water emissions"}}}}const Tr=new cge,fge=()=>{const{records:t,addRecord:e,updateRecord:n,deleteRecord:r,setError:i,setSuccess:a,error:o}=Ea(),[s,l]=D.useState("electricity"),[u,f]=D.useState(new Date().getMonth()+1),[c,d]=D.useState(new Date().getFullYear()),[p,b]=D.useState(""),[g,y]=D.useState("kWh"),[_,v]=D.useState(!1),[x,O]=D.useState(null),T={electricity:["kWh","MWh"],fuel:["liters","gallons"],water:["m","liters"],waste:["kg","tons"],travel:["km","miles"]},I=async P=>{if(P.preventDefault(),!p||Number(p)<=0){i("Please enter a valid value");return}v(!0);try{let k;switch(s){case"electricity":k=await Tr.calculateElectricity(Number(p),"IN");break;case"fuel":k=await Tr.calculateFuel(Number(p),"diesel");break;case"water":k=await Tr.calculateWater(Number(p));break;case"waste":k=await Tr.calculateWaste(Number(p),"landfill");break;case"travel":k=await Tr.calculateTravel(Number(p),"car");break}k.success&&k.data?(x?(await n(x,{month:u.toString(),year:c,category:s,value:Number(p),unit:g,co2e:k.data.co2e,notes:`Auto-calculated from ${s}`}),a(`Record updated! COe: ${fn(k.data.co2e)} kg`)):(await e({month:u.toString(),year:c,category:s,value:Number(p),unit:g,co2e:k.data.co2e,notes:`Auto-calculated from ${s}`}),a(`Record added! COe: ${fn(k.data.co2e)} kg`)),b(""),O(null),setTimeout(()=>a(null),3e3)):i(k.error||"Failed to calculate emissions")}catch{i("An error occurred. Please try again.")}finally{v(!1)}},E=P=>{f(Number(P.month)),d(Number(P.year)),b(P.value.toString()),y(P.unit),l(P.category),O(P.id)},S=P=>{window.confirm("Are you sure you want to delete this record?")&&(r(P),a("Record deleted."),setTimeout(()=>a(null),2e3))};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Data Entry"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Enter monthly activity data for emissions calculation"})]}),o&&m.jsx("div",{className:"bg-error text-white p-4 rounded-lg",children:o}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 sm:p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-heading font-bold mb-4 sm:mb-6 text-neutral-900 dark:text-white",children:"Add New Record"}),m.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:["electricity","fuel","water","waste","travel"].map(P=>m.jsx("button",{onClick:()=>l(P),className:`px-3 py-2 sm:px-4 rounded-lg font-medium whitespace-nowrap transition-all text-sm sm:text-base min-h-[44px] ${s===P?"bg-primary-500 text-white":"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))}),m.jsxs("form",{onSubmit:I,className:"space-y-4 sm:space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsx(Ss,{label:"Month",type:"number",value:u,onChange:P=>f(Number(P.target.value)),min:1,max:12}),m.jsx(Ss,{label:"Year",type:"number",value:c,onChange:P=>d(Number(P.target.value)),min:2020})]}),m.jsx(Ss,{label:`${s.charAt(0).toUpperCase()+s.slice(1)} Value`,type:"number",value:p,onChange:P=>b(P.target.value),placeholder:"Enter value",required:!0,step:.01,min:0}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Unit"}),m.jsx("select",{value:g,onChange:P=>y(P.target.value),className:"input-base",children:T[s].map(P=>m.jsx("option",{value:P,children:P},P))})]}),m.jsx("button",{type:"submit",disabled:_,className:"w-full btn-primary",children:_?"Calculating...":"Add Record"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 sm:p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-heading font-bold mb-4 sm:mb-6 text-neutral-900 dark:text-white",children:"Recent Records"}),t.length===0?m.jsx("div",{className:"text-center py-12 text-neutral-500",children:m.jsx("p",{children:"No records yet. Add your first entry above!"})}):m.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.slice(-10).reverse().map(P=>m.jsx("div",{className:"p-3 sm:p-4 bg-neutral-100 dark:bg-neutral-700 rounded-lg",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:P.category.charAt(0).toUpperCase()+P.category.slice(1)}),m.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[P.month,"/",P.year]})]}),m.jsxs("div",{className:"flex flex-col items-end gap-1",children:[m.jsxs("p",{className:"font-bold text-primary-600 dark:text-primary-400",children:[fn(P.value)," ",P.unit]}),m.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[fn(P.co2e||0)," kg COe"]}),m.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap justify-end",children:[m.jsx("button",{className:"px-3 py-2 text-sm rounded bg-primary-500 text-white hover:bg-primary-600 min-h-[36px] font-medium",onClick:()=>E(P),children:"Edit"}),m.jsx("button",{className:"px-3 py-2 text-sm rounded bg-error text-white hover:bg-red-600 min-h-[36px] font-medium",onClick:()=>S(P.id),children:"Delete"})]})]})]})},P.id))})]})]})]})},hge=()=>{const[t,e]=D.useState("electricity"),[n,r]=D.useState(""),[i,a]=D.useState(null),[o,s]=D.useState(!1),l=async u=>{if(u.preventDefault(),!(!n||Number(n)<=0)){s(!0);try{let f;switch(t){case"electricity":f=await Tr.calculateElectricity(Number(n),"IN");break;case"fuel":f=await Tr.calculateFuel(Number(n),"diesel");break;case"travel":f=await Tr.calculateTravel(Number(n),"car");break;case"waste":f=await Tr.calculateWaste(Number(n),"landfill");break;case"water":f=await Tr.calculateWater(Number(n));break}f.success&&a(f.data)}catch(f){console.error(f)}finally{s(!1)}}};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Carbon Calculator"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Convert your activities into CO equivalents"})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6",children:"Calculate Emissions"}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Activity Type"}),m.jsxs("select",{value:t,onChange:u=>e(u.target.value),className:"input-base",children:[m.jsx("option",{value:"electricity",children:"Electricity (kWh)"}),m.jsx("option",{value:"fuel",children:"Fuel (liters)"}),m.jsx("option",{value:"travel",children:"Travel (km)"}),m.jsx("option",{value:"waste",children:"Waste (kg)"}),m.jsx("option",{value:"water",children:"Water (m)"})]})]}),m.jsx(Ss,{label:"Value",type:"number",value:n,onChange:u=>r(u.target.value),placeholder:"Enter value",step:.01,min:0}),m.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary",children:o?"Calculating...":"Calculate COe"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-xl font-heading font-bold mb-6",children:"Results"}),i?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"text-center p-6 bg-primary-50 dark:bg-primary-900 rounded-lg",children:[m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 uppercase tracking-wide",children:"CO Emissions"}),m.jsx("p",{className:"text-5xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:fn(i.co2e,2)}),m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Input:"}),m.jsxs("span",{className:"font-medium",children:[fn(i.value,2)," ",i.unit]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Activity:"}),m.jsx("span",{className:"font-medium capitalize",children:i.type})]})]}),i.factors&&m.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-700 rounded-lg text-sm",children:[m.jsx("p",{className:"font-medium mb-2",children:"Calculation Details:"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:i.factors.notes})]})]}):m.jsx("div",{className:"text-center py-12 text-neutral-500",children:m.jsx("p",{children:"Enter values and calculate to see results"})})]})]})]})};class dge{constructor(){Xl(this,"online",navigator.onLine);Xl(this,"listeners",[]);if(window.addEventListener("online",()=>{this.online=!0,this.notifyListeners()}),window.addEventListener("offline",()=>{this.online=!1,this.notifyListeners()}),"connection"in navigator){const e=navigator.connection;e==null||e.addEventListener("change",()=>{this.checkConnectionQuality()})}}isOnline(){return this.online}onStatusChange(e){return this.listeners.push(e),()=>{const n=this.listeners.indexOf(e);n>-1&&this.listeners.splice(n,1)}}notifyListeners(){this.listeners.forEach(e=>e(this.online))}checkConnectionQuality(){if("connection"in navigator){const e=navigator.connection,n=e==null?void 0:e.effectiveType,r=e==null?void 0:e.downlink;console.log("Connection quality:",{effectiveType:n,downlink:r})}}async testConnectivity(e="https://www.google.com/favicon.ico"){try{return await fetch(e,{method:"HEAD",mode:"no-cors",cache:"no-cache"}),!0}catch{return!1}}}const i$=new dge;async function pge(t,e=3,n=1e3){let r;for(let i=0;i<=e;i++)try{return await t()}catch(a){if(r=a,i===e)break;if(!i$.isOnline())throw new Error("No internet connection available");const o=n*Math.pow(2,i)+Math.random()*1e3;await new Promise(s=>setTimeout(s,o))}throw r}function zb(t){var e,n;return i$.isOnline()?(t==null?void 0:t.code)==="unavailable"?"Service temporarily unavailable. Please try again in a few moments.":(e=t==null?void 0:t.message)!=null&&e.includes("timeout")?"Request timed out. Please check your connection and try again.":(n=t==null?void 0:t.message)!=null&&n.includes("quota")?"Too many requests. Please wait a moment before trying again.":"Something went wrong. Please try again.":"No internet connection. Please check your network and try again."}class mge{constructor(){Xl(this,"baseURL","https://api.worldbank.org/v2");Xl(this,"indicators",{co2PerCapita:"EN.ATM.CO2E.PC",co2Total:"EN.ATM.CO2E.KT",co2GDPIntensity:"EN.ATM.CO2E.PP.GD",ghgTotal:"EN.ATM.GHGT.KT.CE",electricityFromCoal:"EG.ELC.COAL.ZS",renewableEnergy:"EG.FEC.RNEW.ZS"})}async fetchWorldBankData(e,n,r=2020,i=2023){return pge(async()=>{const a=n.join(";"),o=`${this.baseURL}/country/${a}/indicator/${e}?date=${r}:${i}&format=json&per_page=1000`,s=await fetch(o,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!s.ok)throw new Error(`World Bank API error: ${s.status} ${s.statusText}`);const l=await s.json();return Array.isArray(l)&&l.length>1?{page:l[0].page,pages:l[0].pages,per_page:l[0].per_page,total:l[0].total,data:l[1]}:null},2,2e3)}async getCO2PerCapita(e=["USA","CHN","IND","DEU","GBR","WLD"]){try{const n=await this.fetchWorldBankData(this.indicators.co2PerCapita,e);if(!n||!n.data||n.data.length===0)return{success:!1,error:zb(new Error("No data available from World Bank API")),data:[]};const r=[],i=new Map;return n.data.forEach(a=>{if(a.value!==null){const o=i.get(a.country.value);(!o||parseInt(a.date)>parseInt(o.date))&&i.set(a.country.value,a)}}),i.forEach(a=>{r.push({industry:a.country.value,region:a.countryiso3code,year:parseInt(a.date),avgEmissions:parseFloat(a.value.toFixed(3)),unit:"tCOe/capita/year",dataSource:"World Bank Open Data"})}),{success:!0,data:r}}catch(n){return{success:!1,error:zb(n),data:[]}}}async getGHGEmissions(e=["USA","CHN","IND","DEU","GBR"]){try{const n=await this.fetchWorldBankData(this.indicators.ghgTotal,e);if(!n||!n.data)throw new Error("No GHG data received");const r=[],i=new Map;return n.data.forEach(a=>{if(a.value!==null){const o=i.get(a.country.value);(!o||parseInt(a.date)>parseInt(o.date))&&i.set(a.country.value,a)}}),i.forEach(a=>{r.push({industry:`${a.country.value} Total GHG`,region:a.countryiso3code,year:parseInt(a.date),avgEmissions:parseFloat((a.value/1e3).toFixed(2)),unit:"MtCOe/year",dataSource:"World Bank Open Data"})}),{success:!0,data:r}}catch(n){return{success:!1,error:n.message||"Failed to fetch GHG data"}}}async getRenewableEnergyData(e=["USA","CHN","IND","DEU","GBR","BRA","NOR"]){try{const n=await this.fetchWorldBankData(this.indicators.renewableEnergy,e);if(!n||!n.data)throw new Error("No renewable energy data received");const r=[],i=new Map;return n.data.forEach(a=>{if(a.value!==null){const o=i.get(a.country.value);(!o||parseInt(a.date)>parseInt(o.date))&&i.set(a.country.value,a)}}),i.forEach(a=>{r.push({country:a.country.value,code:a.countryiso3code,year:parseInt(a.date),renewablePercent:parseFloat(a.value.toFixed(2))})}),{success:!0,data:r}}catch(n){return{success:!1,error:n.message||"Failed to fetch renewable energy data"}}}async getRegionalBenchmarks(){try{const e=await this.getCO2PerCapita(["USA","CHN","IND","DEU","GBR","JPN","CAN","AUS","BRA","ZAF","WLD"]);if(e.success&&e.data)return e;throw new Error("Failed to fetch benchmark data")}catch(e){return{success:!1,error:e.message||"Failed to fetch regional benchmarks"}}}async getIndustryBenchmark(e,n="USA"){try{const r=await this.getCO2PerCapita([n]);if(!r.success||!r.data||r.data.length===0)throw new Error("No data available for region");const i=r.data[0],o={manufacturing:2.5,it:.8,technology:.8,hospitality:1.5,retail:1.2,healthcare:1.1,education:.9,finance:.7,construction:3,agriculture:2}[e.toLowerCase()]||1.5,s=i.avgEmissions*o;return{success:!0,data:{industry:e.charAt(0).toUpperCase()+e.slice(1),region:i.industry,year:i.year,avgEmissions:parseFloat(s.toFixed(3)),unit:"tCOe/employee/year",dataSource:"World Bank (estimated)"}}}catch(r){return{success:!1,error:r.message||"Failed to fetch industry benchmark"}}}}const _O=new mge;class gge{async getIndustryBenchmark(e,n="USA"){try{const r=await _O.getIndustryBenchmark(e,n);return r.success&&r.data?r:this.getEstimatedBenchmark(e,n)}catch(r){return console.error("Error fetching industry benchmark:",r),{success:!1,error:zb(r)}}}async getRegionalBenchmarks(){try{const e=await _O.getRegionalBenchmarks();return e.success&&e.data&&e.data.length>0?e:(console.log("Using fallback benchmark data (World Bank API unavailable)"),this.getFallbackBenchmarks())}catch(e){return console.error("Error fetching regional benchmarks:",e),this.getFallbackBenchmarks()}}async getEstimatedBenchmark(e,n){const r={manufacturing:2.5,it:.8,technology:.8,hospitality:1.5,retail:1.2,healthcare:1.1,education:.9,finance:.7,construction:3,agriculture:2},i={USA:14.2,IND:1.9,CHN:7.4,DEU:8.1,GBR:5.2,JPN:8.5,CAN:15.4,AUS:15},a=r[e.toLowerCase()]||1.5,s=(i[n.toUpperCase()]||4.5)*a;return{success:!0,data:{industry:e.charAt(0).toUpperCase()+e.slice(1),region:n.toUpperCase(),year:2023,avgEmissions:parseFloat(s.toFixed(3)),unit:"tCOe/employee/year",dataSource:"Estimated (IPCC)"}}}async getFallbackBenchmarks(){return{success:!0,data:[{industry:"United States",region:"USA",year:2023,avgEmissions:14.9,unit:"tCOe/capita/year",dataSource:"US EPA 2023"},{industry:"China",region:"CHN",year:2023,avgEmissions:8,unit:"tCOe/capita/year",dataSource:"IEA 2023"},{industry:"India",region:"IND",year:2023,avgEmissions:2,unit:"tCOe/capita/year",dataSource:"CEA India 2023"},{industry:"Germany",region:"DEU",year:2023,avgEmissions:7.9,unit:"tCOe/capita/year",dataSource:"Eurostat 2023"},{industry:"United Kingdom",region:"GBR",year:2023,avgEmissions:5,unit:"tCOe/capita/year",dataSource:"DEFRA 2023"},{industry:"Japan",region:"JPN",year:2023,avgEmissions:8.3,unit:"tCOe/capita/year",dataSource:"IEA 2023"},{industry:"Canada",region:"CAN",year:2023,avgEmissions:14.2,unit:"tCOe/capita/year",dataSource:"Environment Canada 2023"},{industry:"Australia",region:"AUS",year:2023,avgEmissions:15.3,unit:"tCOe/capita/year",dataSource:"Australia DoE 2023"},{industry:"Brazil",region:"BRA",year:2023,avgEmissions:2.3,unit:"tCOe/capita/year",dataSource:"IEA 2023"},{industry:"France",region:"FRA",year:2023,avgEmissions:4.6,unit:"tCOe/capita/year",dataSource:"Eurostat 2023"},{industry:"World Average",region:"WLD",year:2023,avgEmissions:4.7,unit:"tCOe/capita/year",dataSource:"IPCC 2023"}]}}}const yge=new gge,vge=({currentPage:t,totalPages:e,onPageChange:n,className:r=""})=>{if(e<=1)return null;const i=()=>{const o=[],s=[];for(let l=Math.max(2,t-2);l<=Math.min(e-1,t+2);l++)o.push(l);return t-2>2?s.push(1,"..."):s.push(1),s.push(...o),t+2<e-1?s.push("...",e):e>1&&s.push(e),s};return m.jsxs("div",{className:`flex items-center justify-center space-x-1 mt-6 ${r}`,children:[m.jsx("button",{onClick:()=>n(t-1),disabled:t===1,className:"px-3 py-2 text-sm font-medium text-neutral-500 bg-white border border-neutral-300 rounded-md hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-neutral-800 dark:border-neutral-600 dark:text-neutral-400 dark:hover:bg-neutral-700",children:""}),i().map((a,o)=>m.jsx("button",{onClick:()=>typeof a=="number"&&n(a),disabled:a==="...",className:`px-3 py-2 text-sm font-medium rounded-md ${a===t?"bg-primary-600 text-white":a==="..."?"text-neutral-500 cursor-default":"text-neutral-500 bg-white border border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:border-neutral-600 dark:text-neutral-400 dark:hover:bg-neutral-700"}`,children:a},o)),m.jsx("button",{onClick:()=>n(t+1),disabled:t===e,className:"px-3 py-2 text-sm font-medium text-neutral-500 bg-white border border-neutral-300 rounded-md hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-neutral-800 dark:border-neutral-600 dark:text-neutral-400 dark:hover:bg-neutral-700",children:""})]})},bge=()=>{const[t,e]=D.useState([]),[n,r]=D.useState(!0),[i,a]=D.useState(1),o=5;D.useEffect(()=>{(async()=>{const p=await yge.getRegionalBenchmarks();p.success&&e(p.data||[]),r(!1)})()},[]);const s=Math.ceil(t.length/o),l=(i-1)*o,u=t.slice(l,l+o),f=d=>{a(d),window.scrollTo({top:0,behavior:"smooth"})},c=t.slice(0,4).map(d=>({name:d.industry,emissions:d.avgEmissions}));return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Benchmarks"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Compare your emissions with industry standards"})]}),n?m.jsx("div",{className:"text-center py-12",children:"Loading..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Emissions Comparison"}),c.length>0&&m.jsx(B0,{width:"100%",height:300,children:m.jsxs(r$,{data:c,children:[m.jsx(Dp,{strokeDasharray:"3 3"}),m.jsx(wo,{dataKey:"name"}),m.jsx(_o,{}),m.jsx($n,{}),m.jsx(Oa,{dataKey:"emissions",fill:"#00a86b"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft overflow-x-auto",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Regional Benchmarks"}),m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Industry"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Region"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Avg Emissions"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Unit"}),m.jsx("th",{className:"text-left py-2 px-4 font-medium",children:"Source"})]})}),m.jsx("tbody",{children:u.map((d,p)=>m.jsxs("tr",{className:"border-b border-neutral-100 dark:border-neutral-700",children:[m.jsx("td",{className:"py-3 px-4",children:d.industry}),m.jsx("td",{className:"py-3 px-4",children:d.region}),m.jsx("td",{className:"py-3 px-4 font-medium",children:fn(d.avgEmissions,2)}),m.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:d.unit}),m.jsx("td",{className:"py-3 px-4 text-primary-600 dark:text-primary-400",children:d.dataSource})]},p))})]}),m.jsx(vge,{currentPage:i,totalPages:s,onPageChange:f})]})]})]})},wge=[{id:"1",title:"Shift Peak Load Operations",description:"Your grid carbon intensity is high between 2-6 PM",impact:4,cost:"low",category:"Energy",estimatedSavings:15,details:"Rescheduling energy-intensive operations to 10 AM - 1 PM can reduce emissions by 12-15%."},{id:"2",title:"Upgrade to LED Lighting",description:"Replace incandescent and fluorescent with LED bulbs",impact:4,cost:"medium",category:"Efficiency",estimatedSavings:20,details:"LED bulbs consume 75% less energy and last 25x longer than incandescent bulbs."},{id:"3",title:"Implement Renewable Energy",description:"Install solar panels on facility rooftops",impact:5,cost:"high",category:"Renewable",estimatedSavings:40,details:"Solar panels can offset 30-50% of your facility's electricity consumption."},{id:"4",title:"Optimize Transportation",description:"Encourage carpooling and public transit for employee commutes",impact:3,cost:"low",category:"Travel",estimatedSavings:10,details:"Reducing individual car commutes by 50% can cut transportation emissions significantly."},{id:"5",title:"Waste Reduction Program",description:"Implement a comprehensive waste segregation system",impact:2,cost:"low",category:"Waste",estimatedSavings:8,details:"Proper waste management and recycling can reduce landfill emissions by 60%."},{id:"6",title:"Smart Building Automation",description:"Install sensors and automation for HVAC and lighting systems",impact:4,cost:"medium",category:"Efficiency",estimatedSavings:25,details:"Automated systems can reduce energy consumption by 20-30% through intelligent scheduling and occupancy detection."},{id:"7",title:"Green Procurement Policy",description:"Prioritize suppliers with sustainable practices and low-carbon products",impact:3,cost:"low",category:"Supply Chain",estimatedSavings:12,details:"Choosing suppliers with verified carbon reduction programs can lower your scope 3 emissions significantly."},{id:"8",title:"Employee Training Program",description:"Conduct regular sustainability awareness and energy conservation training",impact:2,cost:"low",category:"Behavioral",estimatedSavings:8,details:"Well-informed employees can reduce energy waste by 10-15% through conscious behavioral changes."},{id:"9",title:"Water Conservation Measures",description:"Install low-flow fixtures and implement water recycling systems",impact:3,cost:"medium",category:"Water",estimatedSavings:18,details:"Reducing water usage by 30% also reduces the energy required for water treatment and heating."},{id:"10",title:"Electric Vehicle Fleet",description:"Transition company vehicles to electric or hybrid models",impact:4,cost:"high",category:"Travel",estimatedSavings:35,details:"Electric vehicles produce zero tailpipe emissions and can reduce transportation costs over time."},{id:"11",title:"Carbon Offsetting Program",description:"Invest in verified carbon offset projects (forests, renewable energy)",impact:3,cost:"medium",category:"Offsetting",estimatedSavings:100,details:"Carbon offsets can neutralize remaining emissions while supporting global climate solutions."},{id:"12",title:"Remote Work Policy",description:"Implement flexible remote work options to reduce commuting",impact:3,cost:"low",category:"Travel",estimatedSavings:22,details:"Allowing 2-3 remote work days per week can reduce commuting emissions by 40-60%."},{id:"13",title:"Energy-Efficient Appliances",description:"Replace old equipment with ENERGY STAR certified appliances",impact:3,cost:"medium",category:"Efficiency",estimatedSavings:15,details:"ENERGY STAR appliances use 10-50% less energy than standard models."},{id:"14",title:"Green Building Certification",description:"Pursue LEED or BREEAM certification for your facilities",impact:4,cost:"high",category:"Building",estimatedSavings:30,details:"Certified green buildings reduce energy use by 25-30% and improve indoor environmental quality."},{id:"15",title:"Sustainable Packaging",description:"Switch to recyclable, biodegradable, or minimal packaging materials",impact:2,cost:"medium",category:"Waste",estimatedSavings:12,details:"Reducing packaging weight by 20% and using sustainable materials can cut waste emissions significantly."},{id:"16",title:"Demand Response Program",description:"Participate in utility demand response programs for peak shaving",impact:3,cost:"low",category:"Energy",estimatedSavings:8,details:"Reducing peak demand by 15% can avoid using high-emission peaker plants."},{id:"17",title:"Composting Program",description:"Implement food waste composting to reduce methane emissions",impact:3,cost:"low",category:"Waste",estimatedSavings:15,details:"Composting food waste prevents methane release from landfills and creates nutrient-rich soil."},{id:"18",title:"Virtual Meetings",description:"Use video conferencing instead of business travel when possible",impact:3,cost:"low",category:"Travel",estimatedSavings:28,details:"Replacing one business trip with virtual meetings can save 0.5-1 ton of CO2 per trip."},{id:"19",title:"Heat Recovery Systems",description:"Install waste heat recovery from HVAC and industrial processes",impact:4,cost:"medium",category:"Efficiency",estimatedSavings:20,details:"Capturing and reusing waste heat can improve overall energy efficiency by 15-25%."},{id:"20",title:"Sustainable Supply Chain Audit",description:"Conduct carbon footprint assessment of key suppliers",impact:3,cost:"medium",category:"Supply Chain",estimatedSavings:18,details:"Understanding supplier emissions helps identify opportunities for collaborative carbon reduction."}],_ge=()=>{const[t,e]=D.useState(null),[n,r]=D.useState("all"),[i,a]=D.useState("all"),[o,s]=D.useState("all"),l=wge.filter(c=>{const d=n==="all"||c.impact>=Number(n),p=i==="all"||c.cost===i,b=o==="all"||c.category===o;return d&&p&&b}),u=c=>"".repeat(c),f=c=>{switch(c){case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return""}};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Recommendations"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Actionable steps to reduce your carbon emissions"})]}),m.jsxs("div",{className:"flex gap-4 flex-wrap bg-white dark:bg-neutral-800 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block mb-2",children:"Min Impact"}),m.jsxs("select",{value:n,onChange:c=>r(c.target.value),className:"input-base text-sm",children:[m.jsx("option",{value:"all",children:"All"}),m.jsx("option",{value:"2",children:"2+"}),m.jsx("option",{value:"3",children:"3+"}),m.jsx("option",{value:"4",children:"4+"}),m.jsx("option",{value:"5",children:"5"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block mb-2",children:"Cost"}),m.jsxs("select",{value:i,onChange:c=>a(c.target.value),className:"input-base text-sm",children:[m.jsx("option",{value:"all",children:"All"}),m.jsx("option",{value:"low",children:"Low"}),m.jsx("option",{value:"medium",children:"Medium"}),m.jsx("option",{value:"high",children:"High"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block mb-2",children:"Category"}),m.jsxs("select",{value:o,onChange:c=>s(c.target.value),className:"input-base text-sm w-full min-w-[140px] sm:min-w-[180px] px-4 py-2.5 rounded-lg border-2",children:[m.jsx("option",{value:"all",children:"All Categories"}),m.jsx("option",{value:"Energy",children:"Energy"}),m.jsx("option",{value:"Efficiency",children:"Efficiency"}),m.jsx("option",{value:"Renewable",children:"Renewable"}),m.jsx("option",{value:"Travel",children:"Travel"}),m.jsx("option",{value:"Waste",children:"Waste"}),m.jsx("option",{value:"Supply Chain",children:"Supply Chain"}),m.jsx("option",{value:"Behavioral",children:"Behavioral"}),m.jsx("option",{value:"Water",children:"Water"}),m.jsx("option",{value:"Offsetting",children:"Offsetting"}),m.jsx("option",{value:"Building",children:"Building"})]})]})]}),m.jsx("div",{className:"space-y-3",children:l.map(c=>m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-soft overflow-hidden",children:[m.jsxs("button",{onClick:()=>e(t===c.id?null:c.id),className:"w-full p-4 flex justify-between items-start hover:bg-neutral-50 dark:hover:bg-neutral-700 transition-colors text-left",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-heading font-bold text-neutral-900 dark:text-white",children:c.title}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:c.description}),m.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[m.jsx("span",{className:"text-xs bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 px-2 py-1 rounded",children:u(c.impact)}),m.jsxs("span",{className:`text-xs px-2 py-1 rounded capitalize ${f(c.cost)}`,children:[c.cost," Cost"]}),m.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:c.category})]})]}),m.jsx("span",{className:"ml-4 text-2xl",children:t===c.id?"":"+"})]}),t===c.id&&m.jsxs("div",{className:"px-4 py-3 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-700",children:[m.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 mb-3",children:c.details}),c.estimatedSavings&&m.jsxs("div",{className:"text-sm font-medium text-primary-600 dark:text-primary-400",children:["Estimated Savings: ",c.estimatedSavings,"% reduction"]})]})]},c.id))}),l.length===0&&m.jsx("div",{className:"text-center py-12 text-neutral-500",children:"No recommendations match your filters"})]})},xge=()=>{const{records:t}=Ea(),[e,n]=D.useState(1),[r,i]=D.useState(2024),[a,o]=D.useState(12),[s,l]=D.useState(2024),u=t.filter(g=>{const y=new Date(Number(g.year),Number(g.month)-1),_=new Date(r,e-1),v=new Date(s,a-1);return y>=_&&y<=v}),f=TR(u),c=AR(u),d=PR(u),p=()=>{const y=[["Month","Total","Scope 1","Scope 2","Scope 3"],...d.map(v=>[v.month,v.total,v.scope1,v.scope2,v.scope3])].map(v=>v.join(",")).join(`
`),_=document.createElement("a");_.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(y)),_.setAttribute("download",`emissions-report-${r}-${s}.csv`),_.style.display="none",document.body.appendChild(_),_.click(),document.body.removeChild(_)},b=()=>{alert("PDF download would be implemented with a library like jsPDF")};return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Reports"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Generate and export emissions reports"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft",children:[m.jsx("h2",{className:"text-lg font-heading font-bold mb-4",children:"Report Filters"}),m.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Month"}),m.jsx("select",{value:e,onChange:g=>n(Number(g.target.value)),className:"input-base",children:Array.from({length:12},(g,y)=>y+1).map(g=>m.jsx("option",{value:g,children:new Date(2024,g-1).toLocaleString("en-US",{month:"long"})},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Year"}),m.jsx("select",{value:r,onChange:g=>i(Number(g.target.value)),className:"input-base",children:[2023,2024,2025].map(g=>m.jsx("option",{value:g,children:g},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Month"}),m.jsx("select",{value:a,onChange:g=>o(Number(g.target.value)),className:"input-base",children:Array.from({length:12},(g,y)=>y+1).map(g=>m.jsx("option",{value:g,children:new Date(2024,g-1).toLocaleString("en-US",{month:"long"})},g))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Year"}),m.jsx("select",{value:s,onChange:g=>l(Number(g.target.value)),className:"input-base",children:[2023,2024,2025].map(g=>m.jsx("option",{value:g,children:g},g))})]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 uppercase",children:"Total Emissions"}),m.jsx("p",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400 mt-2",children:fn(f,2)}),m.jsx("p",{className:"text-xs text-primary-700 dark:text-primary-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 uppercase",children:"Scope 1 & 2"}),m.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:fn(c.scope1+c.scope2,2)}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"kg COe"})]}),m.jsxs("div",{className:"bg-green-50 dark:bg-green-900 rounded-xl p-6 text-center",children:[m.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 uppercase",children:"Scope 3"}),m.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:fn(c.scope3,2)}),m.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"kg COe"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft overflow-x-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Monthly Breakdown"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:p,className:"btn-sm btn-primary",children:"Download CSV"}),m.jsx("button",{onClick:b,className:"btn-sm btn-secondary",children:"Download PDF"})]})]}),d.length===0?m.jsx("div",{className:"text-center py-8 text-neutral-500",children:"No data for the selected period"}):m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"border-b border-neutral-200 dark:border-neutral-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Month"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 1"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 2"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Scope 3"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Total"})]})}),m.jsx("tbody",{children:d.map((g,y)=>m.jsxs("tr",{className:"border-b border-neutral-100 dark:border-neutral-700",children:[m.jsx("td",{className:"py-3 px-4",children:g.month}),m.jsx("td",{className:"text-right py-3 px-4",children:fn(g.scope1,2)}),m.jsx("td",{className:"text-right py-3 px-4",children:fn(g.scope2,2)}),m.jsx("td",{className:"text-right py-3 px-4",children:fn(g.scope3,2)}),m.jsx("td",{className:"text-right py-3 px-4 font-bold text-primary-600 dark:text-primary-400",children:fn(g.total,2)})]},y))})]})]})]})},Ege=()=>{var l,u,f;const{company:t,setCompany:e,theme:n,setTheme:r}=Ea(),[i,a]=D.useState({companyName:(t==null?void 0:t.name)||"",industry:(t==null?void 0:t.industry)||"manufacturing",region:(t==null?void 0:t.region)||"IN",employees:(t==null?void 0:t.employees)||0,emailAlerts:((l=t==null?void 0:t.settings)==null?void 0:l.emailAlerts)||!1,currency:((u=t==null?void 0:t.settings)==null?void 0:u.currency)||"USD",measurementUnit:((f=t==null?void 0:t.settings)==null?void 0:f.measurementUnit)||"metric_tons"}),o=(c,d)=>{a({...i,[c]:d})},s=()=>{const c={id:(t==null?void 0:t.id)||`company_${Date.now()}`,name:i.companyName,industry:i.industry,region:i.region,employees:i.employees,settings:{theme:n,emailAlerts:i.emailAlerts,currency:i.currency,measurementUnit:i.measurementUnit}};e(c),alert("Settings saved successfully!")};return m.jsxs("div",{className:"space-y-6 animate-fade-in max-w-2xl",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-heading font-bold text-neutral-900 dark:text-white",children:"Settings"}),m.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Manage your account and preferences"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft space-y-4",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Company Information"}),m.jsx(Ss,{label:"Company Name",value:i.companyName,onChange:c=>o("companyName",c.target.value),placeholder:"Enter company name"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Industry Type"}),m.jsxs("select",{value:i.industry,onChange:c=>o("industry",c.target.value),className:"input-base",children:[m.jsx("option",{value:"manufacturing",children:"Manufacturing"}),m.jsx("option",{value:"it",children:"IT & Technology"}),m.jsx("option",{value:"hospitality",children:"Hospitality"}),m.jsx("option",{value:"retail",children:"Retail"}),m.jsx("option",{value:"energy",children:"Energy"}),m.jsx("option",{value:"other",children:"Other"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Region"}),m.jsxs("select",{value:i.region,onChange:c=>o("region",c.target.value),className:"input-base",children:[m.jsx("option",{value:"IN",children:"India"}),m.jsx("option",{value:"US",children:"United States"}),m.jsx("option",{value:"UK",children:"United Kingdom"}),m.jsx("option",{value:"EU",children:"European Union"}),m.jsx("option",{value:"CN",children:"China"}),m.jsx("option",{value:"JP",children:"Japan"})]})]}),m.jsx(Ss,{label:"Number of Employees",type:"number",value:i.employees,onChange:c=>o("employees",c.target.value),placeholder:"Enter number"})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-soft space-y-6",children:[m.jsx("h2",{className:"text-lg font-heading font-bold",children:"Preferences"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Currency"}),m.jsxs("select",{value:i.currency,onChange:c=>o("currency",c.target.value),className:"input-base",children:[m.jsx("option",{value:"USD",children:"USD ($)"}),m.jsx("option",{value:"EUR",children:"EUR ()"}),m.jsx("option",{value:"GBP",children:"GBP ()"}),m.jsx("option",{value:"INR",children:"INR ()"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Measurement Unit"}),m.jsxs("select",{value:i.measurementUnit,onChange:c=>o("measurementUnit",c.target.value),className:"input-base",children:[m.jsx("option",{value:"metric_tons",children:"Metric Tons (tCOe)"}),m.jsx("option",{value:"kilograms",children:"Kilograms (kg COe)"})]})]}),m.jsxs("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:"Email Alerts"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Receive notifications for emission spikes"})]}),m.jsx(g0,{checked:i.emailAlerts,onChange:c=>o("emailAlerts",c)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:"Dark Mode"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Enable dark theme"})]}),m.jsx(g0,{checked:n==="dark",onChange:c=>r(c?"dark":"light")})]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:s,className:"btn-primary flex-1",children:"Save Settings"}),m.jsx("button",{className:"btn-secondary flex-1",children:"Cancel"})]}),m.jsxs("div",{className:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 rounded p-6",children:[m.jsx("h3",{className:"font-heading font-bold text-red-900 dark:text-red-200 mb-2",children:"Danger Zone"}),m.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 mb-4",children:"Irreversible actions are taken here."}),m.jsx("button",{className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Delete All Data"})]})]})},Sge=()=>{const t=sf(),[e,n]=D.useState("emissions"),[r,i]=D.useState(null),a=[{id:"emissions",label:"Carbon Emissions",icon:""},{id:"credits",label:"Carbon Credits",icon:""},{id:"scopes",label:"Emission Scopes",icon:""},{id:"reduction",label:"How to Reduce",icon:""}],o=[{question:"What is net-zero emissions?",answer:"Net-zero emissions means balancing the amount of greenhouse gases emitted with the amount removed from the atmosphere, resulting in zero net emissions."},{question:"How are carbon emissions measured?",answer:"Carbon emissions are typically measured in CO equivalent (COe), which includes all greenhouse gases converted to the equivalent amount of carbon dioxide."},{question:"What is the Paris Agreement target?",answer:"The Paris Agreement aims to limit global warming to well below 2C, preferably to 1.5C, compared to pre-industrial levels."},{question:"Can individuals buy carbon credits?",answer:"Yes, individuals can purchase carbon credits to offset their personal carbon footprint through various platforms and organizations.",details:m.jsxs("div",{className:"mt-4 space-y-4",children:[m.jsx("h5",{className:"font-bold text-neutral-900 dark:text-white",children:"How to Buy Carbon Credits - Step by Step:"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"1"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Calculate Your Carbon Footprint"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Use a carbon calculator to determine your annual emissions from activities like travel, energy use, and lifestyle choices. Most calculators provide results in tons of COe."})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"2"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Choose a Verified Platform"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Select a reputable carbon offset provider. Look for certifications like Gold Standard, Verified Carbon Standard (VCS), or Climate Action Reserve (CAR)."}),m.jsxs("div",{className:"mt-2 text-xs bg-neutral-100 dark:bg-neutral-700 p-2 rounded",children:[m.jsx("strong",{children:"Popular Platforms:"})," Cloverly, Cool Effect, Terrapass, Carbon Footprint Ltd, Offsetra"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"3"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Select a Project Type"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Choose which type of carbon offset project you want to support:"}),m.jsxs("ul",{className:"text-xs mt-1 space-y-1 text-neutral-600 dark:text-neutral-400",children:[m.jsx("li",{children:" Renewable Energy (wind, solar farms)"}),m.jsx("li",{children:" Reforestation & Forest Conservation"}),m.jsx("li",{children:" Methane Capture (landfills, agriculture)"}),m.jsx("li",{children:" Clean Water & Cookstoves"}),m.jsx("li",{children:" Direct Air Capture Technology"})]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"4"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Determine Quantity & Budget"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Carbon credits typically cost between $10-$50 per ton of COe. Calculate how many credits you need based on your footprint and budget."}),m.jsxs("div",{className:"mt-2 text-xs bg-blue-50 dark:bg-blue-900/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:[m.jsx("strong",{children:"Example:"})," Average US individual emits ~16 tons/year. Full offset = $160-$800/year"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"5"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Make Your Purchase"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Complete the transaction through the platform. Most accept credit cards or PayPal. You'll receive a certificate showing the credits retired on your behalf."})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0 text-sm",children:"6"}),m.jsxs("div",{children:[m.jsx("h6",{className:"font-semibold text-neutral-900 dark:text-white",children:"Track & Verify"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Keep records of your purchase. Many platforms provide tracking dashboards showing project progress and environmental impact metrics."})]})]})]}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-l-4 border-yellow-500 mt-4",children:[m.jsx("h6",{className:"font-bold text-sm text-neutral-900 dark:text-white mb-1",children:" Important Tips:"}),m.jsxs("ul",{className:"text-xs space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Look for third-party verified projects (avoid greenwashing)"}),m.jsx("li",{children:' Ensure credits are "retired" and not double-counted'}),m.jsx("li",{children:" Consider additionality - projects that wouldn't happen without carbon finance"}),m.jsx("li",{children:" Buying credits doesn't replace the need to reduce emissions"})]})]})]})}];return m.jsxs("div",{className:"space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"relative bg-gradient-to-r from-primary-600 to-green-600 dark:from-primary-700 dark:to-green-700 rounded-2xl p-8 md:p-12 text-white overflow-visible min-h-[200px] flex items-center",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4",children:"Understanding Carbon Emissions"}),m.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-3xl",children:"Learn about carbon footprints, credits, and how you can make a positive impact on our planet."})]}),m.jsx("div",{className:"absolute right-[-20px] md:right-4 top-15 -translate-y-1/2 opacity-60 text-[100px] md:text-[140px] animate-spin-slow drop-shadow-[0_20px_40px_rgba(0,0,0,0.6)] hover:scale-110 hover:opacity-80 transition-all duration-500 z-0 flex items-center justify-center",children:""})]}),m.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 bg-white dark:bg-neutral-800 p-2 rounded-xl shadow-soft",children:a.map(s=>m.jsxs("button",{onClick:()=>n(s.id),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all duration-300 ${e===s.id?"bg-primary-600 text-white shadow-md scale-105":"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-600"}`,children:[m.jsx("span",{className:"mr-2",children:s.icon}),m.jsx("span",{className:"hidden md:inline",children:s.label})]},s.id))}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 md:p-8 shadow-soft",children:[e==="emissions"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"What are Carbon Emissions?"}),m.jsx("div",{className:"prose dark:prose-invert max-w-none",children:m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"Carbon emissions refer to the release of carbon dioxide (CO) and other greenhouse gases into the atmosphere. These gases trap heat and contribute to global warming and climate change."})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[m.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 p-6 rounded-xl border-2 border-red-200 dark:border-red-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Industrial Sources"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Factories, manufacturing plants, and industrial processes are major contributors to carbon emissions through fossil fuel combustion and chemical reactions."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-6 rounded-xl border-2 border-blue-200 dark:border-blue-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Transportation"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Vehicles, planes, ships, and trains burning gasoline, diesel, and jet fuel account for a significant portion of global emissions."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 p-6 rounded-xl border-2 border-yellow-200 dark:border-yellow-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Energy Production"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Power plants burning coal, oil, and natural gas to generate electricity are among the largest sources of CO emissions worldwide."})]}),m.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-6 rounded-xl border-2 border-green-200 dark:border-green-800",children:[m.jsx("div",{className:"text-4xl mb-3",children:""}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Agriculture"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Livestock farming, rice cultivation, and agricultural practices release methane and nitrous oxide, potent greenhouse gases."})]})]}),m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-6 rounded-xl mt-8 border-l-4 border-primary-600",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Did You Know?"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"CO can remain in the atmosphere for hundreds to thousands of years, making emission reduction critical for long-term climate stability."})]})]}),e==="credits"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"Understanding Carbon Credits"}),m.jsx("div",{className:"prose dark:prose-invert max-w-none",children:m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"A carbon credit represents the right to emit one metric ton of CO or equivalent greenhouse gas. They are used in cap-and-trade systems to incentivize emission reductions."})}),m.jsxs("div",{className:"bg-gradient-to-r from-primary-100 to-green-100 dark:from-primary-900/30 dark:to-green-900/30 p-8 rounded-xl mt-6",children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-4",children:"How Carbon Credits Work"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"1"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Emission Cap"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Governments or regulatory bodies set a limit on total emissions allowed."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"2"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Credit Allocation"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Credits are distributed or auctioned to companies that produce emissions."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"3"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Trading System"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Companies can buy, sell, or trade credits based on their needs and performance."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold flex-shrink-0",children:"4"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white",children:"Emission Reduction"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Companies are incentivized to reduce emissions to save money on credits."})]})]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[m.jsxs("div",{className:"bg-white dark:bg-neutral-700 p-6 rounded-xl border-2 border-green-300 dark:border-green-700",children:[m.jsx("h4",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-3",children:" Benefits"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Market-based emission reduction"}),m.jsx("li",{children:" Financial incentive for clean technology"}),m.jsx("li",{children:" Flexibility in achieving targets"}),m.jsx("li",{children:" Supports renewable energy projects"}),m.jsx("li",{children:" Encourages innovation"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-700 p-6 rounded-xl border-2 border-yellow-300 dark:border-yellow-700",children:[m.jsx("h4",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-3",children:" Challenges"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Price volatility in markets"}),m.jsx("li",{children:" Verification and monitoring costs"}),m.jsx("li",{children:" Potential for greenwashing"}),m.jsx("li",{children:" Unequal global implementation"}),m.jsx("li",{children:" Complexity of regulations"})]})]})]})]}),e==="scopes"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"The Three Scopes of Emissions"}),m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"The Greenhouse Gas Protocol categorizes emissions into three scopes to help organizations measure and manage their carbon footprint comprehensively."}),m.jsxs("div",{className:"space-y-6 mt-8",children:[m.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 md:p-8 rounded-xl border-l-8 border-red-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 1: Direct Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from sources you own or control"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Company vehicles and fleet fuel combustion"}),m.jsx("li",{children:" On-site fuel burning for heating or manufacturing"}),m.jsx("li",{children:" Emissions from chemical reactions in production"}),m.jsx("li",{children:" Refrigerant leaks from air conditioning systems"})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-6 md:p-8 rounded-xl border-l-8 border-yellow-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 2: Indirect Energy Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from purchased energy"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Electricity purchased from the grid"}),m.jsx("li",{children:" Purchased steam for industrial processes"}),m.jsx("li",{children:" Purchased heating and cooling"}),m.jsx("li",{children:" Office and facility electricity consumption"})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 md:p-8 rounded-xl border-l-8 border-blue-600",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"text-5xl",children:""}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Scope 3: Other Indirect Emissions"}),m.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Emissions from your value chain"})]})]}),m.jsxs("div",{className:"bg-white/50 dark:bg-neutral-800/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Examples:"}),m.jsxs("ul",{className:"space-y-1 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Business travel (flights, hotels, rental cars)"}),m.jsx("li",{children:" Employee commuting"}),m.jsx("li",{children:" Purchased goods and services from suppliers"}),m.jsx("li",{children:" Waste disposal and treatment"}),m.jsx("li",{children:" Transportation and distribution"}),m.jsx("li",{children:" Use of sold products by customers"})]})]})]})]}),m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-6 rounded-xl mt-8",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Why This Matters"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Understanding these scopes helps organizations identify their biggest emission sources and develop targeted reduction strategies. Scope 3 often represents the largest portion (up to 90%) of a company's total carbon footprint."})]})]}),e==="reduction"&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"How to Reduce Carbon Emissions"}),m.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300",children:"Both individuals and organizations can take meaningful action to reduce their carbon footprint. Here are proven strategies that make a real difference."}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 mt-8",children:[{icon:"",title:"Energy Efficiency",description:"Switch to LED lighting, upgrade insulation, use energy-efficient appliances",impact:"High Impact"},{icon:"",title:"Renewable Energy",description:"Install solar panels, purchase renewable energy credits, choose green energy providers",impact:"High Impact"},{icon:"",title:"Sustainable Transport",description:"Walk, bike, carpool, use public transit, switch to electric vehicles",impact:"Medium Impact"},{icon:"",title:"Waste Reduction",description:"Recycle, compost, reduce single-use plastics, buy less packaging",impact:"Medium Impact"},{icon:"",title:"Plant-Based Diet",description:"Reduce meat consumption, buy local produce, minimize food waste",impact:"Medium Impact"},{icon:"",title:"Remote Work",description:"Work from home when possible, reduce office energy use, virtual meetings",impact:"Low-Medium Impact"}].map((s,l)=>m.jsxs("div",{className:"bg-gradient-to-br from-white to-neutral-50 dark:from-neutral-700 dark:to-neutral-800 p-6 rounded-xl border-2 border-neutral-200 dark:border-neutral-600 hover:border-primary-500 dark:hover:border-primary-500 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[m.jsx("div",{className:"text-4xl mb-3",children:s.icon}),m.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:s.title}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300 text-sm mb-3",children:s.description}),m.jsx("span",{className:"inline-block px-3 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded-full text-xs font-medium",children:s.impact})]},l))}),m.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-8 rounded-xl mt-8 border-2 border-green-300 dark:border-green-700",children:[m.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-4",children:" Quick Wins for Businesses"}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Immediate Actions:"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Conduct an energy audit"}),m.jsx("li",{children:" Switch to cloud computing"}),m.jsx("li",{children:" Implement recycling programs"}),m.jsx("li",{children:" Optimize delivery routes"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-neutral-900 dark:text-white mb-2",children:"Long-term Strategies:"}),m.jsxs("ul",{className:"space-y-2 text-neutral-700 dark:text-neutral-300",children:[m.jsx("li",{children:" Set science-based targets"}),m.jsx("li",{children:" Invest in green technology"}),m.jsx("li",{children:" Engage suppliers on emissions"}),m.jsx("li",{children:" Develop circular economy models"})]})]})]})]}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-xl border-l-4 border-yellow-500",children:[m.jsx("h4",{className:"font-bold text-lg text-neutral-900 dark:text-white mb-2",children:" Remember"}),m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Every action counts! Even small changes, when multiplied across millions of people and thousands of companies, create significant positive impact on our climate."})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 md:p-8 shadow-soft",children:[m.jsx("h2",{className:"text-2xl font-heading font-bold text-neutral-900 dark:text-white mb-6",children:"Frequently Asked Questions"}),m.jsx("div",{className:"space-y-3",children:o.map((s,l)=>m.jsxs("div",{className:"border-2 border-neutral-200 dark:border-neutral-700 rounded-lg overflow-hidden hover:border-primary-400 dark:hover:border-primary-600 transition-colors",children:[m.jsxs("button",{onClick:()=>i(r===l?null:l),className:"w-full px-6 py-4 flex items-center justify-between bg-neutral-50 dark:bg-neutral-700/50 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[m.jsx("span",{className:"font-medium text-left text-neutral-900 dark:text-white",children:s.question}),m.jsx("span",{className:`text-2xl transition-transform duration-300 ${r===l?"rotate-180":""}`,children:""})]}),r===l&&m.jsxs("div",{className:"px-6 py-4 bg-white dark:bg-neutral-800 animate-fade-in",children:[m.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:s.answer}),s.details&&m.jsx("div",{className:"mt-2",children:s.details})]})]},l))})]}),m.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-green-600 dark:from-primary-700 dark:to-green-700 rounded-xl p-8 md:p-12 text-white text-center",children:[m.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Take Action?"}),m.jsx("p",{className:"text-lg mb-6 text-white/90",children:"Start tracking your carbon emissions today and make data-driven decisions for a sustainable future."}),m.jsx("button",{onClick:()=>t("/data-entry"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-bold hover:bg-neutral-100 transition-colors shadow-lg",children:"Start Tracking Now "})]})]})},Tge=()=>{const t=sf(),{setUser:e}=Ea(),[n,r]=D.useState(!1),[i,a]=D.useState(!1),[o,s]=D.useState(""),[l,u]=D.useState({email:"",password:"",confirmPassword:"",displayName:""}),f=async d=>{d.preventDefault(),s(""),a(!0);try{if(n){if(l.password!==l.confirmPassword)throw new Error("Passwords do not match");if(l.password.length<6)throw new Error("Password must be at least 6 characters");const p=await dz(l.email,l.password,l.displayName);e(p),t("/")}else{const p=await pz(l.email,l.password);e(p),t("/")}}catch(p){s(p.message||"An error occurred")}finally{a(!1)}},c=d=>{u({...l,[d.target.name]:d.target.value})};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-green-50 dark:from-neutral-900 dark:to-neutral-800 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-neutral-800 p-8 rounded-2xl shadow-xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-6xl mb-4",children:""}),m.jsx("h2",{className:"text-3xl font-heading font-bold text-neutral-900 dark:text-white",children:n?"Create Account":"Welcome Back"}),m.jsx("p",{className:"mt-2 text-neutral-600 dark:text-neutral-400",children:n?"Start tracking your carbon footprint":"Sign in to access your dashboard"})]}),o&&m.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-4 rounded",children:m.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:o})}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[m.jsxs("div",{className:"space-y-4",children:[n&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Full Name"}),m.jsx("input",{id:"displayName",name:"displayName",type:"text",required:n,value:l.displayName,onChange:c,className:"input-base",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email Address"}),m.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l.email,onChange:c,className:"input-base",placeholder:"you@example.com",autoComplete:"email"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:l.password,onChange:c,className:"input-base",placeholder:"",autoComplete:n?"new-password":"current-password"})]}),n&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm Password"}),m.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:n,value:l.confirmPassword,onChange:c,className:"input-base",placeholder:"",autoComplete:"new-password"})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:i?m.jsxs("span",{className:"flex items-center justify-center gap-2",children:[m.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n?"Creating account...":"Signing in..."]}):m.jsx("span",{children:n?"Create Account":"Sign In"})})})]}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>{r(!n),s(""),u({email:"",password:"",confirmPassword:"",displayName:""})},className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})})},Age=()=>{const{theme:t,setUser:e,loadRecords:n}=Ea(),r=yz();return D.useEffect(()=>{const i=gz(a=>{e(a),a&&n()});return()=>i()},[e,n]),D.useEffect(()=>{document.body.classList.toggle("orientation-portrait",r.isPortrait),document.body.classList.toggle("orientation-landscape",r.isLandscape);const i=document.querySelector('meta[name="viewport"]');if(i){const a=i.getAttribute("content");i.setAttribute("content",a+", user-scalable=no"),setTimeout(()=>{i.setAttribute("content",a+", user-scalable=yes")},100)}},[r.isPortrait,r.isLandscape]),D.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),m.jsx(rV,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:m.jsxs("div",{className:"flex flex-col min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[m.jsx(vz,{}),m.jsx("main",{className:"flex-1 max-w-7xl mx-auto w-full py-8 px-4 sm:px-6 lg:px-8",children:m.jsxs(Y3,{children:[m.jsx(nr,{path:"/login",element:m.jsx(Tge,{})}),m.jsx(nr,{path:"/",element:m.jsx(Da,{children:m.jsx(uge,{})})}),m.jsx(nr,{path:"/data-entry",element:m.jsx(Da,{children:m.jsx(fge,{})})}),m.jsx(nr,{path:"/calculator",element:m.jsx(Da,{children:m.jsx(hge,{})})}),m.jsx(nr,{path:"/benchmarks",element:m.jsx(Da,{children:m.jsx(bge,{})})}),m.jsx(nr,{path:"/recommendations",element:m.jsx(Da,{children:m.jsx(_ge,{})})}),m.jsx(nr,{path:"/reports",element:m.jsx(Da,{children:m.jsx(xge,{})})}),m.jsx(nr,{path:"/learn",element:m.jsx(Sge,{})}),m.jsx(nr,{path:"/settings",element:m.jsx(Da,{children:m.jsx(Ege,{})})}),m.jsx(nr,{path:"*",element:m.jsx(zk,{to:"/",replace:!0})})]})}),m.jsx(bz,{})]})})};Gy.createRoot(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(Age,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});
